(function(t) {
    function e(e) {
        for (var s, n, r = e[0], l = e[1], c = e[2], u = 0, h = []; u < r.length; u++)
            n = r[u],
            Object.prototype.hasOwnProperty.call(a, n) && a[n] && h.push(a[n][0]),
            a[n] = 0;
        for (s in l)
            Object.prototype.hasOwnProperty.call(l, s) && (t[s] = l[s]);
        d && d(e);
        while (h.length)
            h.shift()();
        return o.push.apply(o, c || []),
        i()
    }
    function i() {
        for (var t, e = 0; e < o.length; e++) {
            for (var i = o[e], s = !0, r = 1; r < i.length; r++) {
                var l = i[r];
                0 !== a[l] && (s = !1)
            }
            s && (o.splice(e--, 1),
            t = n(n.s = i[0]))
        }
        return t
    }
    var s = {}
      , a = {
        app: 0
    }
      , o = [];
    function n(e) {
        if (s[e])
            return s[e].exports;
        var i = s[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return t[e].call(i.exports, i, i.exports, n),
        i.l = !0,
        i.exports
    }
    n.m = t,
    n.c = s,
    n.d = function(t, e, i) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }
    ,
    n.r = function(t) {
        "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(t, e) {
        if (1 & e && (t = n(t)),
        8 & e)
            return t;
        if (4 & e && "object" === typeof t && t && t.__esModule)
            return t;
        var i = Object.create(null);
        if (n.r(i),
        Object.defineProperty(i, "default", {
            enumerable: !0,
            value: t
        }),
        2 & e && "string" != typeof t)
            for (var s in t)
                n.d(i, s, function(e) {
                    return t[e]
                }
                .bind(null, s));
        return i
    }
    ,
    n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t["default"]
        }
        : function() {
            return t
        }
        ;
        return n.d(e, "a", e),
        e
    }
    ,
    n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    n.p = "/";
    var r = window["webpackJsonp"] = window["webpackJsonp"] || []
      , l = r.push.bind(r);
    r.push = e,
    r = r.slice();
    for (var c = 0; c < r.length; c++)
        e(r[c]);
    var d = l;
    o.push([0, "chunk-vendors"]),
    i()
}
)({
    0: function(t, e, i) {
        t.exports = i("56d7")
    },
    "005f": function(t, e, i) {},
    "0087": function(t, e, i) {
        "use strict";
        i("cee6")
    },
    "029b": function(t, e, i) {
        "use strict";
        i("55ea")
    },
    "0382": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.apikey ? i("v-stripe-card", {
                ref: "stripeCard",
                attrs: {
                    "api-key": t.apikey,
                    "hide-postal-code": "",
                    autofocus: t.autofocus,
                    disabled: t.working
                },
                on: {
                    focus: t.onFocus,
                    input: function(e) {
                        return t.$emit("change", t.source)
                    }
                },
                model: {
                    value: t.source,
                    callback: function(e) {
                        t.source = e
                    },
                    expression: "source"
                }
            }) : t._e()], 1)
        }
          , a = []
          , o = {
            name: "zoezi-stripe-elements",
            props: ["label", "autofocus"],
            data: ()=>({
                source: null,
                stripeCardInitialized: !1,
                working: !1
            }),
            computed: {
                apikey() {
                    var t;
                    return null === (t = this.$store.state) || void 0 === t ? void 0 : t.settings.cardpaymentkey
                }
            },
            methods: {
                confirmCardPayment(t, e, i, s={}) {
                    let a = {};
                    s.stripe_saved || (a.payment_method = {
                        card: this.$refs.stripeCard.card
                    }),
                    this.$refs.stripeCard.stripe.confirmCardPayment(t, a).then(t=>{
                        let s, a;
                        console.log("Got response from Stripe: " + JSON.stringify(t)),
                        t.error ? (s = t.error.payment_intent.id,
                        a = t) : s = t.paymentIntent.id,
                        this.$api.post("/api/payment/stripe/complete", {
                            id: s,
                            error: a
                        });
                        let o = this.$api.subscribeChannel(e, t=>{
                            console.log("Got response in channel: " + JSON.stringify(t)),
                            "payment" === t.type && (t.success ? i({
                                success: !0,
                                orderconfirmation: t.orderconfirmation
                            }) : i({
                                success: !1,
                                reason: t.reason
                            }),
                            o())
                        }
                        )
                    }
                    )
                },
                saveCard() {
                    let t = this.$refs.stripeCard.stripe
                      , e = this.$refs.stripeCard.card;
                    this.working = !0;
                    let i = new Promise((i,s)=>{
                        let a = ()=>{
                            this.working = !1,
                            s()
                        }
                        ;
                        this.$api.get("/api/stripe/save").then(s=>{
                            if (!s.client_secret)
                                return a();
                            t.handleCardSetup(s.client_secret, e).then(t=>{
                                t.error ? a() : this.$api.post("/api/stripe/save", {
                                    method: t.setupIntent.payment_method
                                }).then(()=>{
                                    this.source = null,
                                    this.working = !1,
                                    i()
                                }
                                , a)
                            }
                            , a)
                        }
                        , a)
                    }
                    );
                    return i
                },
                onFocus: function() {
                    this.stripeCardInitialized || (this.stripeCardInitialized = !0,
                    this.$watch(()=>this.$refs.stripeCard.okToSubmit, ()=>{
                        this.$refs.stripeCard.processCard()
                    }
                    ))
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = l.exports
    },
    "04a0": function(t, e, i) {
        "use strict";
        i("95e6")
    },
    "04e8": function(t, e, i) {},
    "0817": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline primary primarytext--text"
            }, [t._v(" " + t._s(t.name) + " "), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-row", {
                staticClass: "mt-4"
            }, [i("v-col", {
                attrs: {
                    cols: "auto"
                }
            }, [i("v-auto-img", {
                key: t.imagekey,
                staticStyle: {
                    "border-radius": "4px"
                },
                attrs: {
                    src: t.imagekey || "/assets/img/profile_avatar_man.jpg",
                    width: "200"
                }
            })], 1), i("v-col", [i("h3", [t._v(t._s(t.name))]), i("p", {
                domProps: {
                    innerHTML: t._s(t.description)
                }
            })])], 1)], 1), i("v-card-actions", [i("v-spacer"), i("zoezi-button", {
                attrs: {
                    text: t.$translate("Close")
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            })], 1)], 1)], 1)
        }
          , a = []
          , o = i("e0eb")
          , n = {
            name: "zoezi-staff-info-dialog",
            props: ["value", "staff"],
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.show = t
                    }
                },
                staff(t) {
                    this.fetchedStaff = null,
                    t && this.$api.get("/api/public/staff/get/full").then(t=>{
                        this.fetchedStaff = t.find(t=>t.id == this.staff.id)
                    }
                    )
                },
                show(t) {
                    t != this.value && this.$emit("input", t)
                }
            },
            computed: {
                description() {
                    let t = this.fetchedStaff || this.staff;
                    return null === t || void 0 === t ? void 0 : t.description
                },
                name() {
                    let t = this.fetchedStaff || this.staff;
                    return t && Object(o["n"])(t)
                },
                imagekey() {
                    let t = this.fetchedStaff || this.staff;
                    return null === t || void 0 === t ? void 0 : t.imagekey
                }
            },
            data: ()=>({
                show: !1,
                fetchedStaff: null
            })
        }
          , r = n
          , l = i("2877")
          , c = i("6544")
          , d = i.n(c)
          , u = i("8336")
          , h = i("b0af")
          , m = i("99d9")
          , p = i("62ad")
          , v = i("169a")
          , g = i("132d")
          , f = i("0fd9")
          , b = i("2fa4")
          , y = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = y.exports;
        d()(y, {
            VBtn: u["a"],
            VCard: h["a"],
            VCardActions: m["a"],
            VCardText: m["b"],
            VCardTitle: m["c"],
            VCol: p["a"],
            VDialog: v["a"],
            VIcon: g["a"],
            VRow: f["a"],
            VSpacer: b["a"]
        })
    },
    "0949": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-auto-img", {
                staticClass: "white--text primary z-fade-dark-bottom-left",
                attrs: {
                    src: t.image,
                    "max-height": "30vh",
                    "min-height": "270px"
                }
            }, [i("div", {
                staticClass: "d-flex flex-column fill-height"
            }, [t.showClose ? i("v-btn", {
                staticClass: "ml-auto d-flex",
                attrs: {
                    right: "",
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    }
                }
            }, [i("v-icon", {
                staticClass: "white--text"
            }, [t._v("mdi-close")])], 1) : t._e(), i("v-spacer"), i("div", {
                staticClass: "px-6 header zoezi-dialog-title"
            }, [t.$scopedSlots.pretitle ? [t._t("pretitle")] : t._e(), i("h1", {
                staticClass: "text--shadow-large mb-2",
                domProps: {
                    textContent: t._s(t.title)
                }
            })], 2)], 1)])
        }
          , a = []
          , o = {
            name: "zoezi-dialog-header",
            props: {
                image: {
                    type: String
                },
                title: {
                    type: String
                },
                showClose: {
                    type: Boolean,
                    default: !0
                }
            }
        }
          , n = o
          , r = (i("c03b"),
        i("2877"))
          , l = i("6544")
          , c = i.n(l)
          , d = i("8336")
          , u = i("132d")
          , h = i("2fa4")
          , m = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = m.exports;
        c()(m, {
            VBtn: d["a"],
            VIcon: u["a"],
            VSpacer: h["a"]
        })
    },
    "09e7": function(t, e, i) {},
    "0bc5": function(t, e, i) {},
    "0c99": function(t, e, i) {
        "use strict";
        i("cf81")
    },
    "0ff0": function(t, e, i) {},
    1123: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.dialog ? i("v-dialog", t._g(t._b({}, "v-dialog", t.$attrs, !1), t.$listeners), [t._t("default")], 2) : t.toolbox ? i("toolbox-window", t._g(t._b({}, "toolbox-window", t.$attrs, !1), t.$listeners), [t._t("default")], 2) : i("v-bottom-sheet", t._g(t._b({}, "v-bottom-sheet", t.$attrs, !1), t.$listeners), [t._t("default")], 2)
        }
          , a = []
          , o = i("505b")
          , n = {
            components: {
                ToolboxWindow: o["a"]
            },
            name: "zoezi-bottom-dialog",
            props: ["dialog", "toolbox"],
            zoezi: {
                title: "Bottom dialog",
                internal: !0
            }
        }
          , r = n
          , l = i("2877")
          , c = i("6544")
          , d = i.n(c)
          , u = i("288c")
          , h = i("169a")
          , m = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = m.exports;
        d()(m, {
            VBottomSheet: u["a"],
            VDialog: h["a"]
        })
    },
    1327: function(t, e, i) {
        "use strict";
        i("65b2")
    },
    1501: function(t, e, i) {},
    1516: function(t, e, i) {
        "use strict";
        i("005f")
    },
    "156e": function(t, e, i) {},
    1617: function(t, e, i) {
        "use strict";
        i("83ca")
    },
    1730: function(t, e, i) {
        "use strict";
        i("7cee")
    },
    1776: function(t, e, i) {
        "use strict";
        i("81cc")
    },
    "1a9e": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "z-max-500"
            }, [t.$slots.header ? t._t("header") : [i("div", {
                staticClass: "ma-2"
            }, [i("v-icon", [t._v("mdi-account-check-outline")]), i("span", {
                staticClass: "text--primary font-weight-bold ml-2"
            }, [t._v(t._s(t.title))])], 1), t.subTitle ? i("div", {
                staticClass: "text--secondary",
                domProps: {
                    textContent: t._s(t.subTitle)
                }
            }) : t._e()], i("v-form", [i("v-radio-group", {
                model: {
                    value: t.selectedMethodId,
                    callback: function(e) {
                        t.selectedMethodId = e
                    },
                    expression: "selectedMethodId"
                }
            }, t._l(t.loginMethods, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "z-rounded-border my-1"
                }, [i("div", {
                    staticClass: "d-flex ml-2"
                }, [i("v-radio", {
                    ref: "radio-" + e.id,
                    refInFor: !0,
                    staticClass: "flex-grow-1 mb-0",
                    attrs: {
                        label: e.title,
                        color: "primary",
                        value: e.id
                    }
                }), e.imagekey ? i("img", {
                    staticClass: "ma-1",
                    staticStyle: {
                        height: "36px",
                        width: "36px"
                    },
                    attrs: {
                        src: t.$api.getImageUrl(e.imagekey, 100)
                    }
                }) : e.icon ? i("div", [i("v-icon", {
                    staticClass: "ma-1",
                    attrs: {
                        size: "36",
                        color: e.icon.color
                    }
                }, [t._v(t._s(e.icon.icon))])], 1) : t._e()], 1), e.id == t.selectedMethodId ? i("div", {
                    staticClass: "ml-10 mr-2"
                }, ["bankid" == t.selectedMethodId ? [i("zoezi-bankid", {
                    attrs: {
                        size: "200"
                    }
                })] : "mail" == t.selectedMethodId ? [t.mail.existing || t.mail.createNew ? t.mail.existing ? [i("div", {
                    staticClass: "d-flex"
                }, [i("div", [t._v(t._s(t.$translate("Welcome back")) + " "), i("span", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(t.mail.existing) + "!")])]), i("div", {
                    staticClass: "flex-grow-1 z-clickable primary--text text-decoration-underline text-right",
                    on: {
                        click: t.notMyAccount
                    }
                }, [t._v(t._s(t.$translate("Not my account!")))])]), i("v-form", {
                    on: {
                        submit: function(e) {
                            return e.preventDefault(),
                            t.mailLogin.apply(null, arguments)
                        }
                    }
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6",
                        md: "12"
                    }
                }, [i("v-text-field", {
                    staticClass: "mr-2 mr-md-0",
                    attrs: {
                        label: t.$translate("Email address / username"),
                        disabled: "",
                        value: t.mail.mail
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "6",
                        md: "12"
                    }
                }, [i("v-text-field", {
                    staticClass: "ml-2 ml-md-0",
                    attrs: {
                        label: t.$translate("Password"),
                        type: "password",
                        id: "passwordident",
                        disabled: t.mail.logginIn
                    },
                    model: {
                        value: t.mail.password,
                        callback: function(e) {
                            t.$set(t.mail, "password", e)
                        },
                        expression: "mail.password"
                    }
                })], 1)], 1), i("div", {
                    staticClass: "d-flex mb-2"
                }, [i("div", {
                    staticClass: "flex-grow-1 z-clickable primary--text text-decoration-underline",
                    on: {
                        click: t.forgotPassword
                    }
                }, [t._v(t._s(t.$translate("I have forgotten the password")))]), i("zoezi-button", {
                    attrs: {
                        text: t.$translate("Log in"),
                        disabled: !t.passwordLoginOk,
                        type: "submit",
                        loading: t.mail.loggingIn
                    }
                })], 1)], 1)] : t.mail.createNew ? [i("div", {
                    staticClass: "mb-2"
                }, [t._v(t._s(t.$translate("Hi! You seem to be new here, welcome!")))]), i("div", {
                    staticStyle: {
                        "font-size": "smaller"
                    }
                }, [t._v(t._s(t.$translate("Do you already have an account?")))]), i("div", {
                    staticClass: "z-clickable primary--text",
                    staticStyle: {
                        "font-size": "smaller"
                    },
                    on: {
                        click: function(e) {
                            t.mail.existing = !1,
                            t.mail.createNew = !1
                        }
                    }
                }, [t._v(t._s(t.$translate("Log in with other credentials")))]), i("v-form", {
                    on: {
                        submit: function(e) {
                            return e.preventDefault(),
                            t.mailCreateNew.apply(null, arguments)
                        }
                    },
                    model: {
                        value: t.mail.createNewValid,
                        callback: function(e) {
                            t.$set(t.mail, "createNewValid", e)
                        },
                        expression: "mail.createNewValid"
                    }
                }, [t._l(t.registerFields, (function(e) {
                    return i("form-field", {
                        key: e.key,
                        attrs: {
                            field: e,
                            star: ""
                        },
                        model: {
                            value: e.value,
                            callback: function(i) {
                                t.$set(e, "value", i)
                            },
                            expression: "field.value"
                        }
                    })
                }
                )), i("div", {
                    staticClass: "d-flex"
                }, [i("v-spacer"), i("v-btn", {
                    staticClass: "mb-2 mr-2 zoezi-button-thin",
                    attrs: {
                        color: "primary",
                        outlined: ""
                    },
                    on: {
                        click: function(e) {
                            t.mail.existing = !1,
                            t.mail.createNew = !1
                        }
                    }
                }, [t._v(t._s(t.$translate("Back")))]), i("zoezi-button", {
                    staticClass: "mb-2",
                    attrs: {
                        text: t.$translate("Continue"),
                        disabled: !t.mail.createNewValid,
                        loading: t.mail.creatingNew,
                        type: "submit"
                    }
                })], 1)], 2)] : t._e() : [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "12"
                    }
                }, [i("v-text-field", {
                    staticClass: "ml-2 ml-md-0",
                    attrs: {
                        label: t.$translate("Email address / username"),
                        autofocus: "",
                        id: "mailident",
                        disabled: t.mail.checking
                    },
                    on: {
                        keypress: function(e) {
                            return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : (e.preventDefault(),
                            t.mailProceed.apply(null, arguments))
                        }
                    },
                    model: {
                        value: t.mail.mail,
                        callback: function(e) {
                            t.$set(t.mail, "mail", "string" === typeof e ? e.trim() : e)
                        },
                        expression: "mail.mail"
                    }
                })], 1)], 1), i("div", {
                    staticClass: "d-flex"
                }, [i("v-spacer"), i("zoezi-button", {
                    staticClass: "mb-2",
                    attrs: {
                        text: t.$translate("Continue"),
                        disabled: !t.mail.mail,
                        loading: t.mail.checking
                    },
                    on: {
                        click: t.mailProceed
                    }
                })], 1)]] : "maillogin" == t.selectedMethodId ? [i("v-form", {
                    on: {
                        submit: function(e) {
                            return e.preventDefault(),
                            t.mailLogin.apply(null, arguments)
                        }
                    }
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6",
                        md: "12"
                    }
                }, [i("v-text-field", {
                    staticClass: "mr-2 mr-md-0",
                    attrs: {
                        label: t.$translate("E-mail"),
                        autofocus: ""
                    },
                    model: {
                        value: t.mail.mail,
                        callback: function(e) {
                            t.$set(t.mail, "mail", "string" === typeof e ? e.trim() : e)
                        },
                        expression: "mail.mail"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "6",
                        md: "12"
                    }
                }, [i("v-text-field", {
                    staticClass: "ml-2 ml-md-0",
                    attrs: {
                        label: t.$translate("Password"),
                        type: "password",
                        id: "passwordident",
                        disabled: t.mail.logginIn
                    },
                    model: {
                        value: t.mail.password,
                        callback: function(e) {
                            t.$set(t.mail, "password", e)
                        },
                        expression: "mail.password"
                    }
                })], 1)], 1), i("div", {
                    staticClass: "d-flex mb-2"
                }, [i("div", {
                    staticClass: "flex-grow-1 text-decoration-underline primary--text z-clickable",
                    on: {
                        click: t.forgotPassword
                    }
                }, [t._v(t._s(t.$translate("I have forgotten the password")))]), i("zoezi-button", {
                    attrs: {
                        text: t.$translate("Log in"),
                        disabled: !t.passwordLoginOk,
                        type: "submit",
                        loading: t.mail.loggingIn
                    }
                })], 1)], 1)] : "google" == t.selectedMethodId ? [t.isExpoApp() ? i("div", [i("zoezi-button", {
                    staticClass: "my-2",
                    attrs: {
                        text: t.$translate("Log in with Google")
                    },
                    on: {
                        click: t.expoGoogleSignIn
                    }
                })], 1) : i("iframe", {
                    staticStyle: {
                        border: "none",
                        overflow: "hidden",
                        width: "auto",
                        height: "44px"
                    },
                    attrs: {
                        src: "https://service.zoezi.se/googleauth/",
                        frameborder: "0"
                    }
                })] : "facebook" == t.selectedMethodId ? [i("iframe", {
                    staticStyle: {
                        border: "none",
                        overflow: "hidden",
                        width: "auto",
                        height: "60px"
                    },
                    attrs: {
                        src: "https://service.zoezi.se/fbauth/sdk.html",
                        frameborder: "0"
                    }
                })] : "apple" == t.selectedMethodId ? [i("AppleSignin", {
                    staticStyle: {
                        padding: "10px"
                    }
                })] : [t._v(" " + t._s(e.title) + " " + t._s(t.$translate("is selected")) + " ")]], 2) : t._e()])
            }
            )), 0)], 1), t.mail.showForgotPasswordDialog ? i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.mail.showForgotPasswordDialog,
                    callback: function(e) {
                        t.$set(t.mail, "showForgotPasswordDialog", e)
                    },
                    expression: "mail.showForgotPasswordDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline"
            }, [t._v(t._s(t.$translate("Forgot password")))]), i("v-card-text", [i("v-text-field", {
                attrs: {
                    label: "E-postadress"
                },
                model: {
                    value: t.mail.mail,
                    callback: function(e) {
                        t.$set(t.mail, "mail", e)
                    },
                    expression: "mail.mail"
                }
            }), t.mail.forgotMailSent ? i("div", [t._v(t._s(t.$translate("We have sent you an email with information on how to reset your password")))]) : t._e()], 1), i("v-card-actions", [i("v-spacer"), i("zoezi-button", {
                attrs: {
                    disabled: !t.mailValid,
                    text: t.$translate("Send reset link")
                },
                on: {
                    click: t.sendForgotPasswordMail
                }
            })], 1)], 1)], 1) : t._e(), t.mail.forgotMailSent ? i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.mail.forgotMailSent,
                    callback: function(e) {
                        t.$set(t.mail, "forgotMailSent", e)
                    },
                    expression: "mail.forgotMailSent"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline"
            }, [t._v(t._s(t.$translate("Mail sent")))]), i("v-card-text", [i("div", [t._v(t._s(t.$translate("We have sent you an email with information on how to reset your password")))])]), i("v-card-actions", [i("v-spacer"), i("zoezi-button", {
                attrs: {
                    text: t.$translate("Great!")
                },
                on: {
                    click: function(e) {
                        t.mail.forgotMailSent = !1
                    }
                }
            })], 1)], 1)], 1) : t._e()], 2)
        }
          , a = []
          , o = i("e0eb")
          , n = i("c1ee")
          , r = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.appHandlesSignin ? i("div", [i("v-btn", {
                staticClass: "zoezi-apple-button",
                attrs: {
                    color: "black",
                    dark: ""
                },
                on: {
                    click: function(e) {
                        return t.signinThroughApp()
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-apple")]), t._v(" " + t._s(t.$translate("Sign in with Apple")) + " ")], 1)], 1) : i("div", {
                attrs: {
                    id: "appleid-signin",
                    "data-height": "40px",
                    "data-width": "250px",
                    "data-color": "black",
                    "data-border": "true",
                    "data-mode": "center-align",
                    "data-type": "sign-in"
                }
            })
        }
          , l = []
          , c = {
            name: "zoezi-apple-signin",
            zoezi: {
                title: "Sign in with Apple",
                icon: "mdi-apple"
            },
            metaInfo: ({$store: t})=>{
                const e = i("c64e")
                  , s = e();
                localStorage.setItem("apple-signin-nonce", s);
                let a = {};
                a.origin = window.location.origin,
                a.path = window.location.pathname,
                a.redirect = `${a.origin}${a.path}`;
                const o = "com.runningsystems.gymsystem.zoezi.signin"
                  , n = "sv" == t.state.language ? "sv_SE" : "en_US";
                return {
                    meta: [{
                        name: "appleid-signin-client-id",
                        content: o
                    }, {
                        name: "appleid-signin-scope",
                        content: "name email"
                    }, {
                        name: "appleid-signin-redirect-uri",
                        content: "https://apple-auth.zoezi.se"
                    }, {
                        name: "appleid-signin-state",
                        content: JSON.stringify(a)
                    }, {
                        name: "appleid-signin-nonce",
                        content: s.toString()
                    }, {
                        name: "appleid-signin-use-popup",
                        content: "false"
                    }],
                    script: [{
                        src: `https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/${n}/appleid.auth.js`
                    }]
                }
            }
            ,
            computed: {
                appHandlesSignin() {
                    return Object(o["d"])()
                },
                isExpoApp() {
                    return Object(o["t"])()
                }
            },
            methods: {
                signinThroughApp() {
                    window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "appleAuth",
                        data: {
                            nonce: localStorage.getItem("apple-signin-nonce"),
                            state: this.state()
                        }
                    }))
                },
                state() {
                    let t = {};
                    return t.origin = window.location.origin,
                    t.path = window.location.pathname,
                    t.redirect = `${t.origin}${t.path}`,
                    t
                }
            }
        }
          , d = c
          , u = (i("ffab"),
        i("2877"))
          , h = i("6544")
          , m = i.n(h)
          , p = i("8336")
          , v = i("132d")
          , g = Object(u["a"])(d, r, l, !1, null, "1aff1426", null)
          , f = g.exports;
        m()(g, {
            VBtn: p["a"],
            VIcon: v["a"]
        });
        var b = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.errorMessage ? i("div", [i("zoezi-button", {
                staticClass: "my-2",
                on: {
                    click: function(e) {
                        return t.restartBankID()
                    }
                }
            }, [t._v(t._s(t.$translate("Login failed. Try again")))])], 1) : i("div", [t.qrcode ? i("qrcode-vue", {
                staticClass: "ml-3",
                attrs: {
                    value: t.qrcode,
                    size: t.size,
                    level: "H"
                }
            }) : t._e(), i("div", {
                staticClass: "my-2"
            }, [t._v(t._s(t.$translate("Open the BankID app to continue")))]), t.mobile ? i("zoezi-button", {
                staticClass: "my-2",
                on: {
                    click: function(e) {
                        return t.openBankIDApp(t.autostarttoken)
                    }
                }
            }, [t._v(t._s(t.$translate("Open BankID on this device")))]) : t._e()], 1)])
        }
          , y = []
          , _ = i("d7b0")
          , k = {
            name: "zoezi-bankid",
            props: {
                size: {
                    default: 300
                }
            },
            components: {
                QrcodeVue: _["a"]
            },
            data: ()=>({
                time: 0,
                qrcode: null,
                otherUnit: !1,
                status: null,
                processing: !1,
                authID: null,
                autostarttoken: null,
                startingBankIDApp: !1,
                errorMessage: null,
                unsubscribe: null
            }),
            computed: {
                mobile() {
                    return null !== this.mobileType
                },
                mobileType() {
                    return /android/i.test(navigator.userAgent) ? "android" : /iPhone/.test(navigator.userAgent) ? "iphone" : null
                }
            },
            watch: {
                errorMessage(t) {
                    this.errorMessage && (t = this.$translate(t),
                    this.$store.commit("showSnackBar", {
                        text: t
                    }))
                },
                status(t) {
                    "failed" != t && "timeout" != t || (this.otherUnit && this.time < 45 ? this.startBankID() : this.errorMessage = "BANKID_SIGNING_FAIL")
                },
                qrcode() {
                    this.time += 1
                }
            },
            methods: {
                isExpoApp: o["t"],
                restartBankID() {
                    this.errorMessage = null,
                    this.startBankID()
                },
                startBankID() {
                    if (this.processing)
                        return;
                    this.processing = !0;
                    try {
                        if (Date.now() - Number(window.localStorage.getItem("lastBankIDLogin") || 0) < 5e3)
                            return;
                        window.localStorage.setItem("lastBankIDLogin", Date.now())
                    } catch {}
                    let t = {
                        site_id: this.$store.state.selectedSiteId
                    };
                    this.$api.post("/api/user/identify_bankid", null, t).then(t=>{
                        t.json().then(e=>{
                            t.ok ? (this.authID = e.authId,
                            this.autostarttoken = e.autostarttoken,
                            this.unsubscribe = this.$api.subscribeChannel(e.authId, t=>{
                                this.status = t.status,
                                "complete" == this.status ? (document.cookie = "session=" + t.session_id + "; Path=/;Expires=Tue, 01 Jan 2030 10:00:00 GMT;",
                                this.$store.commit("setLoggedIn", {
                                    isLoggedIn: !0,
                                    user: t.data
                                }),
                                setTimeout(()=>this.processing = !1, 100)) : "qrcode" == this.status ? this.qrcode = t.qrcode : (this.qrcode = null,
                                this.processing = !1)
                            }
                            )) : (this.processing = !1,
                            this.qrcode = null,
                            this.errorMessage = e.message,
                            this.autostarttoken = null)
                        }
                        )
                    }
                    )
                },
                openBankIDApp() {
                    if (!this.startingBankIDApp) {
                        if (Object(o["t"])() && window.ReactNativeWebView)
                            window.ReactNativeWebView.postMessage(JSON.stringify({
                                type: "bankid",
                                data: this.autostarttoken
                            }));
                        else if ("iphone" == this.mobileType) {
                            let t = "";
                            window.open("https://app.bankid.com/?autostarttoken={0}&redirect={1}".format(this.autostarttoken, encodeURIComponent(t)))
                        } else
                            "android" == this.mobileType && window.open("bankid:///?autostarttoken={0}&redirect=".format(this.autostarttoken));
                        this.startingBankIDApp = !0,
                        setTimeout(()=>{
                            this.startingBankIDApp = !1
                        }
                        , 1e3)
                    }
                }
            },
            mounted() {
                this.mobile || (this.otherUnit = !0),
                this.startBankID()
            },
            unmounted() {
                var t;
                this.authID && this.$api.post("/api/user/login_bankid_cancel", null, {
                    id: this.authID
                }),
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , w = k
          , C = Object(u["a"])(w, b, y, !1, null, null, null)
          , x = C.exports
          , $ = i("a026")
          , S = {
            name: "zoezi-identification",
            props: {
                title: {
                    type: String,
                    default: "Complete your payment by identifying yourself"
                },
                subTitle: {
                    type: String,
                    default: ""
                }
            },
            components: {
                FormField: n["a"],
                AppleSignin: f,
                zoeziBankid: x
            },
            data: ()=>({
                selectedMethodId: null,
                errorMessage: "",
                rules: {
                    personalCodeNumber: t=>!(t && t.length >= 10 && !Object(o["y"])(t)) || (void 0).$translate("Incorrect social security number")
                },
                mail: {
                    mail: null,
                    password: null,
                    passwordLimit: "zoezidev.se" == location.hostname || window.__devenv ? 3 : 6,
                    checking: !1,
                    existing: null,
                    createNew: !1,
                    creatingNew: !1,
                    showForgotPasswordDialog: !1,
                    createNewValid: !1,
                    forgotMailSent: !1
                },
                registerFields: []
            }),
            computed: {
                loginMethods() {
                    var t, e, i, s;
                    let a = []
                      , o = this.$store.state.settings;
                    return o ? (null !== (t = o.login) && void 0 !== t && t.bankid && a.push({
                        id: "bankid",
                        title: "Mobile BankID",
                        imagekey: this.$api.getAssetUrl("/assets/img/bankid.svg")
                    }),
                    null !== (e = o.login) && void 0 !== e && e.google && a.push({
                        id: "google",
                        title: "Google",
                        imagekey: this.$api.getAssetUrl("/assets/img/google.png")
                    }),
                    null !== (i = o.login) && void 0 !== i && i.facebook && a.push({
                        id: "facebook",
                        title: "Facebook",
                        imagekey: this.$api.getAssetUrl("/assets/img/facebook.png")
                    }),
                    this.showAppleSignin && a.push({
                        id: "apple",
                        title: "Apple",
                        icon: {
                            icon: "mdi-apple",
                            color: "#000000"
                        }
                    }),
                    null !== (s = o.login) && void 0 !== s && s.mail && a.push({
                        id: "mail",
                        title: "Email address / username",
                        imagekey: this.$api.getAssetUrl("/assets/img/manreg.png")
                    }),
                    a.map(t=>(t.title = this.$translate(t.title),
                    t))) : a
                },
                mobile() {
                    return null !== this.mobileType
                },
                mobileType() {
                    return /android/i.test(navigator.userAgent) ? "android" : /iPhone/.test(navigator.userAgent) ? "iphone" : null
                },
                mailValid() {
                    return Object(o["w"])(this.mail.mail)
                },
                passwordLoginOk() {
                    return this.mail.password && this.mail.password.length >= this.mail.passwordLimit && ("maillogin" == this.selectedMethodId || this.mail.existing)
                },
                facebook() {
                    return !!this.loginMethods.find(t=>"facebook" == t.id)
                },
                showAppleSignin() {
                    var t;
                    let e = this.$store.state.settings
                      , i = Object.keys(e.login).some(t=>"mail" !== t && "bankid" !== t && e.login[t]);
                    return null !== (t = e.login) && void 0 !== t && t.apple ? !this.isExpoApp() || !0 === Object(o["d"])() : i && !0 === Object(o["d"])()
                }
            },
            watch: {
                "mail.existing"(t) {
                    t && $["default"].nextTick(()=>{
                        document.getElementById("passwordident").focus()
                    }
                    )
                },
                loginMethods: {
                    immediate: !0,
                    handler(t) {
                        t && 1 == t.length && "mail" == t[0].id && (this.selectedMethodId = "mail")
                    }
                },
                "$store.state.settings.fields": {
                    immediate: !0,
                    handler(t) {
                        if (t && 0 == this.registerFields.length) {
                            t = t.concat();
                            let e = t.find(t=>t.builtIn && "password" == t.name);
                            e ? (e.required = !0,
                            e.register = !0) : t.push({
                                builtIn: !0,
                                name: "password",
                                required: !0,
                                title: "Password",
                                register: !0,
                                show: !0,
                                changeable_by_member: !0,
                                icon: "icon glyphicon glyphicon-asterisk"
                            }),
                            this.registerFields = t.filter(t=>t.register).map(t=>{
                                let e = t.title;
                                return t.builtIn && ["firstname", "lastname"].includes(t.name) && (e = "Your " + t.name),
                                Object.assign({}, t, {
                                    value: null,
                                    key: t.builtIn + t.name,
                                    title: e
                                })
                            }
                            )
                        }
                    }
                },
                errorMessage(t) {
                    this.errorMessage && (t = this.$translate(t),
                    this.$store.commit("showSnackBar", {
                        text: t
                    }))
                }
            },
            methods: {
                personalCodeNumberChanged() {
                    "mail" == this.selectedMethodId && Object(o["y"])(this.mail.personalCodeNumber) && document.getElementById("mailident").focus()
                },
                mailProceed() {
                    this.mail.checking = !0,
                    this.$api.post("/api/memberapi/probeLogin", null, {
                        mail: this.mail.mail
                    }).then(t=>t.json().then(t=>{
                        let e = t.result;
                        if (e)
                            this.mail.existing = t.name;
                        else {
                            this.mail.createNew = !0;
                            let t = this.registerFields.find(t=>"mail" == t.name && t.builtIn);
                            if (t) {
                                Object(o["w"])(this.mail.mail) ? (t.value = this.mail.mail,
                                t.readonly = !0) : (t.value = null,
                                t.readonly = !1);
                                let e = this.registerFields.find(t=>"login_key" == t.name && t.builtIn);
                                e && (e.value = this.mail.mail)
                            }
                            let e = this.registerFields.find(t=>"personalCodeNumber" == t.name && t.builtIn);
                            e && (e.value = this.mail.personalCodeNumber)
                        }
                        this.mail.checking = !1
                    }
                    ))
                },
                mailLogin() {
                    this.mail.loggingIn = !0;
                    let t = {
                        login: this.mail.mail,
                        password: this.mail.password
                    };
                    this.$api.post("/api/v8.0/memberapi/login", t).then(t=>{
                        t.json().then(e=>{
                            t.ok ? (this.errorMessage = "",
                            this.$store.commit("setLoggedIn", {
                                isLoggedIn: !0,
                                user: e
                            }),
                            this.$store.commit("hideSnackBar")) : this.errorMessage = e.message,
                            this.mail.loggingIn = !1
                        }
                        )
                    }
                    )
                },
                forgotPassword() {
                    this.mail.showForgotPasswordDialog = !0
                },
                sendForgotPasswordMail() {
                    this.$api.post("/api/memberapi/requestResetPassword", null, {
                        mail: this.mail.mail
                    }).then(t=>{
                        t.ok ? (this.mail.showForgotPasswordDialog = !1,
                        this.mail.forgotMailSent = !0) : this.$store.commit("showErrorDialog", {
                            title: this.$translate("Incorrect email address"),
                            text: this.$translate("No user with the given email address could be found.")
                        })
                    }
                    )
                },
                notMyAccount() {
                    this.mail.existing = null
                },
                mailCreateNew() {
                    var t, e, i, s, a;
                    this.mail.creatingNew = !0;
                    let o = {
                        do_login: !0,
                        xf: {}
                    };
                    this.registerFields.forEach(t=>{
                        t.builtIn ? o[t.name] = t.value : o.xf[t.name] = t.value
                    }
                    ),
                    null !== (t = this.$store.state) && void 0 !== t && null !== (e = t.settings) && void 0 !== e && null !== (i = e.acceptterms) && void 0 !== i && i.id && (o.terms = {
                        id: this.$store.state.settings.acceptterms.id
                    }),
                    !o.homesite_id && (null === (s = this.$store.state.settings) || void 0 === s || null === (a = s.sites) || void 0 === a ? void 0 : a.length) > 1 && this.$store.state.selectedSiteId && (o.homesite_id = this.$store.state.selectedSiteId),
                    this.$api.post("/api/memberapi/add", o).then(t=>{
                        this.mail.creatingNew = !1,
                        t.json().then(e=>{
                            t.ok ? (this.errorMessage = "",
                            this.$store.commit("setLoggedIn", {
                                isLoggedIn: !0,
                                user: e
                            })) : this.errorMessage = e.message
                        }
                        )
                    }
                    )
                },
                isExpoApp: o["t"],
                expoGoogleSignIn() {
                    window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "googleAuth"
                    }))
                }
            },
            mounted() {
                window.addEventListener("message", t=>{
                    var e;
                    t.data && t.data.id_token ? this.$store.dispatch("googleSignIn", t.data.id_token) : null !== (e = t.data) && void 0 !== e && e.fb_access_token && this.$api.post("/api/memberapi/fblogin", null, {
                        token: t.data.fb_access_token
                    }).then(t=>{
                        t.json().then(e=>{
                            t.ok ? (this.errorMessage = "",
                            this.$store.commit("setLoggedIn", {
                                isLoggedIn: !0,
                                user: e
                            })) : this.errorMessage = e.message
                        }
                        )
                    }
                    )
                }
                , !1)
            }
        }
          , D = S
          , z = i("b0af")
          , T = i("99d9")
          , I = i("62ad")
          , P = i("169a")
          , V = i("4bd4")
          , B = i("67b6")
          , F = i("43a6")
          , E = i("0fd9")
          , O = i("2fa4")
          , M = i("8654")
          , A = Object(u["a"])(D, s, a, !1, null, null, null);
        e["a"] = A.exports;
        m()(A, {
            VBtn: p["a"],
            VCard: z["a"],
            VCardActions: T["a"],
            VCardText: T["b"],
            VCardTitle: T["c"],
            VCol: I["a"],
            VDialog: P["a"],
            VForm: V["a"],
            VIcon: v["a"],
            VRadio: B["a"],
            VRadioGroup: F["a"],
            VRow: E["a"],
            VSpacer: O["a"],
            VTextField: M["a"]
        })
    },
    "1adf": function(t, e, i) {
        "use strict";
        i("465b")
    },
    "1cba": function(t, e, i) {
        "use strict";
        i("6522")
    },
    "1ead": function(t, e, i) {},
    "230d": function(t, e, i) {
        "use strict";
        i("5c4a")
    },
    "263b": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return !t.$root.edit && t.visible && t.lazy ? i(t.config.component, t._b({
                directives: [{
                    name: "intersect",
                    rawName: "v-intersect",
                    value: {
                        handler: t.onIntersect
                    },
                    expression: "{handler: onIntersect}"
                }],
                ref: "c",
                tag: "component",
                class: t.classes,
                style: t.styles,
                attrs: {
                    id: t.id
                },
                on: {
                    action: t.forwardEvent,
                    triggerProps: t.triggerProps
                }
            }, "component", t.props, !1)) : t.$root.edit || !t.visible || t.lazy ? t.$root.edit || t.visible ? t.$root.edit && t.isVueComponent && t.hasErrors ? i("div", {
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.select.apply(null, arguments)
                    }
                }
            }, [i("div", {
                staticClass: "zoezi-vue-component-error"
            }, [t._v(" Något gick fel när komponenten skulle läsas in. Fel i koden? ")]), i(t.config.component, t._b({
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple",
                    value: !!t.reallyRipple && {
                        class: "zoezi-edit-hover-component"
                    },
                    expression: "reallyRipple ? {class: 'zoezi-edit-hover-component'} : false"
                }],
                key: t.renderKey,
                ref: "c",
                tag: "component",
                class: t.classes,
                style: t.styles,
                attrs: {
                    id: t.id
                },
                on: {
                    save: t.saveChildProps,
                    silentsave: t.silentSaveChildProps,
                    select: t.onSelect,
                    action: t.forwardEvent,
                    triggerProps: t.triggerProps
                },
                nativeOn: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.select.apply(null, arguments)
                    }
                }
            }, "component", t.props, !1))], 1) : i(t.config.component, t._b({
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple",
                    value: !!t.reallyRipple && {
                        class: "zoezi-edit-hover-component"
                    },
                    expression: "reallyRipple ? {class: 'zoezi-edit-hover-component'} : false"
                }],
                key: t.renderKey,
                ref: "c",
                tag: "component",
                staticClass: "z-component",
                class: t.classes,
                style: t.styles,
                attrs: {
                    id: t.id
                },
                on: {
                    save: t.saveChildProps,
                    silentsave: t.silentSaveChildProps,
                    select: t.onSelect,
                    action: t.forwardEvent,
                    triggerProps: t.triggerProps
                },
                nativeOn: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.select.apply(null, arguments)
                    }
                }
            }, "component", t.props, !1), [t._l(Object.keys(t.$slots), (function(e) {
                return t._t(e, null, {
                    slot: e
                })
            }
            ))], 2) : i("div") : i(t.config.component, t._b({
                ref: "c",
                tag: "component",
                class: t.classes,
                style: t.styles,
                attrs: {
                    id: t.id
                },
                on: {
                    action: t.forwardEvent,
                    triggerProps: t.triggerProps
                }
            }, "component", t.props, !1))
        }
          , a = []
          , o = i("a026")
          , n = i("a290")
          , r = {
            name: "ComponentWrapper",
            props: {
                config: {
                    type: Object
                },
                canRemove: {
                    type: Boolean,
                    default: !1
                },
                array: {
                    type: Array
                },
                ripple: {
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                renderKey: 0,
                hasErrors: !1,
                lazyModel: !1,
                propsKey: 0
            }),
            watch: {
                "config.style"() {
                    this.update()
                },
                "$root.edit": {
                    immediate: !0,
                    handler() {
                        this.detectErrors()
                    }
                }
            },
            computed: {
                id() {
                    return "zoezi-root" == this.config.component ? "app" : this.config.id
                },
                isSelected() {
                    return this.$root.edit && this.$store.state.editComponent && this.$store.state.editComponent == this.$refs.c
                },
                reallyRipple() {
                    return this.ripple && this.$root.edit && !this.$store.state.editComponent && this.$store.state.editComponent != this.$refs.c && this.isAncestorOfPage(this)
                },
                classes() {
                    var t, e, i, s, a, o, n, r;
                    let l = [];
                    this.isSelected && l.push("zoezi-edit-hover-component"),
                    null !== (t = this.config) && void 0 !== t && null !== (e = t.style) && void 0 !== e && e.fillHeight && l.push("fill-height"),
                    this.config.component && this.config.component.startsWith("zoezi-") && l.push(this.config.component);
                    let c = !this.lazy || this.lazyModel;
                    var d, u;
                    (null !== (i = this.config) && void 0 !== i && null !== (s = i.style) && void 0 !== s && s.animation && c && (l.push("animate__animated"),
                    l.push("animate__" + this.config.style.animation)),
                    null !== (a = this.config) && void 0 !== a && null !== (o = a.style) && void 0 !== o && o.classes) && l.push(null === (d = this.config) || void 0 === d || null === (u = d.style) || void 0 === u ? void 0 : u.classes);
                    return this.lazy && !this.lazyModel && l.push("z-lazy-invisible"),
                    null !== (n = this.config.style) && void 0 !== n && n.color && !this.config.style.color.startsWith("#") && l.push(this.config.style.color + "--text"),
                    null !== (r = this.config.style) && void 0 !== r && r.backgroundColor && !this.config.style.backgroundColor.startsWith("#") && l.push(this.config.style.backgroundColor),
                    l
                },
                styles() {
                    let t = this.config.style;
                    if (t) {
                        let e = {};
                        if (t.backgroundColor && t.backgroundColor.startsWith("#") && (e["background-color"] = this.$root.colorToHex(t.backgroundColor) + " !important"),
                        t.color && t.color.startsWith("#") && (e.color = this.$root.colorToHex(t.color) + " !important"),
                        t.textAlign) {
                            let i = {
                                "justify-space-around": "justify",
                                "justify-start": "left",
                                "justify-center": "center",
                                "justify-end": "right"
                            }[t.textAlign];
                            e["text-align"] = i + "!important"
                        }
                        let i = ["marginTop", "marginRight", "marginBottom", "marginLeft"];
                        i.forEach(i=>{
                            void 0 !== t[i] && (e[i] = t[i] + "px !important")
                        }
                        );
                        let s = ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"];
                        return s.forEach(i=>{
                            void 0 !== t[i] && (e[i] = t[i] + "px !important")
                        }
                        ),
                        e
                    }
                    return null
                },
                isVueComponent() {
                    return this.config && "zoezi-vue-component" == this.config.component
                },
                visibleFunction() {
                    if (this.config && this.config.style && this.config.style.visible) {
                        let t = this.config.style.visible;
                        if (!t.type || !Array.isArray(t.type) || t.type.includes("always"))
                            return null;
                        let e = t.permissions || []
                          , i = t.roles || []
                          , s = t.cards || []
                          , a = t.type.map(a=>{
                            const o = {
                                never: ()=>!1,
                                isLoggedIn: ()=>this.$store.state.isLoggedIn,
                                isNotLoggedIn: ()=>!this.$store.state.isLoggedIn,
                                desktop: ()=>!this.$vuetify.breakpoint.mobile,
                                mobile: ()=>this.$vuetify.breakpoint.mobile,
                                card: ()=>this.$store.state.cards && this.$store.state.cards.some(t=>s.includes(t.cardtype_id) && this.$booking.isCardValid(t, this.$store.state.now30s.clone().clearTime())),
                                role: ()=>this.$store.state.user && this.$store.state.user.roles.some(t=>i.includes(t.id)),
                                permission: ()=>this.$store.state.user && e.every(t=>this.$store.state.user.permissions.includes(t)),
                                advanced: t.code
                            };
                            let n = o[a] || o["never"]
                              , r = "string" === typeof n ? new Function(n) : n;
                            return r = r.bind({
                                $vuetify: this.$vuetify,
                                $store: this.$store,
                                $booking: this.$booking,
                                props: this.props
                            }),
                            r
                        }
                        );
                        return ()=>a.every(t=>{
                            let e = !1;
                            try {
                                e = t()
                            } catch (i) {
                                console.log("Visible function execution error"),
                                console.log(i)
                            }
                            return e
                        }
                        )
                    }
                    return null
                },
                visible() {
                    return this.$root.edit || !this.visibleFunction || this.visibleFunction()
                },
                lazySupport() {
                    return "IntersectionObserver"in window && "IntersectionObserverEntry"in window && "intersectionRatio"in window.IntersectionObserverEntry.prototype
                },
                lazy() {
                    var t, e;
                    return this.lazySupport && (null === (t = this.config) || void 0 === t || null === (e = t.style) || void 0 === e ? void 0 : e.lazy) && !this.$root.edit
                },
                props() {
                    var t, e, i;
                    if (this.propsKey,
                    null !== (t = this.config) && void 0 !== t && null !== (e = t.style) && void 0 !== e && e.pageParams) {
                        var s;
                        let t = n["a"].getComponentProps(this.config.component)
                          , e = {
                            ...this.config.props
                        };
                        return this.config.style.pageParams.forEach(i=>{
                            var s;
                            let a = null !== (s = this.$route.params[i.id]) && void 0 !== s ? s : this.$route.query[i.id];
                            if (void 0 === a)
                                return;
                            e[i.prop] = a;
                            let o = t.find(t=>t.name == i.prop);
                            !o || isNaN(e[i.prop]) || "number" != o.type && ("select" != o.type || o.typeinfo.multiple) ? o && "select" == o.type && o.typeinfo && o.typeinfo.multiple ? (e[i.prop] = e[i.prop] ? e[i.prop].split(",") : [],
                            e[i.prop].find(t=>isNaN(t)) || (e[i.prop] = e[i.prop].map(t=>Number(t)))) : o && "checkbox" == o.type && (e[i.prop] = "true" === e[i.prop]) : e[i.prop] = Number(e[i.prop])
                        }
                        ),
                        null !== (s = this.$refs.c) && void 0 !== s && s.overrideProps && Object.assign(e, this.$refs.c.overrideProps),
                        e
                    }
                    return null !== (i = this.$refs.c) && void 0 !== i && i.overrideProps ? Object.assign({}, this.config.props, this.$refs.c.overrideProps) : this.config.props
                }
            },
            methods: {
                saveChildProps(t) {
                    t && Object.assign(this.config.props, t),
                    this.save(),
                    this.$store.commit("setEditComponent", null),
                    o["default"].nextTick(()=>{
                        this.select()
                    }
                    )
                },
                save() {
                    this.$root.saveHomePage(),
                    this.update()
                },
                update() {
                    "zoezi-root" != this.config.component && (++this.renderKey,
                    this.detectErrors())
                },
                silentSaveChildProps(t) {
                    t && Object.assign(this.config.props, t),
                    this.$root.saveHomePage()
                },
                onSelect(t) {
                    this.$store.commit("setEditComponent", t)
                },
                remove() {
                    if (this.array) {
                        let t = this.array.indexOf(this.config);
                        -1 != t && (this.array.splice(t, 1),
                        this.save())
                    } else
                        this.$emit("remove")
                },
                forwardEvent() {
                    this.$emit.apply(this, arguments)
                },
                select() {
                    "zoezi-root" != this.$refs.c.$options.name && this.$store.commit("setEditComponent", this.$refs.c)
                },
                detectErrors() {
                    this.isVueComponent && this.$root.edit && o["default"].nextTick(()=>{
                        let t = this.$refs.c;
                        if (t) {
                            let e = t.$el.getBoundingClientRect ? t.$el.getBoundingClientRect() : {
                                width: 0,
                                height: 0
                            };
                            this.hasErrors = !e.width || !e.height
                        }
                    }
                    )
                },
                onIntersect(t) {
                    t && 1 == t.length && t[0].isIntersecting && !this.lazyModel && (this.lazyModel = !0)
                },
                triggerProps() {
                    this.propsKey++
                },
                isAncestorOfPage(t) {
                    return t ? !(!t.config || "zoezi-page" != t.component) || this.isAncestorOfPage(t.$parent) : null
                }
            }
        }
          , l = r
          , c = i("2877")
          , d = i("269a")
          , u = i.n(d)
          , h = i("90a2")
          , m = i("5607")
          , p = Object(c["a"])(l, s, a, !1, null, null, null);
        e["a"] = p.exports;
        u()(p, {
            Intersect: h["a"],
            Ripple: m["a"]
        })
    },
    "28ae": function(t, e, i) {
        "use strict";
        i("0bc5")
    },
    "2a76": function(t, e, i) {},
    "2ae9": function(t, e, i) {
        "use strict";
        i("0ff0")
    },
    "2b81": function(t, e, i) {},
    "2d22": function(t, e, i) {},
    "2e64": function(t, e, i) {
        "use strict";
        i("ae17")
    },
    3001: function(t, e, i) {},
    "307d": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("h2", [t._v(t._s(t.$translate("Membership")))]), t._l(t.membershipStillRequired, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "py-2"
                }, [t._v(" " + t._s(t.membershipText(e)) + " "), i("simple-product-list", {
                    attrs: {
                        products: t.membershipsToBuy,
                        "buy-button-text": "Välj"
                    },
                    on: {
                        buy: function(i) {
                            return t.onBuyMembership(i, e)
                        }
                    }
                })], 1)
            }
            )), 0 == t.membershipStillRequired.length ? i("div", [t._v(" " + t._s(t.$translate("Done! Membership added")) + " ")]) : t._e()], 2)
        }
          , a = []
          , o = i("cff5")
          , n = {
            name: "zoezi-membership-checkout",
            props: ["items", "cartName"],
            components: {
                SimpleProductList: o["a"]
            },
            data: ()=>({
                products: null
            }),
            computed: {
                membershipRequiredForUsers() {
                    return this.$booking.getUsersWhichRequireMembership(this.items)
                },
                membershipRequired() {
                    return this.membershipRequiredForUsers.length > 0
                },
                users() {
                    let t = [];
                    return this.$store.state.user ? (t.push(this.$store.state.user),
                    this.$store.state.user.canManage.forEach(e=>{
                        t.push(e)
                    }
                    ),
                    t) : []
                },
                membershipStillRequired() {
                    return this.membershipRequiredForUsers.filter(t=>{
                        let e = this.items.find(e=>e.product.membership && e.users.includes(t));
                        return !e
                    }
                    ).map(t=>this.users.find(e=>e.id == t))
                },
                membershipsToBuy() {
                    var t;
                    return null === (t = this.products) || void 0 === t ? void 0 : t.filter(t=>t.membership)
                }
            },
            methods: {
                onBuyMembership(t, e) {
                    if (null != this.cartName) {
                        let i = this.items.find(e=>e.product_id == t.id);
                        if (i) {
                            this.$store.dispatch("changeItemCountInCart", {
                                cartName: this.cartName,
                                product_id: t.id,
                                count: i.count + 1
                            });
                            let s = i.users.concat();
                            s.push(e.id),
                            this.$store.dispatch("changeItemUsersInCart", {
                                cartName: this.cartName,
                                product_id: t.id,
                                users: s
                            })
                        } else
                            this.$store.dispatch("addToCart", {
                                cartName: this.cartName,
                                product_id: t.id,
                                count: 1
                            }),
                            this.$store.dispatch("changeItemUsersInCart", {
                                cartName: this.cartName,
                                product_id: t.id,
                                users: [e.id]
                            })
                    } else
                        this.$emit("buy", t, e)
                },
                membershipText(t) {
                    return t.id == this.$store.state.user.id ? this.$translate("You need to purchase a membership") : this.$translate("{0} needs to buy a membership").format(t.name.split(" ")[0])
                }
            },
            mounted() {
                this.$api.get("/api/public/trainingcard/type/get", {
                    trial: !0
                }).then(t=>{
                    this.products = t
                }
                )
            }
        }
          , r = n
          , l = i("2877")
          , c = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = c.exports
    },
    "30e9": function(t, e, i) {},
    "327f": function(t, e, i) {
        "use strict";
        i("c054")
    },
    "32ff": function(t, e, i) {
        "use strict";
        i("de32")
    },
    "3e6c": function(t, e, i) {
        "use strict";
        i("68d7")
    },
    "3f4f": function(t, e, i) {
        "use strict";
        i("c21a")
    },
    "404c": function(t, e, i) {
        "use strict";
        i("44a5")
    },
    4087: function(t, e, i) {},
    "41cb": function(t, e, i) {
        "use strict";
        i.d(e, "b", (function() {
            return p
        }
        )),
        i.d(e, "a", (function() {
            return v
        }
        ));
        var s = i("a026")
          , a = i("8c4f")
          , o = i("263b")
          , n = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("h1", {
                staticClass: "ma-12"
            }, [t._v(t._s(t.$translate("Oops! The page you're looking for does not exist")))])])
        }
          , r = []
          , l = {
            name: "PageNotFound",
            created() {
                let t = this._metaNode = document.createElement("meta");
                t.name = "robots",
                t.content = "noindex",
                document.head.appendChild(t)
            },
            destroyed() {
                this._metaNode.remove()
            }
        }
          , c = l
          , d = i("2877")
          , u = Object(d["a"])(c, n, r, !1, null, null, null)
          , h = u.exports;
        function m(t, e) {
            let i = t.routes.find(t=>t.props.path && t.props.path != e && 0 == t.props.path.indexOf(e));
            return !i
        }
        function p(t, e) {
            const i = a["a"].prototype.push;
            a["a"].prototype.push = function(t, e, s) {
                return e || s ? i.call(this, t, e, s) : i.call(this, t).catch(t=>a["a"].isNavigationFailure(t) ? t : Promise.reject(t))
            }
            ,
            t || (t = {}),
            s["default"].use(a["a"]);
            let n = [{
                path: "*",
                component: h,
                name: "Sidan hittades inte"
            }];
            (t.routes || []).forEach(e=>{
                let i = {}
                  , s = m(t, e.props.path) ? "/:id?" : "";
                i.name = e.props.name,
                i.path = e.props.path + s,
                i.component = o["a"],
                i.props = t=>({
                    state: t.query.state,
                    config: e
                }),
                i.meta = {
                    description: e.props.description
                };
                let a = e.props.redirect && t.routes.find(t=>t.props.path == e.props.redirect);
                !e.props.redirect || a && a.props.redirect ? i.beforeEnter = (t,e,s)=>{
                    var a, o;
                    null === (a = window.$vue) || void 0 === a || a.setTitle(i),
                    null === (o = window.$vue) || void 0 === o || o.setMetaDescription(i),
                    s()
                }
                : i.beforeEnter = (t,i,s)=>{
                    if (window.$vue && window.$vue.edit)
                        s();
                    else {
                        let i = e.props.redirect;
                        t.params.id && (i += "/" + t.params.id),
                        s({
                            path: i,
                            query: t.query
                        })
                    }
                }
                ,
                n.push(i)
            }
            );
            const r = new a["a"]({
                base: e || "/",
                mode: "history",
                routes: n,
                scrollBehavior(t, e, i) {
                    return i || (t.hash ? {
                        selector: t.hash
                    } : t.name == e.name ? {} : {
                        x: 0,
                        y: 0
                    })
                }
            });
            return r.afterEach(e=>{
                window.$ecommercetracking.pageView(e.name + " - " + t.root.props.title, e.fullPath)
            }
            ),
            r
        }
        function v(t, e) {
            let i = {}
              , s = m(window.$vue.siteconfig, t.props.path) ? "/:id?" : "";
            i.name = t.props.name,
            i.path = t.props.path + s,
            i.component = o["a"],
            i.props = e=>({
                state: e.query.state,
                config: t
            }),
            e.addRoutes([i])
        }
    },
    "44a5": function(t, e, i) {},
    "45ef": function(t, e, i) {},
    "465b": function(t, e, i) {},
    "48de": function(t, e, i) {
        "use strict";
        i("9b84")
    },
    4951: function(t, e, i) {},
    "4a81": function(t, e, i) {
        "use strict";
        i("c1c9")
    },
    "4a98": function(t, e, i) {
        "use strict";
        i("9846")
    },
    "4be9": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-btn", t._g({
                class: {
                    "zoezi-button-thin": t.thin
                },
                style: t.style,
                attrs: {
                    color: t.thin ? void 0 : t.color,
                    block: t.block,
                    outlined: t.thin || t.outlined,
                    loading: t.loading,
                    large: t.large,
                    "x-large": t.xLarge,
                    disabled: t.disabled,
                    type: t.type,
                    elevation: t.elevation
                },
                on: {
                    click: t.clicked
                }
            }, t.$listeners), [t.$scopedSlots.default ? t._t("default") : [t.icon && !t.right ? i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v(t._s(t.icon))]) : t._e(), i("span", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        prop: "text",
                        html: !1,
                        multiline: !1
                    },
                    expression: "{prop: 'text', html: false, multiline: false}"
                }]
            }, [t._v(t._s(t.text))]), t.icon && t.right ? i("v-icon", {
                attrs: {
                    right: ""
                }
            }, [t._v(t._s(t.icon))]) : t._e()]], 2)
        }
          , a = []
          , o = {
            name: "zoezi-button",
            zoezi: {
                title: "Button",
                icon: "mdi-gesture-tap-button"
            },
            props: {
                text: {
                    title: "Button text",
                    type: String,
                    default: ()=>window.$translate("Click here")
                },
                link: {
                    title: "Link",
                    type: Object,
                    fulltype: "link"
                },
                color: {
                    title: "Color",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                textColor: {
                    title: "Text color",
                    type: String,
                    fulltype: "color",
                    default: "primarytext"
                },
                block: {
                    title: "BLOCK",
                    type: Boolean,
                    default: !1
                },
                thin: {
                    title: "Thinner text and outlined",
                    type: Boolean,
                    default: !1,
                    global: !0
                },
                outlined: {
                    title: "Outlined",
                    type: Boolean,
                    default: !1
                },
                icon: {
                    title: "Icon",
                    type: String,
                    fulltype: "icon"
                },
                right: {
                    title: "Icon to the right",
                    type: Boolean,
                    default: !1
                },
                radius: {
                    title: "Corner radius",
                    type: String,
                    fulltype: "csssize",
                    global: !0
                },
                elevation: {
                    title: "Elevation",
                    type: Number,
                    typeinfo: {
                        min: 0,
                        max: 24
                    },
                    global: !0
                },
                loading: {},
                disabled: {},
                type: {},
                large: {},
                xLarge: {}
            },
            computed: {
                style() {
                    let t = {};
                    return this.disabled || (t.color = this.$root.colorToHex(this.textColor) + " !important",
                    this.thin && (t["background-color"] = this.$root.colorToHex(this.color))),
                    t["border-radius"] = this.radius,
                    t
                }
            },
            methods: {
                clicked() {
                    !this.$root.edit && this.link && this.$root.followLink(this.link)
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("8336")
          , u = i("132d")
          , h = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = h.exports;
        c()(h, {
            VBtn: d["a"],
            VIcon: u["a"]
        })
    },
    "4d99": function(t, e, i) {},
    "4db0": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$root.edit && 0 == t.products.length ? i("div", {
                staticClass: "pa-4"
            }, [i("v-card", {
                attrs: {
                    color: "zoezi-edit-color",
                    dark: "",
                    height: "100"
                }
            }, [i("v-card-title", [t._v(t._s(t.$translate("No products have been linked to the buy button")))])], 1)], 1) : i("component-wrapper", {
                attrs: {
                    config: t.component
                },
                nativeOn: {
                    click: function(e) {
                        return t.buttonClicked.apply(null, arguments)
                    }
                }
            }), t.showCheckout ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showCheckout,
                    callback: function(e) {
                        t.showCheckout = e
                    },
                    expression: "showCheckout"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Complete the purchase")) + " "), t.checkoutLoading ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showCheckout = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll pb-0",
                class: {
                    "px-2": t.$vuetify.breakpoint.mobile
                },
                staticStyle: {
                    "min-height": "50vh"
                }
            }, [i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    items: t.checkoutProducts,
                    "expand-first-item": !1,
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "new-style-done-dialog": !0,
                    "scroll-payment-part": !0,
                    countReadOnly: !0,
                    dialog: !0
                },
                on: {
                    done: function(e) {
                        t.showCheckout = !1
                    },
                    loading: function(e) {
                        t.checkoutLoading = e
                    },
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    cost: function(e) {
                        t.cost = e
                    },
                    paymentMethod: function(e) {
                        t.paymentMethod = e
                    },
                    changeItemUsers: t.changeItemUsers
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            staticClass: "overflow-y-auto",
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }], null, !1, 3415726242),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 3736881290)
            })], 1), i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    disabled: t.checkoutLoading,
                    "show-title": !1
                },
                on: {
                    cancel: function(e) {
                        t.showCheckout = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e()], 1)
        }
          , a = []
          , o = i("a290")
          , n = i("1123")
          , r = i("7cb4")
          , l = i("9f1f")
          , c = i("ac27")
          , d = i("e0eb")
          , u = {
            name: "zoezi-checkout-button",
            zoezi: {
                title: "Checkout button",
                icon: "mdi-cart-arrow-right"
            },
            components: {
                BottomDialog: n["a"],
                Checkout: r["a"],
                Stepper: l["a"],
                StepperContent: c["a"]
            },
            props: {
                component: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>o["a"].makeEmptyConfig({
                        component: "zoezi-button",
                        props: {
                            text: "Köp"
                        }
                    })
                },
                products: {
                    title: "Products",
                    type: Array,
                    fulltype: "productlist",
                    default: ()=>[]
                },
                useCart: {
                    title: "Use shopping cart",
                    type: Boolean,
                    default: !1,
                    section: "Shopping cart"
                },
                cartName: {
                    title: "Name of shopping cart",
                    type: String,
                    default: "",
                    section: "Shopping cart",
                    typeinfo: {
                        placeholder: "Use the standard shopping cart"
                    }
                },
                openCheckout: {
                    title: "Open checkout on click",
                    type: Boolean,
                    default: !0,
                    section: "Shopping cart"
                },
                showBottomBar: {
                    title: "Show shopping cart on click",
                    type: Boolean,
                    default: !1,
                    section: "Shopping cart"
                }
            },
            watch: {
                showCheckout: {
                    immediate: !0,
                    handler(t, e) {
                        if (t && (this.checkoutProducts = this.products ? this.products.concat() : null,
                        this.checkoutProducts)) {
                            let t = this.$store.state.user;
                            this.checkoutProducts.forEach(e=>{
                                e.users = new Array(e.count).fill(t ? t.id : null)
                            }
                            )
                        }
                        t != e && void 0 !== e && this.$emit("showCheckout", t)
                    }
                },
                "$store.state.isLoggedIn"(t) {
                    if (t && this.showCheckout && this.checkoutProducts) {
                        let t = this.$store.state.user;
                        this.checkoutProducts.forEach(e=>{
                            e.users = new Array(e.count).fill(t ? t.id : null)
                        }
                        )
                    }
                }
            },
            data: ()=>({
                showCheckout: !1,
                checkoutLoading: !1,
                readyToPay: !1,
                cost: 0,
                currentStep: 0,
                paymentMethod: null,
                checkoutProducts: null
            }),
            computed: {
                steps() {
                    let t = this.cost > 0 ? "Betala " + Object(d["i"])(this.cost) : "Bekräfta köp";
                    return "unknown" == this.paymentMethod || "invoice" == this.paymentMethod || "directdebit" == this.paymentMethod ? t = "Bekräfta köp " + Object(d["i"])(this.cost) : this.paymentMethod || (t = this.$translate("Choose payment method")),
                    [{
                        title: "Slutför",
                        id: "checkout",
                        nextTitle: t,
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: this.readyToPay
                    }]
                }
            },
            methods: {
                buttonClicked(t) {
                    this.$root.edit ? t && t.preventDefault() : this.useCart ? (this.products.forEach(t=>{
                        this.$store.dispatch("addToCart", {
                            cartName: this.cartName,
                            product_id: t.product_id,
                            count: t.count,
                            variant: t.variant,
                            price: t.price
                        })
                    }
                    ),
                    this.openCheckout ? this.$store.dispatch("setCartVisibility", {
                        cartName: this.cartName,
                        showBottomBar: !1,
                        showCheckout: !0
                    }) : this.showBottomBar && this.$store.dispatch("setCartVisibility", {
                        cartName: this.cartName,
                        showBottomBar: !0,
                        showCheckout: !1
                    })) : this.showCheckout = !0
                },
                pay() {
                    this.$refs.checkout.completePurchase()
                },
                changeItemUsers(t, e) {
                    let i = this.checkoutProducts.find(e=>e.product_id == t.product_id && e.variant == t.variant);
                    i.users = e.concat(),
                    this.checkoutProducts = this.checkoutProducts.concat()
                }
            }
        }
          , h = u
          , m = i("2877")
          , p = i("6544")
          , v = i.n(p)
          , g = i("8336")
          , f = i("b0af")
          , b = i("99d9")
          , y = i("132d")
          , _ = Object(m["a"])(h, s, a, !1, null, null, null);
        e["a"] = _.exports;
        v()(_, {
            VBtn: g["a"],
            VCard: f["a"],
            VCardActions: b["a"],
            VCardText: b["b"],
            VCardTitle: b["c"],
            VIcon: y["a"]
        })
    },
    "4f2d": function(t, e, i) {},
    "4f60": function(t, e, i) {
        "use strict";
        i("b690")
    },
    "505b": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("portal", {
                attrs: {
                    to: "toolbox"
                }
            }, [i("div", {
                directives: [{
                    name: "click-outside",
                    rawName: "v-click-outside",
                    value: t.clickOutside,
                    expression: "clickOutside"
                }],
                ref: "c",
                staticClass: "zoezi-toolbox elevation-4 resizable",
                class: {
                    moving: t.isDown,
                    minimized: t.isMinimized
                },
                style: {
                    left: t.left + "px",
                    top: t.top + "px",
                    width: "unset" == t.width ? "unset" : t.width + "px",
                    height: "unset" == t.height ? "unset" : t.height + "px",
                    maxWidth: t.maxWidth
                }
            }, [i("div", {
                staticClass: "d-flex movecursor",
                on: {
                    mousedown: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "left", 37, e.key, ["Left", "ArrowLeft"]) || "button"in e && 0 !== e.button ? null : t.onMouseDown.apply(null, arguments)
                    },
                    touchstart: function(e) {
                        return e.preventDefault(),
                        t.onTouchStart.apply(null, arguments)
                    },
                    dblclick: t.toggleToolbox
                }
            }, [i("v-icon", [t._v("mdi-drag")]), i("div", {
                staticClass: "px-2 text-caption",
                staticStyle: {
                    "line-height": "2em"
                },
                domProps: {
                    textContent: t._s(t.label)
                }
            }), i("v-spacer"), t.close ? i("v-icon", {
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    },
                    touchstart: function(t) {
                        t.stopPropagation()
                    }
                }
            }, [t._v("mdi-close")]) : i("v-icon", {
                attrs: {
                    title: t.$translate("Double-click on the title bar to minimize/maximize")
                },
                on: {
                    click: t.toggleToolbox
                }
            }, [t._v("mdi-chevron-up")])], 1), i("v-expand-transition", [t.isMinimized ? t._e() : i("div", [t._t("default")], 2)]), t.resize ? i("div", {
                staticClass: "resizers"
            }, [i("div", {
                staticClass: "resizer bottom-right",
                on: {
                    mousedown: t.onResize
                }
            })]) : t._e()], 1)])
        }
          , a = []
          , o = {
            name: "zoezi-toolbox-window",
            props: {
                label: {
                    type: String
                },
                close: {
                    type: Boolean,
                    default: !1
                },
                center: {
                    type: Boolean,
                    default: !1
                },
                resize: {
                    type: Boolean,
                    default: !1
                },
                maxWidth: {},
                initialX: {
                    type: Number,
                    default: 100
                },
                initialY: {
                    type: Number,
                    default: 100
                },
                persistent: {
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                left: 100,
                top: 100,
                width: "unset",
                height: "unset",
                isDown: !1,
                isMinimized: !1,
                show: !0,
                original_width: null,
                original_height: null,
                original_x: null,
                original_y: null,
                original_mouse_x: null,
                original_mouse_y: null,
                resizeTarget: null,
                previousTouchX: null,
                previousTouchY: null
            }),
            computed: {
                clickOutside() {
                    return {
                        handler: ()=>{
                            this.persistent || this.$emit("close")
                        }
                        ,
                        isActive: !this.persistent
                    }
                }
            },
            methods: {
                toggleToolbox() {
                    this.close || (this.isMinimized = !this.isMinimized)
                },
                onMouseDown() {
                    this.isDown = !0,
                    window.addEventListener("mousemove", this.onMouseMove)
                },
                onTouchStart(t) {
                    this.isDown = !0;
                    const e = t.touches[0];
                    this.previousTouchX = e.clientX,
                    this.previousTouchY = e.clientY,
                    window.addEventListener("touchmove", this.onTouchMove, {
                        passive: !1
                    }),
                    window.addEventListener("touchend", this.onTouchEnd)
                },
                onTouchMove(t) {
                    if (!this.isDown)
                        return;
                    t.preventDefault();
                    const e = t.touches[0]
                      , i = e.clientX - this.previousTouchX
                      , s = e.clientY - this.previousTouchY;
                    this.left += i,
                    this.top += s,
                    this.previousTouchX = e.clientX,
                    this.previousTouchY = e.clientY
                },
                onTouchEnd() {
                    this.isDown = !1,
                    window.removeEventListener("touchmove", this.onTouchMove),
                    window.removeEventListener("touchend", this.onTouchEnd)
                },
                onMouseMove(t) {
                    this.isDown && (t.preventDefault(),
                    this.left = Math.max(0, this.left + t.movementX),
                    this.top = Math.max(0, this.top + t.movementY))
                },
                onMouseUp() {
                    this.isDown = !1,
                    window.removeEventListener("mousemove", this.onMouseMove),
                    this.left > window.innerWidth && (this.left = window.innerWidth - 50),
                    this.top > window.innerHeight && (this.top = window.innerHeight - 50)
                },
                doResize(t) {
                    let e = t.clientX - this.original_mouse_x
                      , i = t.clientY - this.original_mouse_y
                      , s = this.original_width + e
                      , a = this.original_height + i;
                    this.width = s,
                    this.height = a
                },
                stopResize() {
                    window.removeEventListener("mousemove", this.doResize),
                    window.removeEventListener("mouseup", this.stopResize)
                },
                onResize(t) {
                    t.preventDefault(),
                    this.original_width = this.$refs.c.clientWidth,
                    this.original_height = this.$refs.c.clientHeight,
                    this.original_x = this.left,
                    this.original_y = this.top,
                    this.original_mouse_x = t.clientX,
                    this.original_mouse_y = t.clientY,
                    window.addEventListener("mousemove", this.doResize),
                    window.addEventListener("mouseup", this.stopResize)
                }
            },
            mounted() {
                const t = 15
                  , e = 15;
                this.$nextTick(()=>{
                    if (this.center) {
                        let t = this.$refs.c.clientWidth
                          , e = this.$refs.c.clientHeight;
                        const i = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)
                          , s = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
                        this.left = (i - t) / 2,
                        this.top = (s - e) / 2
                    } else {
                        let i = this.initialX + t
                          , s = this.initialY + e;
                        i + this.$refs.c.offsetWidth > window.innerWidth && (i = window.innerWidth - this.$refs.c.offsetWidth - t),
                        s + this.$refs.c.offsetHeight > window.innerHeight && (s = window.innerHeight - this.$refs.c.offsetHeight - e),
                        this.left = i,
                        this.top = s
                    }
                }
                ),
                window.addEventListener("mouseup", this.onMouseUp)
            },
            destroyed() {
                window.removeEventListener("mouseup", this.onMouseUp)
            }
        }
          , n = o
          , r = (i("230d"),
        i("2877"))
          , l = i("6544")
          , c = i.n(l)
          , d = i("0789")
          , u = i("132d")
          , h = i("2fa4")
          , m = i("269a")
          , p = i.n(m)
          , v = i("a293")
          , g = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = g.exports;
        c()(g, {
            VExpandTransition: d["a"],
            VIcon: u["a"],
            VSpacer: h["a"]
        }),
        p()(g, {
            ClickOutside: v["a"]
        })
    },
    5065: function(t, e, i) {
        "use strict";
        i("b434")
    },
    "55ea": function(t, e, i) {},
    "56d7": function(t, e, i) {
        "use strict";
        i.r(e);
        i("63db"),
        i("de22");
        var s = i("a026")
          , a = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.translationsLoaded ? i("component-wrapper", {
                attrs: {
                    config: t.$root.siteconfig.root
                }
            }) : t._e()
        }
          , o = []
          , n = {
            name: "App"
        }
          , r = n
          , l = i("2877")
          , c = Object(l["a"])(r, a, o, !1, null, null, null)
          , d = c.exports
          , u = i("ce5b")
          , h = i.n(u)
          , m = i("da5b")
          , p = i.n(m)
          , v = i("07f0")
          , g = i.n(v);
        function f(t) {
            return s["default"].use(h.a),
            new h.a({
                theme: {
                    themes: {
                        light: {
                            "zoezi-edit-color": getComputedStyle(document.documentElement).getPropertyValue("--zoezi-edit-color").trim(),
                            ...t.root.props.colors
                        }
                    }
                },
                lang: {
                    locales: {
                        sv: g.a,
                        en: p.a
                    },
                    current: "sv"
                },
                breakpoint: {
                    mobileBreakpoint: "sm"
                }
            })
        }
        var b = i("a290")
          , y = i("41cb")
          , _ = i("2f62")
          , k = i("e0eb")
          , w = i("82dc");
        function C() {
            s["default"].use(_["a"]);
            const t = ["editMenu", "carts", "selectedSiteId", "codeMaximizeWindow", "language"];
            let e = t=>{
                var e;
                t.name = Object(k["n"])(t);
                let i = (t,e)=>{
                    var i;
                    let s = null === (i = t.blocks) || void 0 === i ? void 0 : i.filter(t=>t[e]);
                    if (!s || !s.length)
                        return null;
                    let a = s.find(t=>!t.toDate);
                    return a || (s = s.concat(),
                    s.sort((t,e)=>Date.newFull(t.toDate) - Date.newFull(e.toDate)),
                    s[0])
                }
                ;
                t.isBlocked = e=>i(t, e),
                t.canBookFor && (t.canBookFor.forEach(t=>{
                    t.isBlocked = e=>i(t, e)
                }
                ),
                t.canBookFor = t.canBookFor.sort((e,i)=>e.id == t.id ? -1 : i.id == t.id ? 1 : e.name.localeCompare(i.name)));
                let s = null === (e = t.canBookFor) || void 0 === e ? void 0 : e.find(e=>e.id == t.id);
                s && Object.assign(s, t)
            }
            ;
            const i = new _["a"].Store({
                state: {
                    now30s: new Date,
                    showMobileMenu: !1,
                    checkinDialog: {
                        show: !1,
                        resources: []
                    },
                    errorDialog: {
                        show: !1,
                        title: "",
                        text: "",
                        action: null,
                        actionText: "Ok",
                        color: "error"
                    },
                    snackBar: {
                        show: 0,
                        text: ""
                    },
                    confirmDialog: {
                        show: !1,
                        title: "",
                        text: "",
                        action: null,
                        actionText: ""
                    },
                    language: null,
                    defaultLanguage: "sv",
                    loadedLanguage: null,
                    translations: {},
                    translationsLoaded: !1,
                    googleMapsApiKey: "AIzaSyAkUAkjyqsYAb-FCtpUY7WdetIQUv1-slQ",
                    settings: null,
                    interests: null,
                    loadingInterests: !1,
                    carts: {},
                    checkoutDoneDialog: {
                        show: !1,
                        orderconfirmation: {},
                        totalFromServer: 0,
                        paidByMethod: null,
                        thankYouText: null
                    },
                    addUserDialog: {
                        show: !1,
                        homesite_id: null,
                        title: null,
                        booking_fields: !1,
                        callback: null
                    },
                    changeUserDialog: {
                        show: !1,
                        callback: null,
                        user_id: null
                    },
                    checkoutHidden: !1,
                    isCheckingIfLoggedIn: !1,
                    isLoggedIn: !1,
                    user: null,
                    bookings: null,
                    buyableCards: null,
                    cards: null,
                    isConnected: !1,
                    missingMemberFields: {
                        show: !1,
                        disabled: !1
                    },
                    selectedSiteId: null,
                    editModeInitializing: !1,
                    editComponent: null,
                    editComponentConfig: null,
                    saving: !1,
                    needToSave: !1,
                    editMenu: !1,
                    fonts: null,
                    copiedComponent: null,
                    codeMaximizeWindow: !1
                },
                mutations: {
                    updateNow(t) {
                        t.now30s = new Date
                    },
                    setShowMobileMenu(t, e) {
                        t.showMobileMenu = e
                    },
                    showErrorDialog(t, {title: e, text: i, action: s, actionText: a, color: o}) {
                        a || (a = "Ok"),
                        s || (s = ()=>t.errorDialog.show = !1),
                        o || (o = "error"),
                        Object.assign(t.errorDialog, {
                            title: e,
                            text: i,
                            action: s,
                            actionText: a,
                            color: o,
                            show: !0
                        })
                    },
                    hideErrorDialog(t) {
                        t.errorDialog.show = !1
                    },
                    showSnackBar(t, {text: e, color: i}) {
                        t.snackBar.show = !0,
                        t.snackBar.text = e,
                        t.snackBar.color = i || "error"
                    },
                    hideSnackBar(t) {
                        t.snackBar.show = !1
                    },
                    showConfirmDialog(t, {title: e, text: i, action: s, actionText: a}) {
                        t.confirmDialog.show = !0,
                        t.confirmDialog.title = e,
                        t.confirmDialog.text = i,
                        t.confirmDialog.action = s,
                        t.confirmDialog.actionText = a
                    },
                    showMissingMemberFields(t, e) {
                        t.missingMemberFields.show = e
                    },
                    disableMissingMemberFields(t, e) {
                        t.missingMemberFields.disabled = e
                    },
                    setTranslations(t, e) {
                        t.translations = e,
                        t.translationsLoaded = !0
                    },
                    setSettings(t, e) {
                        var i;
                        t.settings = e,
                        e.fields.forEach(t=>{
                            "select" == t.type && (t.data = t.data.map(t=>({
                                value: t.id || t,
                                text: t.name || t
                            })),
                            t.builtIn && (t.format = "translated")),
                            "date" == t.type && t.builtIn && "birthdate" == t.name && (t.max = Date.today().yyyymmdd())
                        }
                        ),
                        null === (i = e.webshopcategories) || void 0 === i || i.forEach(t=>{
                            t.parent = e.webshopcategories.find(e=>e.id == t.parent_id);
                            let i = t=>t.parent && !t.parent.parent ? t.parent : t.parent ? i(t.parent) : t;
                            t.top_category = i(t)
                        }
                        ),
                        w["b"](t=>t.addEventProcessor(t=>new Promise(i=>i({
                            ...t,
                            release: e.version
                        }))))
                    },
                    showCheckoutDoneDialog(t, {orderconfirmation: e, totalFromServer: i, paidByMethod: s, thankYouText: a}) {
                        Object.assign(t.checkoutDoneDialog, {
                            orderconfirmation: e,
                            totalFromServer: i,
                            paidByMethod: s,
                            thankYouText: a,
                            show: !0
                        })
                    },
                    showAddUserDialog(t, {homesite_id: e, title: i, booking_fields: s, callback: a}) {
                        Object.assign(t.addUserDialog, {
                            homesite_id: e,
                            title: i,
                            booking_fields: s,
                            callback: a,
                            show: !0
                        })
                    },
                    showChangeUserDialog(t, {callback: e, user_id: i}) {
                        Object.assign(t.changeUserDialog, {
                            callback: e,
                            user_id: i,
                            show: !0
                        })
                    },
                    showCheckinDialog(t, {resources: e, onlyShowQrScanner: i}) {
                        t.checkinDialog.resources = e || [],
                        t.checkinDialog.onlyShowQrScanner = i || !1,
                        t.checkinDialog.show = !0
                    },
                    setCheckoutHidden(t, e) {
                        t.checkoutHidden = e
                    },
                    setLoggedIn(t, {isLoggedIn: s, user: a}) {
                        t.isLoggedIn = s,
                        s && (e(a),
                        i.dispatch("setLanguage", {
                            language: a.language,
                            changeOnServer: !1
                        })),
                        t.user = s ? a : null,
                        t.isCheckingIfLoggedIn = !1,
                        a && !t.selectedSiteId && (t.selectedSiteId = a.site)
                    },
                    setUserData(t, {user: s}) {
                        e(s),
                        i.dispatch("setLanguage", {
                            language: s.language,
                            changeOnServer: !1
                        }),
                        t.user = s
                    },
                    setBookings(t, e) {
                        t.bookings = e
                    },
                    setIsConnected(t, e) {
                        t.isConnected = e
                    },
                    setCards(t, e) {
                        t.cards = e
                    },
                    setBuyableCards(t, e) {
                        t.buyableCards = e
                    },
                    setEditComponent(t, e) {
                        t.editComponent = e,
                        t.editComponentConfig = e ? e.$parent._props.config : null
                    },
                    setEditModeInitializing(t, e) {
                        t.editModeInitializing = e
                    },
                    setSaving(t, e) {
                        t.saving = e
                    },
                    setNeedToSave(t, e) {
                        t.needToSave = e
                    },
                    setEditMenu(t, e) {
                        t.editMenu = e
                    },
                    setFonts(t, e) {
                        t.fonts = e
                    },
                    copyComponent(t, e) {
                        t.copiedComponent = e
                    },
                    setCodeMaximizeWindow(t, e) {
                        t.codeMaximizeWindow = e
                    }
                },
                actions: {
                    setVueRoot({state: e}) {
                        t.forEach(t=>{
                            this._vm.$watch(()=>e[t], e=>{
                                e = JSON.stringify(e),
                                window.localStorage.setItem("zoezi." + t, e)
                            }
                            , {
                                deep: !0
                            })
                        }
                        )
                    },
                    logout({commit: t, state: e}) {
                        this._vm.$api.post("/api/memberapi/logout").then(()=>t("setLoggedIn", {
                            isLoggedIn: !1
                        })),
                        e.carts = {},
                        Object(k["t"])() && window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                            type: "session",
                            data: ""
                        }))
                    },
                    checkIfLoggedIn({commit: t, state: e}) {
                        e.isCheckingIfLoggedIn = !0;
                        let i = Object(k["r"])("session");
                        i && (Object(k["F"])("session", i, 3650, !0),
                        Object(k["D"])("session")),
                        this._vm.$api.get("/api/memberapi/get/current").then(e=>t("setLoggedIn", {
                            isLoggedIn: !0,
                            user: e
                        })).catch(()=>t("setLoggedIn", {
                            isLoggedIn: !1
                        }))
                    },
                    googleSignIn({commit: t, state: e}, i) {
                        this._vm.$api.post("/api/memberapi/google/login", null, {
                            token: i,
                            site_id: e.selectedSiteId
                        }).then(e=>{
                            e.json().then(e=>{
                                t("setLoggedIn", {
                                    isLoggedIn: !0,
                                    user: e
                                })
                            }
                            )
                        }
                        )
                    },
                    signinWithApple({commit: t, state: e}) {
                        if (!e.isLoggedIn) {
                            let e = localStorage.getItem("apple-signin-nonce");
                            e && this._vm.$api.post("/api/memberapi/apple/login", e).then(e=>{
                                if (200 == e.status)
                                    return e.json();
                                t("showSnackBar", {
                                    text: window.$translate("Login failed. Try again"),
                                    color: "error"
                                })
                            }
                            ).then(e=>{
                                t("setLoggedIn", {
                                    isLoggedIn: !0,
                                    user: e
                                })
                            }
                            ).catch(()=>t("setLoggedIn", {
                                isLoggedIn: !1
                            }))
                        }
                        localStorage.removeItem("apple-signin-nonce"),
                        Object(k["D"])("applesignin")
                    },
                    setEditComponentConfig({state: t}, {config: e, parentComponent: i}) {
                        let a = t=>{
                            var i, s;
                            if ("EditPanel" == (null === t || void 0 === t || null === (i = t.$options) || void 0 === i ? void 0 : i.name))
                                return null;
                            if ((null === t || void 0 === t || null === (s = t._props) || void 0 === s ? void 0 : s.config) == e)
                                return t.$children[0];
                            let o = null;
                            return t.$children.forEach(t=>{
                                let e = a(t);
                                o || (o = e)
                            }
                            ),
                            o
                        }
                        ;
                        s["default"].nextTick(()=>{
                            let o = document.getElementsByClassName("zoezi-root")[0].__vue__
                              , n = a(o);
                            n && e == n.$parent._props.config ? (t.editComponent = n,
                            t.editComponentConfig = n.$parent._props.config) : i && i.findChild ? (i.findChild(e.id),
                            s["default"].nextTick(()=>{
                                let e = a();
                                e && (t.editComponent = e,
                                t.editComponentConfig = e.$parent._props.config)
                            }
                            )) : (t.editComponent = null,
                            t.editComponentConfig = e)
                        }
                        )
                    },
                    setLanguage({state: t}, {language: e, changeOnServer: i}) {
                        e && t.loadedLanguage != e && this._vm.$translations.fetchLanguageFile(e).then(()=>{
                            t.language = e,
                            t.loadedLanguage = e,
                            window.$vuetify.lang.current = e,
                            i && t.user && this._vm.$api.post("/api/memberapi/change", {
                                id: t.user.id,
                                language: e
                            })
                        }
                        )
                    },
                    loadInterests({state: t}) {
                        t.loadingInterests || t.interests || (t.loadingInterests = !0,
                        this._vm.$api.get("/api/memberapi/interest/get").then(e=>{
                            t.interests = e,
                            t.loadingInterests = !1
                        }
                        ))
                    },
                    addToCart({state: t}, {cartName: e, product_id: i, count: a, variant: o, price: n, site_id: r, course_id: l, answers: c, reservation: d, variants_for_included_products: u, rbservice_id: h, slots: m, extra_person: p, extended_info: v, tmp_id: g, rbooking_id: f, service: b, users: y, user_id: _}) {
                        e = e || "",
                        t.carts || (t.carts = {});
                        let k = t.carts[e];
                        k || (r = r || 1,
                        k = {
                            items: [],
                            site_id: r,
                            showBottomBar: !1,
                            showCheckout: !1
                        },
                        s["default"].set(t.carts, e, k)),
                        a || (a = 1);
                        let C = i && !d ? k.items.find(t=>t.product_id == i && t.variant == o) : null;
                        C || (C = {
                            product_id: i,
                            variant: o,
                            count: 0,
                            users: y ? y.concat() : new Array(a).fill(_ || (t.user ? t.user.id : null)),
                            user_id: _,
                            course_id: l,
                            answers: c,
                            reservation: d,
                            variants_for_included_products: u,
                            rbservice_id: h,
                            slots: m,
                            extra_person: p,
                            extended_info: v,
                            tmp_id: g,
                            rbooking_id: f,
                            service: b,
                            site_id: r
                        },
                        k.items.push(C)),
                        void 0 !== n && (C.price = n),
                        C.count += a,
                        t.carts = Object.assign({}, t.carts);
                        try {
                            let t = {
                                id: "p" + C.product_id,
                                count: a
                            };
                            this._vm.$api.get("/api/public/trainingcard/type/get", {
                                ids: C.product_id
                            }).then(e=>{
                                let i = e.find(t=>t.id == C.product_id);
                                t.price = i.price,
                                t.vat = i.vat,
                                t.name = null != o ? i.name + ", " + o : i.name,
                                this._vm.$ecommercetracking.addToCart(t)
                            }
                            )
                        } catch (x) {
                            w["a"](x)
                        }
                    },
                    changeItemCountInCart({state: t}, {cartName: e, product_id: i, variant: s, tmp_id: a, count: o}) {
                        e = e || "",
                        t.carts || (t.carts = {});
                        let n = t.carts[e];
                        if (void 0 === n)
                            return;
                        let r = n.items.find(t=>t.product_id == i && t.variant == s && t.tmp_id == a);
                        r && (r.count = o,
                        r.users && (r.users = r.users.slice(0, o)),
                        0 == o && n.items.splice(n.items.indexOf(r), 1)),
                        t.carts = Object.assign({}, t.carts)
                    },
                    changeItemUsersInCart({state: t}, {cartName: e, product_id: i, variant: s, users: a}) {
                        e = e || "",
                        t.carts || (t.carts = {});
                        let o = t.carts[e];
                        if (void 0 === o)
                            return;
                        let n = o.items.find(t=>t.product_id == i && t.variant == s);
                        n && (n.users = a.concat()),
                        t.carts = Object.assign({}, t.carts)
                    },
                    removeCart({state: t}, {cartName: e}) {
                        e = e || "",
                        t.carts || (t.carts = {});
                        let i = t.carts[e];
                        i && delete t.carts[e],
                        t.carts = Object.assign({}, t.carts)
                    },
                    setCartVisibility({state: t}, {cartName: e, showBottomBar: i, showCheckout: s}) {
                        e = e || "",
                        t.carts || (t.carts = {});
                        let a = t.carts[e];
                        (i || s) && Object.values(t.carts).forEach(t=>{
                            t.showBottomBar = !1,
                            t.showCheckout = !1
                        }
                        ),
                        a && (a.showBottomBar = i,
                        a.showCheckout = s),
                        t.carts = Object.assign({}, t.carts)
                    },
                    setSite({state: t}, {siteId: e, changeOnServer: i=!0}) {
                        t.selectedSiteId = e,
                        i && t.user && t.user.site != e && this._vm.$api.post("/api/memberapi/setsite", null, {
                            id: e
                        }),
                        t.user && (t.user.site = e)
                    }
                },
                getters: {
                    comingBookings: t=>{
                        var e, i;
                        if (!t.bookings)
                            return null;
                        let s = {};
                        return s.workouts = (null === (e = t.bookings.workouts) || void 0 === e ? void 0 : e.filter(e=>e.startTime >= t.now30s)) || [],
                        s.resourcebookings = [],
                        null === (i = t.bookings.resourcebookings) || void 0 === i || i.forEach(e=>{
                            s.resourcebookings = s.resourcebookings.concat(e.bookings.filter(e=>!e.cancelled && Date.newFull(e.time) >= t.now30s))
                        }
                        ),
                        s.coursebookings = t.bookings.coursebookings,
                        s.coursewatches = t.bookings.coursewatches,
                        s
                    }
                }
            });
            return t.forEach(t=>{
                try {
                    let e = window.localStorage.getItem("zoezi." + t);
                    void 0 !== e && (e = JSON.parse(e),
                    i.state[t] = e)
                } catch (e) {}
            }
            ),
            setInterval(()=>i.commit("updateNow"), 3e4),
            window.$store = i,
            i
        }
        i("5377");
        class x {
            constructor() {
                this.options = {},
                this.isConnecting = !1,
                this.isActive = !1,
                this.isActivePubSub = !1,
                this.lastMessageId = null,
                this.lastMessagePid = null,
                this.ws = null,
                this.setupWebSocketTimer = null,
                this.socketTimer = null,
                this.channel2callbacks = {},
                this.channel2ids = {},
                this.observers = {}
            }
            log() {}
            subscribeKey(t, e) {
                if (e.callback) {
                    var i = this.observers[t];
                    i || (this.observers[t] = i = []),
                    i.push(e.callback);
                    var s = function() {
                        var t = i.indexOf(e.callback);
                        t >= 0 && i.splice(t, 1)
                    };
                    return s
                }
            }
            publishKey(t, e) {
                var i = this.observers[t];
                if (!i)
                    return !1;
                for (var s = 0; s < i.length; s++)
                    try {
                        i[s](e.data[0], e)
                    } catch (a) {
                        console.error(a)
                    }
                return i.length > 0
            }
            publishEvent(t) {
                var e = t.type || ""
                  , i = t.action || "";
                this.publishKey(e + ":", t),
                this.publishKey(e + ":" + i, t)
            }
            subscribe(t) {
                return t.type = t.type || "",
                t.action = t.action || "",
                this.subscribeKey(t.type + ":" + t.action, {
                    callback: t.callback
                })
            }
            channel2Broker(t) {
                this.channel2callbacks[t.key] && (this.channel2ids[t.key] = t.id,
                this.channel2callbacks[t.key].forEach(e=>e(t.data)))
            }
            channel2onWsOpen() {
                for (let t in this.channel2callbacks) {
                    let e = this.channel2ids[t];
                    this.ws.send(JSON.stringify({
                        type: "channel2",
                        command: "on",
                        key: t,
                        lastId: e
                    }))
                }
            }
            subscribeChannel(t, e) {
                let i = ()=>{
                    if (this.ws && 1 === this.ws.readyState && this.ws.send(JSON.stringify({
                        type: "channel2",
                        command: "off",
                        key: t
                    })),
                    !this.channel2callbacks[t])
                        return;
                    let i = this.channel2callbacks[t].indexOf(e);
                    i < 0 || (this.channel2callbacks[t].splice(i, 1),
                    this.channel2callbacks[t].length || (delete this.channel2callbacks[t],
                    delete this.channel2ids[t]))
                }
                ;
                return this.ws && 1 === this.ws.readyState && this.ws.send(JSON.stringify({
                    type: "channel2",
                    command: "on",
                    key: t,
                    lastId: 0
                })),
                this.channel2callbacks[t] || (this.channel2callbacks[t] = []),
                this.channel2callbacks[t].push(e),
                i
            }
            wsOpen() {
                this.log("Opened connection"),
                this.isConnecting = !1,
                this.isActive = !0,
                this.channel2onWsOpen(),
                this.$root.$store.commit("setIsConnected", !0)
            }
            wsClose() {
                this.log("Connection closed"),
                this.isConnecting = !1,
                this.isActive = !1,
                this.isActivePubSub = !1,
                this.setupWebSocketTimer || (this.setupWebSocketTimer = window.setTimeout(()=>this.setupWebSocket(), 1e3)),
                this.$root.$store.commit("setIsConnected", !1)
            }
            wsError() {
                this.log("Error on websocket"),
                this.isConnecting = !1,
                this.isActive = !1,
                this.isActivePubSub = !1,
                this.setupWebSocketTimer || (this.setupWebSocketTimer = window.setTimeout(()=>this.setupWebSocket(), 1e3)),
                this.$root.$store.commit("setIsConnected", !1)
            }
            resetSocketTimer() {
                this.setupWebSocketTimer && window.clearTimeout(this.setupWebSocketTimer),
                this.socketTimer && window.clearInterval(this.socketTimer),
                this.socketTimer = window.setInterval(()=>this.socketTimeout(), 1e4)
            }
            socketTimeout() {
                this.setupWebSocket()
            }
            setupWebSocket() {
                if (this.setupWebSocketTimer && (window.clearTimeout(this.setupWebSocketTimer),
                this.setupWebSocketTimer = null),
                !this.isConnecting) {
                    this.log("Trying to connect..."),
                    this.ws && (this.ws.onerror = void 0,
                    this.ws.onclose = void 0,
                    this.ws.close()),
                    this.isConnecting = !0,
                    this.isActive = !1,
                    this.isActivePubSub = !1;
                    var t = this.options.url;
                    "http:" == document.location.protocol && (t = t.replace(/^wss:/, "ws:")),
                    this.ws = new WebSocket(t),
                    this.ws.onopen = ()=>this.wsOpen(),
                    this.ws.onclose = ()=>this.wsClose(),
                    this.ws.onerror = ()=>this.wsError(),
                    this.ws.onmessage = t=>this.wsMessage(t),
                    this.resetSocketTimer()
                }
            }
            wsMessage(t) {
                this.resetSocketTimer();
                var e = JSON.parse(t.data);
                if ("ping" != e.type && (this.log("Got message of type " + e.type + " with id " + e.id),
                "reload" != e.type)) {
                    if ("last" == e.type) {
                        if (this.lastMessageId && (e.id > this.lastMessageId + 10 || e.pid != this.lastMessagePid))
                            return void (this.options.reload && window.location.reload());
                        this.isActivePubSub || (this.isActivePubSub = !0)
                    }
                    if ("channel2" === e.type)
                        return this.channel2Broker(e);
                    this.publishEvent(e),
                    this.lastMessageId = e.id,
                    this.lastMessagePid = e.pid
                }
            }
            isActive() {
                return !!this.ws
            }
            start(t) {
                this.options = t,
                this.$root = t.$root,
                this.setupWebSocket()
            }
            stop() {
                this.ws && (this.ws.onerror = void 0,
                this.ws.onclose = void 0,
                this.ws.close(),
                this.setupWebSocketTimer && (window.clearTimeout(this.setupWebSocketTimer),
                this.setupWebSocketTimer = null),
                this.socketTimer && (window.clearInterval(this.socketTimer),
                this.socketTimer = null),
                this.ws = null,
                this.isConnecting = !1,
                this.lastMessageId = void 0,
                this.lastMessagePid = void 0)
            }
            sendToChannel(t, e) {
                this.ws.send(JSON.stringify({
                    type: "channel",
                    key: t,
                    data: e
                }))
            }
            authenticate(t, e) {
                this.log(`Authenticating websocket (from ${e})`),
                this.isActive && (this.ws.send(JSON.stringify({
                    type: "auth",
                    data: t
                })),
                Object(k["t"])() && window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                    type: "session",
                    data: t
                })))
            }
        }
        var $ = x;
        let S = function(t) {
            var e = "";
            if (t = t || {},
            t) {
                var i = Object.entries(t).map(([t,e])=>t + "=" + (void 0 == e ? "" : encodeURIComponent(e)));
                i.length && (e = "?" + i.join("&"))
            }
            return e
        };
        class D {
            post(t, e, i) {
                return new Promise(s=>{
                    fetch(`${location.protocol}//${this.$root.siteconfig.hostname}${t}${S(i)}`, {
                        method: "POST",
                        body: e instanceof FormData ? e : e ? JSON.stringify(e) : void 0,
                        credentials: "include"
                    }).then(s).catch(()=>{
                        s({
                            ok: !1
                        })
                    }
                    )
                }
                )
            }
            get(t, e, i) {
                return i = i || {},
                fetch(`${location.protocol}//${this.$root.siteconfig.hostname}${t}${S(e)}`, {
                    method: "GET",
                    credentials: "include"
                }).then(t=>{
                    if (i.blob)
                        return t.blob();
                    if (!t.ok)
                        throw {};
                    return t.ok && t.json()
                }
                )
            }
            callStaffApp(t, e) {
                return new Promise(i=>{
                    let s = ++this.lastCallbackId;
                    this.callbacks[s] = t=>{
                        delete this.callbacks[s],
                        i(t)
                    }
                    ;
                    var a = Array.prototype.slice.call(arguments).slice(2);
                    window.parent.postMessage({
                        module: t,
                        fn: e,
                        args: a,
                        callbackId: s
                    })
                }
                )
            }
            getSettings() {
                return fetch(`${location.protocol}//${location.hostname}/api/public/settings/get`, {
                    method: "GET",
                    credentials: "include"
                }).then(t=>{
                    if (!t.ok)
                        throw {};
                    return t.ok && t.json()
                }
                )
            }
            getImageUrl(t, e, i) {
                if (t && "string" === typeof t && t.startsWith("/assets"))
                    return this.getAssetUrl(t);
                if (!t || "string" === typeof t && (t.startsWith("http") || t.startsWith("/")))
                    return t;
                if ("object" === typeof t)
                    if (t.key) {
                        var s;
                        let i = t;
                        t = i.key;
                        let a = null === (s = this.$root.$store.state.settings) || void 0 === s ? void 0 : s.origin_hostname;
                        if (i.variants && a) {
                            let s = !a.endsWith("zoezidev.se") && !a.endsWith("zoezitest.com");
                            if (s) {
                                let s;
                                if (e && e <= i.variants[0] || !i.variants[0])
                                    for (let t of this.thumbnailSizes)
                                        if (e <= t) {
                                            s = t;
                                            break
                                        }
                                if (!s)
                                    return `https://d1m1wyx9mob792.cloudfront.net/${a}/files/${t}`;
                                if (i.variants.slice(1).includes(s))
                                    return `https://d1m1wyx9mob792.cloudfront.net/${a}/files/${t}_ ${s}`
                            }
                        }
                    } else {
                        if (!t.imagekey)
                            return t.imageurl;
                        t = t.imagekey
                    }
                let a = `${location.protocol}//${this.$root.siteconfig.hostname}/api/utils/file/download?key=${t}`;
                return e && (a += "&size=" + e),
                null !== i && void 0 !== i && i.notrack && (a += "&notrack"),
                a
            }
            hasFlag(t) {
                var e, i;
                return null === (e = this.$root.$store.state.settings) || void 0 === e || null === (i = e.flags) || void 0 === i ? void 0 : i.includes(t)
            }
            getAssetUrl(t) {
                return `${location.protocol}//${this.$root.siteconfig.hostname}${t}`
            }
            subscribe(t) {
                return this.live.subscribe(t)
            }
            subscribeChannel(t, e) {
                return this.live.subscribeChannel(t, e)
            }
            startWebSocket() {
                console.log("Starting websocket to " + this.$root.siteconfig.hostname),
                this.live && this.live.stop(),
                this.live = new $,
                this.live.start({
                    url: "wss://" + this.$root.siteconfig.hostname + "/api/async?type=public",
                    $root: this.$root
                })
            }
            reloadSettings() {
                this.getSettings().then(t=>{
                    this.$root.$store.commit("setSettings", t)
                }
                )
            }
            setVueRoot(t) {
                this.$root = t,
                t.$watch("siteconfig.hostname", (t,e)=>{
                    console.log("ZoeziApi detected change of hostname from " + e + " to " + t),
                    this.startWebSocket()
                }
                ),
                this.startWebSocket(),
                this.$root.$watch("$store.state.isLoggedIn", ()=>{
                    this.$root.$store.state.user && this.live.authenticate(this.$root.$store.state.user.session, "isLoggedIn")
                }
                ),
                this.$root.$watch("$store.state.isConnected", ()=>{
                    this.$root.$store.state.isConnected && this.$root.$store.state.user && this.live.authenticate(this.$root.$store.state.user.session, "isConnected")
                }
                ),
                this.subscribe({
                    type: "#event",
                    action: "settings_changed",
                    callback: ()=>{
                        this.reloadSettings()
                    }
                }),
                this.subscribe({
                    type: "flag",
                    callback: ()=>{
                        this.reloadSettings()
                    }
                }),
                this.subscribe({
                    type: "addon",
                    callback: ()=>{
                        this.reloadSettings()
                    }
                }),
                this.subscribe({
                    type: "coursecategory",
                    callback: ()=>{
                        this.reloadSettings()
                    }
                }),
                this.reloadSettings(),
                this.lastCallbackId = 0,
                this.callbacks = {},
                window.addEventListener("message", t=>{
                    if (t.source && t.source.location && t.source.location == window.parent.location && t.data.callbackId) {
                        let e = this.callbacks[t.data.callbackId];
                        e && e(t.data.data)
                    }
                }
                )
            }
            hasPermission(t) {
                return this.$root.$store.state.user && (!t || -1 != this.$root.$store.state.user.permissions.indexOf(t))
            }
            constructor(t) {
                t.prototype.$api = this,
                window.$zoeziapi = this,
                this.thumbnailSizes = [100, 300, 600, 960, 1280, 1600, 1920, 2560, 3840]
            }
        }
        var z = {
            install(t) {
                new D(t);
                const e = t.prototype.$mount;
                t.prototype.$mount = function() {
                    var t;
                    let i = e.apply(this, arguments);
                    return this.$options && null !== (t = this.$options.name) && void 0 !== t && t.startsWith("zoezi-") && this.$el.classList && this.$el.classList.add(this.$options.name),
                    i
                }
            }
        }
          , T = i("2ef0");
        Date.prototype.yyyymmdd = function() {
            var t = this.getFullYear().toString()
              , e = (this.getMonth() + 1).toString()
              , i = this.getDate().toString();
            return t + "-" + (e[1] ? e : "0" + e[0]) + "-" + (i[1] ? i : "0" + i[0])
        }
        ,
        Date.prototype.yyyymmddCompact = function() {
            var t = this.getFullYear().toString()
              , e = (this.getMonth() + 1).toString()
              , i = this.getDate().toString();
            return t + (e[1] ? e : "0" + e[0]) + (i[1] ? i : "0" + i[0])
        }
        ,
        Date.prototype.ddSlashmm = function() {
            var t = (this.getMonth() + 1).toString()
              , e = this.getDate().toString();
            return (e[1] ? e : "0" + e[0]) + " / " + (t[1] ? t : "0" + t[0])
        }
        ,
        Date.prototype.hhmm = function() {
            var t = this.getHours().toString()
              , e = this.getMinutes().toString();
            return (t[1] ? t : "0" + t[0]) + ":" + (e[1] ? e : "0" + e[0])
        }
        ,
        Date.prototype.hhmmss = function() {
            var t = this.getHours().toString()
              , e = this.getMinutes().toString()
              , i = this.getSeconds().toString();
            return (t[1] ? t : "0" + t[0]) + ":" + (e[1] ? e : "0" + e[0]) + ":" + (i[1] ? i : "0" + i[0])
        }
        ,
        Date.prototype.yyyymmddSpacehhmmss = function() {
            var t = this.yyyymmdd()
              , e = this.hhmmss();
            return t + " " + e
        }
        ,
        Date.prototype.dateTime = function() {
            var t = this.getHours().toString()
              , e = this.getMinutes().toString();
            return this.yyyymmdd() + " " + (t[1] ? t : "0" + t[0]) + ":" + (e[1] ? e : "0" + e[0])
        }
        ,
        Date.prototype.yearsAgo = function(t) {
            return this.setYear(this.getYear() + 1900 - t),
            this
        }
        ,
        Date.isMaxDate = function(t) {
            return t = Date.newFull(t),
            t && t.getFullYear() >= 9999
        }
        ,
        Date.prototype.isMaxDate = function() {
            return Date.isMaxDate(this)
        }
        ,
        Date.prototype.getMillisecondsToday = function() {
            const t = this.clone();
            return t.setHours(0, 0, 0, 0),
            this.getTime() - t.getTime()
        }
        ,
        Date.rangeInside = function(t, e, i, s) {
            return t = t.getTime(),
            e = e.getTime(),
            i = i.getTime(),
            s = s.getTime(),
            t <= s && e >= i && e <= s && t >= i
        }
        ,
        Date.prototype.withinRange = function(t, e) {
            var i = this.yyyymmdd();
            return Object(T["isDate"])(t) && (t = t.yyyymmdd()),
            Object(T["isDate"])(e) && (e = e.yyyymmdd()),
            i >= t && i <= e
        }
        ,
        Date.dateEquals = function(t, e) {
            return t && e ? (Object(T["isDate"])(t) && (t = t.yyyymmdd()),
            Object(T["isDate"])(e) && (e = e.yyyymmdd()),
            t == e) : t == e
        }
        ,
        Date.dateEqualsObjects = function(t, e) {
            return t && e ? t.getDate() == e.getDate() && t.getMonth() == e.getMonth() && t.getFullYear() == e.getFullYear() : t == e
        }
        ,
        Date.timeEquals = function(t, e) {
            return t && e ? (Object(T["isDate"])(t) && (t = t.hhmm()),
            Object(T["isDate"])(e) && (e = e.hhmm()),
            t == e) : t == e
        }
        ,
        Date.newFull = function(t) {
            if (!t)
                return t;
            if (Object(T["isDate"])(t))
                return t.clone();
            8 == t.length && (t = t.substring(0, 4) + "-" + t.substring(4, 6) + "-" + t.substring(6, 8));
            var e = t.split(" ")
              , i = e[0]
              , s = i.split("-")
              , a = s[0]
              , o = s[1] - 1
              , n = s[2]
              , r = 0
              , l = 0
              , c = 0;
            if (e.length > 1) {
                var d = e[1]
                  , u = d.split(":");
                r = u[0],
                u.length > 1 && (l = u[1]),
                u.length > 2 && (c = u[2])
            }
            return new Date(a,o,n,r,l,c,0)
        }
        ,
        Date.newFromCompact = function(t) {
            if (Object(T["isDate"])(t))
                return t;
            var e = t.substring(0, 4)
              , i = t.substring(4, 6) - 1
              , s = t.substring(6, 8)
              , a = t.substring(8, 10)
              , o = t.substring(10, 12)
              , n = t.substring(12, 14);
            return new Date(e,i,s,a,o,n,0)
        }
        ,
        Date.newTime = function(t) {
            if (Object(T["isDate"])(t))
                return t;
            var e = new Date
              , i = t.split(":")
              , s = i[0]
              , a = 0
              , o = 0;
            return i.length > 1 && (a = i[1]),
            i.length > 2 && (o = i[2]),
            e.setHours(s, a, o),
            e
        }
        ,
        Date.prototype.clone = function() {
            return new Date(this.getTime())
        }
        ,
        Date.today = function() {
            return (new Date).clearTime()
        }
        ,
        Date.tomorrow = function() {
            return (new Date).addDays(1).clearTime()
        }
        ,
        Date.prototype.daysInMonth = function() {
            return new Date(this.getFullYear(),this.getMonth() + 1,0).getDate()
        }
        ,
        Date.prototype.isFutureDate = function(t) {
            var e = this.clone().clearTime();
            return e > Date.today() || t && e.isToday()
        }
        ,
        Date.prototype.isPastDate = function(t) {
            var e = this.clone().clearTime();
            return e < Date.today() || t && e.isToday()
        }
        ,
        Date.prototype.isFuture = function() {
            return this > new Date
        }
        ,
        Date.prototype.isToday = function() {
            return Date.dateEquals(this, Date.today())
        }
        ,
        Date.prototype.isTomorrow = function() {
            return Date.dateEquals(this, Date.tomorrow())
        }
        ,
        Date.monday = function() {
            var t = new Date
              , e = t.getDay()
              , i = t.getDate() - e + (0 == e ? -6 : 1);
            return t = new Date(t.setDate(i)),
            t.clearTime()
        }
        ,
        Date.prototype.monday = function() {
            var t = this.clone()
              , e = t.getDay()
              , i = t.getDate() - e + (0 == e ? -6 : 1);
            return t = new Date(t.setDate(i)),
            t.clearTime()
        }
        ,
        Date.prototype.getDateIntervalForWeek = function() {
            var t = this.clone().monday()
              , e = t.clone().addDays(6);
            return [t, e]
        }
        ,
        Date.prototype.addDays = function(t) {
            return this.setDate(this.getDate() + t),
            this
        }
        ,
        Date.isLeapYear = function(t) {
            return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0
        }
        ,
        Date.getDaysInMonth = function(t, e) {
            return [31, Date.isLeapYear(t) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e]
        }
        ,
        Date.prototype.isLeapYear = function() {
            return Date.isLeapYear(this.getFullYear())
        }
        ,
        Date.prototype.getDaysInMonth = function() {
            return Date.getDaysInMonth(this.getFullYear(), this.getMonth())
        }
        ,
        Date.prototype.addMonths = function(t) {
            var e = this.getDate();
            return this.setDate(1),
            this.setMonth(this.getMonth() + t),
            this.setDate(Math.min(e, this.getDaysInMonth())),
            this
        }
        ,
        Date.prototype.addMinutes = function(t) {
            return this.setTime(this.getTime() + 6e4 * t),
            this
        }
        ,
        Date.prototype.clearTime = function() {
            return this.setHours(0, 0, 0, 0),
            this
        }
        ,
        Date.prototype.isThisMonth = function() {
            var t = new Date;
            return this.getFullYear() == t.getFullYear() && this.getMonth() == t.getMonth()
        }
        ,
        Date.firstDayLastMonth = function() {
            var t = new Date;
            return new Date(t.getFullYear(),t.getMonth() - 1,1)
        }
        ,
        Date.lastDayLastMonth = function() {
            var t = new Date;
            return new Date(t.getFullYear(),t.getMonth(),0)
        }
        ,
        Date.firstDayThisMonth = function() {
            var t = new Date;
            return new Date(t.getFullYear(),t.getMonth(),1)
        }
        ,
        Date.lastDayThisMonth = function() {
            var t = new Date;
            return new Date(t.getFullYear(),t.getMonth() + 1,0)
        }
        ,
        Date.firstDayNextMonth = function() {
            var t = new Date;
            return new Date(t.getFullYear(),t.getMonth() + 1,1)
        }
        ,
        Date.prototype.getWeekNumber = function() {
            var t = new Date(this.getTime());
            t.setHours(0, 0, 0, 0),
            t.setDate(t.getDate() + 3 - (t.getDay() + 6) % 7);
            var e = new Date(t.getFullYear(),0,4);
            return 1 + Math.round(((t.getTime() - e.getTime()) / 864e5 - 3 + (e.getDay() + 6) % 7) / 7)
        }
        ,
        Date.prototype.getMonthName = function() {
            return ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][this.getMonth()]
        }
        ,
        Date.prototype.getMonthNameShort = function() {
            return ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"][this.getMonth()]
        }
        ,
        Date.prototype.nextMonth = function() {
            return new Date(this.getFullYear(),this.getMonth() + 1,1)
        }
        ,
        Date.prototype.lastMonth = function() {
            return new Date(this.getFullYear(),this.getMonth() - 1,1)
        }
        ,
        Date.prototype.firstDayThisMonth = function() {
            return new Date(this.getFullYear(),this.getMonth(),1)
        }
        ,
        Date.prototype.lastDayThisMonth = function() {
            return new Date(this.getFullYear(),this.getMonth() + 1,0)
        }
        ,
        Date.prototype.daysUntil = function(t) {
            var e = 864e5
              , i = Math.floor((t.getTime() - this.getTime()) / e);
            return i
        }
        ,
        Date.prototype.isSameDateAs = function(t) {
            return this.getFullYear() === t.getFullYear() && this.getMonth() === t.getMonth() && this.getDate() === t.getDate()
        }
        ,
        Date.prototype.isMidnight = function() {
            return 0 == this.getHours() && 0 == this.getMinutes() && 0 == this.getSeconds()
        }
        ,
        Date.prototype.daysFromToday = function() {
            return Date.today().daysUntil(this)
        }
        ,
        Date.prototype.getWeekDayString = function() {
            return ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][this.getDay()]
        }
        ,
        Date.prototype.getNextWeekDayOfType = function(t) {
            var e = this.clone();
            return new Date(e.setDate(e.getDate() + (t + 7 - e.getDay()) % 7)).clearTime()
        }
        ,
        Date.dateToDateString = function(t, e, i) {
            i = i || window.$translate;
            let s = Date.newFull(t)
              , a = Date.newFull(e)
              , o = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
            return s.getMonth() == a.getMonth() ? `${s.getDate()} - ${a.getDate()} ${o(i(a.getMonthNameShort()))}` : `${s.getDate()} ${o(i(s.getMonthNameShort()))} - ${a.getDate()} ${o(i(a.getMonthNameShort()))}`
        }
        ,
        Date.formatFullShortRelative = function(t) {
            let e = "";
            return t = Date.newFull(t),
            t.isToday() ? e = window.$translate("Today").toLowerCase() + ", " : t.isTomorrow() && (e = window.$translate("Tomorrow").toLowerCase() + ", "),
            e + Date.formatFullShort(t)
        }
        ,
        Date.formatTimeRelative = function(t) {
            let e = "";
            return t = Date.newFull(t),
            e = t.isToday() ? window.$translate("Today").toLowerCase() : t.isTomorrow() ? window.$translate("Tomorrow").toLowerCase() : Date.formatFullShorter(t),
            e + " " + t.hhmm()
        }
        ,
        Date.formatTimeFullRelative = function(t) {
            let e = "";
            return t = Date.newFull(t),
            e = t.isToday() ? window.$translate("Today").toLowerCase() : t.isTomorrow() ? window.$translate("Tomorrow").toLowerCase() : Date.formatFullShort(t),
            e + " " + t.hhmm()
        }
        ,
        Date.formatFullShort = function(t) {
            t = Date.newFull(t);
            let e = window.$translate(t.getWeekDayString()).substring(0, 3)
              , i = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
            return `${i(e)} ${t.getDate()} ${i(window.$translate(t.getMonthNameShort()))}`
        }
        ,
        Date.formatFullShorter = function(t) {
            t = Date.newFull(t);
            let e = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
            return `${t.getDate()} ${e(window.$translate(t.getMonthNameShort()))}`
        }
        ,
        Date.formatFullShorterYear = function(t) {
            t = Date.newFull(t);
            let e = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
            return `${t.getDate()} ${e(window.$translate(t.getMonthNameShort()))} ${t.getFullYear()}`
        }
        ,
        Date.formatFullLong = function(t, e=!0) {
            t = Date.newFull(t);
            let i = window.$translate(t.getWeekDayString())
              , s = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
            return `${s(i)} ${t.getDate()} ${s(window.$translate(e ? t.getMonthName() : t.getMonthNameShort()))} ${t.hhmm()}`
        }
        ,
        Date.getAge = function(t) {
            var e = new Date
              , i = Date.newFull(t)
              , s = e.getFullYear() - i.getFullYear()
              , a = e.getMonth() - i.getMonth();
            return (a < 0 || 0 === a && e.getDate() < i.getDate()) && s--,
            s
        }
        ;
        class I {
            fetchLanguageFile(t) {
                return this.$root.$api.get("/api/public/translation/get", {
                    language: t
                }).then(t=>{
                    this.$store.commit("setTranslations", t)
                }
                )
            }
            setVueRoot(t) {
                this.$root = t,
                this.$store = t.$store,
                this.$store.dispatch("setLanguage", {
                    language: this.$store.state.language || this.$store.state.defaultLanguage,
                    changeOnServer: !1
                })
            }
            translate(t) {
                return this.$store.state.translations[t] || t
            }
            constructor(t) {
                this.translations = {},
                t.prototype.$translations = this,
                t.prototype.$translate = t=>this.translate(t),
                t.filter("translate", t=>this.translate(t)),
                window.$translate = t=>this.translate(t)
            }
        }
        var P = {
            install(t) {
                new I(t)
            }
        };
        class V {
            getWorkoutTypes() {
                return this.settings.then(t=>t.workoutTypes)
            }
            getWorkoutCategories() {
                return this.settings.then(t=>t.workoutcategories)
            }
            getResourceBookingCategories() {
                return this.settings.then(t=>t.resourcebookingcategories)
            }
            getCourseCategories() {
                return this.settings.then(t=>t.coursecategories)
            }
            isCardValid(t, e, i=1, s=!0) {
                var a = !t.validToDate || e < t.validToDate.clone().addDays(1)
                  , o = t.validFromDate > e
                  , n = !o
                  , r = 0 == i || t.trainingsLeft >= i || null === t.trainingsLeft;
                return (!s || !this.getActiveFreeze(t, e)) && !!(a && n && r)
            }
            getActiveFreeze(t, e) {
                var i;
                return null === (i = t.freezes) || void 0 === i ? void 0 : i.find(t=>e.withinRange(t.fromDate, t.toDate))
            }
            workoutTypeAllowsBookingWithCardType(t, e) {
                return !t.cardtypes || 0 == t.cardtypes.length || -1 != t.cardtypes.indexOf(e)
            }
            transformWorkout(t) {
                var e, i;
                return t.startTime = Date.newFull(t.startTime),
                t.startDate = new Date(t.startTime).clearTime(),
                t.endTime = Date.newFull(t.endTime),
                t.start = t.startTime,
                t.end = t.endTime,
                null === (e = t.resources) || void 0 === e || e.forEach(e=>{
                    "location" == e.resourceType ? (t.location = e,
                    e.name = e.lastname) : "room" == e.resourceType && (t.room = e,
                    e.name = e.lastname)
                }
                ),
                t.match_activity && (t.match_activity = this.transformWorkout(t.match_activity),
                t.location || (t.location = t.match_activity.location),
                t.room || (t.room = t.match_activity.room)),
                null === (i = t.staffs) || void 0 === i || i.forEach(t=>{
                    t.name = Object(k["n"])(t)
                }
                ),
                t.getBooking = e=>(e = e || this.$store.state.user,
                this.$store.state.bookings && e && this.$store.state.bookings.workouts.find(i=>i.id == t.id && i.user_id == e.id)),
                t.isBooked = e=>!!t.getBooking(e),
                t.isInQueue = e=>{
                    let i = t.getBooking(e);
                    return i && i.inQueue
                }
                ,
                t.isFull = ()=>t.space && t.numBooked - t.numQueue >= t.space,
                t.getQueuePosition = e=>{
                    let i = t.getBooking(e);
                    return i && i.queue
                }
                ,
                t.canQueue = e=>{
                    var i;
                    return t.isFull() && !t.isBooked(e) && (null === (i = this.$store.state.settings) || void 0 === i ? void 0 : i.canQueue)
                }
                ,
                t.bookableForGroup = e=>(e = e || this.$store.state.user,
                e && t.bookable_for_groups && t.bookable_for_groups.find(t=>{
                    var i;
                    return null === (i = e) || void 0 === i ? void 0 : i.groups.find(e=>e.id == t)
                }
                )),
                t.getCategory = ()=>{
                    var e, i;
                    return null === (e = this.$root.$store.state.settings) || void 0 === e || null === (i = e.workoutcategories) || void 0 === i ? void 0 : i.find(e=>e.id == t.workoutType.category_id)
                }
                ,
                t.discussionEnabled = ()=>{
                    var e;
                    return null === (e = t.getCategory()) || void 0 === e ? void 0 : e.discussion
                }
                ,
                t.showMembersEnabled = ()=>{
                    var e;
                    return null === (e = t.getCategory()) || void 0 === e ? void 0 : e.showMembers
                }
                ,
                t.firstCome = ()=>{
                    var e;
                    return null === (e = t.getCategory()) || void 0 === e ? void 0 : e.firstCome
                }
                ,
                t.isMatchWhichRequiresMembership = e=>{
                    var i, s;
                    if (e = e || this.$store.state.user,
                    null === (i = this.$store.state) || void 0 === i || null === (s = i.settings) || void 0 === s || !s.membership)
                        return !1;
                    if (t.bookableForGroup(e)) {
                        if (!this.$store.state.cards)
                            return !1;
                        let i = e.groups ? e.groups.map(t=>t.id) : []
                          , s = this.$store.state.cards.filter(t=>t.user_id == e.id || Object(T["intersection"])(i, t.groups).length > 0);
                        return !s.find(e=>e.membership && this.isCardValid(e, t.startTime))
                    }
                }
                ,
                t.hasValidTrainingCard = e=>{
                    if (e = e || this.$store.state.user,
                    t.bookableForGroup(e))
                        return !0;
                    if (this.$store.state.cards) {
                        let i = t.startTime
                          , s = e.groups ? e.groups.map(t=>t.id) : []
                          , a = this.$store.state.cards.filter(t=>t.user_id == e.id || Object(T["intersection"])(s, t.groups).length > 0);
                        return !!a.find(e=>{
                            if (this.isCardValid(e, i) && !e.resourcebookingservice_id && !e.membership && e.cardtype.workout && t.workoutType.allowBooking && this.workoutTypeAllowsBookingWithCardType(t.workoutType, e.cardtype_id))
                                return !0
                        }
                        )
                    }
                    return !1
                }
                ,
                t.bookable = e=>(e = e || this.$store.state.user,
                "Cancelled" != t.status && (!t.isBlocked(e) && (!!t.bookableForCustomer && (!!t.bookableForGroup(e) || !(!t.workoutType.allowBooking && !t.workoutType.onetime) && (!t.invalidBookingAge(e) && (!t.invalidBookingGender(e) && (!t.invalidBookingGroups(e) && (!t.invalidBookingInterests(e) && (!t.tooEarlyToBook() && !t.tooLateToBook() && (!t.hasReachedBookingsLimit(e) && (!t.hasReachedIntervalBookingsLimit(e) && !t.hasReachedTrainingCardsBookingsLimit(e)))))))))))),
                t.invalidBookingAge = e=>{
                    if (t.workoutType.booking_age) {
                        let i = null === e || void 0 === e ? void 0 : e.birthdate;
                        if (!i)
                            return !0;
                        let s = Date.getAge(i);
                        if (s < Number(t.workoutType.booking_age.from) || s > Number(t.workoutType.booking_age.to))
                            return !0
                    }
                    return !1
                }
                ,
                t.invalidBookingGender = e=>{
                    if (t.workoutType.booking_gender) {
                        let i = null === e || void 0 === e ? void 0 : e.gender;
                        if (i != t.workoutType.booking_gender)
                            return !0
                    }
                    return !1
                }
                ,
                t.invalidBookingInterests = e=>{
                    if (t.workoutType.booking_interests && t.workoutType.booking_interests.length) {
                        let i = null === e || void 0 === e ? void 0 : e.interest;
                        return 0 == Object(T["intersection"])(i, t.workoutType.booking_interests).length
                    }
                    return !1
                }
                ,
                t.invalidBookingGroups = e=>{
                    if (t.workoutType.booking_groups && t.workoutType.booking_groups.length) {
                        var i;
                        let s = null === e || void 0 === e || null === (i = e.groups) || void 0 === i ? void 0 : i.map(t=>t.id);
                        return 0 == Object(T["intersection"])(s, t.workoutType.booking_groups).length
                    }
                    return !1
                }
                ,
                t.isBlocked = t=>{
                    var e, i;
                    t = t || this.$store.state.user;
                    let s = this.$store.state.now30s.clone()
                      , a = null === (e = t) || void 0 === e || null === (i = e.blocks) || void 0 === i ? void 0 : i.filter(t=>t.block_grouptraining && Date.newFull(t.fromDate) <= s && (!t.toDate || Date.newFull(t.toDate) >= s));
                    return (null === a || void 0 === a ? void 0 : a.length) > 0
                }
                ,
                t.getBlock = t=>{
                    var e, i;
                    t = t || this.$store.state.user;
                    let s = this.$store.state.now30s.clone()
                      , a = null === (e = t) || void 0 === e || null === (i = e.blocks) || void 0 === i ? void 0 : i.filter(t=>t.block_grouptraining && Date.newFull(t.fromDate) <= s && (!t.toDate || Date.newFull(t.toDate) >= s));
                    if (!a || !a.length)
                        return null;
                    let o = a.find(t=>!t.toDate);
                    return o || (a.sort((t,e)=>Date.newFull(t.toDate) - Date.newFull(e.toDate)),
                    a[0])
                }
                ,
                t.tooEarlyToBook = ()=>{
                    var e, i;
                    let s = this.$store.state.now30s
                      , a = null === (e = t.getCategory()) || void 0 === e ? void 0 : e.registerDaysBefore
                      , o = t.start.clone().addMinutes(24 * -a * 60)
                      , n = null === (i = this.$root.$store.state.settings) || void 0 === i ? void 0 : i.wbreleasedat;
                    return n && (n = Date.newTime(n),
                    o.setHours(n.getHours(), n.getMinutes())),
                    s < o && o <= t.start
                }
                ,
                t.bookableFrom = ()=>{
                    var e, i;
                    let s = null === (e = t.getCategory()) || void 0 === e ? void 0 : e.registerDaysBefore
                      , a = t.start.clone().addMinutes(24 * -s * 60)
                      , o = null === (i = this.$root.$store.state.settings) || void 0 === i ? void 0 : i.wbreleasedat;
                    return o && (o = Date.newTime(o),
                    a.setHours(o.getHours(), o.getMinutes())),
                    a > t.start && (a = null),
                    a
                }
                ,
                t.tooLateToBook = ()=>{
                    let e = t.getCategory()
                      , i = (null === e || void 0 === e ? void 0 : e.registerHoursBefore) || 0
                      , s = this.$store.state.now30s
                      , a = null !== e && void 0 !== e && e.allowBookingAfterStarted ? t.end.clone() : t.start.clone().addMinutes(60 * -i)
                      , o = !(null === e || void 0 === e || !e.dropin) && (s > t.start.clone().addMinutes(-e.dropin) && s < t.start);
                    return s > a && !o
                }
                ,
                t.getBuyableCards = ()=>{
                    if (null == this.$store.state.buyableCards)
                        return [];
                    let e = this.$store.state.buyableCards.filter(e=>e.onetime && t.workoutType.onetime || t.workoutType.allowBooking && (!t.workoutType.cardtypes || 0 == t.workoutType.cardtypes.length || -1 != t.workoutType.cardtypes.indexOf(e.id)));
                    return t.workoutType.onetime && e.push({
                        price: t.workoutType.price,
                        name: window.$translate("One time card"),
                        workout: !0,
                        id: "onetime",
                        onetime: !0
                    }),
                    e
                }
                ,
                t.getTrialCards = ()=>t.getBuyableCards().filter(t=>t.trial),
                t.hasBuyableCards = ()=>t.getBuyableCards().length > 0,
                t.unbookable = e=>{
                    e = e || this.$store.state.user;
                    let i = this.$store.state.now30s;
                    if (i >= t.start)
                        return !1;
                    if (t.isInQueue(e))
                        return !0;
                    if (t.match_id)
                        return !0;
                    var s = t.getCategory();
                    return !!s && (!!this.$root.$store.state.settings.wbswarninglatecancellations || i <= t.start.clone().addMinutes(60 * -s.unregisterHoursBefore))
                }
                ,
                t.isCancelled = ()=>"Cancelled" == t.status,
                t.hasReachedBookingsLimit = t=>{
                    var e, i;
                    t = t || this.$store.state.user;
                    let s = null === (e = this.$store.state.settings) || void 0 === e ? void 0 : e.wbsbookingslimit;
                    if (!s)
                        return !1;
                    let a = null === (i = this.$store.state.bookings) || void 0 === i ? void 0 : i.workouts.filter(e=>e.startTime >= this.$store.state.now30s && e.user_id == t.id && !e.is_booked_via_course);
                    return (null === a || void 0 === a ? void 0 : a.length) >= s
                }
                ,
                t.hasReachedIntervalBookingsLimit = e=>{
                    var i, s;
                    e = e || this.$store.state.user;
                    let a = null === (i = this.$store.state.settings) || void 0 === i ? void 0 : i.wbsbookingslimitintervaltype;
                    if (!a || -1 === ["day", "week"].indexOf(a))
                        return !1;
                    let o, n = t.startTime.clone().clearTime();
                    if ("day" === a)
                        o = n.clone().addDays(1);
                    else {
                        let t = n.getDay()
                          , e = 0 === t ? 6 : t - 1;
                        n = n.addDays(-e),
                        o = n.clone().addDays(7)
                    }
                    let r = null === (s = this.$store.state.bookings) || void 0 === s ? void 0 : s.workouts.filter((function(t) {
                        return t.user_id == e.id && !t.is_booked_via_course && t.startDate.getTime() >= n.getTime() && t.startDate.getTime() < o.getTime()
                    }
                    ));
                    return r && r.length >= this.$root.$store.state.settings.wbsbookingslimitinterval
                }
                ,
                t.getCardWhereBookingsLimitIsReached = e=>{
                    var i, s;
                    e = e || this.$store.state.user;
                    let a = e && e.groups ? e.groups.map(t=>t.id) : []
                      , o = null === (i = this.$store.state.cards) || void 0 === i ? void 0 : i.filter(t=>t.user_id == e.id || Object(T["intersection"])(a, t.groups).length > 0);
                    if (!o || !o.length)
                        return null;
                    let n = t.startTime.monday()
                      , r = n.clone().addDays(7)
                      , l = null === (s = this.$store.state.bookings) || void 0 === s ? void 0 : s.workouts.filter(t=>t.startTime >= n && t.startTime < r && t.user_id == e.id, t.is_booked_via_course);
                    if (!l || 0 == l.length)
                        return null;
                    let c = e=>{
                        let i, s = t.startTime.clone().clearTime();
                        return "day" === e.cardtype.bookingsLimitIntervalType ? i = s.clone().addDays(1) : (s = n,
                        i = r),
                        l.filter(t=>t.trainingcard_id === e.id && t.startDate.getTime() >= s.getTime() && t.startDate.getTime() < i.getTime() && !t.isCancelled())
                    }
                      , d = t.startTime.clone().clearTime()
                      , u = o.filter(t=>t && t.cardtype && t.cardtype.workout && (null == t.trainingsLeft || t.trainingsLeft > 0) && (!t.validToDate || t.validToDate.getTime() >= d.getTime()));
                    if (!u.length)
                        return null;
                    let h = null;
                    for (let t = 0; t < u.length; t++) {
                        let e = u[t];
                        if (!e.cardtype.bookingsLimitIntervalType)
                            return null;
                        if (c(e).length < e.cardtype.bookingsLimitInterval)
                            return !1;
                        h = e
                    }
                    return h
                }
                ,
                t.hasReachedTrainingCardsBookingsLimit = e=>!!t.getCardWhereBookingsLimitIsReached(e),
                t.getState = e=>{
                    let i = t;
                    return i.isCancelled() ? "cancelled" : i.isBooked(e) && !i.isInQueue(e) ? "cancel" : i.canQueue(e) && i.hasValidTrainingCard(e) && i.bookable(e) ? "queue" : !i.isInQueue(e) || i.firstCome() && !i.isFull() ? i.bookable(e) && !i.hasValidTrainingCard(e) && i.hasBuyableCards() ? i.canQueue(e) ? "queuebuy" : i.isFull() ? "full" : "bookbuy" : i.bookable(e) && i.hasValidTrainingCard(e) ? i.isFull() ? "full" : "book" : i.tooEarlyToBook() && i.bookableFrom() ? "tooearly" : i.tooLateToBook() ? "toolate" : "nobook" : "leavequeue"
                }
                ,
                t.cancel = (e,i)=>{
                    window.$zoeziapi.post("/api/memberapi/workoutBooking/remove", null, {
                        workout: t.id,
                        booked_user: e.id
                    }).then(t=>{
                        t.ok || (window.$store.commit("showErrorDialog", {
                            title: this.$translate("Cancellation error"),
                            text: this.$translate("The booking could not be cancelled")
                        }),
                        i && i())
                    }
                    )
                }
                ,
                t.book = (e,i)=>{
                    if (t.firstCome() && !t.isFull() && t.isInQueue(e)) {
                        let i = {
                            workout: t.id,
                            user_id: e.id
                        };
                        this.$api.post("/api/memberapi/workoutBooking/join", null, i).then(t=>{
                            t.ok || this.$store.commit("showErrorDialog", {
                                title: this.$translate("Booking error"),
                                text: this.$translate("The booking could not be completed")
                            })
                        }
                        )
                    } else
                        window.$zoeziapi.post("/api/memberapi/workoutBooking/add", null, {
                            workout: t.id,
                            method: "trainingcard",
                            user_id: e.id
                        }).then(s=>{
                            if (s.ok)
                                try {
                                    let e = [{
                                        id: "w" + t.workoutType.id,
                                        name: t.workoutType.name,
                                        price: t.workoutType.price,
                                        vat: t.workoutType.vat
                                    }]
                                      , i = Date.now();
                                    window.$ecommercetracking.purchase(i, e)
                                } catch (a) {
                                    w["a"](a)
                                }
                            else
                                i && i(),
                                s.json().then(i=>{
                                    if ("duplicate" == i.type) {
                                        let i = this.$translate(t.isInQueue(e) ? "{0} is already in queue" : "{0} is already booked").format(e.name);
                                        this.$store.commit("showSnackBar", {
                                            text: i
                                        })
                                    } else
                                        this.$store.commit("showErrorDialog", {
                                            title: this.$translate("Booking error"),
                                            text: this.$translate("The booking could not be completed")
                                        })
                                }
                                )
                        }
                        )
                }
                ,
                t.getNoBookReasons = e=>{
                    let i = t;
                    e = e || this.$store.state.user;
                    let s = [];
                    if (i.bookableForCustomer || s.push(this.$translate("Workout does not allow booking")),
                    !i.hasValidTrainingCard(e) && i.bookableForCustomer && s.push(this.$translate("Valid training card is missing")),
                    i.isBlocked(e)) {
                        let t = i.getBlock(e);
                        t.toDate ? s.push(this.$translate("Blocked until {0}").format(Date.newFull(t.toDate).yyyymmdd())) : s.push(this.$translate("Blocked until further notice"))
                    }
                    if (i.hasReachedBookingsLimit(e)) {
                        const t = this.$translate("Booking limit reached");
                        let e = this.$translate(1 == this.$store.state.settings.wbsbookingslimit ? "booking" : "simultaneous bookings");
                        s.push(`${t}, ${this.$store.state.settings.wbsbookingslimit} ${e}`)
                    }
                    if (i.hasReachedIntervalBookingsLimit(e)) {
                        let t = "";
                        t = "day" == this.$store.state.settings.wbsbookingslimitintervaltype ? Date.formatFullShort(i.startTime) : this.$translate("week") + " " + i.startTime.getWeekNumber();
                        const e = this.$translate("Booking limit reached");
                        let a = this.$translate(1 == this.$store.state.settings.wbsbookingslimitinterval ? "booking" : "bookings");
                        s.push(`${e}, ${this.$store.state.settings.wbsbookingslimitinterval} ${a} ${t}`)
                    }
                    if (i.hasReachedTrainingCardsBookingsLimit(e)) {
                        let t = i.getCardWhereBookingsLimitIsReached(e)
                          , a = "";
                        a = "day" == t.cardtype.bookingsLimitIntervalType ? Date.formatFullShort(i.startTime) : this.$translate("week") + " " + i.startTime.getWeekNumber();
                        const o = this.$translate("Booking limit reached");
                        let n = this.$translate(1 == t.cardtype.bookingsLimitInterval ? "booking" : "bookings");
                        s.push(`${o}, ${t.cardtype.bookingsLimitInterval} ${n} ${a}`)
                    }
                    if (i.invalidBookingGender(e) && ("male" == i.workoutType.booking_gender ? s.push(this.$translate("For men only")) : "female" == i.workoutType.booking_gender ? s.push(this.$translate("For women only")) : s.push(this.$translate("Reservation limited by gender"))),
                    i.invalidBookingAge(e) && (i.workoutType.booking_age.to > 90 ? s.push(this.$translate("Must be at least {0} years old").format(i.workoutType.booking_age.from)) : s.push(this.$translate("Must be between {0} and {1} years").format(i.workoutType.booking_age.from, i.workoutType.booking_age.to))),
                    i.invalidBookingInterests(e))
                        if (this.$store.state.interests) {
                            let t = this.$store.state.interests;
                            s.push(this.$translate("Requires") + " " + i.workoutType.booking_interests.map(e=>t.find(t=>t.id == e).name).sort((t,e)=>t.localeCompare(e)).join(", "))
                        } else
                            this.$store.dispatch("loadInterests"),
                            s.push(window.$translate("Booking requires some interests"));
                    return i.invalidBookingGroups(e) && s.push(this.$translate("Booking requires certain group membership")),
                    s
                }
                ,
                t.resources.forEach(t=>t.name = t.lastname),
                t
            }
            getBookings() {
                return this.$api.get("/api/memberapi/bookings/get", {
                    startTime: (new Date).monday().dateTime()
                }).then(t=>{
                    var e;
                    return null === (e = t.workouts) || void 0 === e || e.forEach(t=>{
                        this.transformWorkout(t)
                    }
                    ),
                    this.$root.$store.commit("setBookings", t),
                    this.$root.$store.state.bookings
                }
                )
            }
            getCards() {
                this.$api.get("/api/memberapi/trainingcard/get/all").then(t=>{
                    t.forEach(t=>{
                        t.boundToDate = Date.newFull(t.boundToDate),
                        t.validFromDate = Date.newFull(t.validFromDate),
                        t.validToDate = Date.newFull(t.validToDate),
                        t.freezes && t.freezes.forEach(t=>{
                            t.fromDate = Date.newFull(t.fromDate),
                            t.toDate = Date.newFull(t.toDate)
                        }
                        )
                    }
                    ),
                    t.sort((t,e)=>t.id - e.id),
                    this.$root.$store.commit("setCards", t)
                }
                )
            }
            getBuyableCards() {
                this.$api.get("/api/public/trainingcard/type/get", {
                    trial: !0
                }).then(t=>{
                    let e = t.filter(t=>t.customerCanBuy && t.workout);
                    this.$root.$store.commit("setBuyableCards", e)
                }
                )
            }
            isMembershipRequired(t) {
                return this.getUsersWhichRequireMembership(t).length > 0
            }
            isMembershipStillRequired(t) {
                return this.getUsersWhichRequireMembership(t).filter(e=>{
                    let i = t.find(t=>t.product.membership && t.users.includes(e));
                    return !i
                }
                ).length > 0
            }
            getUsersWhichRequireMembership(t) {
                var e;
                if (null === (e = this.$store.state.settings) || void 0 === e || !e.membership)
                    return [];
                let i = this.$store.state.cards;
                if (!i)
                    return [];
                let s = new Date
                  , a = [];
                return t.forEach(t=>{
                    var e, o;
                    null !== (e = t.product) && void 0 !== e && e.requireMembership && (null === (o = t.users) || void 0 === o || o.forEach(t=>{
                        let e = i.filter(e=>e.user_id == t && e.membership)
                          , o = e.find(t=>this.isCardValid(t, s, 0));
                        o || a.includes(t) || a.push(t)
                    }
                    ))
                }
                ),
                a
            }
            setVueRoot(t) {
                this.$root = t,
                this.$api = this.$root.$api,
                this.$store = this.$root.$store,
                this.$translate = this.$root.$translate,
                this.settings = new Promise(t=>{
                    let e = this.$root.$watch("$store.state.settings", i=>{
                        e(),
                        t(i)
                    }
                    )
                }
                ),
                this.$root.$watch("$store.state.isLoggedIn", ()=>{
                    this.$root.$store.state.user ? (this.getBookings(),
                    this.getCards()) : (this.$root.$store.commit("setBookings", null),
                    this.$root.$store.commit("setCards", null))
                }
                ),
                this.$root.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            let e = this.$store.state.bookings
                              , i = this.$store.state.user;
                            return e && e.workouts.find(e=>e.id == t.workout) || i && t.user_id && i.canBookFor.find(e=>e.id == t.user_id)
                        }
                        ) && this.getBookings()
                    }
                }),
                this.$root.$api.subscribe({
                    type: "resourcebooking",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            var e;
                            return (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id) == t.user_id
                        }
                        ) && this.getBookings()
                    }
                }),
                this.$root.$api.subscribe({
                    type: "coursebooking",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            var e, i;
                            return (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id) == t.user_id || (null === (i = this.$store.state.user) || void 0 === i ? void 0 : i.id) == t.booker_id
                        }
                        ) && this.getBookings()
                    }
                }),
                this.$root.$api.subscribe({
                    type: "coursewatcher",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            var e;
                            return (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id) == t.user_id
                        }
                        ) && this.getBookings()
                    }
                }),
                this.$root.$api.subscribe({
                    type: "teamsportgameclasswatcher",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            var e;
                            return (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id) == t.user_id
                        }
                        ) && this.getBookings()
                    }
                }),
                this.$root.$api.subscribe({
                    type: "trainingcard",
                    callback: ()=>this.getCards()
                }),
                this.$root.$api.subscribe({
                    type: "payment",
                    callback: ()=>this.getCards()
                }),
                this.$root.$api.subscribe({
                    type: "user",
                    callback: (t,e)=>{
                        if (e.data.find(t=>{
                            var e;
                            return (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id) == t.id
                        }
                        )) {
                            let t = this.$store.state.user.canManage.map(t=>t.id).concat(this.$store.state.user.canBookFor.map(t=>t.id))
                              , e = this.$store.state.user.groups.map(t=>t.id);
                            this.$api.get("/api/memberapi/get/current").then(i=>{
                                console.log("Got new user info"),
                                this.$store.commit("setUserData", {
                                    user: i
                                });
                                let s = i.canManage.map(t=>t.id).concat(i.canBookFor.map(t=>t.id));
                                Object(T["xor"])(t, s).length && this.getCards();
                                let a = i.groups.map(t=>t.id);
                                Object(T["xor"])(e, a).length && this.getBookings()
                            }
                            , ()=>{}
                            ).catch()
                        }
                    }
                }),
                this.$root.$api.subscribe({
                    type: "usersession",
                    callback: (t,e)=>{
                        var i;
                        const s = null === (i = e.data) || void 0 === i ? void 0 : i.find(t=>{
                            var e;
                            return t.session == (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.session)
                        }
                        );
                        s && ("remove" == e.action ? this.$store.commit("setLoggedIn", {
                            isLoggedIn: !1
                        }) : "change" == e.action && s.site_id && this.$store.dispatch("setSite", {
                            siteId: s.site_id,
                            changeOnServer: !1
                        }))
                    }
                }),
                this.getWorkoutCategories().then(t=>this.workoutCategories = t),
                this.getBuyableCards()
            }
            constructor(t) {
                t.prototype.$booking = this,
                window.$booking = this
            }
        }
        var B = {
            install(t) {
                new V(t)
            }
        }
          , F = (i("5363"),
        i("fcf4"))
          , E = i("7bc6")
          , O = i("80d2");
        i("6b0c"),
        i("feb5"),
        i("4b3c");
        let M = null;
        function A(t) {
            return document.evaluate(t, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue
        }
        function R(t) {
            if (t.id)
                return 'id("' + t.id + '")';
            if (t === document.body)
                return t.tagName;
            let e = "";
            3 == t.nodeType && (e = "/text()");
            for (var i = 0, s = t.parentNode.childNodes, a = 0; a < s.length; a++) {
                var o = s[a];
                if (o === t)
                    return R(t.parentNode) + (t.tagName ? "/" + t.tagName + "[" + (i + 1) + "]" : "") + e;
                1 === o.nodeType && o.tagName === t.tagName && i++
            }
        }
        const L = {
            inserted: function(t, e) {
                s["default"].nextTick(()=>{
                    let i = function(t) {
                        return t ? t.__vue__ && "ComponentWrapper" == t.__vue__.$options.name ? t.__vue__ : i(t.parentElement) : null
                    };
                    if (!window.$vue.edit)
                        return;
                    let a, o, n, r = {
                        multiline: !0,
                        html: !0,
                        number: !1
                    };
                    if ("object" == typeof e.value ? Object.assign(r, e.value) : r.prop = e.value,
                    !r.setProp) {
                        if (o = i(t),
                        !o)
                            return;
                        if (n = o.config && o.config.props,
                        !n)
                            return
                    }
                    a || (a = o ? o.save : window.$vue.saveHomePage);
                    let l = !1;
                    M && M.path == R(t) && (l = !0);
                    let c = function() {
                        let e = r.html ? t.innerHTML : t.innerText;
                        t.contentEditable = !0,
                        t.focus();
                        let i, s = function() {
                            let i = r.html ? t.innerHTML : t.innerText
                              , s = !0;
                            r.number && (i = Number(i),
                            s = !isNaN(i));
                            let o = i != e;
                            if (s && o) {
                                r.setProp ? r.setProp(i) : l(n, r.prop, i),
                                a(),
                                e = i;
                                let s = window.getSelection()
                                  , o = s.anchorOffset
                                  , c = R(s.anchorNode)
                                  , d = s.focusOffset
                                  , u = R(s.focusNode);
                                M = {
                                    path: R(t),
                                    caretStart: o,
                                    caretEnd: d,
                                    caretStartElement: c,
                                    caretEndElement: u
                                }
                            }
                        }, o = Object(T["debounce"])(()=>s(), 1e3), l = function(t, e, i) {
                            let s = Array.isArray(e) ? e.concat() : e.split(".");
                            while (s.length > 1 && (t = t[s.shift()]))
                                ;
                            t[s[0]] = i
                        }, c = function(e) {
                            r.multiline || 13 != e.keyCode || (i(),
                            e.preventDefault(),
                            t.contentEditable = !1,
                            M = null)
                        }, d = function() {
                            o()
                        };
                        i = function() {
                            let s = r.html ? t.innerHTML : t.innerText
                              , a = !0;
                            r.number && (s = Number(s),
                            a = !isNaN(s)),
                            a ? o.flush() : r.html ? t.innerHTML = e : t.innerText = e,
                            t.removeEventListener("blur", i),
                            t.removeEventListener("keypress", c),
                            t.removeEventListener("input", d)
                        }
                        ,
                        t.addEventListener("blur", i),
                        t.addEventListener("keypress", c),
                        t.addEventListener("input", d)
                    };
                    if (t.addEventListener("click", c),
                    l) {
                        c();
                        let t = A(M.caretStartElement)
                          , e = A(M.caretEndElement);
                        t && e && s["default"].nextTick(()=>{
                            let i = window.getSelection();
                            i.removeAllRanges(),
                            i.setBaseAndExtent(t, M.caretStart, e, M.caretEnd),
                            M = null
                        }
                        )
                    }
                }
                )
            }
        };
        var j = {
            install(t) {
                t.directive("zoezi-editable", L)
            }
        }
          , N = i("61a6")
          , W = i("67b0")
          , q = i("2b88")
          , H = i.n(q)
          , U = i("58ca");
        class Y {
            pageView(t, e) {
                try {
                    if ("undefined" !== typeof gtag && Object(k["m"])("acceptTrackingCookies")) {
                        let i = function() {
                            window.dataLayer = window.dataLayer || [],
                            window.dataLayer.push(arguments)
                        };
                        i("event", "page_view", {
                            page_title: t,
                            page_location: e
                        })
                    }
                } catch (i) {
                    w["a"](i)
                }
            }
            viewItem(t) {
                try {
                    if (Object(k["m"])("acceptTrackingCookies") && "object" === typeof t && Object.prototype.hasOwnProperty.call(t, "id") && t.id && Object.prototype.hasOwnProperty.call(t, "name") && t.name) {
                        let e = {}
                          , i = 0;
                        e.currency = "SEK",
                        Object.prototype.hasOwnProperty.call(t, "currency") && t.currency && (e.currency = t.currency),
                        e.price = 0,
                        Object.prototype.hasOwnProperty.call(t, "price") && t.price && !isNaN(t.price) && (e.price = t.price);
                        let s = 0;
                        if (Object.prototype.hasOwnProperty.call(t, "vat") && t.vat && !isNaN(t.vat) && (s = t.vat),
                        e.quantity = 1,
                        Object.prototype.hasOwnProperty.call(t, "count") && t.count && !isNaN(t.count) && (e.quantity = t.count),
                        e.item_id = t.id,
                        e.item_name = t.name,
                        s = 1 + parseInt(s) / 100,
                        e.price = Math.round(t.price / s),
                        i = e.price * e.quantity,
                        "undefined" !== typeof gtag) {
                            let t = function() {
                                window.dataLayer = window.dataLayer || [],
                                window.dataLayer.push(arguments)
                            };
                            t("event", "view_item", {
                                currency: e.currency,
                                value: i,
                                items: [e]
                            })
                        }
                        "undefined" !== typeof fbq && fbq("track", "ViewContent", {
                            content_ids: [e.item_id],
                            content_name: e.item_name,
                            content_type: "product",
                            value: i,
                            currency: e.currency
                        })
                    }
                } catch (e) {
                    w["a"](e)
                }
            }
            addToCart(t) {
                try {
                    if ("undefined" !== typeof gtag && Object(k["m"])("acceptTrackingCookies") && "object" === typeof t && Object.prototype.hasOwnProperty.call(t, "id") && t.id && Object.prototype.hasOwnProperty.call(t, "name") && t.name) {
                        let e = {}
                          , i = 0;
                        e.currency = "SEK",
                        Object.prototype.hasOwnProperty.call(t, "currency") && t.currency && (e.currency = t.currency),
                        e.price = 0,
                        Object.prototype.hasOwnProperty.call(t, "price") && t.price && !isNaN(t.price) && (e.price = t.price);
                        let s = 0;
                        Object.prototype.hasOwnProperty.call(t, "vat") && t.vat && !isNaN(t.vat) && (s = t.vat),
                        e.quantity = 1,
                        Object.prototype.hasOwnProperty.call(t, "count") && t.count && !isNaN(t.count) && (e.quantity = t.count),
                        e.item_id = t.id,
                        e.item_name = t.name,
                        s = 1 + parseInt(s) / 100,
                        e.price = Math.round(t.price / s),
                        i = e.price * e.quantity;
                        let a = function() {
                            window.dataLayer = window.dataLayer || [],
                            window.dataLayer.push(arguments)
                        };
                        a("event", "add_to_cart", {
                            currency: e.currency,
                            value: i,
                            items: [e]
                        }),
                        "undefined" !== typeof fbq && fbq("track", "AddToCart", {
                            content_ids: [e.item_id],
                            content_name: e.item_name,
                            content_type: "product",
                            value: i,
                            currency: e.currency
                        })
                    }
                } catch (e) {
                    w["a"](e)
                }
            }
            beginCheckout(t) {
                try {
                    if (Object(k["m"])("acceptTrackingCookies") && Array.isArray(t)) {
                        let e = []
                          , i = 0
                          , s = "SEK";
                        for (let a = 0; a < t.length; a++)
                            if ("object" === typeof t[a] && Object.prototype.hasOwnProperty.call(t[a], "id") && t[a].id && Object.prototype.hasOwnProperty.call(t[a], "name") && t[a].name) {
                                let o = {
                                    currency: "SEK"
                                };
                                Object.prototype.hasOwnProperty.call(t[a], "currency") && t[a].currency && (o.currency = t[a].currency,
                                s = t[a].currency),
                                o.price = 0,
                                Object.prototype.hasOwnProperty.call(t[a], "price") && t[a].price && !isNaN(t[a].price) && (o.price = t[a].price);
                                let n = 0;
                                Object.prototype.hasOwnProperty.call(t[a], "vat") && t[a].vat && !isNaN(t[a].vat) && (n = t[a].vat),
                                o.quantity = 1,
                                Object.prototype.hasOwnProperty.call(t[a], "count") && t[a].count && !isNaN(t[a].count) && (o.quantity = t[a].count),
                                o.item_id = t[a].id,
                                o.id = t[a].id,
                                o.item_name = t[a].name,
                                n = 1 + parseInt(n) / 100,
                                o.price = Math.round(t[a].price / n),
                                i += o.price * o.quantity,
                                e.push(o)
                            }
                        if (e.length) {
                            if ("undefined" !== typeof gtag) {
                                let t = function() {
                                    window.dataLayer = window.dataLayer || [],
                                    window.dataLayer.push(arguments)
                                };
                                t("event", "begin_checkout", {
                                    currency: "SEK",
                                    value: i,
                                    items: e
                                })
                            }
                            "undefined" !== typeof fbq && fbq("track", "InitiateCheckout", {
                                contents: e,
                                num_items: e.length,
                                value: i,
                                currency: s
                            })
                        }
                    }
                } catch (e) {
                    w["a"](e)
                }
            }
            purchase(t, e) {
                try {
                    if (Object(k["m"])("acceptTrackingCookies") && Array.isArray(e) && ("string" === typeof t || !isNaN(t))) {
                        let i = 0
                          , s = 0
                          , a = []
                          , o = "SEK";
                        for (let t = 0; t < e.length; t++)
                            if ("object" === typeof e[t] && Object.prototype.hasOwnProperty.call(e[t], "id") && e[t].id && Object.prototype.hasOwnProperty.call(e[t], "name") && e[t].name) {
                                let n = {
                                    currency: "SEK"
                                };
                                Object.prototype.hasOwnProperty.call(e[t], "currency") && e[t].currency && (n.currency = e[t].currency,
                                o = e[t].currency),
                                n.price = 0,
                                Object.prototype.hasOwnProperty.call(e[t], "price") && e[t].price && !isNaN(e[t].price) && (n.price = e[t].price);
                                let r = 0;
                                Object.prototype.hasOwnProperty.call(e[t], "vat") && e[t].vat && !isNaN(e[t].vat) && (r = e[t].vat),
                                n.quantity = 1,
                                Object.prototype.hasOwnProperty.call(e[t], "count") && e[t].count && !isNaN(e[t].count) && (n.quantity = e[t].count),
                                n.item_id = e[t].id,
                                n.id = e[t].id,
                                n.item_name = e[t].name,
                                r = 1 + parseInt(r) / 100,
                                s += n.price * n.quantity,
                                n.price = Math.round(n.price / r),
                                i += n.price * n.quantity,
                                a.push(n)
                            }
                        if (a.length) {
                            if ("undefined" !== typeof gtag) {
                                let e = function() {
                                    window.dataLayer = window.dataLayer || [],
                                    window.dataLayer.push(arguments)
                                };
                                e("event", "purchase", {
                                    currency: "SEK",
                                    transaction_id: t,
                                    value: i,
                                    tax: s - i,
                                    items: a
                                })
                            }
                            "undefined" !== typeof fbq && fbq("track", "Purchase", {
                                contents: a,
                                num_items: a.length,
                                value: i,
                                currency: o
                            })
                        }
                    }
                } catch (i) {
                    w["a"](i)
                }
            }
            constructor(t) {
                t.prototype.$ecommercetracking = this,
                window.$ecommercetracking = this
            }
        }
        var G = {
            install(t) {
                new Y(t)
            }
        }
          , K = i("dc21")
          , Q = i("e594")
          , J = {
            data: ()=>({
                overrideProps: null
            }),
            methods: {
                setProp(t, e) {
                    let i = this.$parent;
                    i && i.$options.name && i.$options.name.startsWith("zoezi-") && (i = i.$parent);
                    let s = !1;
                    if (i && "ComponentWrapper" == i.$options.name) {
                        var a;
                        let o = i.config;
                        if (null !== (a = o.style) && void 0 !== a && a.pageParams) {
                            let i = o.style.pageParams.find(e=>e.prop == t);
                            if (i) {
                                let t = "id" == i.id ? "params" : "query"
                                  , s = {
                                    name: this.$route.name,
                                    params: Object.assign({}, this.$route.params),
                                    query: Object.assign({}, this.$route.query)
                                };
                                Object(T["isDate"])(e) && (e = e.yyyymmdd());
                                let a = null == e || void 0 == e;
                                return a || (e = String(e)),
                                void (e != s[t][i.id] && (a ? delete s[t][i.id] : s[t][i.id] = String(e),
                                this.$router.replace(s)))
                            }
                        }
                        s = !0
                    }
                    this.overrideProps || (this.overrideProps = {}),
                    this.$set(this.overrideProps, t, e),
                    s && this.$emit("triggerProps")
                }
            }
        };
        let X = "zoezidev.se" == location.hostname;
        X || window.__devenv || K["a"]({
            dsn: "https://ae2c9a4cb12b4aa69806b9227880be0c@o190554.ingest.sentry.io/5437109",
            integrations: [new Q["a"]({
                Vue: s["default"],
                attachProps: !0,
                logErrors: !0
            })],
            ignoreErrors: ["TypeError: Failed to fetch", "TypeError: NetworkError when attempting to fetch resource.", "TypeError: Load failed"],
            beforeSend(t) {
                var e, i, s, a;
                return "anonymous component" == (null === (e = t.contexts) || void 0 === e || null === (i = e.vue) || void 0 === i ? void 0 : i.componentName) || "NavigationDuplicated" == (null === (s = t.exception) || void 0 === s || null === (a = s.values[0]) || void 0 === a ? void 0 : a.type) ? null : t
            }
        });
        let Z = window.location.protocol + "//" + window.location.hostname;
        function tt(t, e, i=!1) {
            e && e.config && window.ZOEZI_SETTINGS && Object(k["e"])(e.config, window.ZOEZI_SETTINGS);
            let a = function() {
                try {
                    return window.self !== window.top
                } catch (t) {
                    return !0
                }
            };
            s["default"].use(P),
            s["default"].use(z),
            s["default"].use(B),
            s["default"].use(j),
            s["default"].use(N["a"]),
            s["default"].use(W["a"]),
            s["default"].use(H.a),
            s["default"].use(G),
            s["default"].use(U["a"], {
                refreshOnceOnNavigation: !0
            });
            let o = {
                name: "Tom hemsida",
                title: "Zoezi",
                topbar: {
                    color: "black",
                    backgroundColor: "white",
                    activeColor: "red",
                    justify: "justify-end"
                },
                menu: {
                    right: !0
                },
                buttons: [],
                routes: []
            }
              , n = e.config || o;
            if (n.routes || (n.routes = []),
            n.topbar || (n.topbar = {
                color: "#000",
                backgroundColor: "#fff",
                activeColor: "#f00",
                justify: "justify-end"
            }),
            n.menu || (n.menu = {
                right: !0
            }),
            n.routes.forEach(t=>{
                if ("zoezi-page" != t.component && t.config)
                    Object.assign(t, {
                        component: "zoezi-page",
                        props: {
                            name: t.name,
                            path: t.path,
                            config: t.config
                        }
                    }),
                    delete t.config,
                    delete t.path,
                    delete t.name;
                else if ("zoezi-page" != t.component && t.props)
                    Object.assign(t, {
                        component: "zoezi-page",
                        props: {
                            name: t.name,
                            path: t.path,
                            config: {
                                component: t.component,
                                props: t.props,
                                style: t.style,
                                id: t.id
                            }
                        }
                    }),
                    delete t.config,
                    delete t.path,
                    delete t.name,
                    delete t.style,
                    t.id = b["a"].makeEmptyConfig().id;
                else if ("zoezi-page" == t.component || t.props) {
                    if ("zoezi-page" == t.component && t.props && (!t.props.path || !t.props.name)) {
                        let e = Object(k["p"])(10);
                        t.props.path || (t.props.path = "/" + e),
                        t.props.name || (t.props.name = "nameless-" + e)
                    }
                } else {
                    let e = t.path
                      , i = t.path
                      , s = t.component || "zoezi-rowlayout"
                      , a = t.rows;
                    t.id = t.id || b["a"].makeEmptyConfig().id,
                    Object.assign(t, {
                        component: "zoezi-page",
                        props: {
                            name: e,
                            path: i,
                            config: {
                                component: s,
                                props: {
                                    rows: a
                                },
                                style: t.style,
                                id: t.id
                            }
                        }
                    }),
                    delete t.path,
                    delete t.name,
                    delete t.style,
                    t.id = b["a"].makeEmptyConfig().id
                }
            }
            ),
            n.routes.find(t=>"/" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/",
                    path: "/",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout"
                    })
                }
            })),
            n.routes.find(t=>"/login" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/login",
                    path: "/login",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: [b["a"].makeEmptyConfig({
                                component: "zoezi-row",
                                props: {
                                    columns: [b["a"].makeEmptyConfig({
                                        component: "zoezi-column",
                                        props: {
                                            cols: 12,
                                            component: b["a"].makeEmptyConfig({
                                                component: "zoezi-login"
                                            })
                                        }
                                    })]
                                }
                            })]
                        }
                    })
                }
            })),
            n.routes.find(t=>"/terms" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/terms",
                    path: "/terms",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: [b["a"].makeEmptyConfig({
                                component: "zoezi-row",
                                props: {
                                    columns: [b["a"].makeEmptyConfig({
                                        component: "zoezi-column",
                                        props: {
                                            cols: 12,
                                            component: b["a"].makeEmptyConfig({
                                                component: "zoezi-terms"
                                            })
                                        }
                                    })]
                                }
                            })]
                        }
                    })
                }
            })),
            n.routes.find(t=>"/policy" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/policy",
                    path: "/policy",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: []
                        }
                    })
                }
            })),
            n.routes.find(t=>"/resetpassword" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/resetpassword",
                    path: "/resetpassword",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: [b["a"].makeEmptyConfig({
                                component: "zoezi-row",
                                props: {
                                    columns: [b["a"].makeEmptyConfig({
                                        component: "zoezi-column",
                                        props: {
                                            cols: 12,
                                            component: b["a"].makeEmptyConfig({
                                                component: "zoezi-reset-password"
                                            })
                                        }
                                    })]
                                }
                            })]
                        }
                    })
                }
            })),
            n.routes.find(t=>"/unsubscribe" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/unsubscribe",
                    path: "/unsubscribe",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: [b["a"].makeEmptyConfig({
                                component: "zoezi-row",
                                props: {
                                    columns: [b["a"].makeEmptyConfig({
                                        component: "zoezi-column",
                                        props: {
                                            cols: 12,
                                            component: b["a"].makeEmptyConfig({
                                                component: "zoezi-unsubscribe"
                                            })
                                        }
                                    })]
                                }
                            })]
                        }
                    })
                }
            })),
            n.routes.find(t=>"/mailingunsubscribe" == t.props.path) || n.routes.push(b["a"].makeEmptyConfig({
                component: "zoezi-page",
                props: {
                    name: "/mailingunsubscribe",
                    path: "/mailingunsubscribe",
                    config: b["a"].makeEmptyConfig({
                        component: "zoezi-rowlayout",
                        props: {
                            rows: [b["a"].makeEmptyConfig({
                                component: "zoezi-row",
                                props: {
                                    columns: [b["a"].makeEmptyConfig({
                                        component: "zoezi-column",
                                        props: {
                                            cols: 12,
                                            component: b["a"].makeEmptyConfig({
                                                component: "zoezi-mailing-unsubscribe"
                                            })
                                        }
                                    })]
                                }
                            })]
                        }
                    })
                }
            })),
            n.pages && !Array.isArray(n.pages) || (n.pages = {}),
            n.topbar.loginColor || (n.topbar.loginColor = "#fff"),
            n.topbar.loginBackgroundColor || (n.topbar.loginBackgroundColor = "#1976D2"),
            n.buttons || (n.buttons = []),
            n.buttons.length && !n.buttons[0].props && (n.buttons = []),
            n.buttons.forEach(t=>{
                t.props.subitems || (t.props.subitems = [])
            }
            ),
            n.footer && n.footer.component || (n.footer = b["a"].makeEmptyConfig()),
            n.cookieBar || (n.cookieBar = b["a"].makeEmptyConfig({
                component: "zoezi-cookie-bar"
            })),
            n.hostname = window.location.hostname,
            !n.appbar) {
                let t = Object.assign({}, n.topbar);
                t.logo = n.logo,
                t.uppercase = n.menu.uppercase,
                t.fullWidth = n.menu.fullWidth,
                t.rightComponent = b["a"].makeEmptyConfig({
                    component: "zoezi-account-button"
                }),
                n.appbar = b["a"].makeEmptyConfig({
                    component: "zoezi-appbar",
                    props: t
                })
            }
            n.bottombar || (n.bottombar = b["a"].makeEmptyConfig({
                component: "zoezi-bottombar"
            })),
            n.fonts || (n.fonts = {}),
            n.ownComponents || (n.ownComponents = {}),
            n.root || (n.root = b["a"].makeEmptyConfig({
                component: "zoezi-root",
                props: {
                    name: n.name,
                    title: n.title,
                    favicon: n.favicon,
                    showFooter: n.showFooter,
                    font: n.font
                }
            })),
            n.footer && void 0 !== n.footer.visible && (n.root.props.showFooter = n.footer.visible,
            delete n.footer.visible);
            let r = function(t) {
                if ("object" !== typeof t || !t)
                    return;
                if (t.component && "string" === typeof t.component) {
                    const e = {
                        Html: "zoezi-html",
                        RowLayout: "zoezi-rowlayout",
                        Home: "zoezi-home",
                        GroupTraining: "zoezi-grouptraining",
                        Carousel: "zoezi-carousel",
                        "zoezi-personallista": "zoezi-stafflist",
                        MenuItem: "zoezi-menuitem",
                        TextAndTitle: "zoezi-text"
                    };
                    e[t.component] && (t.component = e[t.component],
                    console.log("Renaming component")),
                    t.id || (t.id = b["a"].makeEmptyConfig().id),
                    "zoezi-page" != t.component || t.props.name || (t.props.name = t.props.path)
                }
                let e = Array.isArray(t) ? t : Object.values(t);
                e.forEach(t=>{
                    r(t)
                }
                )
            };
            r(n);
            let l = function(t) {
                if ("object" !== typeof t || !t)
                    return;
                if ("zoezi-rowlayout" == t.component) {
                    let e;
                    t.props.rows || (t.props.rows = []),
                    t.props.rows.forEach(t=>{
                        if (Array.isArray(t)) {
                            e || (e = []);
                            let i = {
                                component: "zoezi-row",
                                props: {
                                    columns: []
                                }
                            };
                            i.props.columns = t.map(t=>{
                                let e = Object.assign({}, t);
                                delete e.width;
                                let i = {
                                    component: "zoezi-column",
                                    props: {
                                        cols: t.width,
                                        component: b["a"].makeEmptyConfig(e)
                                    }
                                };
                                return i
                            }
                            ),
                            e.push(i)
                        }
                    }
                    ),
                    e && (t.props.rows = e)
                }
                let e = Array.isArray(t) ? t : Object.values(t);
                e.forEach(t=>{
                    l(t)
                }
                )
            };
            l(n);
            let c = function(t) {
                if ("object" !== typeof t || !t)
                    return;
                if (t.component && "string" === typeof t.component) {
                    let e = b["a"].getComponent(t.component);
                    e && e.migrations && e.migrations.forEach(e=>e(t.props)),
                    e && t.props && Object.keys(t.props).forEach(e=>{
                        e.startsWith("<") && delete t.props[e]
                    }
                    )
                }
                let e = Array.isArray(t) ? t : Object.values(t);
                e.forEach(t=>{
                    c(t)
                }
                )
            };
            c(n),
            window.initExpo = k["s"],
            n.root.props.cookieBar || (n.root.props.cookieBar = n.cookieBar),
            !n.root.props.colors && n.colors && (n.root.props.colors = n.colors),
            delete n.colors,
            Object(k["v"])(n.root.props.cookieBar) && (n.root.props.cookieBar = b["a"].makeEmptyConfig({
                component: "zoezi-cookie-bar"
            })),
            !n.root.props.domainname && n.domainname && (n.root.props.domainname = n.domainname),
            Object(k["G"])(n),
            b["a"].registerVueComponents(e.components, n),
            s["default"].filter("price", k["i"]),
            s["default"].mixin(J);
            let u = Object(y["b"])(n, location.pathname.startsWith("/homepage/") ? e.basepath : "/")
              , h = C()
              , m = f(n);
            n.root.props.colors || (n.root.props.colors = Object.assign({}, m.framework.theme.defaults.light)),
            window.$components = b["a"];
            let p = new s["default"]({
                vuetify: m,
                router: u,
                store: h,
                render: t=>t(d),
                data: ()=>({
                    edit: i,
                    homepage_id: e.id,
                    compact: e.compact,
                    shared: e.shared,
                    siteconfig: n,
                    current_revision_id: e.current_revision_id,
                    published_revision_id: e.published_revision_id,
                    sites: t || [],
                    sitesLoaded: t && t.length,
                    mobilePreview: !1,
                    mobilePreviewLoading: !1,
                    revisionPreview: null,
                    basepath: e.basepath,
                    isBuilding: !1,
                    showEditPanel: !a(),
                    mobilePreviewIframe: a(),
                    showMyBookings: !0,
                    components: b["a"]
                }),
                watch: {
                    "$store.state.saving"(t) {
                        !t && this.$store.state.needToSave && this.saveHomePage()
                    },
                    "siteconfig.css": {
                        immediate: !0,
                        handler(t) {
                            this.loadCss(t)
                        }
                    },
                    "siteconfig.fonts": {
                        immediate: !0,
                        deep: !0,
                        handler(t) {
                            let e = ""
                              , i = []
                              , s = function(t, e, s) {
                                if (!s)
                                    return "";
                                -1 == i.indexOf(s.font) && i.push(s.font);
                                let a = e ? e + "{" : ""
                                  , o = e ? "}" : ""
                                  , n = `${a}${t}{`;
                                return s.size && (n += `font-size:${s.size};`),
                                s.font && (n += `font-family:"${s.font}";`),
                                s.letterspacing && (n += `letter-spacing:${s.letterspacing};`),
                                s.italic && (n += "font-style:italic;"),
                                s.color && (n += `color:${s.color};`),
                                s.lineheight && (n += `line-height:${s.lineheight};`),
                                s.uppercase && (n += "text-transform:uppercase;"),
                                n += "}" + o,
                                n
                            }
                              , a = function(t, e) {
                                return e.mobile || e.desktop ? s(t, null, e.desktop) + s(t, "@media screen and (max-width: 960px)", e.mobile) : s(t, e)
                            };
                            for (let o = 1; o <= 6; ++o) {
                                let i = t["h" + o];
                                i && (e += a(".v-main__wrap h" + o, i))
                            }
                            t["p"] && (e += a(".v-main__wrap p", t["p"])),
                            t["menu"] && (e += a(".zoezi-menuitem .v-btn__content", t["menu"])),
                            this.loadTextStyleCss(e),
                            i.forEach(t=>{
                                this.loadFont(t, t)
                            }
                            )
                        }
                    },
                    "siteconfig.root.props": {
                        immediate: !1,
                        deep: !0,
                        handler() {
                            Object(k["G"])(this.siteconfig)
                        }
                    },
                    $route(t) {
                        a() && window.top.postMessage({
                            action: "setRoute",
                            data: t.path
                        })
                    }
                },
                methods: {
                    colorToHex(t) {
                        return t ? t.startsWith("#") ? t : Object(E["j"])(Object(O["d"])(t), F["a"], this.$vuetify.theme.currentTheme) : null
                    },
                    h2r(t, e) {
                        let i;
                        return /^#([A-Fa-f0-9]{3}){1,2}$/.test(t) ? (i = t.substring(1).split(""),
                        3 == i.length && (i = [i[0], i[0], i[1], i[1], i[2], i[2]]),
                        i = "0x" + i.join(""),
                        e > 1 && (e = 1),
                        e < 0 && (e = 0),
                        "rgba(" + [i >> 16 & 255, i >> 8 & 255, 255 & i].join(",") + "," + e + ")") : "rgba(0,0,0,1)"
                    },
                    saveHomePage(t) {
                        if (this.$store.commit("setNeedToSave", this.$store.state.saving),
                        this.$store.state.saving || !this.$store.state.isLoggedIn)
                            return;
                        console.log("Saving homepage"),
                        this.$store.commit("setSaving", !0);
                        let e = {
                            id: this.homepage_id,
                            basepath: this.basepath,
                            config: this.siteconfig,
                            current_revision_id: this.current_revision_id,
                            publish: this.siteconfig.autoPublish,
                            compact: this.compact
                        };
                        this.$api.post("/api/homepage/change", e).then(i=>{
                            if (i.ok)
                                return i.json().then(i=>{
                                    this.current_revision_id = i.current_revision_id,
                                    e.publish && (this.published_revision_id = this.current_revision_id),
                                    t && location.reload()
                                }
                                );
                            {
                                let t = t=>{
                                    this.$store.commit("showErrorDialog", {
                                        title: "Det gick inte att spara",
                                        text: t,
                                        actionText: "Ladda om sidan",
                                        action: ()=>location.reload()
                                    })
                                }
                                ;
                                i.json().then(e=>{
                                    let i = e && e.message ? this.$translate(e.message) : null;
                                    i && "Homepage has been altered" != e.message || (i = "Det blev fel när dina ändringar skulle sparas. Det här kan inträffa om någon annan ändrat på sidan samtidigt."),
                                    t(i)
                                }
                                )
                            }
                        }
                        ).finally(()=>{
                            this.$store.commit("setSaving", !1)
                        }
                        )
                    },
                    switchHomepage(t) {
                        this.$api.get("/api/homepage/get", {
                            id: t
                        }).then(t=>{
                            t.basepath && (location.pathname = t.basepath)
                        }
                        )
                    },
                    addEmptyHomepage(t, e, i) {
                        let s = {
                            name: t,
                            basepath: e,
                            shared: i
                        };
                        this.$api.post("/api/homepage/add/empty", s).then(t=>t.json().then(t=>{
                            this.switchHomepage(t.id)
                        }
                        ))
                    },
                    addCopyOfThisHomepage(t, e, i) {
                        let s = {
                            id: this.$root.homepage_id,
                            name: t,
                            basepath: e,
                            shared: i
                        };
                        this.$api.post("/api/homepage/add/copy", s).then(t=>t.json().then(t=>{
                            this.switchHomepage(t.id)
                        }
                        ))
                    },
                    addHomePageWithConfig(t, e, i, s) {
                        let a = {
                            name: t,
                            config: e,
                            basepath: i,
                            shared: s
                        };
                        this.$api.post("/api/homepage/add/withconfig", a).then(t=>t.json().then(t=>{
                            this.switchHomepage(t.id)
                        }
                        ))
                    },
                    revertToRevision(t) {
                        this.$api.get("/api/homepage/revision/get", {
                            homepage_id: this.$root.homepage_id,
                            id: t
                        }).then(t=>{
                            this.$root.siteconfig = t.config,
                            this.$root.saveHomePage(!0)
                        }
                        )
                    },
                    publish() {
                        let t = {
                            id: this.homepage_id,
                            revision_id: this.current_revision_id
                        };
                        this.$api.post("/api/homepage/publish", t).then(()=>{
                            this.published_revision_id = this.current_revision_id
                        }
                        )
                    },
                    getEditCardClasses() {
                        return ["headline", "zoezi-edit-color"]
                    },
                    loadFont(t, e="", i=null) {
                        if (!t || "Roboto" == t || "Arial" == t)
                            return;
                        let s = "zoezi-global-font" + e
                          , a = document.getElementById(s);
                        a || (a = document.createElement("link"),
                        a.setAttribute("rel", "stylesheet"),
                        a.setAttribute("type", "text/css"),
                        a.setAttribute("id", s),
                        document.head.appendChild(a),
                        i && (a.onload = i));
                        let o = `https://fonts.googleapis.com/css?family=${encodeURIComponent(t)}:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic`;
                        a.setAttribute("href", o)
                    },
                    loadCss(t) {
                        Object(k["c"])("zoezi-global-style", t)
                    },
                    loadTextStyleCss(t) {
                        Object(k["c"])("zoezi-text-style", t)
                    },
                    setThemeColors(t) {
                        for (const [e,i] of Object.entries(t))
                            document.documentElement.style.setProperty("--z-" + e, i);
                        Object.assign(this.$vuetify.theme.themes.light, {
                            anchor: this.$vuetify.theme.themes.light.anchor,
                            ...t
                        })
                    },
                    setEditMode() {
                        if (window.localStorage.setItem("editmode", "true"),
                        !window.__editModeAvailable || e.shared && !e.pure)
                            return document.cookie = "editmode=1; max-age=3600",
                            void setTimeout(()=>{
                                location.reload()
                            }
                            , 10);
                        this.$store.commit("setEditModeInitializing", !0),
                        this.published_revision_id && this.current_revision_id == this.published_revision_id ? (this.$store.commit("setEditModeInitializing", !1),
                        this.edit = !0,
                        this.isBuilding && this.checkIfBuilt()) : et(this.homepage_id, this.current_revision_id).then(t=>{
                            tt(this.sites, t, !0)
                        }
                        )
                    },
                    reloadHomepageInEditMode(t) {
                        et(this.homepage_id, t).then(t=>{
                            tt(this.sites, t, !0)
                        }
                        )
                    },
                    loadSites() {
                        return this.sitesLoaded = !0,
                        fetch(Z + "/api/homepage/get/all").then(t=>t.json().then(t=>{
                            this.sites = t || []
                        }
                        ))
                    },
                    followLink(t, e) {
                        if (this.$root.edit && e)
                            return;
                        let i;
                        if ("object" === typeof t) {
                            var s;
                            if (t.newTab && t.href)
                                return void (null === (s = window.open(t.href, "_blank")) || void 0 === s || s.focus());
                            if (t.href)
                                return void (window.location.href = t.href);
                            i = t.anchor,
                            t = t.page
                        }
                        (this.$route.path != t || i) && (e && (t = t + "/" + e),
                        this.$router.push({
                            path: t,
                            hash: i
                        }, ()=>{}
                        , ()=>{}
                        ))
                    },
                    checkIfBuilt() {
                        et(this.homepage_id, this.published_revision_id).then(t=>{
                            "pending" != t.status || X ? this.isBuilding = !1 : this.edit && setTimeout(this.checkIfBuilt, 1e3)
                        }
                        )
                    },
                    getDefaultPage(t) {
                        var e;
                        let i = null === (e = this.siteconfig) || void 0 === e ? void 0 : e.pages[t]
                          , s = "/" + t;
                        return i || s
                    },
                    setTitle(t) {
                        if (t = t || this.$route,
                        !t)
                            return;
                        let e = "/" == t.name ? "" : t.name + " - ";
                        document.title = `${e}${this.siteconfig.root.props.title || ""}`
                    },
                    setMetaDescription(t) {
                        var e;
                        t = t || this.$route;
                        let i = t.meta.description || "";
                        null === (e = document.getElementById("metadescription")) || void 0 === e || e.setAttribute("content", i)
                    }
                },
                created() {
                    this.loadFont(this.siteconfig.root.props.font),
                    this.$api.setVueRoot(this),
                    this.$translations.setVueRoot(this),
                    this.$booking.setVueRoot(this),
                    this.$store.dispatch("setVueRoot", this),
                    this.$store.dispatch("checkIfLoggedIn"),
                    "success" == Object(k["r"])("applesignin") && this.$store.dispatch("signinWithApple"),
                    this.setThemeColors(this.siteconfig.root.props.colors),
                    this.setTitle(),
                    this.setMetaDescription()
                },
                mounted() {
                    let t = Object(k["r"])("accountrequest");
                    t && this.$route.path != this.siteconfig.pages.mypages && this.$router.push({
                        path: this.siteconfig.pages.mypages,
                        query: {
                            accountrequest: t
                        }
                    }),
                    document.addEventListener("keydown", t=>{
                        var e;
                        (t.ctrlKey || t.metaKey) && "m" === t.key && (null !== (e = this.$store.state.user) && void 0 !== e && e.isAdmin && (window.location = "/staff"))
                    }
                    )
                }
            }).$mount("#app");
            window.$vuetify = p.$vuetify,
            window.$vue = p
        }
        function et(t, e="") {
            return e || (e = Object(k["r"])("revision_id") || ""),
            fetch(`${Z}/api/homepage/get?id=${t}&revision_id=${e}`).then(t=>t.json().then(t=>t))
        }
        s["default"].config.productionTip = !1;
        const it = ()=>{
            let t = Object(k["r"])("revision_id");
            if (t)
                return fetch(`${Z}/api/homepage/get?revision_id=${t}`).then(t=>t.json().then(t=>{
                    tt(null, t)
                }
                ));
            let e = window.localStorage.getItem("editmode") && window.__editModeAvailable && !Object(k["r"])("noeditmode")
              , i = window.HOMEPAGE_CONFIG || {};
            const s = t=>{
                tt(null, t),
                e && window.$vue.setEditMode()
            }
            ;
            e && i.shared ? fetch(`${Z}/api/homepage/get?id=${i.id}&path=${location.pathname}&pure=true`).then(t=>t.json().then(t=>{
                t.pure = !0,
                s(t)
            }
            )) : s(i)
        }
        ;
        it()
    },
    "570d": function(t, e, i) {
        "use strict";
        i("63a4")
    },
    "5a86": function(t, e, i) {
        "use strict";
        i.r(e);
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "850",
                    scrollable: ""
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }, [t.workout ? i("v-card", [i("dialog-header", {
                attrs: {
                    title: t.workout.workoutType.name + (t.workout.extra_title ? " - " + t.workout.extra_title : ""),
                    image: t.image
                },
                on: {
                    close: function(e) {
                        t.showWorkoutDialog = !1
                    }
                }
            }), i("v-card-text", {
                staticClass: "overflow-y-auto"
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "auto"
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar")]), t._v(" " + t._s(t.formatStartDate(t.workout.startTime)) + " " + t._s(t.formatStartTime(t.workout.startTime)) + " ")], 1), t.workout.resources && t.workout.resources.length ? i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("span", {
                staticClass: "zoezi-clickable"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-map-marker")]), t._l(t.workout.resources, (function(e, s) {
                return i("span", {
                    key: e.id
                }, [e.position ? i("a", {
                    staticClass: "primary--text z-no-underline",
                    attrs: {
                        href: ""
                    },
                    on: {
                        click: function(i) {
                            return i.preventDefault(),
                            t.doShowMapDialog(e)
                        }
                    }
                }, [t._v(t._s(e.name))]) : i("span", [t._v(t._s(e.name))]), s != t.workout.resources.length - 1 ? i("span", [t._v(", ")]) : t._e()])
            }
            ))], 2)]) : t._e()], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [t.workout.workoutType.description || t.workout.description ? i("div", {
                domProps: {
                    innerHTML: t._s(t.workout.description || t.workout.workoutType.description)
                }
            }) : t._e()])], 1)], 1), t.showNumBooked ? i("v-col", {
                staticClass: "text-right",
                attrs: {
                    cols: "4"
                }
            }, [t.workout.space && !t.workout.isCancelled() ? i("v-progress-circular", {
                attrs: {
                    rotate: -90,
                    size: 100,
                    width: 15,
                    value: 100 * t.workout.numBooked / t.workout.space,
                    color: 100 * t.workout.numBooked / t.workout.space >= 80 ? "error" : 100 * t.workout.numBooked / t.workout.space >= 60 ? "warning" : "primary"
                }
            }, [t.workout.space - t.workout.numBooked > 0 ? i("span", {
                staticStyle: {
                    "text-align": "center"
                }
            }, [t._v(t._s(t.workout.space - t.workout.numBooked)), i("br"), t._v(t._s(t.$translate("PLACES"))), i("br"), t._v(t._s(t.$translate("left")))]) : t._e(), t.workout.space - t.workout.numBooked == 0 ? i("span", {
                staticStyle: {
                    "text-align": "center"
                }
            }, [t._v(t._s(t.$translate("Full")))]) : t._e(), t.workout.numQueue > 0 ? i("span", {
                staticStyle: {
                    "text-align": "center"
                }
            }, [t._v(t._s(t.workout.numQueue)), i("br"), t._v(t._s(t.$translate("in queue")))]) : t._e()]) : t._e()], 1) : t._e()], 1), t._l(t.workout.staffs, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "d-inline-block mr-4"
                }, [i("v-avatar", {
                    staticClass: "mr-2",
                    attrs: {
                        left: "",
                        size: "50"
                    }
                }, [i("v-auto-img", {
                    key: e.imagekey,
                    attrs: {
                        src: e.imagekey || "/assets/img/profile_avatar_man.jpg"
                    }
                })], 1), i("a", {
                    staticClass: "primary--text z-no-underline",
                    attrs: {
                        href: ""
                    },
                    on: {
                        click: function(i) {
                            return i.preventDefault(),
                            t.doShowStaffInfoDialog(e)
                        }
                    }
                }, [t._v(t._s(e.name))])], 1)
            }
            )), t.invite ? i("Invite", {
                attrs: {
                    workout: t.workout,
                    invite: t.invite
                }
            }) : t._e(), i("v-tabs", [t.discussionEnabled ? i("v-tab", [i("span", {
                staticClass: "tab-title"
            }, [t._v(t._s(t.$translate("Discussion")))]), t.messageCount ? i("v-badge", {
                staticClass: "ml-2",
                attrs: {
                    color: "primary",
                    content: t.messageCount
                }
            }) : t._e()], 1) : t._e(), t.filteredBookings.coming.length ? i("v-tab", [i("span", {
                staticClass: "tab-title"
            }, [t._v(t._s(t.$translate("Coming")))]), i("v-badge", {
                staticClass: "ml-2",
                attrs: {
                    color: "success",
                    content: t.filteredBookings.coming.length
                }
            })], 1) : t._e(), t.filteredBookings.no.length ? i("v-tab", [i("span", {
                staticClass: "tab-title"
            }, [t._v(t._s(t.$translate("No")))]), i("v-badge", {
                staticClass: "ml-2",
                attrs: {
                    color: "error",
                    content: t.filteredBookings.no.length
                }
            })], 1) : t._e(), t.filteredBookings.noAnswer.length ? i("v-tab", [i("span", {
                staticClass: "tab-title"
            }, [t._v(t._s(t.$translate("No answer")))]), i("v-badge", {
                staticClass: "ml-2",
                attrs: {
                    color: "warning",
                    content: t.filteredBookings.noAnswer.length
                }
            })], 1) : t._e(), t.discussionEnabled ? i("v-tab-item", [i("workout-discussion", {
                staticClass: "mt-8",
                attrs: {
                    workout: t.workout
                },
                on: {
                    count: function(e) {
                        t.messageCount = e
                    }
                }
            })], 1) : t._e(), t.filteredBookings.coming.length ? i("v-tab-item", [i("member-list", {
                attrs: {
                    members: t.filteredBookings.coming
                }
            })], 1) : t._e(), t.filteredBookings.no.length ? i("v-tab-item", [i("member-list", {
                attrs: {
                    members: t.filteredBookings.no
                }
            })], 1) : t._e(), t.filteredBookings.noAnswer.length ? i("v-tab-item", [i("member-list", {
                attrs: {
                    members: t.filteredBookings.noAnswer
                }
            })], 1) : t._e()], 1)], 2), !t.$store.state.cards && t.$store.state.user ? i("v-card-actions", [i("v-row", {
                attrs: {
                    justify: "center"
                }
            }, [i("v-progress-circular", {
                staticClass: "mb-4",
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1)], 1) : t.matchRequiresMembership ? i("v-card-actions", [i("div", {
                staticClass: "d-flex flex-column fill-width"
            }, [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(t._s(t.$translate("In order to book this activity you need to have a membership")))]), i("v-btn", {
                attrs: {
                    block: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showMembershipDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Buy membership")) + " ")])], 1)]) : i("v-card-actions", {
                staticStyle: {
                    "flex-wrap": "wrap"
                }
            }, [t.workout.isCancelled() ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("The workout is cancelled")))]) : t._e(), [t.tooEarlyOrTooLate && !t.allBooked || t.canOnlyBookForSelf && "bookbuy" == t.workout.getState() ? i("workout-book-button", {
                staticClass: "fill-width",
                attrs: {
                    workout: t.workout,
                    "show-extra-info": !0,
                    showNumBooked: t.showNumBooked,
                    block: !0
                }
            }) : t._e(), [t.$store.state.user ? i("div", {
                staticClass: "zoezi-booked-list",
                staticStyle: {
                    "flex-shrink": "0",
                    width: "100%"
                },
                attrs: {
                    "data-these-can-book-text": t.$translate("These can book")
                }
            }, t._l(t.$store.state.user.canBookFor.filter((function(e) {
                return (t.canOnlyBookForSelf || !t.isNoBook(e)) && (!t.tooEarlyOrTooLate || t.workout.isBooked(e))
            }
            )), (function(e) {
                return i("workout-book-user-row", {
                    key: e.id,
                    staticClass: "zoezi-booked-person",
                    attrs: {
                        workout: t.workout,
                        user: e
                    }
                })
            }
            )), 1) : t._e(), !t.canOnlyBookForSelf && t.noBookPersons && t.noBookPersons.length ? i("v-expansion-panels", [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0"
            }, [i("div", {
                staticClass: "pa-2 d-flex"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-account-multiple")])], 1), i("div", {
                staticClass: "ml-2 flex-grow-1"
            }, [t._v(" " + t._s(t.$translate("These cannot book")) + " ")])])]), i("v-expansion-panel-content", {
                staticClass: "pa-0"
            }, t._l(t.noBookPersons, (function(e) {
                return i("workout-book-user-row", {
                    key: e.id,
                    staticClass: "zoezi-booked-person",
                    attrs: {
                        workout: t.workout,
                        user: e
                    }
                })
            }
            )), 1)], 1)], 1) : t._e()]]], 2)], 1) : t._e(), i("staff-info-dialog", {
                attrs: {
                    staff: t.showStaff
                },
                model: {
                    value: t.showStaffInfoDialog,
                    callback: function(e) {
                        t.showStaffInfoDialog = e
                    },
                    expression: "showStaffInfoDialog"
                }
            }), t.showMap ? i("map-dialog", {
                attrs: {
                    resource: t.showMap
                },
                model: {
                    value: t.showMapDialog,
                    callback: function(e) {
                        t.showMapDialog = e
                    },
                    expression: "showMapDialog"
                }
            }) : t._e(), t.showMembershipDialog ? i("BuyMembershipDialog", {
                model: {
                    value: t.showMembershipDialog,
                    callback: function(e) {
                        t.showMembershipDialog = e
                    },
                    expression: "showMembershipDialog"
                }
            }) : t._e()], 1)
        }
          , a = []
          , o = i("0949")
          , n = i("9c90")
          , r = i("e61a")
          , l = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticStyle: {
                    border: "1px solid #d9d9d9",
                    "border-radius": "4px",
                    padding: "4px"
                }
            }, [t._l(t.sortedMessages, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "d-flex mt-2"
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("v-avatar", {
                    attrs: {
                        size: "32"
                    }
                }, [i("v-auto-img", {
                    attrs: {
                        src: e.src.imageurl
                    }
                })], 1), i("div", {
                    staticClass: "ml-2"
                }, [i("div", [i("b", [t._v(t._s(e.src.name))])]), i("div", {
                    staticClass: "z-small-font text--secondary"
                }, [t._v(t._s(e.created.dateTime()))])])], 1), i("div", {
                    staticClass: "ml-2"
                }, [t._v(" " + t._s(e.content) + " ")])])
            }
            )), i("v-row", {
                staticClass: "mt-4",
                attrs: {
                    dense: ""
                }
            }, [i("v-col", {
                attrs: {
                    md: "8",
                    cols: "12"
                }
            }, [i("v-text-field", {
                attrs: {
                    dense: "",
                    "hide-details": "",
                    placeholder: t.$translate("Write a comment"),
                    outlined: ""
                },
                on: {
                    keydown: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.comment.apply(null, arguments)
                    }
                },
                model: {
                    value: t.newcomment,
                    callback: function(e) {
                        t.newcomment = e
                    },
                    expression: "newcomment"
                }
            })], 1), i("v-col", {
                attrs: {
                    md: "4",
                    cols: "12"
                }
            }, [i("v-btn", {
                attrs: {
                    block: "",
                    disabled: !t.newcomment,
                    loading: t.posting,
                    color: "primary"
                },
                on: {
                    click: t.comment
                }
            }, [t._v(t._s(t.$translate("Send comment")))])], 1)], 1)], 2)
        }
          , c = []
          , d = {
            name: "zoezi-workout-discussion",
            props: {
                workout: {}
            },
            data: ()=>({
                messages: [],
                newcomment: null,
                unsubscribe: null,
                posting: !1
            }),
            watch: {
                workout: {
                    immediate: !0,
                    handler(t) {
                        t && this.getMessages()
                    }
                }
            },
            computed: {
                sortedMessages() {
                    return this.messages.concat().sort((t,e)=>t.created - e.created)
                }
            },
            methods: {
                getMemberImage(t) {
                    return document.location.protocol + "//" + window.location.host + "/api/memberapi/image/member/get?size=50x50&id=" + t.id
                },
                getMessages() {
                    this.$api.get("/api/memberapi/workout/message/get", {
                        id: this.workout.id
                    }).then(t=>{
                        t.forEach(t=>{
                            t.created = Date.newFull(t.created),
                            t.src.imageurl = this.getMemberImage(t.src)
                        }
                        ),
                        this.messages = t,
                        this.$emit("count", t.length)
                    }
                    )
                },
                comment() {
                    let t = this.newcomment;
                    t && (this.newcomment = null,
                    this.posting = !0,
                    this.$api.post("/api/memberapi/workout/message/add", {
                        id: this.workout.id,
                        content: t
                    }).then(()=>{
                        this.posting = !1
                    }
                    ))
                }
            },
            mounted() {
                this.unsubscribe = this.$api.subscribe({
                    type: "workout",
                    callback: (t,e)=>{
                        this.workout && this.workout.id && e.data.find(t=>t.id == this.workout.id) && this.getMessages()
                    }
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , u = d
          , h = i("2877")
          , m = i("6544")
          , p = i.n(m)
          , v = i("8212")
          , g = i("8336")
          , f = i("62ad")
          , b = i("0fd9")
          , y = i("8654")
          , _ = Object(h["a"])(u, l, c, !1, null, null, null)
          , k = _.exports;
        p()(_, {
            VAvatar: v["a"],
            VBtn: g["a"],
            VCol: f["a"],
            VRow: b["a"],
            VTextField: y["a"]
        });
        var w = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-list", t._l(t.members, (function(e) {
                return i("v-list-item", {
                    key: e.id
                }, [i("v-list-item-avatar", [i("v-img", {
                    attrs: {
                        src: t.getMemberImage(e)
                    }
                })], 1), i("v-list-item-content", [i("v-list-item-title", {
                    domProps: {
                        textContent: t._s(e.name)
                    }
                })], 1)], 1)
            }
            )), 1)
        }
          , C = []
          , x = {
            name: "zoezi-member-list",
            props: {
                members: {}
            },
            methods: {
                getMemberImage(t) {
                    return document.location.protocol + "//" + window.location.host + "/api/memberapi/image/member/get?size=50x50&id=" + t.id
                }
            }
        }
          , $ = x
          , S = i("adda")
          , D = i("8860")
          , z = i("da13")
          , T = i("8270")
          , I = i("5d23")
          , P = Object(h["a"])($, w, C, !1, null, null, null)
          , V = P.exports;
        p()(P, {
            VImg: S["a"],
            VList: D["a"],
            VListItem: z["a"],
            VListItemAvatar: T["a"],
            VListItemContent: I["a"],
            VListItemTitle: I["c"]
        });
        var B = i("0817")
          , F = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline primary primarytext--text"
            }, [t._v(" " + t._s(t.resource.lastname) + " "), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-close")])], 1)], 1), t.position ? i("v-card-text", [i("GmapMap", {
                staticStyle: {
                    width: "100%",
                    height: "300px"
                },
                attrs: {
                    center: t.position,
                    zoom: 7,
                    "map-type-id": "terrain",
                    id: "googlemap"
                }
            }, [i("GmapMarker", {
                attrs: {
                    position: t.position
                }
            })], 1), t.resource.address ? i("div", [t._v(" " + t._s(t.resource.address)), i("br"), t._v(" " + t._s(t.resource.city)), i("br")]) : t._e()], 1) : t._e(), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: t.navigate
                }
            }, [t._v(t._s(t.$translate("Navigate here")))]), i("v-spacer"), i("zoezi-button", {
                attrs: {
                    text: t.$translate("Close")
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            })], 1)], 1)], 1)
        }
          , E = []
          , O = i("755e")
          , M = i("a026")
          , A = {
            name: "zoezi-map-dialog",
            props: ["value", "resource"],
            components: {
                GmapMap: O["Map"],
                GmapMarker: O["Marker"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.show = t
                    }
                },
                show(t) {
                    t != this.value && this.$emit("input", t)
                }
            },
            data: ()=>({
                show: !1
            }),
            computed: {
                position() {
                    var t, e;
                    let i = null === (t = this.resource) || void 0 === t || null === (e = t.position) || void 0 === e ? void 0 : e.split(",");
                    return i ? {
                        lat: Number(i[0]),
                        lng: Number(i[1])
                    } : null
                }
            },
            methods: {
                navigate() {
                    let t = `https://www.google.com/maps/dir/?api=1&destination=${this.position.lat}%2C ${this.position.lng}&travelmode=driving`;
                    window.open(t, "_blank")
                }
            },
            created() {
                M["default"].use(O, {
                    load: {
                        key: "AIzaSyAkUAkjyqsYAb-FCtpUY7WdetIQUv1-slQ"
                    }
                })
            }
        }
          , R = A
          , L = i("b0af")
          , j = i("99d9")
          , N = i("169a")
          , W = i("132d")
          , q = i("2fa4")
          , H = Object(h["a"])(R, F, E, !1, null, null, null)
          , U = H.exports;
        p()(H, {
            VBtn: g["a"],
            VCard: L["a"],
            VCardActions: j["a"],
            VCardText: j["b"],
            VCardTitle: j["c"],
            VDialog: N["a"],
            VIcon: W["a"],
            VSpacer: q["a"]
        });
        var Y = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "ma-2 pa-3 d-flex justify-space-between align-center",
                attrs: {
                    outlined: "",
                    raised: ""
                }
            }, [i("span", [i("v-icon", {
                attrs: {
                    left: "",
                    color: "primary"
                }
            }, [t._v("mdi-email")]), t._v(t._s(t.$translate("You have been invited to this activity")))], 1), t.loading ? i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            }) : t.hasResponded ? i("span", [i("v-alert", {
                attrs: {
                    type: "success"
                }
            }, [t._v(" " + t._s(t.$translate("INVITATION_ANSWERED")) + " ")])], 1) : i("span", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        return t.answerInvite(!0)
                    }
                }
            }, [t._v(t._s(t.$translate("Accept")))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "error"
                },
                on: {
                    click: function(e) {
                        return t.answerInvite(!1)
                    }
                }
            }, [t._v(t._s(t.$translate("Decline")))])], 1)], 1)
        }
          , G = []
          , K = {
            name: "Invite",
            props: {
                invite: {
                    type: Object
                },
                workout: {
                    type: Object
                }
            },
            watch: {
                invite: {
                    immediate: !0,
                    handler() {
                        this.hasResponded = this.invite.hasResponded
                    }
                }
            },
            data: ()=>({
                hasResponded: !1,
                loading: !1
            }),
            methods: {
                answerInvite(t) {
                    this.loading = !0,
                    this.$api.post("/api/workoutBooking/invites/answer", {
                        hash: this.invite.linkHash,
                        accept: t
                    }).then(t=>{
                        t.json().then(e=>{
                            if (this.loading = !1,
                            t.ok)
                                this.hasResponded = !0;
                            else {
                                let t = this.$translate(e.message);
                                this.$store.commit("showSnackBar", {
                                    text: t
                                })
                            }
                        }
                        )
                    }
                    ).catch(()=>{
                        this.loading = !1
                    }
                    )
                }
            }
        }
          , Q = K
          , J = i("0798")
          , X = i("490a")
          , Z = Object(h["a"])(Q, Y, G, !1, null, null, null)
          , tt = Z.exports;
        p()(Z, {
            VAlert: J["a"],
            VBtn: g["a"],
            VCard: L["a"],
            VIcon: W["a"],
            VProgressCircular: X["a"]
        });
        var et = i("82dc")
          , it = i("d04c")
          , st = {
            name: "zoezi-workout-dialog",
            props: {
                workout: {
                    type: Object
                },
                value: {
                    type: Boolean
                },
                showNumBooked: {
                    type: Boolean,
                    default: !0
                },
                invite: {
                    type: Object
                }
            },
            components: {
                WorkoutBookUserRow: r["a"],
                WorkoutBookButton: n["a"],
                DialogHeader: o["a"],
                WorkoutDiscussion: k,
                MemberList: V,
                StaffInfoDialog: B["a"],
                MapDialog: U,
                Invite: tt,
                BuyMembershipDialog: it["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showWorkoutDialog = t
                    }
                },
                showWorkoutDialog(t) {
                    this.$emit("input", t)
                },
                workout: {
                    immediate: !0,
                    handler(t) {
                        t && (this.unsubscribeAll(),
                        this.unsubscribe.push(this.$root.$api.subscribe({
                            type: "workoutbooking",
                            callback: (e,i)=>{
                                i.data.forEach(e=>{
                                    e.workout == t.id && (t.numBooked = e.numBooked,
                                    t.numQueue = e.numQueue,
                                    this.getBookings())
                                }
                                )
                            }
                        })),
                        this.unsubscribe.push(this.$root.$api.subscribe({
                            type: "workout",
                            callback: (e,i)=>{
                                i.data.forEach(e=>{
                                    e.id == t.id && (Object.assign(t, e),
                                    this.$booking.transformWorkout(t))
                                }
                                )
                            }
                        })),
                        this.unsubscribe.push(this.$root.$api.subscribe({
                            type: "workoutbookinginvite",
                            callback: (e,i)=>{
                                i.data.forEach(e=>{
                                    e.workout_id == t.id && this.getBookings()
                                }
                                )
                            }
                        })))
                    }
                }
            },
            data: ()=>({
                showWorkoutDialog: !1,
                loading: !1,
                unsubscribe: [],
                bookings: [],
                messageCount: 0,
                showStaffInfoDialog: !1,
                showStaff: null,
                showMapDialog: !1,
                showMap: null,
                showMembershipDialog: !1
            }),
            computed: {
                image() {
                    return this.workout.workoutType.imagekey ? this.workout.workoutType.imagekey : "/api/image/get?type=Logo&id=1"
                },
                canOnlyBookForSelf() {
                    var t;
                    return 1 == (null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.length) && this.$store.state.user.canBookFor[0].id == this.$store.state.user.id
                },
                noBookPersons() {
                    var t, e;
                    return null === (t = this.$store.state.user) || void 0 === t || null === (e = t.canBookFor) || void 0 === e ? void 0 : e.filter(t=>this.isNoBook(t))
                },
                tooEarlyOrTooLate() {
                    return this.workout.tooEarlyToBook() || this.workout.tooLateToBook() || !this.workout.bookableForCustomer
                },
                allBooked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.every(t=>this.workout.isBooked(t))
                },
                discussionEnabled() {
                    return this.workout.discussionEnabled()
                },
                showMembersEnabled() {
                    return this.workout.showMembersEnabled()
                },
                filteredBookings() {
                    return {
                        coming: this.bookings.filter(t=>t.booking && !t.inQueue),
                        no: this.bookings.filter(t=>t.declined),
                        noAnswer: this.bookings.filter(t=>t.invited && !t.booking && !t.declined)
                    }
                },
                matchRequiresMembership() {
                    return this.workout.isMatchWhichRequiresMembership()
                }
            },
            methods: {
                formatStartDate(t) {
                    let e = Date.newFull(t);
                    var i = this.$store.state.now30s.clone().clearTime().daysUntil(e);
                    if (i > 6 || i < 0 || e.getWeekNumber() > (new Date).getWeekNumber())
                        return e.yyyymmdd();
                    {
                        let t = [];
                        return t = 0 == i ? ["Today"] : 1 == i ? ["Tomorrow", e.getWeekDayString()] : [e.getWeekDayString()],
                        t.map(this.$translate).join(" ")
                    }
                },
                formatStartTime(t) {
                    return Date.newFull(t).hhmm()
                },
                unsubscribeAll() {
                    this.unsubscribe.forEach(t=>null === t || void 0 === t ? void 0 : t()),
                    this.unsubscribe = []
                },
                isNoBook(t) {
                    return ["nobook", "bookbuy", "queuebuy"].includes(this.workout.getState(t))
                },
                getBookings() {
                    this.showMembersEnabled && this.$api.get("/api/memberapi/workout/bookings/get", {
                        id: this.workout.id
                    }).then(t=>this.bookings = t)
                },
                doShowStaffInfoDialog(t) {
                    this.showStaffInfoDialog = !0,
                    this.showStaff = t
                },
                doShowMapDialog(t) {
                    this.showMapDialog = !0,
                    this.showMap = t
                }
            },
            mounted() {
                this.getBookings();
                try {
                    var t, e, i, s, a, o;
                    let n = {
                        id: "w" + this.workout.id,
                        name: null === (t = this.workout) || void 0 === t || null === (e = t.workoutType) || void 0 === e ? void 0 : e.name,
                        price: null === (i = this.workout) || void 0 === i || null === (s = i.workoutType) || void 0 === s ? void 0 : s.price,
                        vat: null === (a = this.workout) || void 0 === a || null === (o = a.workoutType) || void 0 === o ? void 0 : o.vat
                    };
                    this.$ecommercetracking.viewItem(n)
                } catch (n) {
                    et["a"](n)
                }
            },
            destroy() {
                this.unsubscribeAll()
            }
        }
          , at = st
          , ot = (i("bd52"),
        i("4ca6"))
          , nt = i("cd55")
          , rt = i("49e2")
          , lt = i("c865")
          , ct = i("0393")
          , dt = i("71a3")
          , ut = i("c671")
          , ht = i("fe57")
          , mt = Object(h["a"])(at, s, a, !1, null, null, null);
        e["default"] = mt.exports;
        p()(mt, {
            VAlert: J["a"],
            VAvatar: v["a"],
            VBadge: ot["a"],
            VBtn: g["a"],
            VCard: L["a"],
            VCardActions: j["a"],
            VCardText: j["b"],
            VCol: f["a"],
            VDialog: N["a"],
            VExpansionPanel: nt["a"],
            VExpansionPanelContent: rt["a"],
            VExpansionPanelHeader: lt["a"],
            VExpansionPanels: ct["a"],
            VIcon: W["a"],
            VProgressCircular: X["a"],
            VRow: b["a"],
            VTab: dt["a"],
            VTabItem: ut["a"],
            VTabs: ht["a"]
        })
    },
    "5c4a": function(t, e, i) {},
    "5e43": function(t, e, i) {
        "use strict";
        i("c5fd")
    },
    "61c7": function(t, e, i) {
        "use strict";
        i("2a76")
    },
    "63a4": function(t, e, i) {},
    "63db": function(t, e, i) {},
    6522: function(t, e, i) {},
    "65b2": function(t, e, i) {},
    "68d7": function(t, e, i) {},
    "6ace": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-menu", {
                attrs: {
                    "close-on-content-click": !1,
                    transition: "scale-transition",
                    "offset-y": "",
                    "min-width": "290px"
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on
                          , a = e.attrs;
                        return [i("v-text-field", t._g(t._b({
                            attrs: {
                                label: t.label,
                                "prepend-icon": t.prependIcon,
                                readonly: ""
                            },
                            scopedSlots: t._u([t.$scopedSlots.append ? {
                                key: "append",
                                fn: function() {
                                    return [t._t("append")]
                                },
                                proxy: !0
                            } : null], null, !0),
                            model: {
                                value: t.time,
                                callback: function(e) {
                                    t.time = e
                                },
                                expression: "time"
                            }
                        }, "v-text-field", a, !1), s))]
                    }
                }]),
                model: {
                    value: t.menu,
                    callback: function(e) {
                        t.menu = e
                    },
                    expression: "menu"
                }
            }, [i("v-time-picker", {
                attrs: {
                    format: "24hr"
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.time,
                    callback: function(e) {
                        t.time = e
                    },
                    expression: "time"
                }
            })], 1)
        }
          , a = []
          , o = {
            name: "zoezi-time-field",
            props: ["value", "label", "prependIcon"],
            data: ()=>({
                time: null,
                menu: !1
            }),
            watch: {
                value() {
                    this.time = this.value
                }
            },
            methods: {
                save(t) {
                    this.$emit("input", t),
                    this.menu = !1
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("e449")
          , u = i("8654")
          , h = i("c964")
          , m = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = m.exports;
        c()(m, {
            VMenu: d["a"],
            VTextField: u["a"],
            VTimePicker: h["a"]
        })
    },
    "6b0c": function(t, e, i) {
        "use strict";
        i("ad9d"),
        String.prototype.insertAt = function(t, e) {
            return [this.slice(0, t), e, this.slice(t)].join("")
        }
        ,
        String.prototype.format || (String.prototype.format = function() {
            for (var t = 1 === arguments.length && Array.isArray(arguments[0]) ? arguments[0] : arguments, e = this, i = 0; i < t.length; i++) {
                var s = new RegExp("\\{" + i + "\\}","gm");
                e = e.replace(s, t[i])
            }
            return e
        }
        ),
        String.prototype.capitalize || (String.prototype.capitalize = function() {
            return this.charAt(0).toUpperCase() + this.slice(1)
        }
        ),
        String.prototype.startsWith || (String.prototype.startsWith = function(t, e) {
            return e = e || 0,
            this.indexOf(t, e) === e
        }
        ),
        String.prototype.replaceAll || (String.prototype.replaceAll = function(t, e) {
            return this.split(t).join(e)
        }
        )
    },
    7071: function(t, e, i) {
        "use strict";
        i("912b")
    },
    7134: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-select", {
                attrs: {
                    items: t.items,
                    label: t.label,
                    clearable: "",
                    "menu-props": {
                        maxHeight: "400px"
                    },
                    rules: t.rules
                },
                on: {
                    input: function(e) {
                        return t.setValue(e)
                    }
                },
                scopedSlots: t._u([{
                    key: "selection",
                    fn: function(e) {
                        return [i("avatar", {
                            staticClass: "mr-2",
                            attrs: {
                                color: "custom" == e.item.value ? t.color : e.item.value,
                                size: 24,
                                border: ""
                            }
                        }), t._v(" " + t._s(t.$translate(e.item.text)) + " ")]
                    }
                }, {
                    key: "item",
                    fn: function(e) {
                        return [i("v-list-item", t._g({
                            attrs: {
                                attrs: e.attrs,
                                dense: "",
                                "input-value": e.item.value == t.color || "custom" == e.item.value && "custom" == e.item.value && t.color && "#" == t.color[0]
                            },
                            on: {
                                click: function(i) {
                                    return t.itemClicked(e.item.value)
                                }
                            }
                        }, e.on), ["custom" != e.item.value || t.color && "#" == t.color[0] ? i("avatar", {
                            staticClass: "mr-2",
                            attrs: {
                                color: "custom" == e.item.value ? t.color : e.item.value,
                                size: 24,
                                border: ""
                            }
                        }) : i("v-icon", {
                            staticClass: "mr-2"
                        }, [t._v(" mdi-select-color ")]), t._v(" " + t._s(t.$translate(e.item.text)) + " ")], 1)]
                    }
                }]),
                model: {
                    value: t.selectedItem,
                    callback: function(e) {
                        t.selectedItem = e
                    },
                    expression: "selectedItem"
                }
            }, [i("template", {
                slot: "append"
            }, [t._t("append")], 2)], 2), t.showColorPicker && "toolbox" == t.type ? i("toolbox-window", {
                attrs: {
                    label: t.label,
                    close: "",
                    center: ""
                },
                on: {
                    close: function(e) {
                        t.showColorPicker = !1
                    }
                }
            }, [i("v-card", [i("v-color-picker", {
                attrs: {
                    value: t.color,
                    mode: "hexa"
                },
                on: {
                    "update:color": function(e) {
                        return t.setValue(e.hexa)
                    }
                }
            }), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.setValue(t.colorBeforePick),
                        t.showColorPicker = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Undo")) + " ")]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        t.showColorPicker = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1) : t.showColorPicker && "bottomdialog" == t.type ? i("bottom-dialog", {
                attrs: {
                    dialog: !t.$vuetify.breakpoint.mobile,
                    "max-width": "300px"
                },
                model: {
                    value: t.showColorPicker,
                    callback: function(e) {
                        t.showColorPicker = e
                    },
                    expression: "showColorPicker"
                }
            }, [i("v-card", [i("v-color-picker", {
                attrs: {
                    value: t.color,
                    mode: "hexa"
                },
                on: {
                    "update:color": function(e) {
                        return t.setValue(e.hexa)
                    }
                }
            }), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.setValue(t.colorBeforePick),
                        t.showColorPicker = !1
                    }
                }
            }, [t._v(" Ångra ")]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        t.showColorPicker = !1
                    }
                }
            }, [t._v(" Stäng ")])], 1)], 1)], 1) : t._e()], 1)
        }
          , a = []
          , o = i("505b")
          , n = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                style: t.avatarStyle
            })
        }
          , r = []
          , l = {
            name: "zoezi-avatar",
            props: {
                size: {
                    type: Number,
                    default: 24
                },
                color: {
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                border: {
                    type: Boolean,
                    default: !1
                },
                borderColor: {
                    type: String,
                    fulltype: "color",
                    default: "#DDDDDD"
                }
            },
            computed: {
                avatarStyle() {
                    let t = {};
                    return this.border && (t.border = "2px solid " + this.$root.colorToHex(this.borderColor),
                    t.borderRadius = "50%"),
                    t.width = t.height = this.size + "px",
                    this.color && (t.backgroundColor = this.$root.colorToHex(this.color)),
                    t
                }
            }
        }
          , c = l
          , d = i("2877")
          , u = Object(d["a"])(c, n, r, !1, null, null, null)
          , h = u.exports
          , m = i("1123")
          , p = {
            name: "ColorSetting",
            props: {
                value: {},
                label: {},
                hint: {},
                type: {
                    type: String,
                    default: "toolbox"
                },
                colorList: {
                    type: Array,
                    default: null
                },
                rules: {
                    type: Array,
                    default: ()=>[]
                }
            },
            components: {
                ToolboxWindow: o["a"],
                Avatar: h,
                BottomDialog: m["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.color = this.alphaify(t);
                        let e = this.items.find(e=>e.value == t);
                        this.selectedItem = t ? e ? e.value : "custom" : null
                    }
                },
                showColorPicker(t) {
                    t && (this.colorBeforePick = this.color,
                    this.color || (this.color = this.items[0].value),
                    this.color && "#" != this.color[0] && this.setValue(this.colors[this.color]))
                }
            },
            data: ()=>({
                color: null,
                showColorPicker: !1,
                selectedItem: null,
                colorBeforePick: null
            }),
            methods: {
                setValue(t) {
                    "custom" != t && (this.color = this.alphaify(t),
                    this.$emit("input", this.dealphaify(this.color)))
                },
                dealphaify(t) {
                    return t ? 9 == t.length && "FF" == t.substring(7) ? t.substring(0, 7) : t : null
                },
                alphaify(t) {
                    return t && 7 == t.length && "#" == t[0] && (t += "FF"),
                    t
                },
                clear() {
                    this.setValue(null)
                },
                itemClicked(t) {
                    "custom" == t && (this.showColorPicker = !0)
                }
            },
            computed: {
                items() {
                    return this.colorList ? this.colorList.concat([{
                        value: "custom",
                        text: "Custom color"
                    }]) : [{
                        value: "primary",
                        text: "Primary"
                    }, {
                        value: "secondary",
                        text: "Secondary"
                    }, {
                        value: "accent",
                        text: "Accent"
                    }, {
                        value: "warning",
                        text: "Warning"
                    }, {
                        value: "info",
                        text: "Information"
                    }, {
                        value: "success",
                        text: "Success"
                    }, {
                        value: "error",
                        text: "Error"
                    }, {
                        value: "primarytext",
                        text: "Color of text written on primary color"
                    }, {
                        value: "custom",
                        text: "Custom color"
                    }]
                },
                colors() {
                    return this.$vuetify.theme.currentTheme
                }
            }
        }
          , v = p
          , g = i("6544")
          , f = i.n(g)
          , b = i("8336")
          , y = i("b0af")
          , _ = i("99d9")
          , k = i("03a4")
          , w = i("132d")
          , C = i("da13")
          , x = i("b974")
          , $ = i("2fa4")
          , S = Object(d["a"])(v, s, a, !1, null, null, null);
        e["a"] = S.exports;
        f()(S, {
            VBtn: b["a"],
            VCard: y["a"],
            VCardActions: _["a"],
            VColorPicker: k["a"],
            VIcon: w["a"],
            VListItem: C["a"],
            VSelect: x["a"],
            VSpacer: $["a"]
        })
    },
    "714f": function(t, e, i) {
        "use strict";
        i("b9bd")
    },
    "71ce": function(t, e, i) {},
    7536: function(t, e, i) {},
    "75ab": function(t, e, i) {
        "use strict";
        i("2d22")
    },
    "7c5d": function(t, e, i) {},
    "7cb4": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-container", {
                staticClass: "py-0 fill-height",
                class: {
                    primary: t.done,
                    "z-no-x-scroll": t.dialog
                },
                attrs: {
                    fluid: ""
                }
            }, [!t.done && t.showBackLink ? i("v-row", [i("v-col", [i("span", {
                staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                on: {
                    click: function(e) {
                        return t.$emit("done")
                    }
                }
            }, [t._v(t._s(t.$translate("Back")))])])], 1) : t._e(), t.done ? [t.computedItems.find((function(t) {
                return "resourcebooking" == t.type
            }
            )) ? [t._t("done", null, {
                context: t.computedItems.find((function(t) {
                    return "resourcebooking" == t.type
                }
                )).context
            })] : i("v-sheet", {
                ref: "done",
                attrs: {
                    color: "primary"
                }
            }, [i("div", {
                staticClass: "mb-4 d-flex justify-center white--text"
            }, [i("v-icon", {
                staticClass: "white--text",
                attrs: {
                    "x-large": ""
                }
            }, [t._v("mdi-checkbox-marked-circle-outline")]), i("span", {
                staticClass: "text-h4 ml-4"
            }, [t._v(t._s(t.$translate("Done!")))])], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-avatar", {
                staticClass: "mx-2",
                attrs: {
                    size: "60"
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.$root.siteconfig.appbar.props.logo
                }
            })], 1), i("v-card", {
                staticClass: "ma-2"
            }, [i("v-card-text", [t.$slots.donetext ? t._t("donetext") : i("div", [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Thank you for your purchase!")))])])], 2)], 1)], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-card", {
                staticClass: "ma-2",
                attrs: {
                    "min-width": "80%"
                }
            }, [i("v-card-text", [t.$slots.donesummarytitle ? t._t("donesummarytitle") : i("div", {
                staticClass: "d-flex font-weight-bold"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("You bought")))])]), t._l(t.orderconfirmation, (function(e, s) {
                return i("div", {
                    key: s
                }, [t._v(" " + t._s(e.title) + " ")])
            }
            )), t.totalFromServer > 0 ? [i("v-divider"), i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Sum")))]), i("div", [t._v(t._s(t._f("price")(t.totalFromServer)))])])] : t._e(), "invoice" == t.paidByMethod ? i("div", [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate("The invoice is sent to the provided email address.")) + " "), i("br"), t._v(" " + t._s(t.$translate('You can also retrieve it later under "My Pages">"Payments".')) + " ")])], 1) : "directdebit" == t.paidByMethod ? i("div", [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate('You can view the direct debit invoice under "My pages">"Payments" afterwards.')) + " ")])], 1) : i("div", [t.orderconfirmation.length && t.orderconfirmation[0].bundle_id ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.getReceipt
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-document-outline")]), t._v(" " + t._s(t.$translate("Get receipt")) + " ")], 1) : t._e()], 1)], 2)], 1), i("v-avatar", {
                staticClass: "elevation-2",
                attrs: {
                    size: "64",
                    color: "white"
                }
            }, [i("v-icon", {
                attrs: {
                    "x-large": "",
                    color: "primary"
                }
            }, [t._v("mdi-cart-outline")])], 1)], 1)])] : i("v-row", {
                staticClass: "fill-height"
            }, [t.showPaymentPart ? i("v-col", {
                class: {
                    "overflow-y-auto": t.dialog,
                    "z-max-height-70vh-desktop": t.dialog
                },
                attrs: {
                    md: t.showSummary && t.showPaymentPart ? 6 : 12,
                    cols: "12",
                    order: "last"
                }
            }, [t.$slots.content ? t._t("content") : t._e(), i("portal", {
                attrs: {
                    to: t.contentTarget,
                    disabled: !t.contentTarget
                }
            }, [t.$store.state.user || t.$store.state.isCheckingIfLoggedIn ? t._e() : i("zoezi-identification", {
                attrs: {
                    title: t.identificationTitle,
                    "sub-title": t.identificationSubTitle
                }
            }), t.$store.state.user ? i("v-expansion-panels", {
                staticClass: "mb-4",
                staticStyle: {
                    "box-shadow": "none"
                },
                attrs: {
                    value: 0
                }
            }, [i("v-expansion-panel", {
                attrs: {
                    elevation: "0"
                }
            }, [i("v-expansion-panel-header", {
                staticClass: "pa-2",
                attrs: {
                    color: "white"
                }
            }, [i("div", {
                staticClass: "pa-2 d-flex"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-account-star-outline")])], 1), i("div", {
                staticClass: "ml-2 flex-grow-1"
            }, [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$store.state.user.name))]), i("span", {
                staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.logout.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Not you?")))])])])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                domProps: {
                    textContent: t._s(t.$store.state.user.mail)
                }
            })], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6"
                },
                domProps: {
                    textContent: t._s(t.$store.state.user.address)
                }
            }), i("v-col", {
                attrs: {
                    cols: "6"
                },
                domProps: {
                    textContent: t._s(t.$store.state.user.phone)
                }
            })], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                domProps: {
                    textContent: t._s((t.$store.state.user.zipCode || "") + " " + (t.$store.state.user.city || ""))
                }
            })], 1)], 1)], 1)], 1) : t._e(), t.$store.state.user && t.cancelRules ? i("div", {
                staticClass: "elevation-2 pt-4 px-2"
            }, [i("div", {
                staticClass: "d-flex z-clickable",
                on: {
                    click: function(e) {
                        t.showCancelRules = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-sticker-alert-outline")]), i("div", {
                staticClass: "ml-2 error--text flex-grow-1"
            }, [t._v(t._s(t.$translate("Cancellation policy")))]), i("v-icon", [t._v("mdi-chevron-right")])], 1), i("v-checkbox", {
                attrs: {
                    color: "primary",
                    label: t.$translate("Accept cancellation policy")
                },
                model: {
                    value: t.cancelRulesAccepted,
                    callback: function(e) {
                        t.cancelRulesAccepted = e
                    },
                    expression: "cancelRulesAccepted"
                }
            }), t.showCancelRules ? i("cancel-rules-dialog", {
                attrs: {
                    "cancel-rules": t.cancelRules,
                    "show-accept-button": ""
                },
                on: {
                    accepted: function(e) {
                        t.cancelRulesAccepted = !0
                    }
                },
                model: {
                    value: t.showCancelRules,
                    callback: function(e) {
                        t.showCancelRules = e
                    },
                    expression: "showCancelRules"
                }
            }) : t._e()], 1) : t._e(), t.$store.state.user ? i("div", {
                staticClass: "zoezi-checkout-payment elevation-2"
            }, [t.totalFromServer > 0 || t.cartHasContinuousPayment ? i("div", {
                staticClass: "d-flex pt-4 pl-4"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-credit-card-check-outline")])], 1), i("div", {
                staticClass: "ml-2 flex-grow-1 black--text",
                staticStyle: {
                    "font-size": "0.9375rem"
                }
            }, [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("How would you like to pay?")))])])]) : t._e(), i("v-expand-transition", [t.hasWebShop && (t.totalFromServer > 0 || t.cartHasContinuousPayment) && t.$store.state.settings ? i("div", {
                staticClass: "zoezi-checkout-payment-method-selection mx-2"
            }, [i("v-form", {
                attrs: {
                    disabled: t.loading && !t.adyenProcess
                },
                on: {
                    submit: function(t) {
                        t.preventDefault()
                    }
                },
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, [i("v-radio-group", {
                staticClass: "mt-0",
                model: {
                    value: t.selectedMethodId,
                    callback: function(e) {
                        t.selectedMethodId = e
                    },
                    expression: "selectedMethodId"
                }
            }, t._l(t.sortedMethods, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "zoezi-checkout-payment-method z-rounded-border my-1"
                }, [i("div", {
                    staticClass: "d-flex ml-2"
                }, [i("v-radio", {
                    staticClass: "flex-grow-1 mb-0",
                    attrs: {
                        label: t.getMethodName(e),
                        color: "primary",
                        value: e.id
                    }
                }), i("img", {
                    staticClass: "zoezi-checkout-payment-method-image ma-1",
                    staticStyle: {
                        height: "32px",
                        width: "32px"
                    },
                    attrs: {
                        src: e.imagekey ? t.$api.getImageUrl(e.imagekey, 100) : t.$api.getAssetUrl(e.imageSrc)
                    }
                })], 1), e.subtitle ? i("div", {
                    staticClass: "ml-10 text--secondary z-small-font"
                }, [t._v(t._s(e.subtitle))]) : t._e(), e.id == t.selectedMethodId ? i("div", {
                    staticClass: "mx-2 ml-10"
                }, [t.$store.state.user.mail || "invoice" == t.selectedMethodId ? t._e() : i("div", [i("form-field", {
                    attrs: {
                        field: t.mailField,
                        star: ""
                    },
                    model: {
                        value: t.mailField.value,
                        callback: function(e) {
                            t.$set(t.mailField, "value", e)
                        },
                        expression: "mailField.value"
                    }
                })], 1), t.requirePhoneField && !t.$store.state.user.phone && "invoice" != t.selectedMethodId ? i("div", [i("form-field", {
                    attrs: {
                        field: t.phoneField,
                        star: ""
                    },
                    model: {
                        value: t.phoneField.value,
                        callback: function(e) {
                            t.$set(t.phoneField, "value", e)
                        },
                        expression: "phoneField.value"
                    }
                })], 1) : t._e(), "stripe" == e.id ? [i("div", [i("stripe-elements", {
                    ref: "stripe",
                    refInFor: !0,
                    attrs: {
                        label: "Kortnummer",
                        autofocus: ""
                    },
                    on: {
                        change: t.cardChanged
                    }
                }), i("v-checkbox", {
                    attrs: {
                        label: t.$translate("Save card information for future purchases")
                    },
                    model: {
                        value: t.saveCard,
                        callback: function(e) {
                            t.saveCard = e
                        },
                        expression: "saveCard"
                    }
                }), i("v-alert", {
                    attrs: {
                        type: "info"
                    }
                }, [t._v(" " + t._s(t.$translate("SAVE_CARD_INFO")) + " ")])], 1)] : "stripe_saved" == e.id ? [i("stripe-elements", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: !1,
                        expression: "false"
                    }],
                    ref: "stripe",
                    refInFor: !0,
                    attrs: {
                        label: "Kortnummer"
                    }
                })] : "directdebit" == e.id ? [i("sign-direct-debit-consent")] : t._e(), e.id.startsWith("adyen-") && !e.id.startsWith("adyen-card:saved") ? [i("AdyenPayment", {
                    ref: "adyen",
                    refInFor: !0,
                    attrs: {
                        method: e.id
                    },
                    on: {
                        change: t.cardChanged
                    }
                })] : "invoice" == e.id ? [(t.$store.state.user.personalCodeNumber || t.invoice.personalCodeNumber.value && t.isValidPersonalCode(t.invoice.personalCodeNumber.value)) && !t.ageOkForInvoice ? i("v-alert", {
                    staticClass: "white--text",
                    attrs: {
                        color: "error"
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "white"
                    }
                }, [t._v("mdi-information-outline")]), t._v(" " + t._s(t.$translate("You must be over 18 years old to shop with an invoice.")) + " ")], 1) : t._e(), t.$store.state.settings && t.$store.state.settings.invoiceFee > 0 ? i("div", {
                    staticClass: "text--secondary z-small-font"
                }, [t._v(" " + t._s(t.$translate("A billing fee of {0} will be added").format(t.formatPrice(t.$store.state.settings.invoiceFee))) + " ")]) : t._e(), t.invoiceChangeAddress ? i("div", {
                    staticClass: "mt-2"
                }, [t.$store.state.user.personalCodeNumber ? t._e() : i("form-field", {
                    attrs: {
                        field: t.invoice.personalCodeNumber,
                        star: ""
                    },
                    model: {
                        value: t.invoice.personalCodeNumber.value,
                        callback: function(e) {
                            t.$set(t.invoice.personalCodeNumber, "value", e)
                        },
                        expression: "invoice.personalCodeNumber.value"
                    }
                }), i("form-field", {
                    attrs: {
                        field: t.invoice.name,
                        star: ""
                    },
                    model: {
                        value: t.invoice.name.value,
                        callback: function(e) {
                            t.$set(t.invoice.name, "value", e)
                        },
                        expression: "invoice.name.value"
                    }
                }), i("form-field", {
                    attrs: {
                        field: t.invoice.mail,
                        star: ""
                    },
                    model: {
                        value: t.invoice.mail.value,
                        callback: function(e) {
                            t.$set(t.invoice.mail, "value", e)
                        },
                        expression: "invoice.mail.value"
                    }
                }), i("form-field", {
                    attrs: {
                        field: t.invoice.address,
                        star: ""
                    },
                    model: {
                        value: t.invoice.address.value,
                        callback: function(e) {
                            t.$set(t.invoice.address, "value", e)
                        },
                        expression: "invoice.address.value"
                    }
                }), i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [i("form-field", {
                    staticClass: "mr-2",
                    attrs: {
                        field: t.invoice.zipCode,
                        star: ""
                    },
                    model: {
                        value: t.invoice.zipCode.value,
                        callback: function(e) {
                            t.$set(t.invoice.zipCode, "value", e)
                        },
                        expression: "invoice.zipCode.value"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [i("form-field", {
                    staticClass: "ml-2",
                    attrs: {
                        field: t.invoice.city,
                        star: ""
                    },
                    model: {
                        value: t.invoice.city.value,
                        callback: function(e) {
                            t.$set(t.invoice.city, "value", e)
                        },
                        expression: "invoice.city.value"
                    }
                })], 1)], 1)], 1) : i("div", [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t._v(" " + t._s(t.$store.state.user.firstname) + " " + t._s(t.$store.state.user.lastname) + " ")]), i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t._v(" " + t._s(t.$store.state.user.personalCodeNumber) + " ")])], 1), i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t._v(" " + t._s(t.$store.state.user.address) + " ")]), i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t.$store.state.user.mail ? i("div", [t._v(t._s(t.$store.state.user.mail))]) : i("div", {
                    staticClass: "text--secondary"
                }, [t._v(t._s(t.$translate("Email is missing")))])])], 1), i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t._v(" " + t._s(t.$store.state.user.zipCode) + " " + t._s(t.$store.state.user.city) + " ")]), i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [t.$store.state.user.phone ? i("div", [t._v(t._s(t.$store.state.user.phone))]) : i("div", {
                    staticClass: "text--secondary"
                }, [t._v(t._s(t.$translate("Phone is missing")))])])], 1), i("span", {
                    staticClass: "z-clickable primary--text text-decoration-none",
                    on: {
                        click: function(e) {
                            t.invoiceChangeAddress = !0
                        }
                    }
                }, [t._v(t._s(t.$translate("Change")))])], 1), t.selectedMethod.company_invoice ? i("form-field", {
                    attrs: {
                        field: t.companyInvoice.enable
                    },
                    model: {
                        value: t.companyInvoice.enable.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.enable, "value", e)
                        },
                        expression: "companyInvoice.enable.value"
                    }
                }) : t._e(), t.companyInvoice.enable.value && t.selectedMethod.company_invoice ? i("div", [i("form-field", {
                    attrs: {
                        field: t.companyInvoice.name,
                        star: ""
                    },
                    model: {
                        value: t.companyInvoice.name.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.name, "value", e)
                        },
                        expression: "companyInvoice.name.value"
                    }
                }), i("form-field", {
                    attrs: {
                        field: t.companyInvoice.mail,
                        star: ""
                    },
                    model: {
                        value: t.companyInvoice.mail.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.mail, "value", e)
                        },
                        expression: "companyInvoice.mail.value"
                    }
                }), i("form-field", {
                    attrs: {
                        field: t.companyInvoice.address,
                        star: ""
                    },
                    model: {
                        value: t.companyInvoice.address.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.address, "value", e)
                        },
                        expression: "companyInvoice.address.value"
                    }
                }), i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [i("form-field", {
                    staticClass: "mr-2",
                    attrs: {
                        field: t.companyInvoice.zipCode,
                        star: ""
                    },
                    model: {
                        value: t.companyInvoice.zipCode.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.zipCode, "value", e)
                        },
                        expression: "companyInvoice.zipCode.value"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [i("form-field", {
                    staticClass: "ml-2",
                    attrs: {
                        field: t.companyInvoice.city,
                        star: ""
                    },
                    model: {
                        value: t.companyInvoice.city.value,
                        callback: function(e) {
                            t.$set(t.companyInvoice.city, "value", e)
                        },
                        expression: "companyInvoice.city.value"
                    }
                })], 1)], 1)], 1) : t._e()] : t._e()], 2) : t._e()])
            }
            )), 0)], 1)], 1) : t._e()]), t.hasWebShop && isNaN(t.totalFromServer) && !t.gettingTotalsFromServer && t.itemsForTotal.length > 0 ? i("div", {
                staticClass: "pa-2"
            }, [i("v-icon", {
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-alert")]), t._v(t._s(t.$translate("The shopping cart seems to be broken. It is not possible to complete the purchase.")) + " ")], 1) : t._e()], 1) : t._e(), i("div", {
                staticClass: "my-2"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-information-outline")]), i("span", [t._v(" " + t._s(t.$store.state.user ? t.$translate("When you complete an order, you agree to") : t.$translate("By identifying yourself, you agree to")) + " "), i("a", {
                attrs: {
                    href: ""
                },
                on: {
                    click: function(e) {
                        e.preventDefault(),
                        t.showTerms = !0
                    }
                }
            }, [t._v(t._s(t.$translate("TERMS_AND_CONDITIONS")))]), t._v(" " + t._s(t.$translate("and our handling of personal data in")) + " "), i("a", {
                attrs: {
                    href: ""
                },
                on: {
                    click: function(e) {
                        e.preventDefault(),
                        t.showPolicy = !0
                    }
                }
            }, [t._v(t._s(t.$translate("PRIVACY_POLICY")))]), t._v(". ")]), t.showTerms ? i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showTerms,
                    callback: function(e) {
                        t.showTerms = e
                    },
                    expression: "showTerms"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: t.termsConfig
                }
            }), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showTerms = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1) : t._e(), t.showPolicy ? i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showPolicy,
                    callback: function(e) {
                        t.showPolicy = e
                    },
                    expression: "showPolicy"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: t.policyConfig
                }
            }), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showPolicy = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1) : t._e()], 1), t.$store.state.user && t.showPaymentPart && t.showPaymentButton ? i("v-btn", {
                staticClass: "rounded-0 zoezi-button-thin",
                attrs: {
                    disabled: !t.readyToPay,
                    block: "",
                    color: "#7bbd1b",
                    dark: t.readyToPay,
                    "x-large": "",
                    loading: t.loading
                },
                on: {
                    click: t.completePurchase
                }
            }, [isNaN(t.totalFromServer) ? void 0 : t.totalFromServer > 0 ? [t._v(" " + t._s(t.$translate("Pay")) + " " + t._s(t._f("price")(t.totalFromServer)) + " ")] : [t._v(" " + t._s(t.$translate("Confirm Purchase")) + " ")]], 2) : t._e()], 1)], 2) : t._e(), t.showSummary ? i("v-col", {
                attrs: {
                    md: t.showSummary && t.showPaymentPart ? 6 : 12,
                    cols: "12"
                }
            }, [i("div", {
                ref: "summary",
                staticClass: "zoezi-checkout-summary mx-2 my-2"
            }, [i("checkout-reservation-time", {
                attrs: {
                    items: t.computedItems,
                    disabled: t.loading
                },
                on: {
                    timeout: function(e) {
                        return t.$emit("reservation-timeout")
                    },
                    isExpired: function(e) {
                        t.hasExpiredItems = e
                    }
                }
            }), t.loadingProducts ? i("div", {
                staticClass: "d-flex justify-center fill-width"
            }, [i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary",
                    size: "64",
                    width: "2"
                }
            })], 1) : t._e(), t.visibleItems.length ? i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    multiple: ""
                },
                model: {
                    value: t.expandedItems,
                    callback: function(e) {
                        t.expandedItems = e
                    },
                    expression: "expandedItems"
                }
            }, [i("transition-group", {
                staticClass: "z-contents",
                attrs: {
                    "enter-active-class": "animate__animated animate__bounceInLeft",
                    "leave-active-class": "animate__animated animate__bounceOutRight"
                }
            }, [t._l(t.visibleItemsTop, (function(e) {
                return i("checkout-item-row", {
                    key: t.getItemKey(e, "top"),
                    attrs: {
                        item: e,
                        "total-from-server-object": t.totalFromServerObject,
                        "user-read-only": t.userReadOnly,
                        "value-card-cannot-be-used": t.valueCardCannotBeUsed,
                        "items-contain-periodic-cards": t.itemsContainPeriodicCards,
                        "count-read-only": t.countReadOnly,
                        "summary-width": t.summaryWidth
                    },
                    on: {
                        attemptChangeNumberOfItems: t.attemptChangeNumberOfItems,
                        changeItemUsers: function(e, i) {
                            return t.$emit("changeItemUsers", e, i)
                        },
                        removeItem: t.removeItem
                    }
                })
            }
            )), t.visibleItemsTop.length > 0 && t.visibleItemsFromCart.length > 0 ? i("div", {
                key: "divider",
                staticClass: "mt-2"
            }, [i("div", {
                staticClass: "text-center"
            }, [t._v(t._s(t.$translate("Items in the shopping cart")))])]) : t._e(), t._l(t.visibleItemsFromCart, (function(e) {
                return i("checkout-item-row", {
                    key: t.getItemKey(e, "cart"),
                    attrs: {
                        item: e,
                        "total-from-server-object": t.totalFromServerObject,
                        "user-read-only": t.userReadOnly,
                        "value-card-cannot-be-used": t.valueCardCannotBeUsed,
                        "items-contain-periodic-cards": t.itemsContainPeriodicCards,
                        "count-read-only": t.countReadOnly,
                        "summary-width": t.summaryWidth
                    },
                    on: {
                        attemptChangeNumberOfItems: t.attemptChangeNumberOfItems,
                        changeItemUsers: function(e, i) {
                            return t.$emit("changeItemUsers", e, i)
                        },
                        removeItem: t.removeItem
                    }
                })
            }
            )), t.showSum ? i("v-expansion-panel", {
                key: "sum"
            }, [i("v-expansion-panel-header", {
                staticClass: "pa-2"
            }, [i("div", {
                staticClass: "d-flex flex-column"
            }, [i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Sum")) + " ")]), i("span", {
                staticClass: "text--secondary",
                staticStyle: {
                    "font-size": "smaller"
                }
            }, [t._v(t._s(t.$translate("incl. VAT")))])]), isNaN(t.totalFromServer) ? t._e() : i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t._f("price")(t.totalFromServer)))])]), t.cartHasContinuousPayment ? i("div", {
                staticClass: "d-flex"
            }, [i("v-spacer"), i("div", [t._v(t._s(t.$translate("Thereafter")) + " "), t._l(t.totalFromServerObject.subscriptions, (function(e, s) {
                return i("span", {
                    key: s
                }, [t._v(t._s(t._f("price")(e.price)) + " per " + t._s(t.$translate(e.price_type).toLowerCase())), s != t.totalFromServerObject.subscriptions.length - 1 ? i("span", [t._v(", ")]) : t._e()])
            }
            ))], 2)], 1) : t._e()])]), i("v-expansion-panel-content", {
                staticClass: "pa-2"
            }, [t.totalFromServerObject && t.totalFromServerObject.vats ? i("div", {
                staticClass: "ml-10"
            }, [i("div", {
                staticClass: "d-flex flex-column"
            }, [t._l(Object.keys(t.totalFromServerObject.vats).filter((function(e) {
                return t.totalFromServerObject.vats[e]
            }
            )).sort((function(t, e) {
                return t - e
            }
            )), (function(e) {
                return i("div", {
                    key: e,
                    staticClass: "d-flex flex-row"
                }, [i("div", {
                    staticClass: "flex-grow-1"
                }, [t._v(t._s(t.$translate("VAT")) + " " + t._s(e) + "%")]), i("div", [t._v(t._s(t._f("price")(t.totalFromServerObject.vats[e])))])])
            }
            )), i("div", {
                staticClass: "d-flex flex-row"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Total VAT")))]), i("div", [t._v(t._s(t._f("price")(Object.values(t.totalFromServerObject.vats).reduce((function(t, e) {
                return t + e
            }
            ), 0))))])])], 2)]) : t._e()])], 1) : t._e()], 2)], 1) : t._e(), t.canEnterDiscountOrGiftcard ? i("div", [i("v-form", {
                attrs: {
                    disabled: t.loading
                },
                on: {
                    submit: function(e) {
                        return e.preventDefault(),
                        t.addCode.apply(null, arguments)
                    }
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Enter discount code or gift card"),
                    loading: t.loadingCode,
                    disabled: t.loadingCode,
                    "error-messages": t.discountErrorText
                },
                scopedSlots: t._u([{
                    key: "append-outer",
                    fn: function() {
                        return [t.code ? i("zoezi-button", {
                            staticClass: "mt-n1",
                            attrs: {
                                text: t.$translate("Use code"),
                                thin: "",
                                color: "white",
                                "text-color": "black",
                                loading: t.loadingCode
                            },
                            on: {
                                click: t.addCode
                            }
                        }) : t._e()]
                    },
                    proxy: !0
                }], null, !1, 2060794848),
                model: {
                    value: t.code,
                    callback: function(e) {
                        t.code = "string" === typeof e ? e.trim() : e
                    },
                    expression: "code"
                }
            })], 1)], 1) : t._e()], 1)]) : t._e()], 1), t.swishToken ? i("v-dialog", {
                attrs: {
                    "max-width": "400",
                    persistent: ""
                },
                model: {
                    value: t.showSwishDialog,
                    callback: function(e) {
                        t.showSwishDialog = e
                    },
                    expression: "showSwishDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Pay with Swish")) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: t.cancelSwish
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "d-flex flex-column align-center"
            }, [i("img", {
                attrs: {
                    src: t.swishQR,
                    width: "300",
                    height: "300"
                }
            }), t._v(" " + t._s(t.$translate("Open the Swish app and scan the QR code"))), t.isMobileWithSwish ? i("span", [t._v(" " + t._s(t.$translate("or press the button to open Swish.")))]) : t._e()]), t.isMobileWithSwish ? i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.openSwish
                }
            }, [t._v(t._s(t.$translate("Open Swish")))])], 1) : t._e()], 1)], 1) : t._e()], 2)
        }
          , a = []
          , o = (i("13d5"),
        i("0382"))
          , n = i("cb20")
          , r = i("c1ee")
          , l = i("1a9e")
          , c = i("8479")
          , d = i("9fc1")
          , u = i("e0eb")
          , h = i("2ef0")
          , m = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panel", {
                attrs: {
                    readonly: t.item.product && ("trainingcard" == t.item.product.type || "membership" == t.item.product.type)
                },
                on: {
                    animationend: function(e) {
                        t.animated = !1
                    }
                }
            }, [i("v-expansion-panel-header", {
                staticClass: "pa-2",
                attrs: {
                    "hide-actions": t.item.product && ("trainingcard" == t.item.product.type || "membership" == t.item.product.type)
                }
            }, [i("div", {
                key: t.item.count,
                staticClass: "d-flex flex-column animate__animated animate__bounceIn"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-avatar", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary",
                    size: "32"
                }
            }, [t.item.imagekey ? i("v-auto-img", {
                attrs: {
                    src: t.item.imagekey ? t.item.imagekey : void 0,
                    height: "32",
                    width: "32"
                }
            }) : t._e(), t.item.imagekey ? t._e() : i("span", {
                staticClass: "white--text"
            }, [t._v(t._s(t.item.name.substr(0, 1)))])], 1), i("div", {
                staticClass: "flex-grow-1"
            }, [1 == t.item.count || t.item.product_id ? t._e() : i("span", [t._v(t._s(t.item.count) + " x ")]), t._v(t._s(t.item.name)), t.item.variant ? i("span", [t._v(", " + t._s(t.item.variant))]) : t._e()]), t.showProductCount ? i("div", {
                staticClass: "mr-2 text-no-wrap"
            }, [i("product-count", {
                attrs: {
                    value: t.item.count,
                    disabled: t.countReadOnly
                },
                on: {
                    input: function(e) {
                        return t.attemptChangeNumberOfItems(t.item, e)
                    }
                }
            })], 1) : t.showRemoveButton ? i("div", {
                staticClass: "mr-2 text-no-wrap"
            }, [i("v-btn", {
                attrs: {
                    small: "",
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.removeItem(t.item)
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1) : t._e(), t.hasPayment ? i("div", {
                staticClass: "text-no-wrap font-weight-bold",
                class: {
                    "red--text": t.item.total < 0,
                    "primary--text": t.item.total > 0
                }
            }, [t._v(t._s(t._f("price")(t.item.total)))]) : t._e()], 1), t.item.product_id && t.totalFromServerObject && t.totalFromServerObject.subscriptions_pay_now && t.totalFromServerObject.subscriptions_pay_now[t.item.product_id] ? i("div", {
                staticStyle: {
                    "margin-left": "40px"
                }
            }, [t._v(" " + t._s(t.$translate("Partial perdiod")) + " " + t._s(Date.newFull(t.totalFromServerObject.subscriptions_pay_now[t.item.product_id].from_date).daysUntil(t.totalFromServerObject.subscriptions_pay_now[t.item.product_id].to_date)) + " " + t._s(t.$translate("days")) + " " + t._s(Date.dateToDateString(t.totalFromServerObject.subscriptions_pay_now[t.item.product_id].from_date, t.totalFromServerObject.subscriptions_pay_now[t.item.product_id].to_date)) + ": " + t._s(t._f("price")(t.totalFromServerObject.subscriptions_pay_now[t.item.product_id].amount)) + " ")]) : t._e(), !t.item.product || "trainingcard" != t.item.product.type && "membership" != t.item.product.type ? t.item.user_id && t.canBuyFor.find((function(e) {
                return e.id == t.item.user_id && t.item.user_id != t.$store.state.user.id
            }
            )) ? i("div", {
                staticClass: "mt-2",
                staticStyle: {
                    "margin-left": "40px"
                }
            }, [t._v(" " + t._s(t.canBuyFor.find((function(e) {
                return e.id == t.item.user_id
            }
            )).name) + " ")]) : t.item.users && t.item.users.length ? i("div", {
                staticClass: "mt-2",
                staticStyle: {
                    "margin-left": "40px"
                }
            }, t._l(t.item.users.map((function(e) {
                return t.canBuyFor.find((function(i) {
                    return i.id == e && e != t.$store.state.user.id
                }
                ))
            }
            )).filter((function(t) {
                return t
            }
            )), (function(e) {
                return i("div", {
                    key: e.id
                }, [t._v(" " + t._s(e.name)), i("br")])
            }
            )), 0) : t._e() : i("div", {
                staticClass: "mt-2",
                staticStyle: {
                    "margin-left": "40px"
                }
            }, [t.$store.state.user && !t.userReadOnly ? t._l(t.item.count, (function(e) {
                return i("div", {
                    key: e
                }, [i("h4", [t._v(t._s(1 == t.item.count ? t.$translate("I buy this product for") : t.$translate("I buy the {0} product for").format(t.getOrder(e))) + " "), i("v-icon", {
                    attrs: {
                        small: "",
                        color: t.item.users[e - 1] ? "success" : "error"
                    }
                }, [t._v(t._s(t.item.users[e - 1] ? "mdi-check" : "mdi-star"))])], 1), i("v-radio-group", {
                    staticClass: "mb-0 pb-0",
                    model: {
                        value: t.item.users[e - 1],
                        callback: function(i) {
                            t.$set(t.item.users, e - 1, i)
                        },
                        expression: "item.users[c-1]"
                    }
                }, t._l(t.canBuyFor, (function(s) {
                    return i("v-radio", {
                        key: s.id,
                        attrs: {
                            label: s.name,
                            value: s.id,
                            color: "primary"
                        },
                        scopedSlots: t._u([{
                            key: "label",
                            fn: function() {
                                return [i("zoezi-user-avatar", {
                                    attrs: {
                                        user: s,
                                        size: 28
                                    }
                                }), i("span", {
                                    class: {
                                        "primary--text": t.item.users[e - 1] == s.id
                                    }
                                }, [t._v(t._s(s.name))])]
                            },
                            proxy: !0
                        }], null, !0)
                    })
                }
                )), 1), i("v-btn", {
                    staticClass: "zoezi-button-thin",
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.addUser(t.item, e - 1)
                        }
                    }
                }, [i("v-icon", {
                    staticClass: "mr-1",
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-plus-circle")]), t._v(t._s(t.$translate("Add new person")))], 1)], 1)
            }
            )) : !t.$store.state.user && t.item.count > 1 ? i("p", {
                staticClass: "error--text"
            }, [t._v(" " + t._s(t.$translate("Identify yourself first in order to then be able to choose who should receive the products")) + " ")]) : t._e()], 2)])]), i("v-expansion-panel-content", {
                staticClass: "pa-2"
            }, [i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, ["giftcard" == t.item.type ? [i("div", [t._v(t._s(t.$translate("Remaining after purchase")) + ": " + t._s(t._f("price")(t.item.left)))]), i("div", [t._v(t._s(t.$translate("Valid to")) + ": " + t._s(t.item.card.validToDate))])] : "discount" == t.item.type ? [t.item.percent ? i("div", [t._v(t._s(t.item.percent) + " % " + t._s(t.$translate("discount")))]) : t._e(), t.item.fixed ? i("div", [t._v(t._s(t._f("price")(t.item.fixed)) + " " + t._s(t.$translate("deduction")))]) : t._e()] : "valuecard" == t.item.type ? [t.valueCardCannotBeUsed ? i("div", [t.itemsContainPeriodicCards ? [t._v(" " + t._s(t.$translate("Value cards cannot be used to pay for a product with split payment.")) + " ")] : [t._v(" " + t._s(t.$translate("You have a value card that does not cover the entire cost. Unfortunately, it cannot be used on this purchase as value cards cannot be used on a partial amount in combination with available payment methods.")) + " ")]], 2) : t._e(), i("div", [t._v(t._s(t.$translate("Remaining after purchase")) + ": " + t._s(t._f("price")(t.item.left)))])] : "resourcebooking" == t.item.type ? t._l(t.item.slots, (function(e, s) {
                return i("div", {
                    key: s,
                    staticClass: "mb-2"
                }, [i("resource-booking-checkout-item", {
                    attrs: {
                        service: t.item.service,
                        start: e.start,
                        staff: t.item.service.staffs.find((function(t) {
                            return t.id == e.staff_id
                        }
                        )),
                        "optional-resources": e.optional_resources
                    }
                })], 1)
            }
            )) : "punchcard" == t.item.type ? [t.item.card.validToDate ? i("div", [t._v(t._s(t.$translate("Valid to")) + ": " + t._s(Date.newFull(t.item.card.validToDate).yyyymmdd()))]) : i("div", [t._v(t._s(t.$translate("Subscription card")))]), i("div", [t._v(t._s(t.$translate("Punches remaining after purchase")) + ": " + t._s(t.item.leftAfterPurchase))])] : "product" == t.item.type ? [t.item.count > 1 ? i("div", [t._v(" " + t._s(t.$translate("Count")) + ": " + t._s(t.item.count)), i("br"), t._v(" " + t._s(t.$translate("Price per unit")) + ": " + t._s(t._f("price")(t.item.price))), i("br"), i("br")]) : t._e(), t.item.product.description ? i("div", {
                style: {
                    maxWidth: t.summaryWidth + "px",
                    overflowX: "clip",
                    overflowY: "scroll",
                    maxHeight: "200px"
                },
                domProps: {
                    innerHTML: t._s(t.item.product.description)
                }
            }) : i("div", [t._v(" " + t._s(t.$translate("There is no further description of the product.")) + " ")])] : "workoutbooking" == t.item.type ? [t._t("workoutbooking", null, {
                item: t.item
            })] : "payment" == t.item.type ? t._l(t.item.payments, (function(e, s) {
                return i("div", {
                    key: s
                }, [t._v(" " + t._s(e.name)), i("br"), t._v(" " + t._s(t.$translate("Amount")) + ": " + t._s(t._f("price")(e.amount))), i("br"), i("span", {
                    class: {
                        "error--text": Date.newFull(e.date).isPastDate()
                    }
                }, [t._v(t._s(t.$translate("Due date")) + ": " + t._s(Date.newFull(e.date).yyyymmdd()))])])
            }
            )) : t._e()], 2), "giftcard" == t.item.type || "valuecard" == t.item.type || "discount" == t.item.type ? i("v-btn", {
                attrs: {
                    small: "",
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.removeItem(t.item)
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1) : t._e()], 1)])], 1)
        }
          , p = []
          , v = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-calendar-clock")]), t._v(t._s(Date.formatFullShortRelative(t.start).capitalize()) + " ")], 1)]), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-clock-outline")]), t._v(t._s(Date.newFull(t.start).hhmm()) + " ")], 1)])], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-clock-outline")]), t._v(t._s(t.service.duration) + " " + t._s(t.$translate("minutes")) + " ")], 1)]), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-account-outline")]), t._v(t._s(t.staffName) + " ")], 1)])], 1), t.optionalResources && t.optionalResources.length ? t._l(t.resolvedOptionalResources, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "my-1"
                }, [i("v-avatar", {
                    staticClass: "mr-2",
                    attrs: {
                        size: 32
                    }
                }, [i("v-auto-img", {
                    attrs: {
                        src: e.imagekey
                    }
                })], 1), t._v(" " + t._s(e.lastname) + " ")], 1)
            }
            )) : t._e()], 2)
        }
          , g = []
          , f = {
            name: "zoezi-resourcebooking-checkout-item",
            props: ["service", "start", "staff", "optionalResources"],
            computed: {
                staffName() {
                    return Object(u["n"])(this.staff)
                },
                resolvedOptionalResources() {
                    var t;
                    return null === (t = this.optionalResources) || void 0 === t ? void 0 : t.map(t=>this.service.resources.find(e=>e.id == t))
                }
            }
        }
          , b = f
          , y = i("2877")
          , _ = i("6544")
          , k = i.n(_)
          , w = i("8212")
          , C = i("62ad")
          , x = i("132d")
          , $ = i("0fd9")
          , S = Object(y["a"])(b, v, g, !1, null, null, null)
          , D = S.exports;
        k()(S, {
            VAvatar: w["a"],
            VCol: C["a"],
            VIcon: x["a"],
            VRow: $["a"]
        });
        var z = i("ba48")
          , T = i("808f")
          , I = {
            name: "zoezi-checkout-item-row",
            props: ["item", "totalFromServerObject", "userReadOnly", "valueCardCannotBeUsed", "itemsContainPeriodicCards", "countReadOnly", "summaryWidth"],
            components: {
                ResourceBookingCheckoutItem: D,
                ProductCount: z["a"],
                ZoeziUserAvatar: T["a"]
            },
            computed: {
                hasPayment() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.Payment)
                },
                canBuyFor() {
                    return this.$store.state.user ? this.$store.state.user.canBookFor.map(t=>({
                        id: t.id,
                        name: t.id == this.$store.state.user.id ? this.$translate("Myself") : t.name,
                        imagekey: t.imagekey
                    })) : []
                },
                showProductCount() {
                    return this.item.product && "course" != this.item.product.type
                },
                showRemoveButton() {
                    return !this.showProductCount && this.item.fromCart
                }
            },
            methods: {
                attemptChangeNumberOfItems(t, e) {
                    this.$emit("attemptChangeNumberOfItems", t, e)
                },
                getOrder(t) {
                    const e = {
                        1: "first",
                        2: "second",
                        3: "third",
                        4: "fourth",
                        5: "fifth",
                        6: "sixth",
                        7: "seventh",
                        8: "eighth",
                        9: "ninth"
                    };
                    return t < 10 ? this.$translate(e[t]) : t
                },
                addUser(t, e) {
                    this.$store.commit("showAddUserDialog", {
                        title: this.$translate("Add new person"),
                        callback: i=>{
                            let s = t.users.concat();
                            s[e] = i.id,
                            this.$emit("changeItemUsers", t, s)
                        }
                    })
                },
                removeItem(t) {
                    this.$emit("removeItem", t)
                }
            }
        }
          , P = I
          , V = i("8336")
          , B = i("cd55")
          , F = i("49e2")
          , E = i("c865")
          , O = i("67b6")
          , M = i("43a6")
          , A = Object(y["a"])(P, m, p, !1, null, null, null)
          , R = A.exports;
        k()(A, {
            VAvatar: w["a"],
            VBtn: V["a"],
            VExpansionPanel: B["a"],
            VExpansionPanelContent: F["a"],
            VExpansionPanelHeader: E["a"],
            VIcon: x["a"],
            VRadio: O["a"],
            VRadioGroup: M["a"]
        });
        var L = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.expireTime ? i("div", [t._v(" " + t._s(t.reservationText) + " "), i("v-progress-linear", {
                attrs: {
                    value: t.progressValue,
                    color: t.progressColor
                }
            })], 1) : t._e()
        }
          , j = []
          , N = {
            name: "zoezi-checkout-reservation-time",
            props: ["items", "disabled"],
            data: ()=>({
                expireTime: null,
                now1s: new Date,
                isLoading: !0,
                timeout: null,
                interval: null
            }),
            computed: {
                reservationKeys() {
                    var t;
                    return (null === (t = this.items) || void 0 === t ? void 0 : t.filter(t=>t.reservation).map(t=>t.reservation)) || []
                },
                isExpired() {
                    return this.expireTime && this.expireTime < this.now1s
                },
                remainingTime() {
                    if (!this.expireTime)
                        return "";
                    const t = this.expireTime - this.now1s;
                    if (t <= 0)
                        return "";
                    if (t <= 6e4) {
                        const e = (t / 1e3).toFixed(0);
                        return 1 == e ? "1 " + this.$translate("second") : e + " " + this.$translate("seconds")
                    }
                    {
                        const e = Math.floor(t / 6e4);
                        return 1 == e ? "1 " + this.$translate("minute") : e + " " + this.$translate("minutes")
                    }
                },
                reservationText() {
                    return this.remainingTime ? this.$translate("Booking is reserved for {0}").format(this.remainingTime) : this.$translate("Reservation is expired")
                },
                progressValue() {
                    if (!this.expireTime)
                        return 0;
                    const t = 60 * this.timeout * 1e3
                      , e = this.expireTime - this.now1s;
                    return e / t * 100
                },
                progressColor() {
                    const t = Math.floor((this.expireTime - this.now1s) / 6e4);
                    return t <= 1 ? "red" : t <= 5 ? "orange" : "green"
                }
            },
            methods: {
                async validateReservations() {
                    if (this.disabled)
                        return;
                    if (0 == this.reservationKeys.length)
                        return void (this.expireTime = null);
                    const t = await this.$api.post("/api/resource/reservation/validate", {
                        key: this.reservationKeys
                    });
                    let e = await t.json();
                    if (e = Object(u["f"])(e),
                    !this.disabled && (e.expire_utc && (this.expireTime = new Date(e.expire_utc.getTime() - 6e4 * e.expire_utc.getTimezoneOffset())),
                    this.timeout = e.timeout,
                    !e.result)) {
                        this.expireTime = Date.newFull("1970-01-01");
                        let t = e.expired_keys.map(this.getItemTitle).filter(t=>t).join(", ");
                        t && !this.$store.state.errorDialog.show && this.$store.commit("showErrorDialog", {
                            title: this.$translate("Reservation expired"),
                            text: this.$translate("The reservation for {0} expired").format(t)
                        }),
                        e.expired_keys.forEach(this.removeCartItem),
                        this.$emit("timeout")
                    }
                },
                getItemTitle(t) {
                    const e = this.items.find(e=>e.reservation == t);
                    return null === e || void 0 === e ? void 0 : e.name
                },
                removeCartItem(t) {
                    const e = this.$store.state.carts || {};
                    for (const i of Object.values(e)) {
                        const e = i.items.find(e=>e.reservation == t);
                        if (e) {
                            const s = i.items.filter(i=>i.reservation == t || e.tmp_id && i.tmp_id == e.tmp_id || e.tmp_id && i.rbooking_id == e.tmp_id);
                            s.forEach(t=>{
                                const e = i.items.indexOf(t);
                                e >= 0 && i.items.splice(e, 1)
                            }
                            )
                        }
                    }
                }
            },
            watch: {
                reservationKeys: {
                    immediate: !0,
                    handler() {
                        this.validateReservations()
                    }
                },
                isExpired() {
                    this.isExpired && this.validateReservations(),
                    this.$emit("isExpired", this.isExpired)
                },
                "$store.state.now30s"() {
                    this.validateReservations()
                }
            },
            mounted() {
                this.interval = setInterval(()=>this.now1s = new Date, 1e3)
            },
            beforeDestroy() {
                clearInterval(this.interval)
            }
        }
          , W = N
          , q = i("8e36")
          , H = Object(y["a"])(W, L, j, !1, null, null, null)
          , U = H.exports;
        k()(H, {
            VProgressLinear: q["a"]
        });
        var Y = i("82dc")
          , G = {
            name: "zoezi-checkout",
            zoezi: {
                title: "Utcheckning",
                icon: "mdi-cash-register",
                internal: !0
            },
            props: {
                items: {
                    title: "Varor",
                    type: Array
                },
                useCart: {
                    title: "Använd varukorg",
                    type: Boolean,
                    default: !1
                },
                cartName: {
                    title: "Varukorgsnamn",
                    type: String,
                    default: ""
                },
                expandFirstItem: {
                    title: "Expandera första varan",
                    type: Boolean,
                    default: !1
                },
                showBackLink: {
                    title: "Visa tillbakalänk",
                    type: Boolean,
                    default: !1
                },
                showSummary: {
                    title: "Visa varukorgen",
                    type: Boolean,
                    default: !0
                },
                showPaymentPart: {
                    title: "Visa betaldelen",
                    type: Boolean,
                    default: !0
                },
                showPaymentButton: {
                    title: "Visa betalknappen",
                    type: Boolean,
                    default: !0
                },
                contentTarget: {
                    title: "Visa betaldelen på annat ställe med <portal>",
                    type: String
                },
                countReadOnly: {
                    title: "Tillåt inte att ändra antal",
                    type: Boolean,
                    default: !1
                },
                userReadOnly: {
                    title: "Tillåt inte att ändra personer",
                    type: Boolean,
                    default: !1
                },
                cancelRules: {
                    title: "Avbokningsvillkor",
                    type: Object
                },
                showSum: {
                    title: "Visa summa-rad",
                    type: Boolean,
                    default: !0
                },
                forceDone: {
                    type: Boolean,
                    default: !1
                },
                siteId: {
                    title: "Anläggning",
                    type: Number,
                    default: 1
                },
                identificationTitle: {
                    title: "Titel för identifikation",
                    type: String
                },
                identificationSubTitle: {
                    title: "Undertitel för identifikation",
                    type: String
                },
                newStyleDoneDialog: {
                    type: Boolean,
                    default: !1
                },
                dialog: {
                    title: "Kommer visas i en dialogruta",
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                StripeElements: o["a"],
                FormField: r["a"],
                ZoeziIdentification: l["a"],
                SignDirectDebitConsent: c["a"],
                CancelRulesDialog: d["a"],
                AdyenPayment: n["a"],
                CheckoutItemRow: R,
                CheckoutReservationTime: U
            },
            data: ()=>({
                animated: !1,
                done: !1,
                orderconfirmation: null,
                expandedItems: [],
                methods: [],
                allProducts: [],
                selectedMethodId: null,
                paidByMethod: null,
                formValid: !1,
                cardValid: !1,
                loading: !1,
                loadingCode: !1,
                adyenProcess: !1,
                code: "",
                codeError: !1,
                discountError: !1,
                discountErrorCode: "",
                multiDiscountError: !1,
                saveCard: !1,
                savedCard: {},
                addedGiftCards: [],
                addedDiscounts: [],
                valueCardRemoved: !1,
                valueCardCannotBeUsed: !1,
                totalFromServer: NaN,
                totalFromServerObject: {},
                gettingTotalsFromServer: 0,
                lastTotalsValueUsed: null,
                mailField: {
                    type: "email",
                    title: "E-mail",
                    required: !0,
                    readonly: !1,
                    hint: "The receipt is sent to the specified e-mail address",
                    value: ""
                },
                phoneField: {
                    type: "phone",
                    title: "Phone",
                    required: !0,
                    readonly: !1,
                    value: ""
                },
                showTerms: !1,
                showPolicy: !1,
                invoiceChangeAddress: !1,
                invoice: {
                    personalCodeNumber: {
                        type: "personalCodeNumber",
                        title: "Personal code number",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    name: {
                        type: "text",
                        title: "First & last name",
                        required: !0,
                        autofocus: !0,
                        readonly: !1,
                        value: ""
                    },
                    mail: {
                        type: "email",
                        title: "E-mail",
                        required: !0,
                        readonly: !1,
                        hint: "The invoice is sent to you via the specified email address",
                        value: ""
                    },
                    address: {
                        type: "text",
                        title: "Street address",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    zipCode: {
                        type: "text",
                        title: "Zip code",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    city: {
                        type: "text",
                        title: "Postal town",
                        required: !0,
                        readonly: !1,
                        value: ""
                    }
                },
                companyInvoice: {
                    enable: {
                        type: "checkbox",
                        title: "Company invoice",
                        required: !1,
                        readonly: !1,
                        value: ""
                    },
                    name: {
                        type: "text",
                        title: "Company name",
                        required: !0,
                        autofocus: !0,
                        readonly: !1,
                        value: ""
                    },
                    mail: {
                        type: "email",
                        title: "Company e-mail",
                        required: !0,
                        readonly: !1,
                        hint: "The invoice is sent to you via the specified email address",
                        value: ""
                    },
                    address: {
                        type: "text",
                        title: "Street address",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    zipCode: {
                        type: "text",
                        title: "Zip code",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    city: {
                        type: "text",
                        title: "Postal town",
                        required: !0,
                        readonly: !1,
                        value: ""
                    }
                },
                cancelRulesAccepted: !1,
                showCancelRules: !1,
                swishToken: null,
                swishTransactionId: null,
                showSwishDialog: !1,
                multiUserPurchase: !1,
                summaryWidth: 0,
                hasExpiredItems: !1,
                loadingProducts: !1,
                beginCheckoutReported: !1
            }),
            computed: {
                hasWebShop() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.WebShop)
                },
                hasPayment() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.Payment)
                },
                isMobileWithSwish() {
                    return /Android|iPhone|iPad/i.test(navigator.userAgent)
                },
                swishQR() {
                    return this.$api.getAssetUrl("/api/payment/swish/qr") + "?format=png&size=300&token=" + this.swishToken
                },
                selectedMethod() {
                    return this.filteredMethods.find(t=>t.id == this.selectedMethodId)
                },
                cartHasContinuousPayment() {
                    var t, e;
                    return (null === this || void 0 === this || null === (t = this.totalFromServerObject) || void 0 === t || null === (e = t.subscriptions) || void 0 === e ? void 0 : e.length) > 0
                },
                mustSelectUsers() {
                    return !!this.computedItems.filter(t=>t.product && ("trainingcard" == t.product.type || "membership" == t.product.type)).find(t=>{
                        for (let e = 0; e < t.count; ++e)
                            if (!t.users[e])
                                return !0
                    }
                    )
                },
                mustSelectUsersIndices() {
                    let t = [];
                    return this.visibleItems.filter(t=>t.product && ("trainingcard" == t.product.type || "membership" == t.product.type)).forEach(e=>{
                        for (let i = 0; i < e.count; ++i)
                            if (!e.users[i])
                                return t.push(this.visibleItems.indexOf(e)),
                                !0
                    }
                    ),
                    t
                },
                readyToPay() {
                    if (this.hasWebShop && (this.gettingTotalsFromServer > 0 || isNaN(this.totalFromServer)))
                        return !1;
                    if (0 == this.computedItems.length)
                        return !1;
                    if (this.cancelRules && !this.cancelRulesAccepted)
                        return !1;
                    if (this.mustSelectUsers)
                        return !1;
                    if (this.hasExpiredItems)
                        return !1;
                    if (0 == this.totalFromServer && !this.cartHasContinuousPayment)
                        return !0;
                    if (this.hasWebShop) {
                        if (!this.formValid)
                            return !1;
                        if (!this.selectedMethod)
                            return !1;
                        if ("stripe" == this.selectedMethodId || "adyen-card" == this.selectedMethodId)
                            return this.cardValid;
                        if ("directdebit" == this.selectedMethodId)
                            return this.$store.state.user.consent;
                        var t;
                        if ("stripe_saved" == this.selectedMethodId)
                            return !(null === (t = this.savedCard) || void 0 === t || !t.last4);
                        if ("invoice" == this.selectedMethodId)
                            return this.ageOkForInvoice
                    }
                    return !0
                },
                readyToPayExceptPaymentMethod() {
                    return (!this.hasWebShop || !(this.gettingTotalsFromServer > 0 || isNaN(this.totalFromServer))) && (0 != this.computedItems.length && (!(this.cancelRules && !this.cancelRulesAccepted) && !this.mustSelectUsers))
                },
                ageOkForInvoice() {
                    let t = this.$store.state.user
                      , e = t.personalCodeNumber || this.invoice.personalCodeNumber.value
                      , i = Object(u["j"])(e);
                    return t.company || i >= 18
                },
                itemsContainValueCardOrGiftCard() {
                    return this.computedItems.find(t=>t.product && (t.product.valuecard || t.product.giftcard))
                },
                itemsContainPeriodicCards() {
                    return this.computedItems.find(t=>t.product && t.product.priceType && "OneTime" != t.product.priceType)
                },
                commonMethods() {
                    let t = this.methods.concat();
                    return this.computedItems.forEach(e=>{
                        if (e.product && e.product.methods && e.product.methods.length && (t = t.filter(t=>e.product.methods.includes(t.id))),
                        e.service && e.service.methods && e.service.methods.length && (t = t.filter(t=>e.service.methods.includes(t.id))),
                        e.payment) {
                            let e = ["stripe", "swishi"];
                            t = t.filter(t=>e.includes(t.id) || t.id.startsWith("adyen-"))
                        }
                    }
                    ),
                    t
                },
                filteredMethods() {
                    var t;
                    if (!this.computedItems.length || !this.$store.state.user)
                        return [];
                    let e = this.commonMethods.filter(t=>"valuecard" != t.id);
                    const i = {};
                    null === (t = this.$store.state.settings.adyen) || void 0 === t || t.payment_methods.forEach(t=>i[t] = !0),
                    e = e.filter(t=>!t.id.startsWith("adyen-") || i[t.id]);
                    let s = e.find(t=>"adyen-card" == t.id);
                    var a;
                    s && (e = e.filter(t=>"stripe" !== t.id),
                    null === (a = this.$store.state.user.adyen) || void 0 === a || a.saved_cards.forEach((t,i)=>{
                        e.unshift({
                            ...s,
                            id: "adyen-card:saved:" + i,
                            name: this.$translate("Saved payment card"),
                            subtitle: t.info,
                            imageSrc: s.imageSrc,
                            ref: t.ref
                        })
                    }
                    ));
                    if (e = e.filter(t=>"adyen-applepay" != t.id || window.ApplePaySession),
                    e = e.filter(t=>"adyen-applepay" != t.id),
                    e = e.filter(t=>"stripe" !== t.id),
                    s = null,
                    s && this.$store.state.user.savedCard) {
                        let t, i = this.$translate("Payment card (loading...)");
                        this.savedCard.last4 && (i = this.$translate("Saved payment card"),
                        t = (this.savedCard.brand || "").capitalize() + " " + this.$translate("ending with") + " " + this.savedCard.last4),
                        e.push({
                            id: "stripe_saved",
                            name: i,
                            imagekey: s.imagekey,
                            imageSrc: s.imageSrc,
                            subtitle: t
                        })
                    }
                    if (this.itemsContainValueCardOrGiftCard)
                        e = e.filter(t=>t.id.startsWith("adyen-") || ["stripe", "stripe_saved", "swishi"].includes(t.id));
                    else if (!isNaN(this.totalFromServer) && this.totalFromServer > 0 && !this.valueCardCannotBeUsed && !this.valueCardRemoved && this.$store.state.user && this.$store.state.user.money > 0) {
                        let t = ["directdebit", "unknown"];
                        this.invoiceValueCard || t.push("invoice"),
                        e = e.filter(e=>!t.includes(e.id))
                    }
                    return this.itemsContainPeriodicCards && (e = e.filter(t=>t.periodic)),
                    e
                },
                sortedMethods() {
                    var t, e;
                    let i = null === (t = this.$store.state) || void 0 === t || null === (e = t.user) || void 0 === e ? void 0 : e.consent
                      , s = function(t) {
                        if ("directdebit" == t && i)
                            return 1e3;
                        if (t.startsWith("adyen-card:saved"))
                            return 100;
                        const e = {
                            stripe_saved: 100,
                            swishi: 90,
                            stripe: 80,
                            "adyen-card": 80,
                            "adyen-klarna_paynow": 90,
                            "adyen-klarna": 60,
                            "adyen-swish": 90,
                            directdebit: 70,
                            invoice: 60,
                            unknown: 50
                        };
                        return e[t] || t.startsWith("adyen-") ? 80 : 0
                    };
                    return this.filteredMethods.concat().sort((t,e)=>{
                        let i = s(t.id)
                          , a = s(e.id);
                        return i != a ? i > a ? -1 : 1 : this.getMethodName(t).localeCompare(this.getMethodName(e))
                    }
                    )
                },
                itemsAndCartItems() {
                    return this.useCart ? this.items.concat(Object(u["k"])(this.cartName)) : this.items
                },
                computedItems() {
                    let t = []
                      , e = 0;
                    this.itemsAndCartItems && this.itemsAndCartItems.forEach(i=>{
                        let s = Object.assign({}, i);
                        if (s.count || (s.count = 1),
                        s.fromCart = !this.items.includes(i),
                        s.product_id) {
                            if (!this.allProducts)
                                return;
                            let t = this.allProducts.find(t=>t.id == s.product_id);
                            if (!t)
                                return;
                            s.price = t.payWhatYouWant ? s.price : t.price,
                            s.name = i.name || t.name,
                            s.imagekey = t.imagekey,
                            s.type = "product",
                            s.product = t,
                            s.product && ["trainingcard", "membership"].includes(s.product.type) && !s.users && (s.users = new Array(s.count).fill(null))
                        }
                        let a, o = s.count;
                        if (i.rbservice_id) {
                            o *= i.slots.length,
                            s.context = i.context,
                            s.imagekey = i.service.imagekey,
                            s.name = i.service.name,
                            s.type = "resourcebooking",
                            s.price = i.service.price;
                            const e = t.filter(t=>"punchcard" == t.type && t.card.resourcebookingservice_id == t.rbservice_id);
                            let n = {};
                            e.forEach(t=>{
                                t.card.id in n ? n[t.card.id] += t.count : n[t.card.id] = t.count
                            }
                            ),
                            a = this.getPunchCard(i.slots[0], o, n)
                        }
                        if (i.teamsportregistration && i.price && (s.price = i.price),
                        i.payment) {
                            let t = i.payment.payments.length;
                            s.name = 1 == t ? i.payment.payments[0].name : t + " produkter",
                            s.type = "payment",
                            s.price = i.payment.payments.reduce((t,e)=>t + Number(e.amount), 0),
                            s.total = s.price,
                            s.payments = i.payment.payments,
                            s.imagekey = "/assets/img/cash.png"
                        }
                        if (s.total = o * Number(s.price),
                        e += s.total,
                        i.workout_bookings ? i.workout_bookings.forEach(e=>{
                            t.push({
                                type: "workoutbooking",
                                workout: e.workout_id,
                                imagekey: e.workout.workoutType.imagekey,
                                name: this.$translate("Booking of") + ": " + e.workout.workoutType.name,
                                count: 1
                            })
                        }
                        ) : i.workout_id && t.push({
                            type: "workoutbooking",
                            workout: i.workout_id,
                            imagekey: i.workout.workoutType.imagekey,
                            name: this.$translate("Booking of") + ": " + i.workout.workoutType.name,
                            count: 1
                        }),
                        (s.product_id || i.rbservice_id || i.payment) && t.push(s),
                        a) {
                            s.punchcard = a.id;
                            let i = a.cardtype.imagekey || "/assets/img/punchcard.png"
                              , n = a.cardtype_name + ` (${a.trainingsLeft} ${this.$translate("left")})`;
                            t.push({
                                count: o,
                                price: -s.price,
                                total: -s.price * o,
                                name: n,
                                imagekey: i,
                                type: "punchcard",
                                card: a
                            }),
                            e -= s.price
                        }
                    }
                    ),
                    this.addedDiscounts.forEach(i=>{
                        if (this.totalFromServerObject && this.totalFromServerObject.discount_details) {
                            let s = this.totalFromServerObject.discount_details.find(t=>t.prod_id == i.cardtype_id)
                              , a = s ? s.amount : 0
                              , o = Number(i.fixed || 0);
                            t.push({
                                count: 1,
                                name: i.cardtype_name,
                                price: -a,
                                total: -a,
                                type: "discount",
                                fixed: o,
                                percent: i.percent,
                                imagekey: i.imagekey,
                                cardtype_id: i.cardtype_id,
                                key: i.cardtype_id,
                                code: i.code,
                                hidden: i.hidden,
                                notValid: !s,
                                notChecked: i.notChecked
                            }),
                            e -= a
                        }
                    }
                    ),
                    this.addedGiftCards.forEach(i=>{
                        let s = i.imagekey || this.$api.getAssetUrl("/assets/img/giftcard.png")
                          , a = Number(i.card.amount)
                          , o = Math.min(e, a)
                          , n = Math.max(a - e, 0);
                        e -= o,
                        t.push({
                            count: 1,
                            name: i.card.name,
                            left: n,
                            price: -o,
                            total: -o,
                            imagekey: s,
                            card: i.card,
                            type: "giftcard",
                            key: i.card.id,
                            code: i.code,
                            hidden: i.hidden
                        })
                    }
                    );
                    let i = !!t.find(t=>{
                        var e;
                        return null === (e = t.product) || void 0 === e ? void 0 : e.valuecard
                    }
                    );
                    if (e > 0 && !this.valueCardRemoved && this.$store.state.user && this.$store.state.user.money > 0 && !i) {
                        let i = Math.min(this.$store.state.user.money, e)
                          , s = this.$api.getAssetUrl("/assets/img/valuecard.png");
                        if (this.valueCardCannotBeUsed)
                            t.push({
                                count: 1,
                                name: this.$translate("Value card"),
                                left: this.$store.state.user.money,
                                price: 0,
                                total: 0,
                                imagekey: s,
                                type: "valuecard"
                            });
                        else {
                            let a = Math.max(this.$store.state.user.money - e, 0);
                            t.push({
                                count: 1,
                                name: this.$translate("Value card"),
                                left: a,
                                price: -i,
                                total: -i,
                                imagekey: s,
                                type: "valuecard"
                            }),
                            e -= i
                        }
                    }
                    const s = t.filter(t=>"punchcard" == t.type);
                    return s.forEach(t=>{
                        const e = s.filter(e=>e.card.id == t.card.id)
                          , i = e.reduce((t,e)=>t + e.count, 0);
                        t.leftAfterPurchase = t.card.trainingsLeft - i
                    }
                    ),
                    t
                },
                visibleItems() {
                    return this.computedItems.filter(t=>!t.hidden && !t.notValid)
                },
                visibleItemsTop() {
                    return this.visibleItems.filter(t=>!t.fromCart)
                },
                visibleItemsFromCart() {
                    return this.visibleItems.filter(t=>t.fromCart)
                },
                submitItems() {
                    var t;
                    if (0 == this.allProducts.length && null !== (t = this.itemsAndCartItems) && void 0 !== t && t.find(t=>t.product_id))
                        return [];
                    let e = this.itemsAndCartItems ? this.itemsAndCartItems.map(t=>{
                        let e = Object.assign({}, t);
                        return delete e.context,
                        delete e.service,
                        delete e.product,
                        delete e.workout,
                        e
                    }
                    ) : [];
                    e = e.filter(t=>!(!t.product_id && t.workout_bookings)),
                    e = e.filter(t=>!(t.product_id && t.value));
                    let i = e.filter(t=>this.productRequiresUser(t.product_id) || t.workout_id);
                    e = e.filter(t=>!this.productRequiresUser(t.product_id) && !t.workout_id),
                    i.forEach(t=>{
                        var i;
                        null === (i = t.users) || void 0 === i || i.slice(0, t.count).forEach(i=>{
                            let s = Object.assign({}, t);
                            s.user_id = i,
                            s.count = 1,
                            e.push(s)
                        }
                        )
                    }
                    ),
                    e.forEach(t=>delete t.users),
                    i = e.filter(t=>this.productIsGiftCard(t.product_id)),
                    e = e.filter(t=>!this.productIsGiftCard(t.product_id)),
                    i.forEach(t=>{
                        for (let i = 0; i < t.count; ++i) {
                            let i = Object.assign({}, t);
                            i.count = 1,
                            e.push(i)
                        }
                    }
                    );
                    let s = e.filter(t=>t.payment);
                    return e = e.filter(t=>!t.payment),
                    s.forEach(t=>{
                        let i = [];
                        t.payment.payments.forEach(t=>{
                            t.payments.forEach(t=>{
                                i.includes(t) || i.push(t)
                            }
                            )
                        }
                        ),
                        e.push({
                            payments: i
                        })
                    }
                    ),
                    this.computedItems.filter(t=>"giftcard" == t.type).forEach(t=>{
                        e.push({
                            value: t.code,
                            type: "giftcard"
                        })
                    }
                    ),
                    this.computedItems.filter(t=>"valuecard" == t.type && 0 != t.total).forEach(()=>{
                        e.push({
                            type: "valuecard"
                        })
                    }
                    ),
                    this.computedItems.filter(t=>"discount" == t.type).forEach(t=>{
                        e.push({
                            product_id: t.cardtype_id,
                            value: t.code
                        })
                    }
                    ),
                    this.computedItems.filter(t=>"punchcard" == t.type).forEach(t=>{
                        e.push({
                            type: "punchcard",
                            card_id: t.card.id
                        })
                    }
                    ),
                    e
                },
                itemsForTotal() {
                    return this.submitItems.map(t=>(t = Object.assign({}, t),
                    delete t.answers,
                    delete t.extended_info,
                    t))
                },
                amountFromValueCard() {
                    let t = this.computedItems.find(t=>"valuecard" == t.type);
                    return t ? -t.price : 0
                },
                savedCardText() {
                    let t = this.savedCard;
                    if (t && t.last4) {
                        let e = String(t.exp_month);
                        return 1 == e.length && (e = "0" + e),
                        this.$translate("SAVED_CARD").format(t.exp_year, e, t.last4)
                    }
                    return null
                },
                userHasAllInfoForInvoicePurchase() {
                    let t = this.$store.state.user;
                    return !!t && (t.personalCodeNumber && t.address && t.zipCode && t.city && (t.mail || t.invoiceMail))
                },
                contactinfo() {
                    return this.$store.state.settings ? this.$store.state.settings.contactinfo : {}
                },
                termsConfig() {
                    return this.$root.siteconfig.routes.find(t=>"/terms" == t.props.path).props.config
                },
                policyConfig() {
                    return this.$root.siteconfig.routes.find(t=>"/policy" == t.props.path).props.config
                },
                methodIdForServer() {
                    var t;
                    return "stripe_saved" == this.selectedMethodId ? "stripe" : null !== (t = this.selectedMethodId) && void 0 !== t && t.startsWith("adyen-card:saved") ? "adyen-card" : this.selectedMethodId
                },
                canBuyFor() {
                    return this.$store.state.user ? this.$store.state.user.canBookFor.map(t=>({
                        id: t.id,
                        name: t.id == this.$store.state.user.id ? this.$translate("Myself") : t.name,
                        imagekey: t.imagekey
                    })) : []
                },
                requirePhoneField() {
                    var t, e;
                    let i = null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.fields;
                    return !(null === i || void 0 === i || !i.find(t=>t.builtIn && t.required && "phone" == t.name))
                },
                invoiceValueCard() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.invoiceValueCard
                },
                discountErrorText() {
                    return this.multiDiscountError ? this.$translate("Too many discount codes") : this.codeError ? this.$translate("No valid discount code or gift card") : this.discountError ? this.$translate("The discount code {0} is not valid for anything in the shopping cart").format(this.discountErrorCode) : null
                },
                canEnterDiscountOrGiftcard() {
                    return this.$store.state.isLoggedIn
                }
            },
            watch: {
                "$store.state.user": {
                    immediate: !0,
                    handler(t) {
                        null !== t && void 0 !== t && t.savedCard && this.$api.get("/api/memberapi/paycard/get").then(t=>{
                            this.savedCard = t
                        }
                        ),
                        null !== t && void 0 !== t && t.company && (this.invoice.name.title = this.$translate("Company name"))
                    }
                },
                useCart: {
                    immediate: !0,
                    handler(t) {
                        if (t) {
                            var e, i, s;
                            let t = null !== (e = null === (i = this.$store.state.carts) || void 0 === i || null === (s = i[this.cartName]) || void 0 === s ? void 0 : s.items) && void 0 !== e ? e : [];
                            t.find(t=>t.product_id) && this.loadProducts()
                        }
                    }
                },
                items: {
                    immediate: !0,
                    handler(t) {
                        if (null !== t && void 0 !== t && t.find(t=>t.product_id) && this.loadProducts(),
                        t) {
                            let e = t.filter(t=>t.value && t.product_id);
                            e.forEach(t=>{
                                this.addCodeSilently(t.value, t.hidden)
                            }
                            )
                        }
                    }
                },
                expandFirstItem: {
                    immediate: !0,
                    handler(t) {
                        t && (this.expandedItems = [0])
                    }
                },
                itemsForTotal: {
                    immediate: !0,
                    handler() {
                        this.getTotalsFromServer()
                    }
                },
                selectedMethodId: {
                    immediate: !0,
                    handler() {
                        this.getTotalsFromServer(),
                        "invoice" == this.selectedMethodId && (this.invoiceChangeAddress = !this.userHasAllInfoForInvoicePurchase),
                        this.$emit("paymentMethod", this.selectedMethodId)
                    }
                },
                done(t) {
                    if (t) {
                        let t = !1
                          , i = this.orderconfirmation && this.orderconfirmation.length && this.orderconfirmation[0].bundle_id;
                        if (i && (this.$emit("receipt", i),
                        !t))
                            try {
                                const e = this.ecommercePurchaseHelper(this.computedItems);
                                this.$ecommercetracking.purchase(i, e),
                                t = !0
                            } catch (e) {
                                Y["a"](e)
                            }
                        if (this.newStyleDoneDialog) {
                            if (this.$emit("done"),
                            this.$store.commit("showCheckoutDoneDialog", {
                                orderconfirmation: this.orderconfirmation,
                                paidByMethod: this.paidByMethod,
                                totalFromServer: this.totalFromServer
                            }),
                            i && !t)
                                try {
                                    const e = this.ecommercePurchaseHelper(this.computedItems);
                                    this.$ecommercetracking.purchase(i, e),
                                    t = !0
                                } catch (e) {
                                    Y["a"](e)
                                }
                        } else
                            this.$emit("almostdone");
                        this.useCart && this.$store.dispatch("removeCart", {
                            cartName: this.cartName
                        })
                    }
                },
                forceDone: {
                    immediate: !0,
                    handler(t) {
                        t && !this.done && (this.done = !0)
                    }
                },
                loading: {
                    immediate: !0,
                    handler(t) {
                        this.$emit("loading", t),
                        "swishi" == this.selectedMethodId && (this.showSwishDialog = t),
                        t || (this.swishToken = null)
                    }
                },
                totalFromServer(t) {
                    this.$emit("cost", t)
                },
                readyToPay: {
                    immediate: !0,
                    handler() {
                        this.$emit("readyToPay", this.readyToPay)
                    }
                },
                readyToPayExceptPaymentMethod: {
                    immediate: !0,
                    handler() {
                        this.$emit("readyToPayExceptPaymentMethod", this.readyToPayExceptPaymentMethod)
                    }
                },
                mustSelectUsers: {
                    immediate: !0,
                    handler() {
                        this.$emit("mustSelectUsers", this.mustSelectUsers)
                    }
                },
                invoiceChangeAddress(t) {
                    if (t) {
                        let t = this.$store.state.user;
                        this.invoice.name.value = Object(u["n"])(t),
                        this.invoice.mail.value = t.mail,
                        this.invoice.address.value = t.address,
                        this.invoice.zipCode.value = t.zipCode,
                        this.invoice.city.value = t.city
                    }
                },
                filteredMethods: {
                    immediate: !0,
                    handler(t) {
                        this.computedItems.length && this.$store.state.user && this.methods && 0 != this.methods.length && 0 == t.length && !this.valueCardRemoved && !isNaN(this.totalFromServer) && this.totalFromServer > 0 && this.$store.state.user.money < this.totalFromServer && (this.valueCardCannotBeUsed = !0)
                    }
                },
                itemsContainPeriodicCards: {
                    immediate: !0,
                    handler(t) {
                        t && (this.valueCardCannotBeUsed = !0)
                    }
                },
                showSummary: {
                    immediate: !0,
                    handler(t) {
                        t && this.$nextTick(()=>{
                            this.$refs.summary && (this.summaryWidth = this.$refs.summary.clientWidth - 16)
                        }
                        )
                    }
                },
                computedItems: {
                    immediate: !0,
                    handler(t) {
                        t && t.length && this.possiblyReportBeginCheckout()
                    }
                }
            },
            methods: {
                formatPrice: u["i"],
                loadPaymentMethods() {
                    this.$api.get("/api/public/webshop/paymentmethod/get").then(t=>this.methods = t)
                },
                loadProducts() {
                    this.allProducts && 0 != this.allProducts.length || this.loadingProducts || (this.loadingProducts = !0,
                    this.$api.get("/api/public/trainingcard/type/get", {
                        trial: !0
                    }).then(t=>{
                        this.allProducts = t,
                        this.loadingProducts = !1
                    }
                    ))
                },
                cardChanged(t) {
                    this.cardValid = !!t
                },
                updateMemberInformationIfNeeded() {
                    let t = this.$store.state.user
                      , e = {}
                      , i = ["mail", "personalCodeNumber", "address", "zipCode", "city"]
                      , s = !1;
                    "invoice" == this.selectedMethodId ? this.invoiceChangeAddress && i.forEach(i=>{
                        this.invoice[i].value != t[i] && (e[i] = this.invoice[i].value,
                        s = !0)
                    }
                    ) : (t.mail || this.mailField.value == t.mail || (e.mail = this.mailField.value,
                    s = !0),
                    this.requirePhoneField && !t.phone && this.phoneField.value != t.phone && (e.phone = this.phoneField.value,
                    s = !0)),
                    s ? this.$api.post("/api/memberapi/change", e).then(()=>{
                        this.completePurchase(!1)
                    }
                    ) : this.completePurchase(!1)
                },
                completePurchase(t=!0) {
                    var e, i;
                    if (t)
                        return void this.updateMemberInformationIfNeeded();
                    let s = {
                        use_valuecard: this.amountFromValueCard,
                        use_giftcards: this.computedItems.filter(t=>"giftcard" == t.type).map(t=>({
                            used_amount: -t.price,
                            card_id: t.card.id
                        }))
                    };
                    "swishi" == this.selectedMethodId && (s.phone = null),
                    "stripe" == this.selectedMethodId && (s.another_card = !!this.$store.state.user.savedCard,
                    s.save_card = this.saveCard),
                    "invoice" == this.selectedMethodId && this.companyInvoice.enable.value && (s.address_for_invoice = {
                        company_invoice: this.companyInvoice.enable.value,
                        name: this.companyInvoice.name.value,
                        mail: this.companyInvoice.mail.value,
                        address: this.companyInvoice.address.value,
                        zipCode: this.companyInvoice.zipCode.value,
                        city: this.companyInvoice.city.value
                    });
                    let a = this.totalFromServer
                      , o = this.paidByMethod = this.totalFromServer > 0 || this.cartHasContinuousPayment ? this.methodIdForServer : null
                      , n = !1;
                    "stripe_saved" == this.selectedMethodId && (o = "stripe",
                    n = !0);
                    let r = {
                        method: o,
                        total: a,
                        items: this.submitItems,
                        option: s
                    };
                    if (this.loading = !0,
                    this.orderconfirmation = null,
                    this.adyenProcess = null === (e = o) || void 0 === e ? void 0 : e.startsWith("adyen-"),
                    null !== (i = this.selectedMethodId) && void 0 !== i && i.startsWith("adyen-"))
                        if (this.selectedMethodId.startsWith("adyen-card:saved"))
                            s.use_saved_card = this.selectedMethod.ref;
                        else {
                            const t = this.$refs.adyen[0].getData();
                            s.save_card = t.saveCard,
                            s.adyen = t.data
                        }
                    this.$api.post("/api/public/webshop/checkout", r).then(t=>{
                        t.json().then(e=>{
                            if (t.ok) {
                                var i;
                                if ("pending" === e.status) {
                                    if (console.log("Response is pending"),
                                    "stripe" == o) {
                                        let t = this.$refs.stripe[0];
                                        t.confirmCardPayment(e.client_secret, e.channel2, t=>{
                                            console.log("Callback for confirmCardPayment"),
                                            this.loading = !1,
                                            t.success ? (this.orderconfirmation = t.orderconfirmation,
                                            this.done = !0) : this.$store.commit("showSnackBar", {
                                                text: this.$translate(t.reason || "Failed to perform purchase")
                                            })
                                        }
                                        , {
                                            stripe_saved: n
                                        })
                                    } else if ("swishi" == o) {
                                        this.swishToken = e.token,
                                        this.swishTransactionId = e.transaction_id,
                                        this.isMobileWithSwish && this.openSwish();
                                        let t = this.$api.subscribeChannel(e.channel2, e=>{
                                            "payment" === e.type && (this.loading = !1,
                                            e.success ? (this.orderconfirmation = e.orderconfirmation,
                                            this.done = !0) : this.$store.commit("showSnackBar", {
                                                text: this.$translate(e.reason || "Failed to perform purchase")
                                            }),
                                            t())
                                        }
                                        )
                                    } else if (null !== (i = o) && void 0 !== i && i.startsWith("adyen-")) {
                                        let t = this.$api.subscribeChannel(e.channel2, e=>{
                                            if ("adyen:payment" === e.type)
                                                this.$refs.adyen[0].handle(e.action, e.secret);
                                            else if ("adyen:system-error" === e.type) {
                                                var i;
                                                this.loading = !1,
                                                this.$store.commit("showSnackBar", {
                                                    text: this.$translate("Failed to perform purchase")
                                                }),
                                                null === (i = this.$refs.adyen) || void 0 === i || i[0].reset(),
                                                t()
                                            } else if ("payment" === e.type) {
                                                var s;
                                                if (this.loading = !1,
                                                e.success)
                                                    this.orderconfirmation = e.orderconfirmation,
                                                    this.done = !0;
                                                else
                                                    this.$store.commit("showSnackBar", {
                                                        text: this.$translate(e.reason || "Failed to perform purchase")
                                                    }),
                                                    null === (s = this.$refs.adyen) || void 0 === s || s[0].reset();
                                                t()
                                            }
                                        }
                                        )
                                    }
                                } else
                                    "done" === e.status && (this.loading = !1,
                                    this.done = !0,
                                    this.orderconfirmation = e.orderconfirmation)
                            } else {
                                let t = this.$translate(e.message);
                                "double_trial_card" == e.type ? t = this.$translate("The product can only be purchased once") : "phone_busy" === e.type ? t = this.$translate("The phone number is used for another purchase, cancel it first") : "no_settings" === e.type ? t = this.$translate("Payment method is not ready to use") : "error_and_valuecard" === e.type && (t = this.$translate("STRIPE_ERROR_AND_VALUECARD")),
                                this.$store.commit("showSnackBar", {
                                    text: t
                                }),
                                this.loading = !1
                            }
                        }
                        )
                    }
                    )
                },
                addCodeSilently(t, e) {
                    this.$api.get("/api/public/giftcard/verify", {
                        code: t
                    }).then(i=>{
                        i.found ? i.paid && !i.expired && Number(i.card.amount) && (this.addedGiftCards.find(e=>e.code == t) || this.addedGiftCards.push({
                            code: t,
                            giftcard: !0,
                            card: i.card,
                            hidden: e
                        })) : this.$api.get("/api/public/discount/verify", {
                            code: t
                        }).then(e=>{
                            var i;
                            e.found ? this.addedDiscounts.find(i=>i.code == t || i.cardtype_id == e.cardtype_id) ? (this.codeError = !1,
                            this.discountError = !1) : (null === (i = this.$store.state.settings) || void 0 === i || !i.allow_multiple_discounts) && this.addedDiscounts.length >= 1 ? this.multiDiscountError = !0 : (this.addedDiscounts.push({
                                code: t,
                                discount: !0,
                                cardtype_id: e.cardtype_id,
                                fixed: e.fixed,
                                percent: e.percent,
                                cardtype_name: e.cardtype_name,
                                imagekey: e.imagekey,
                                hidden: !0,
                                notValid: !0,
                                notChecked: !0
                            }),
                            this.codeError = !1,
                            this.discountError = !1,
                            this.multiDiscountError = !1) : this.codeError = !0;
                            this.code = "",
                            this.loadingCode = !1
                        }
                        )
                    }
                    )
                },
                addCode() {
                    this.loadingCode = !0;
                    let t = this.code;
                    this.$api.get("/api/public/giftcard/verify", {
                        code: t
                    }).then(e=>{
                        e.found ? (e.paid && !e.expired && Number(e.card.amount) ? (this.addedGiftCards.find(e=>e.code == t) || this.addedGiftCards.push({
                            code: t,
                            giftcard: !0,
                            card: e.card
                        }),
                        this.code = "",
                        this.codeError = !1) : (this.code = "",
                        this.codeError = !0),
                        this.loadingCode = !1) : this.$api.get("/api/public/discount/verify", {
                            code: t
                        }).then(e=>{
                            var i;
                            e.found ? this.addedDiscounts.find(i=>i.code == t || i.cardtype_id == e.cardtype_id) ? (this.codeError = !1,
                            this.discountError = !1) : (null === (i = this.$store.state.settings) || void 0 === i || !i.allow_multiple_discounts) && this.addedDiscounts.length >= 1 ? this.multiDiscountError = !0 : (this.addedDiscounts.push({
                                code: t,
                                discount: !0,
                                cardtype_id: e.cardtype_id,
                                fixed: e.fixed,
                                percent: e.percent,
                                cardtype_name: e.cardtype_name,
                                imagekey: e.imagekey,
                                notValid: !0
                            }),
                            this.codeError = !1,
                            this.discountError = !1,
                            this.multiDiscountError = !1) : this.codeError = !0;
                            this.code = "",
                            this.loadingCode = !1
                        }
                        )
                    }
                    )
                },
                removeItem(t) {
                    if ("giftcard" == t.type) {
                        let e = this.addedGiftCards.findIndex(e=>e.card.id == t.card.id);
                        -1 != e && this.addedGiftCards.splice(e, 1)
                    } else if ("discount" == t.type) {
                        let e = this.addedDiscounts.findIndex(e=>e.cardtype_id == t.cardtype_id);
                        -1 != e && this.addedDiscounts.splice(e, 1)
                    } else
                        "valuecard" == t.type ? this.valueCardRemoved = !0 : t.fromCart && (t.reservation && this.$api.post("/api/resource/reservation/cancel", {
                            key: t.reservation
                        }),
                        this.$store.dispatch("changeItemCountInCart", {
                            cartName: this.cartName,
                            product_id: t.product_id,
                            variant: t.variant,
                            count: 0,
                            tmp_id: t.tmp_id
                        }))
                },
                getTotalsFromServer() {
                    var t;
                    if (null === (t = this.$store.state.settings) || void 0 === t || !t.modules.WebShop)
                        return;
                    if (!this.itemsForTotal.length)
                        return;
                    let e = {
                        items: this.itemsForTotal,
                        method: this.methodIdForServer
                    }
                      , i = JSON.stringify(e);
                    i != this.lastTotalsValueUsed && (this.gettingTotalsFromServer += 1,
                    this.$api.post("/api/public/webshop/total", e).then(t=>{
                        this.gettingTotalsFromServer -= 1;
                        let e = JSON.stringify({
                            items: this.itemsForTotal,
                            method: this.methodIdForServer
                        }) == i;
                        t.ok ? t.json().then(t=>{
                            if (t = Object(u["f"])(t),
                            e) {
                                var s;
                                this.totalFromServer = t.total,
                                this.totalFromServerObject = t,
                                this.lastTotalsValueUsed = i;
                                const e = this.computedItems.filter(t=>this.addedDiscounts.map(t=>t.cardtype_id).includes(t.cardtype_id))
                                  , a = e.filter(t=>t.notValid);
                                a.some(t=>!t.notChecked) ? (this.discountError = !0,
                                this.discountErrorCode = `"${a[0].code}"`,
                                this.addedDiscounts = this.addedDiscounts.filter(t=>!a.some(e=>e.cardtype_id === t.cardtype_id))) : e.length > 0 && (this.discountError = !1),
                                (null === (s = this.invalidItems) || void 0 === s ? void 0 : s.length) > 0 && this.addedDiscounts.forEach(t=>t.notChecked = !1)
                            }
                        }
                        ) : (e && (this.totalFromServer = NaN),
                        t.json().then(t=>{
                            let e = this.$translate(t.message);
                            "Invalid product or customer cannot buy it" == t.message ? (this.useCart && this.$store.dispatch("removeCart", {
                                cartName: this.cartName
                            }),
                            this.$store.commit("showErrorDialog", {
                                title: this.$translate("The shopping cart is broken"),
                                text: this.$translate("The shopping cart has broken. You need to start over and add the products again.")
                            })) : this.$store.commit("showSnackBar", {
                                text: e
                            })
                        }
                        ))
                    }
                    ))
                },
                getMethodName(t) {
                    return "swishi" == t.id ? "Swish" : "stripe" == t.id ? this.filteredMethods.find(t=>"stripe_saved" == t.id) ? "Annat betalkort" : this.$translate("Debit card") : "unknown" == t.id ? this.$translate("Pay on site") : this.$translate(t.name)
                },
                getPunchCard(t, e, i) {
                    let s = this.$store.state.cards;
                    const a = s ? s.filter(s=>!s.membership && s.resourcebookingservice_id == t.rbservice_id && this.$booking.isCardValid(s, Date.newFull(t.start)) && e <= s.trainingsLeft - (i[s.id] || 0)) : null
                      , o = new Date;
                    return a ? (a.sort((t,e)=>{
                        const i = Math.abs(o - t.validToDate)
                          , s = Math.abs(o - e.validToDate);
                        return i === s ? Number(e.price) - Number(t.price) : i - s
                    }
                    ),
                    a[0] || null) : null
                },
                logout() {
                    this.$store.dispatch("logout")
                },
                attemptChangeNumberOfItems(t, e) {
                    let i = 0;
                    this.visibleItems.filter(e=>e != t).forEach(e=>{
                        e.product_id == t.product_id && e.variant == t.variant && (i += e.count)
                    }
                    );
                    let s = this.allProducts.find(e=>e.id == t.product_id)
                      , a = null;
                    if (s.variants) {
                        let e = s.variants.find(e=>e.name == t.variant)
                          , o = null === e || void 0 === e ? void 0 : e.stock_sites.find(t=>t.site_id == this.siteId);
                        o && (a = null !== o.stock ? o.stock - i : null)
                    }
                    if (null != a && e > a) {
                        let t = a > 0 ? this.$translate("There is only {0} of this product in stock").format(a) : this.$translate("There are no products left in stock");
                        this.$store.commit("showSnackBar", {
                            text: t
                        })
                    } else
                        t.fromCart ? this.$store.dispatch("changeItemCountInCart", {
                            cartName: this.cartName,
                            product_id: t.product_id,
                            variant: t.variant,
                            count: e,
                            tmp_id: t.tmp_id
                        }) : this.$emit("changeNumberOfItems", t, e)
                },
                isValidPersonalCode(t) {
                    return Object(u["y"])(t)
                },
                getReceipt() {
                    let t = this.orderconfirmation[0].bundle_id;
                    Object(u["t"])() ? window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "openFile",
                        data: {
                            api: {
                                url: "current",
                                path: "/api/memberapi/receipt/get",
                                args: {
                                    id: t
                                }
                            },
                            type: "pdf"
                        }
                    })) : this.$api.get("/api/memberapi/receipt/get", {
                        id: t
                    }, {
                        blob: !0
                    }).then(t=>{
                        Object(u["g"])({
                            filename: this.$translate("Receipt") + ".pdf",
                            data: t,
                            type: "application/pdf"
                        })
                    }
                    )
                },
                openSwish() {
                    let t = "";
                    Object(u["t"])() && window.ReactNativeWebView ? window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "swish",
                        data: {
                            swishtoken: this.swishToken,
                            callbackurl: t
                        }
                    })) : this.isMobileWithSwish && window.open(`swish://paymentrequest?token=${this.swishToken}&callbackurl=${encodeURIComponent(t)}`)
                },
                cancelSwish() {
                    this.$api.post("/api/payment/swish/cancel", {
                        transaction_id: this.swishTransactionId
                    }),
                    this.showSwishDialog = !1,
                    this.loading = !1
                },
                productIsGiftCard(t) {
                    var e;
                    return t = Object(h["isObject"])(t) ? t : this.allProducts.find(e=>e.id == t),
                    "giftcard" == (null === (e = t) || void 0 === e ? void 0 : e.type)
                },
                productRequiresUser(t) {
                    return t = Object(h["isObject"])(t) ? t : this.allProducts.find(e=>e.id == t),
                    t && ["membership", "trainingcard"].includes(t.type)
                },
                getItemKey(t, e) {
                    return e = e || "",
                    e + (t.key || t.type + t.product_id + t.variant + t.rbservice_id + t.tmp_id + t.course_id + t.user_id)
                },
                ecommercePurchaseHelper(t) {
                    let e = [];
                    for (let i = 0; i < t.length; i++) {
                        let s = {};
                        Object.prototype.hasOwnProperty.call(t[i], "product") && t[i].product ? (s = JSON.parse(JSON.stringify(t[i].product)),
                        Object.prototype.hasOwnProperty.call(t[i], "course_id") && t[i].course_id ? s.id = "c" + t[i].course_id : s.id = "p" + s.id,
                        s.count = t[i].count,
                        e.push(s)) : Object.prototype.hasOwnProperty.call(t[i], "service") && t[i].service && (s = JSON.parse(JSON.stringify(t[i].service)),
                        s.id = "r" + s.id,
                        s.count = t[i].count,
                        e.push(s))
                    }
                    return e
                },
                possiblyReportBeginCheckout() {
                    if (!this.beginCheckoutReported) {
                        const t = this.ecommercePurchaseHelper(this.computedItems);
                        this.$ecommercetracking.beginCheckout(t),
                        this.beginCheckoutReported = !0
                    }
                }
            },
            mounted() {
                this.loadPaymentMethods()
            }
        }
          , K = G
          , Q = i("0798")
          , J = i("b0af")
          , X = i("99d9")
          , Z = i("ac7c")
          , tt = i("a523")
          , et = i("169a")
          , it = i("ce7e")
          , st = i("0789")
          , at = i("0393")
          , ot = i("4bd4")
          , nt = i("490a")
          , rt = i("8dd9")
          , lt = i("2fa4")
          , ct = i("8654")
          , dt = Object(y["a"])(K, s, a, !1, null, null, null);
        e["a"] = dt.exports;
        k()(dt, {
            VAlert: Q["a"],
            VAvatar: w["a"],
            VBtn: V["a"],
            VCard: J["a"],
            VCardActions: X["a"],
            VCardText: X["b"],
            VCardTitle: X["c"],
            VCheckbox: Z["a"],
            VCol: C["a"],
            VContainer: tt["a"],
            VDialog: et["a"],
            VDivider: it["a"],
            VExpandTransition: st["a"],
            VExpansionPanel: B["a"],
            VExpansionPanelContent: F["a"],
            VExpansionPanelHeader: E["a"],
            VExpansionPanels: at["a"],
            VForm: ot["a"],
            VIcon: x["a"],
            VProgressCircular: nt["a"],
            VRadio: O["a"],
            VRadioGroup: M["a"],
            VRow: $["a"],
            VSheet: rt["a"],
            VSpacer: lt["a"],
            VTextField: ct["a"]
        })
    },
    "7cee": function(t, e, i) {},
    "7ed7": function(t, e, i) {},
    "808f": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "d-flex flex-column align-center"
            }, [i("v-avatar", {
                staticClass: "zoezi-user-avatar",
                style: t.avatarStyle,
                attrs: {
                    size: t.size
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.user.imagekey || t.user.imageurl || t.$api.getAssetUrl("/assets/img/profile_avatar_man.jpg")
                }
            })], 1), t.change && t.canChange ? i("div", {
                staticClass: "primary--text mt-1 z-clickable",
                on: {
                    click: function(e) {
                        return t.$emit("change")
                    }
                }
            }, [t._v(t._s(t.$translate("Change image")))]) : t._e()], 1)
        }
          , a = []
          , o = {
            name: "zoezi-user-avatar",
            props: {
                size: {
                    type: Number,
                    default: 100
                },
                border: {
                    type: Boolean,
                    default: !1
                },
                user: {
                    type: Object,
                    default: null
                },
                change: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                canChange() {
                    var t, e, i;
                    return !(null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e || null === (i = e.fields) || void 0 === i || !i.find(t=>"image" == t.name && t.changeable_by_member))
                },
                avatarStyle() {
                    return this.border ? {
                        border: "2px solid " + this.$root.colorToHex("primary")
                    } : {}
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("8212")
          , u = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = u.exports;
        c()(u, {
            VAvatar: d["a"]
        })
    },
    "81cc": function(t, e, i) {},
    8339: function(t, e, i) {
        "use strict";
        i("929d")
    },
    "83ca": function(t, e, i) {},
    8479: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user.consent ? t._e() : i("div", [i("v-form", {
                model: {
                    value: t.valid,
                    callback: function(e) {
                        t.valid = e
                    },
                    expression: "valid"
                }
            }, [t.isBlocked ? i("v-alert", {
                attrs: {
                    dense: "",
                    text: "",
                    type: "error",
                    border: "left",
                    icon: "mdi-alert-circle"
                }
            }, [t._v(" " + t._s(t.$translate("You are blocked and can not sign direct debit")) + " ")]) : t._e(), t.errorMessage ? i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t._v(" " + t._s(t.$translate(t.errorMessage)) + " ")]) : t._e(), t.personalCodeNumber && t.isValidPersonalCode(t.personalCodeNumber) && !t.ageOkForInvoice ? i("v-alert", {
                staticClass: "white--text",
                attrs: {
                    color: "error"
                }
            }, [i("v-icon", {
                attrs: {
                    color: "white"
                }
            }, [t._v("mdi-information-outline")]), t._v(" " + t._s(t.$translate("You must be over 18 years old to make purchases by direct debit.")) + " ")], 1) : t._e(), i("v-text-field", {
                attrs: {
                    readonly: !!t.$store.state.user.personalCodeNumber,
                    label: t.$translate("Personal code number"),
                    type: "text",
                    inputmode: "numeric",
                    rules: [t.pCodeOk]
                },
                model: {
                    value: t.personalCodeNumber,
                    callback: function(e) {
                        t.personalCodeNumber = e
                    },
                    expression: "personalCodeNumber"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Clearing number"),
                    type: "number",
                    inputmode: "numeric",
                    min: "1000",
                    max: "99999",
                    rules: [t.clearingNumberOk]
                },
                scopedSlots: t._u([{
                    key: "append-outer",
                    fn: function() {
                        return [t.bank && t.bank.image ? i("v-img", {
                            attrs: {
                                height: "50",
                                width: "100",
                                position: "top",
                                src: t.$api.getAssetUrl("/assets/img/banks/" + t.bank.image),
                                contain: ""
                            }
                        }) : t.bank ? i("span", [t._v(t._s(t.bank.name))]) : i("div", {
                            staticStyle: {
                                width: "20px"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 3603445523),
                model: {
                    value: t.clearingNumber,
                    callback: function(e) {
                        t.clearingNumber = e
                    },
                    expression: "clearingNumber"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Bank account number"),
                    type: "number",
                    inputmode: "numeric",
                    min: "0",
                    rules: [t.accountNumberOk]
                },
                model: {
                    value: t.bankAccountNumber,
                    callback: function(e) {
                        t.bankAccountNumber = e
                    },
                    expression: "bankAccountNumber"
                }
            }), t.processing ? i("div", [t._v(" " + t._s(t.$translate("Open the BankID app to continue"))), i("br"), i("br"), t.autostarttoken ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        return t.openBankIDApp(t.autostarttoken)
                    }
                }
            }, [t._v(t._s(t.$translate("Open the BankID app")))]) : t._e()], 1) : t._e(), i("div", {
                staticClass: "d-flex"
            }, [t.showCancel || t.processing ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: t.cancel
                }
            }, [t._v(t._s(t.$translate("Cancel")))]) : t._e(), i("v-spacer"), t.processing ? t._e() : i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    disabled: !t.valid || !t.ageOkForInvoice || t.isBlocked,
                    color: "primary"
                },
                on: {
                    click: t.sign
                }
            }, [t._v(t._s(t.$translate("Sign consent")))])], 1)], 1)], 1)
        }
          , a = []
          , o = i("9f44")
          , n = i("e0eb")
          , r = {
            name: "zoezi-sign-directdebit-consent",
            zoezi: {
                title: "direct debit consent"
            },
            props: {
                showCancel: {
                    type: Boolean,
                    title: "Show cancel button",
                    default: !1
                }
            },
            data: ()=>({
                valid: !1,
                bankAccountNumber: null,
                clearingNumber: null,
                banks: o["a"].banks,
                personalCodeNumber: null,
                processing: !1,
                errorMessage: null,
                signId: null,
                unsubscribeChannel: null,
                autostarttoken: null
            }),
            watch: {
                "$store.state.user.personalCodeNumber": {
                    immediate: !0,
                    handler(t) {
                        t && (this.personalCodeNumber = t)
                    }
                }
            },
            computed: {
                bank() {
                    return o["a"].getBankFromClearingNumber(this.clearingNumber)
                },
                mobile() {
                    return null !== this.mobileType
                },
                mobileType() {
                    return /android/i.test(navigator.userAgent) ? "android" : /iPhone/.test(navigator.userAgent) ? "iphone" : null
                },
                ageOkForInvoice() {
                    let t = this.personalCodeNumber
                      , e = Object(n["j"])(t);
                    return e >= 18
                },
                isBlocked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.isBlocked("block_autogiro")
                }
            },
            methods: {
                clearingNumberOk(t) {
                    let e = o["a"].getBankFromClearingNumber(t);
                    return !!e || this.$translate("No valid clearing number")
                },
                accountNumberOk() {
                    let t = o["a"].validateAccountNumber(this.clearingNumber, this.bankAccountNumber);
                    return !!t || this.$translate("No valid account number")
                },
                openBankIDApp(t) {
                    if (Object(n["t"])() && window.ReactNativeWebView)
                        window.ReactNativeWebView.postMessage(JSON.stringify({
                            type: "bankid",
                            data: t
                        }));
                    else if ("iphone" == this.mobileType) {
                        let e = "";
                        window.open("https://app.bankid.com/?autostarttoken={0}&redirect={1}".format(t, encodeURIComponent(e)))
                    } else
                        "android" == this.mobileType && window.open("bankid:///?autostarttoken={0}&redirect=".format(t))
                },
                sign() {
                    let t = {
                        personalCodeNumber: this.$store.state.user.personalCodeNumber || this.personalCodeNumber,
                        account: this.bankAccountNumber,
                        clearingNumber: this.clearingNumber
                    };
                    this.processing = !0,
                    this.autostarttoken = null,
                    this.$api.post("/api/memberapi/contract/sign/autogiro", t).then(t=>{
                        if (!t.ok)
                            return this.errorMessage = "Error during signing",
                            void (this.processing = !1);
                        t.json().then(e=>{
                            if (e.aborted)
                                return this.errorMessage = "Error",
                                void (this.processing = !1);
                            this.signId = e.signId,
                            this.autostarttoken = e.autostarttoken,
                            ("android" == this.mobileType || Object(n["t"])()) && this.openBankIDApp(e.autostarttoken),
                            this.unsubscribeChannel = this.$api.subscribeChannel(e.signId, e=>{
                                "consent" == e.status || "COMPLETE" == e.status ? (console.log("Consent done"),
                                this.refetchUser().then(()=>{
                                    this.processing = !1,
                                    this.$store.commit("showSnackBar", {
                                        text: "Autogiromedgivande signerat",
                                        color: "success"
                                    })
                                }
                                ),
                                this.unsubscribeChannel && this.unsubscribeChannel()) : e.aborted ? (console.log("Consent sign aborted: " + e.status),
                                this.errorMessage = "Error",
                                console.log(e.status),
                                this.processing = !1,
                                this.unsubscribeChannel && this.unsubscribeChannel()) : console.log("Autogiro signing status:" + JSON.stringify(t))
                            }
                            )
                        }
                        )
                    }
                    )
                },
                pCodeOk(t) {
                    return !(t && !Object(n["y"])(t)) || "Felaktigt personnummer"
                },
                isValidPersonalCode(t) {
                    return Object(n["y"])(t)
                },
                cancel() {
                    this.signId && (this.$api.post("/api/contract/sign/cancel", null, {
                        id: this.signId
                    }).then(()=>this.processing = !1),
                    this.signId = null),
                    this.unsubscribeChannel && this.unsubscribeChannel(),
                    this.errorMessage = null,
                    this.$emit("cancel")
                },
                refetchUser() {
                    return this.$api.get("/api/memberapi/get/current").then(t=>{
                        console.log("Got new user info"),
                        this.$store.commit("setUserData", {
                            user: t
                        })
                    }
                    )
                }
            }
        }
          , l = r
          , c = i("2877")
          , d = i("6544")
          , u = i.n(d)
          , h = i("0798")
          , m = i("8336")
          , p = i("4bd4")
          , v = i("132d")
          , g = i("adda")
          , f = i("2fa4")
          , b = i("8654")
          , y = Object(c["a"])(l, s, a, !1, null, null, null);
        e["a"] = y.exports;
        u()(y, {
            VAlert: h["a"],
            VBtn: m["a"],
            VForm: p["a"],
            VIcon: v["a"],
            VImg: g["a"],
            VSpacer: f["a"],
            VTextField: b["a"]
        })
    },
    "85f6": function(t, e, i) {},
    "87e3": function(t, e, i) {},
    "8af4": function(t, e, i) {
        "use strict";
        i("1501")
    },
    "8bc1": function(t, e, i) {},
    "8c33": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-menu", {
                attrs: {
                    "close-on-content-click": !1,
                    transition: "scale-transition",
                    "offset-y": "",
                    "min-width": "290px"
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on
                          , a = e.attrs;
                        return [i("v-text-field", t._g(t._b({
                            attrs: {
                                label: t.label,
                                "prepend-icon": t.prependIcon,
                                readonly: ""
                            },
                            scopedSlots: t._u([t.$scopedSlots.append ? {
                                key: "append",
                                fn: function() {
                                    return [t._t("append")]
                                },
                                proxy: !0
                            } : null], null, !0),
                            model: {
                                value: t.date,
                                callback: function(e) {
                                    t.date = e
                                },
                                expression: "date"
                            }
                        }, "v-text-field", a, !1), s))]
                    }
                }]),
                model: {
                    value: t.menu,
                    callback: function(e) {
                        t.menu = e
                    },
                    expression: "menu"
                }
            }, [i("v-date-picker", {
                ref: "picker",
                attrs: {
                    locale: "sv",
                    "first-day-of-week": "1",
                    "locale-first-day-of-year": "4",
                    min: t.min,
                    max: t.max
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.date,
                    callback: function(e) {
                        t.date = e
                    },
                    expression: "date"
                }
            })], 1)
        }
          , a = []
          , o = {
            name: "zoezi-date-field",
            props: ["value", "label", "prependIcon", "min", "max"],
            data: ()=>({
                date: null,
                menu: !1
            }),
            watch: {
                value() {
                    this.date = this.value
                },
                menu(t) {
                    t && setTimeout(()=>this.$refs.picker.activePicker = "YEAR")
                }
            },
            methods: {
                save(t) {
                    this.$emit("input", t),
                    this.menu = !1
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("2e4b")
          , u = i("e449")
          , h = i("8654")
          , m = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = m.exports;
        c()(m, {
            VDatePicker: d["a"],
            VMenu: u["a"],
            VTextField: h["a"]
        })
    },
    "8d1e": function(t, e, i) {
        "use strict";
        i("87e3")
    },
    "8f18": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500px",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [t.product ? i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", {
                domProps: {
                    textContent: t._s(t.product.name)
                }
            }), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.product.imagekey,
                    height: "200px"
                }
            })], 1), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("div", {
                ref: "description",
                class: {
                    "z-fade-to-white": !t.showFullDescription && !t.checkHeight
                },
                style: {
                    height: t.checkHeight || t.showFullDescription ? "unset" : "200px",
                    overflow: "hidden"
                },
                domProps: {
                    innerHTML: t._s(t.product.description)
                }
            }), t.showFullDescription ? t._e() : i("div", {
                staticClass: "d-flex"
            }, [i("hr", {
                staticClass: "v-divider theme--light flex-grow-1",
                style: {
                    "margin-top": t.showMoreButtonHeight / 2 + "px"
                }
            }), i("zoezi-button", {
                staticStyle: {
                    "font-size": "0.8em",
                    padding: "0px 10px",
                    height: "20px"
                },
                attrs: {
                    radius: "20px",
                    text: t.$translate("Show more"),
                    icon: "mdi-chevron-down",
                    thin: "",
                    right: "",
                    "text-color": "#999",
                    color: "white"
                },
                on: {
                    click: function(e) {
                        t.showFullDescription = !0
                    }
                }
            }), i("hr", {
                staticClass: "v-divider theme--light flex-grow-1",
                style: {
                    "margin-top": t.showMoreButtonHeight / 2 + "px"
                }
            })], 1)])], 1)], 1), t.showBuyButton ? i("v-card-actions", {
                staticClass: "d-block"
            }, [i("div", {
                staticClass: "d-flex flex-row"
            }, [i("v-spacer"), i("span", {
                staticClass: "primary--text font-weight-bold"
            }, [t._v(t._s(t.priceString))])], 1), i("div", {
                staticClass: "d-flex flex-row align-center"
            }, [i("v-spacer"), i("div", [t.hasVariants ? i("v-select", {
                staticStyle: {
                    width: "150px"
                },
                attrs: {
                    label: "Varianter",
                    items: t.variants,
                    "item-text": "name",
                    "item-value": "name"
                },
                model: {
                    value: t.variant,
                    callback: function(e) {
                        t.variant = e
                    },
                    expression: "variant"
                }
            }) : t._e()], 1), t.showCount ? i("div", [i("product-count", {
                model: {
                    value: t.count,
                    callback: function(e) {
                        t.count = e
                    },
                    expression: "count"
                }
            })], 1) : t._e(), t.useCheckoutButton ? i("checkout-button", {
                attrs: {
                    component: {
                        component: "zoezi-button",
                        props: {
                            text: t.$translate(t.buyButtonText),
                            thin: !0
                        }
                    },
                    products: [{
                        product_id: t.product.id,
                        count: 1
                    }]
                },
                on: {
                    showCheckout: function(e) {
                        e || t.$emit("buy", {
                            variant: t.variant,
                            count: t.count
                        })
                    }
                },
                nativeOn: {
                    click: function(t) {
                        t.stopPropagation()
                    }
                }
            }) : i("zoezi-button", {
                attrs: {
                    thin: "",
                    text: t.$translate(t.buyButtonText),
                    disabled: !t.canBuy
                },
                on: {
                    click: t.buy
                }
            })], 1)]) : t._e()], 1) : t._e()], 1)
        }
          , a = []
          , o = i("a026")
          , n = i("ba48")
          , r = i("4db0")
          , l = i("e0eb")
          , c = {
            name: "zoezi-product-dialog",
            props: {
                value: {
                    type: Boolean
                },
                showCount: {
                    type: Boolean,
                    default: !0
                },
                product: {
                    type: Object
                },
                basket: {
                    type: Array
                },
                showBuyButton: {
                    type: Boolean,
                    default: !0
                },
                buyButtonText: {
                    type: String,
                    default: "Buy"
                },
                useCheckoutButton: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                ProductCount: n["a"],
                CheckoutButton: r["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t
                    }
                },
                showDialog(t) {
                    this.$emit("input", t),
                    t && this.show()
                }
            },
            computed: {
                hasVariants() {
                    return !(1 == this.variants.length && null === this.variants[0].name)
                },
                variants() {
                    return this.product.variants && 0 != this.product.variants.length ? this.product.variants : [{
                        name: null,
                        stock: this.product.stock
                    }]
                },
                canBuy() {
                    return !this.hasVariants || !!this.variant
                },
                stock() {
                    let t = this.variants.find(t=>t.name == this.variant);
                    if (!t)
                        return 0;
                    let e = t.stock;
                    if (null != e && this.basket) {
                        let i = this.basket.find(e=>e.product_id == this.product.id && t.name == e.variant);
                        return i && i.count && (e -= i.count),
                        Math.max(0, e)
                    }
                    return e
                },
                priceString() {
                    return Object(l["o"])(this.product)
                }
            },
            data: ()=>({
                showDialog: !1,
                count: 1,
                showFullDescription: !1,
                checkHeight: !0,
                showMoreButtonHeight: 20,
                variant: null
            }),
            methods: {
                doCheck() {
                    o["default"].nextTick(()=>{
                        this.$refs.description.scrollHeight ? (this.showFullDescription = this.$refs.description.scrollHeight < 200,
                        this.checkHeight = !1) : this.doCheck()
                    }
                    )
                },
                show() {
                    this.checkHeight = !0,
                    this.variant = this.variants[0].name,
                    this.count = 1,
                    this.product.description ? this.doCheck() : (this.checkHeight = !1,
                    this.showFullDescription = !0)
                },
                buy() {
                    if (null != this.stock && this.stock < this.count) {
                        let t = this.stock > 0 ? `Det finns bara ${this.stock} av denna produkt i lager` : "Det finns inga produkter kvar i lager";
                        this.$store.commit("showSnackBar", {
                            text: t
                        })
                    } else
                        this.$emit("buy", {
                            variant: this.variant,
                            count: this.count
                        }),
                        this.showDialog = !1
                }
            }
        }
          , d = c
          , u = i("2877")
          , h = i("6544")
          , m = i.n(h)
          , p = i("8336")
          , v = i("b0af")
          , g = i("99d9")
          , f = i("62ad")
          , b = i("169a")
          , y = i("132d")
          , _ = i("0fd9")
          , k = i("b974")
          , w = i("2fa4")
          , C = Object(u["a"])(d, s, a, !1, null, null, null);
        e["a"] = C.exports;
        m()(C, {
            VBtn: p["a"],
            VCard: v["a"],
            VCardActions: g["a"],
            VCardText: g["b"],
            VCardTitle: g["c"],
            VCol: f["a"],
            VDialog: b["a"],
            VIcon: y["a"],
            VRow: _["a"],
            VSelect: k["a"],
            VSpacer: w["a"]
        })
    },
    "8fe9": function(t, e, i) {
        "use strict";
        i("71ce")
    },
    "90c2": function(t, e, i) {
        "use strict";
        i("09e7")
    },
    "912b": function(t, e, i) {},
    "929d": function(t, e, i) {},
    9300: function(t, e, i) {
        "use strict";
        i("4951")
    },
    "95e6": function(t, e, i) {},
    9758: function(t, e, i) {
        "use strict";
        i("ddd2")
    },
    9846: function(t, e, i) {},
    "9b84": function(t, e, i) {},
    "9c90": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.mainButton.info ? i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin primarytext--text",
                attrs: {
                    color: "primary"
                }
            }, [t._v(" " + t._s(t.$translate("Info")) + " ")])], 1) : t.mainButton.plaintext ? i("div", {
                staticClass: "text--secondary text-center"
            }, [t._v(" " + t._s(t.mainButton.plaintext) + " ")]) : t.mainButton.hasMenu ? t.mainButton.menuItems && t.mainButton.menuItems.length ? i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            staticClass: "zoezi-button-thin primarytext--text",
                            attrs: {
                                color: t.mainButton.color,
                                height: t.height,
                                outlined: t.mainButton.outlined,
                                loading: t.mainLoading,
                                block: t.block
                            }
                        }, s), [t._v(" " + t._s(t.mainButton.text) + " "), i("v-icon", [t._v("mdi-chevron-down")])], 1)]
                    }
                }])
            }, [i("v-list", {
                attrs: {
                    "two-line": ""
                }
            }, t._l(t.mainButton.menuItems, (function(e) {
                return i("v-list-item", {
                    key: e.title,
                    on: {
                        click: e.action
                    }
                }, [i("v-list-item-content", [i("v-list-item-title", {
                    domProps: {
                        textContent: t._s(e.title)
                    }
                }), i("v-list-item-subtitle", {
                    domProps: {
                        textContent: t._s(e.subtitle)
                    }
                })], 1)], 1)
            }
            )), 1)], 1) : i("v-menu", {
                attrs: {
                    "offset-y": "",
                    "close-on-content-click": !1
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            staticClass: "zoezi-button-thin primarytext--text",
                            attrs: {
                                color: t.mainButton.color,
                                block: t.block
                            }
                        }, s), [t._v(" " + t._s(t.mainButton.text) + " "), i("v-icon", [t._v("mdi-chevron-down")])], 1)]
                    }
                }])
            }, [i("v-list", {
                staticClass: "z-no-user-select zoezi-workout-book-button-menu"
            }, t._l(t.bookableUsers, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    class: e.classes,
                    attrs: {
                        disabled: e.disabled
                    },
                    on: {
                        click: e.action
                    }
                }, [i("v-avatar", {
                    staticClass: "mr-1",
                    attrs: {
                        size: "20"
                    }
                }, [i("img", {
                    attrs: {
                        src: e.image
                    }
                })]), i("div", {
                    staticClass: "flex-grow-1"
                }, [t._v(t._s(e.title))]), e.progress ? i("v-progress-circular", {
                    staticClass: "ml-2",
                    attrs: {
                        indeterminate: "",
                        color: "primary",
                        size: "16",
                        width: "2"
                    }
                }) : t._e()], 1)
            }
            )), 1)], 1) : i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin primarytext--text",
                attrs: {
                    color: t.mainButton.color,
                    loading: t.mainButton.progress,
                    disabled: t.mainButton.disabled,
                    block: t.block
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.mainButton.action.apply(null, arguments)
                    }
                }
            }, [t._v(" " + t._s(t.mainButton.text) + " ")])], 1), t.mainButton.subText ? i("div", t._l(t.mainButton.subText, (function(e) {
                return i("div", {
                    key: e.text,
                    class: e.classes,
                    domProps: {
                        textContent: t._s(e.text)
                    }
                })
            }
            )), 0) : t._e(), t.buyDialog.show ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.buyDialog.show,
                    callback: function(e) {
                        t.$set(t.buyDialog, "show", e)
                    },
                    expression: "buyDialog.show"
                }
            }, [i("workout-booking-steps", {
                attrs: {
                    workout: t.workout,
                    login: t.buyDialog.login,
                    trial: t.buyDialog.trial,
                    queue: t.buyDialog.queue,
                    user_id: t.buyDialog.user_id
                },
                on: {
                    done: function(e) {
                        return t.gotEvent("done")
                    },
                    error: function(e) {
                        return t.gotEvent("error")
                    },
                    close: function(e) {
                        return t.gotEvent("close")
                    },
                    book: function(e) {
                        return t.gotEvent("book")
                    },
                    canBookForSeveral: function(e) {
                        return t.gotEvent("canBookForSeveral")
                    }
                }
            })], 1) : t._e(), t.showWorkoutDialog ? i("workout-dialog", {
                attrs: {
                    workout: t.workout,
                    showNumBooked: t.showNumBooked
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }) : t._e()], 1)
        }
          , a = []
          , o = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t.almostdone ? t._e() : i("span", [t._v(" " + t._s(t.$translate(t.showBuySteps ? "Purchase training card and reserve" : "Log in and book")) + " ")]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll overflow-y-auto",
                class: {
                    "px-2": !this.almostdone && t.$vuetify.breakpoint.mobile,
                    "px-0": this.almostdone,
                    "pb-0": this.almostdone
                }
            }, [t.showBuySteps ? i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    items: t.checkoutItems,
                    "expand-first-item": !0,
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "force-done": t.almostdone,
                    "content-target": "checkoutcontent",
                    "count-read-only": "",
                    "show-sum": !!t.selectedCardId,
                    "identification-title": t.$translate("Who are you who book?"),
                    "identification-sub-title": t.$translate("Complete your payment by identifying yourself"),
                    dialog: !0,
                    "new-style-done-dialog": !0
                },
                on: {
                    almostdone: function(e) {
                        t.almostdone = !0,
                        t.doneCheckout()
                    },
                    done: function(e) {
                        t.doneCheckout(),
                        t.$emit("close")
                    },
                    loading: function(e) {
                        t.checkoutLoading = e,
                        t.loadingCheckout(e)
                    },
                    changeItemUsers: t.changeItemUsers,
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    cost: function(e) {
                        t.cost = e
                    }
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "cards",
                                fn: function() {
                                    return [i("v-expansion-panels", {
                                        attrs: {
                                            accordion: "",
                                            flat: ""
                                        },
                                        model: {
                                            value: t.expandedPanel,
                                            callback: function(e) {
                                                t.expandedPanel = e
                                            },
                                            expression: "expandedPanel"
                                        }
                                    }, [i("v-expansion-panel", [i("expansion-panel-header", {
                                        attrs: {
                                            icon: "mdi-tag-plus-outline",
                                            title: t.$translate("For this activity, a membership card is required"),
                                            subtitle: t.$translate("Choose from the cards below")
                                        }
                                    }), i("v-expansion-panel-content", {
                                        staticClass: "z-dense"
                                    }, [i("simple-product-list", {
                                        attrs: {
                                            products: t.cards,
                                            "buy-button-text": t.$translate("Choose")
                                        },
                                        on: {
                                            buy: function(e) {
                                                t.selectedCardId = e.id,
                                                t.currentStep++
                                            }
                                        }
                                    })], 1)], 1)], 1)]
                                },
                                proxy: !0
                            }, {
                                key: "membership",
                                fn: function() {
                                    return [i("membership-checkout", {
                                        attrs: {
                                            items: t.checkoutItems
                                        },
                                        on: {
                                            buy: t.onBuyMembership
                                        }
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }]),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }, {
                    key: "workoutbooking",
                    fn: function() {
                        return [i("div", {
                            staticClass: "mt-2"
                        }, [i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            attrs: {
                                cols: "6"
                            }
                        }, [i("div", [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-calendar")]), t._v(" " + t._s(Date.formatFullShortRelative(t.workout.startTime)) + " ")], 1)]), i("v-col", {
                            attrs: {
                                cols: "6"
                            }
                        }, [i("div", [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v("mdi-clock-outline")]), t._v(t._s(t.workout.startTime.hhmm()) + " ")], 1)])], 1), i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            attrs: {
                                cols: "6"
                            }
                        }, [t.workout.location ? i("div", [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v("mdi-map-marker")]), t._v(t._s(t.workout.location.name) + " ")], 1) : t._e()]), i("v-col", {
                            attrs: {
                                cols: "6"
                            }
                        }, [t.workout.staffs.length ? i("div", [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v("mdi-account-outline")]), t._v(t._s(t.workout.staffs.map((function(t) {
                            return t.name
                        }
                        )).join(", ")) + " ")], 1) : t._e()])], 1), t.bookingConditions.length ? i("div", [i("div", {
                            staticClass: "my-2"
                        }, [i("v-divider")], 1), i("div", {
                            staticClass: "font-weight-bold"
                        }, [t._v(t._s(t.$translate("Note! This activity is only open to:")))]), i("ul", t._l(t.bookingConditions, (function(e) {
                            return i("li", {
                                key: e,
                                domProps: {
                                    textContent: t._s(e)
                                }
                            })
                        }
                        )), 0)]) : t._e()], 1)]
                    },
                    proxy: !0
                }])
            }) : i("identification", {
                attrs: {
                    title: t.$translate("Who are you who book?"),
                    "sub-title": t.$translate("Complete your payment by identifying yourself")
                }
            })], 1), t.showBuySteps && !t.almostdone ? i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    show: !t.almostdone,
                    disabled: t.checkoutLoading
                },
                on: {
                    cancel: function(e) {
                        return t.$emit("close")
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1) : t._e()], 1)
        }
          , n = []
          , r = i("e0eb")
          , l = i("9f1f")
          , c = i("ac27")
          , d = i("7cb4")
          , u = i("cff5")
          , h = i("1a9e")
          , m = i("a933")
          , p = i("307d")
          , v = {
            name: "zoezi-workoutbookingsteps",
            components: {
                Stepper: l["a"],
                StepperContent: c["a"],
                Checkout: d["a"],
                SimpleProductList: u["a"],
                Identification: h["a"],
                ExpansionPanelHeader: m["a"],
                MembershipCheckout: p["a"]
            },
            props: ["workout", "login", "trial", "queue", "user_id"],
            watch: {
                workout: {
                    immediate: !0,
                    handler() {
                        var t, e;
                        (this.unreserve(),
                        this.workout) && (this.queue || this.reserve(),
                        this.waitingForCards = this.queue,
                        this.showBuySteps = !this.login,
                        1 == this.cards.length && (this.selectedCardId = this.cards[0].id,
                        this.currentStep = 1),
                        null !== (t = this.workout) && void 0 !== t && null !== (e = t.workoutType) && void 0 !== e && e.booking_interests && this.$store.dispatch("loadInterests"))
                    }
                },
                "$store.state.user": {
                    immediate: !0,
                    handler(t) {
                        t && !this.buyingFor && (this.buyingFor = [this.user_id || t.id])
                    }
                },
                "$store.state.isLoggedIn"(t) {
                    this.login && t && (this.buyingFor || (this.buyingFor = [this.$store.state.user.id]),
                    this.workout.isBooked() ? this.$emit("done") : 1 == this.$store.state.user.canBookFor.length ? this.waitingForCards = !0 : this.$emit("canBookForSeveral"))
                },
                "$store.state.cards"() {
                    this.waitingForCards && (this.workout.hasValidTrainingCard() ? (this.$emit("book"),
                    this.waitingForCards = !1,
                    this.showBuySteps || this.$emit("done")) : this.showBuySteps = !0)
                }
            },
            computed: {
                checkoutItems() {
                    if (!this.selectedCardId)
                        return [{
                            product_id: null,
                            workout_bookings: [{
                                reservation: this.reservation_id,
                                workout_id: this.workout.id,
                                workout: this.workout
                            }]
                        }];
                    let t = [];
                    this.membership && (t = [{
                        count: 1,
                        users: this.buyingFor,
                        product_id: this.membership.id,
                        product: this.membership
                    }]);
                    let e = this.cards.find(t=>t.id == this.selectedCardId);
                    if (this.queue)
                        return [{
                            product_id: this.selectedCardId,
                            product: e,
                            users: this.buyingFor
                        }].concat(t);
                    {
                        var i;
                        let s = null === (i = this.cards.find(t=>t.id == this.selectedCardId)) || void 0 === i ? void 0 : i.onetime;
                        return s ? [{
                            workout_id: this.workout.id,
                            reservation: this.reservation_id,
                            workout: this.workout,
                            users: this.buyingFor,
                            price: this.workout.workoutType.price
                        }].concat(t) : [{
                            product_id: this.selectedCardId,
                            product: e,
                            users: this.buyingFor,
                            workout_bookings: [{
                                reservation: this.reservation_id,
                                workout_id: this.workout.id,
                                workout: this.workout
                            }]
                        }].concat(t)
                    }
                },
                cards() {
                    return this.trial ? this.workout.getTrialCards() : this.workout.getBuyableCards()
                },
                basket() {
                    let t = {};
                    return this.cards.forEach(e=>{
                        t[e.id] = this.selectedCardId == e.id ? 1 : 0
                    }
                    ),
                    t
                },
                steps() {
                    let t = this.cost > 0 ? this.$translate("Pay {0} and book").format(Object(r["i"])(this.cost)) : this.$translate("Confirm purchase and book");
                    this.selectedCardId && !isNaN(this.cost) || (t = this.selectedCardId && !this.$store.state.user ? this.$translate("Identify yourself") : this.$translate("Choose training card"));
                    let e = this.$store.state.isLoggedIn && this.readyToPay && this.selectedCardId && !isNaN(this.cost)
                      , i = this.$booking.isMembershipRequired(this.checkoutItems)
                      , s = !this.$booking.isMembershipStillRequired(this.checkoutItems);
                    const a = this.$translate("Pay");
                    return [{
                        title: this.$translate("Training card"),
                        id: "cards",
                        complete: !!this.selectedCardId,
                        nextTitle: t
                    }, i && {
                        title: this.$translate("Membership"),
                        id: "membership",
                        complete: s,
                        nextTitle: this.$translate(s ? "Continue" : "Choose membership")
                    }, {
                        title: a,
                        id: "checkout",
                        nextTitle: t,
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: e
                    }, {
                        title: this.$translate("Done"),
                        id: "done"
                    }].filter(t=>t)
                },
                bookingConditions() {
                    let t, e, i = [];
                    if (this.workout.workoutType.booking_age && (t = this.workout.workoutType.booking_age.from >= 18),
                    "male" == this.workout.workoutType.booking_gender ? e = t ? "Men" : "Boys" : "female" == this.workout.workoutType.booking_gender && (e = t ? "Women" : "Girls"),
                    this.workout.workoutType.booking_age) {
                        let t = this.$translate(e || "Persons");
                        i.push(`${t} ${this.workout.workoutType.booking_age.from} - ${this.workout.workoutType.booking_age.to} ${this.$translate("years")}`)
                    } else
                        e && i.push(e);
                    if (this.workout.workoutType.booking_interests)
                        if (this.$store.state.interests) {
                            let t = this.$store.state.interests;
                            i.push(this.workout.workoutType.booking_interests.map(e=>t.find(t=>t.id == e).name).sort((t,e)=>t.localeCompare(e)).join(", "))
                        } else
                            i.push(this.$translate("Booking requires some interests"));
                    return this.workout.workoutType.booking_groups && i.push(this.$translate("Booking requires certain group membership")),
                    i
                }
            },
            data: ()=>({
                reservation_id: null,
                checkoutReservation: null,
                almostdone: !1,
                checkoutLoading: !1,
                readyToPay: !1,
                currentStep: 0,
                selectedCardId: null,
                cost: NaN,
                showBuySteps: !1,
                waitingForCards: !1,
                expandedPanel: 0,
                buyingFor: null,
                membership: null
            }),
            methods: {
                reserve() {
                    this.$api.post("/api/resource/reservation/add", {
                        workout_id: this.workout.id,
                        user_id: this.user_id
                    }).then(t=>{
                        t.ok ? t.json().then(t=>{
                            this.reservation_id = t.key,
                            window.addEventListener("beforeunload", this.unreserve)
                        }
                        ) : (this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error during reservation"),
                            text: this.$translate("Something went wrong when the booking was to be reserved")
                        }),
                        this.$emit("error"))
                    }
                    )
                },
                unreserve() {
                    this.reservation_id && (this.$api.post("/api/resource/reservation/cancel", {
                        key: this.reservation_id
                    }),
                    this.reservation_id = null,
                    window.removeEventListener("beforeunload", this.unreserve))
                },
                doneCheckout() {
                    this.checkoutReservation = null,
                    this.reservation_id && this.unreserve()
                },
                loadingCheckout(t) {
                    if (t) {
                        if (!this.reservation_id)
                            return;
                        this.checkoutReservation = this.reservation_id,
                        this.reservation_id = null,
                        window.removeEventListener("beforeunload", this.unreserve)
                    } else
                        this.checkoutReservation && (this.reservation_id = this.checkoutReservation,
                        window.addEventListener("beforeunload", this.unreserve))
                },
                pay() {
                    this.$refs.checkout.completePurchase()
                },
                changeItemUsers(t, e) {
                    this.buyingFor = e
                },
                onBuyMembership(t) {
                    this.membership = t,
                    this.currentStep++
                }
            },
            destroyed() {
                this.unreserve()
            }
        }
          , g = v
          , f = i("2877")
          , b = i("6544")
          , y = i.n(b)
          , _ = i("8336")
          , k = i("b0af")
          , w = i("99d9")
          , C = i("62ad")
          , x = i("ce7e")
          , $ = i("cd55")
          , S = i("49e2")
          , D = i("0393")
          , z = i("132d")
          , T = i("0fd9")
          , I = Object(f["a"])(g, o, n, !1, null, null, null)
          , P = I.exports;
        y()(I, {
            VBtn: _["a"],
            VCard: k["a"],
            VCardActions: w["a"],
            VCardText: w["b"],
            VCardTitle: w["c"],
            VCol: C["a"],
            VDivider: x["a"],
            VExpansionPanel: $["a"],
            VExpansionPanelContent: S["a"],
            VExpansionPanels: D["a"],
            VIcon: z["a"],
            VRow: T["a"]
        });
        var V = i("1123")
          , B = i("82dc")
          , F = {
            name: "zoezi-workout-book-button",
            props: {
                workout: {
                    type: Object
                },
                showExtraInfo: {
                    type: Boolean,
                    default: !1
                },
                showNumBooked: {
                    type: Boolean,
                    default: !0
                },
                block: {
                    type: Boolean,
                    default: !1
                },
                infoOnUnbookable: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                WorkoutBookingSteps: P,
                BottomDialog: V["a"],
                WorkoutDialog: ()=>Promise.resolve().then(i.bind(null, "5a86"))
            },
            data: ()=>({
                loading: {
                    cancel: {},
                    book: {},
                    queue: {}
                },
                buyDialog: {
                    show: !1,
                    login: !1,
                    trial: !1,
                    queue: !1
                },
                height: 36,
                showWorkoutDialog: !1
            }),
            watch: {
                "$store.state.bookings"(t) {
                    if (t) {
                        var e;
                        let i = null === t || void 0 === t || null === (e = t.workouts) || void 0 === e ? void 0 : e.filter(t=>{
                            var e;
                            return t.id == (null === (e = this.workout) || void 0 === e ? void 0 : e.id)
                        }
                        );
                        null === i || void 0 === i || i.forEach(t=>{
                            (this.loading.book[t.user_id] || this.loading.queue[t.user_id]) && this.setLoading("book", t.user_id, !1)
                        }
                        ),
                        Object.keys(this.loading.cancel).forEach(t=>{
                            i.find(e=>e.user_id == t) || this.setLoading("cancel", t, !1)
                        }
                        )
                    }
                }
            },
            computed: {
                allBooked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.every(t=>this.workout.isBooked(t))
                },
                someCanQueue() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.some(t=>"queue" == this.workout.getState(t))
                },
                someCanBook() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.some(t=>"book" == this.workout.getState(t))
                },
                someCanBuy() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.some(t=>["bookbuy", "queuebuy"].includes(this.workout.getState(t)))
                },
                canOnlyBookForSelf() {
                    var t;
                    return 1 == (null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.canBookFor.length) && this.$store.state.user.canBookFor[0].id == this.$store.state.user.id
                },
                self() {
                    return this.bookableUsers.find(t=>t.id == this.$store.state.user.id)
                },
                workoutState() {
                    return this.workout.getState()
                },
                membershipActive() {
                    return this.$store.state.cards.some(t=>t.membership && this.workout.startTime.withinRange(t.validFromDate, t.validToDate))
                },
                bookableUsers() {
                    if (!this.$store.state.user)
                        return [];
                    let t = this.workout;
                    return this.$store.state.user.canBookFor.map(e=>{
                        let i, s, a, o = this.$store.state.user.id == e.id, n = o ? this.$translate("me") : e.name.split(" ")[0], r = o ? this.$translate("You") : n, l = null, c = ()=>this.cancel(e.id), d = ()=>this.book(e.id), u = ()=>this.openBuyDialog(null, e.id), h = this.loading.cancel[e.id] || this.loading.book[e.id] || this.loading.queue[e.id], m = t.isInQueue(e), p = this.getState(e);
                        switch (p) {
                        case "cancel":
                            i = `${this.$translate("CANCEL_BOOKING")} ${n}`,
                            l = c,
                            s = !0;
                            break;
                        case "queue":
                            i = this.$translate("Put {0} in queue").format(n),
                            l = d;
                            break;
                        case "leavequeue":
                            i = this.$translate("Leave queue for {0}").format(n),
                            l = c;
                            break;
                        case "book":
                            i = this.$translate("Book") + " " + n,
                            l = d;
                            break;
                        case "bookbuy":
                        case "queuebuy":
                            i = this.$translate("Buy and book for") + " " + n,
                            l = u;
                            break;
                        case "full":
                            i = n + " - " + this.$translate("fully booked"),
                            a = !0;
                            break;
                        case "tooearly":
                        case "toolate":
                        case "cancelled":
                            a = !0;
                            break;
                        case "nobook":
                            if (i = `${r} ${this.$translate("can not book")}`,
                            t.isBlocked(e)) {
                                let s = t.getBlock(e).toDate;
                                i = s ? this.$translate("{0} is blocked until {1}").format(r, Date.formatFullShort(s)) : this.$translate("{0} is blocked until further notice").format(r)
                            } else
                                (t.hasReachedBookingsLimit(e) || t.hasReachedIntervalBookingsLimit(e) || t.hasReachedTrainingCardsBookingsLimit(e)) && (i = this.$translate("{0} has reached {1} booking limit").format(r, this.$translate(o ? "your" : "their")));
                            a = !0;
                            break;
                        default:
                            console.error(p)
                        }
                        return h && (this.loading.cancel[e.id] ? i = this.$translate("Removing booking") + " " + n : this.loading.queue[e.id] ? i = this.$translate("Places {0} in queue").format(n) : this.loading.book[e.id] && (i = this.$translate("BOOKING") + " " + n)),
                        {
                            id: e.id,
                            image: this.$api.getImageUrl(e.imagekey || "/assets/img/profile_avatar_man.jpg", 200),
                            title: i,
                            classes: {
                                booked: s,
                                queued: m
                            },
                            progress: h,
                            action: l,
                            disabled: a,
                            state: p
                        }
                    }
                    ).filter(t=>!["cancel", "leavequeue"].includes(t.state))
                },
                mainButton() {
                    let t, e = !this.canOnlyBookForSelf, i = this.workout, s = this.canOnlyBookForSelf ? ()=>this.book(this.$store.state.user.id) : null, a = this.canOnlyBookForSelf && this.mainLoading, o = this.$translate("FREE_SPOTS");
                    if (this.showNumBooked && i.space && !i.isFull() && (t = i.firstCome ? [{
                        text: `${i.space + i.numQueue - i.numBooked} / ${i.space} ${o}`,
                        classes: "text-center"
                    }] : [{
                        text: `${i.space - i.numBooked} / ${i.space} ${o}`,
                        classes: "text-center"
                    }]),
                    i.isCancelled())
                        return {
                            text: this.$translate("Cancelled"),
                            color: "primary",
                            disabled: !0
                        };
                    if (this.allBooked)
                        return {
                            info: !0,
                            subText: t
                        };
                    if (i.tooEarlyToBook())
                        return {
                            plaintext: this.$translate("Booking opens") + " " + Date.formatTimeRelative(i.bookableFrom()),
                            disabled: !0
                        };
                    if (i.tooLateToBook() || !i.bookableForCustomer) {
                        if (this.showExtraInfo && (t = i.bookableForCustomer ? [{
                            text: this.$translate("Workouts close for booking") + " " + i.getCategory().registerHoursBefore + " " + this.$translate("hours before start")
                        }] : [{
                            text: "" + this.$translate("Workout does not allow booking")
                        }]),
                        !this.infoOnUnbookable)
                            return {
                                text: this.$translate("Booking closed"),
                                disabled: !0,
                                subText: t
                            }
                    } else {
                        if (this.someCanQueue)
                            return {
                                text: this.$translate("Queue up"),
                                color: "warning",
                                hasMenu: e,
                                action: s,
                                progress: a
                            };
                        if (this.someCanBook)
                            return {
                                text: this.$translate("Book"),
                                color: "primary",
                                hasMenu: e,
                                action: s,
                                progress: a,
                                subText: t
                            };
                        if (this.canOnlyBookForSelf && "bookbuy" == this.workoutState) {
                            let e = [];
                            return e.push({
                                title: this.$translate("Get started!"),
                                subtitle: this.$translate("Buy training card and book"),
                                action: ()=>this.openBuyDialog()
                            }),
                            i.getTrialCards().length > 0 && e.push({
                                title: this.$translate("Try!"),
                                subtitle: this.$translate("So you get an idea what it’s about!"),
                                action: ()=>this.openBuyDialog("trial")
                            }),
                            {
                                text: this.$translate("Book"),
                                color: "primary",
                                menuItems: e,
                                subText: t,
                                hasMenu: !0
                            }
                        }
                        if (this.canOnlyBookForSelf && "queuebuy" == this.workoutState) {
                            let e = [];
                            return e.push({
                                title: this.$translate("Get started!"),
                                subtitle: this.$translate("Buy training card and book"),
                                action: ()=>this.openBuyDialog()
                            }),
                            i.getTrialCards().length > 0 && e.push({
                                title: this.$translate("Try!"),
                                subtitle: this.$translate("So you get an idea what it’s about!"),
                                action: ()=>this.openBuyDialog("trial")
                            }),
                            {
                                text: this.$translate("Queue up"),
                                color: "warning",
                                menuItems: e,
                                subText: t,
                                hasMenu: !0
                            }
                        }
                        if (this.canOnlyBookForSelf && i.isBlocked()) {
                            let t, e = i.getBlock();
                            if (e.toDate) {
                                let i;
                                i = Date.newFull(e.toDate).getFullYear() != this.$store.state.now30s.getFullYear() ? Date.newFull(e.toDate).yyyymmdd() : Date.formatFullShort(e.toDate),
                                t = this.$translate("You are blocked until {0}").format(i)
                            } else
                                t = this.$translate("You are blocked from group workouts until furhter notice");
                            let s = [{
                                text: t,
                                classes: "text-center error--text"
                            }];
                            return {
                                text: this.$translate("Blocked"),
                                disabled: !0,
                                subText: s
                            }
                        }
                        if (this.canOnlyBookForSelf && (i.hasReachedBookingsLimit() || i.hasReachedIntervalBookingsLimit() || i.hasReachedTrainingCardsBookingsLimit())) {
                            let t = i.getNoBookReasons()
                              , e = [];
                            return t.forEach(t=>{
                                const i = this.$translate("Booking limit reached") + ",";
                                t.startsWith(i) && (t = t.substring(23),
                                e.push({
                                    text: t,
                                    classes: "text-center text--secondary"
                                }))
                            }
                            ),
                            {
                                text: this.$translate("Booking limit"),
                                disabled: !0,
                                subText: e
                            }
                        }
                        if (this.someCanBuy)
                            return {
                                text: this.$translate("Book"),
                                color: "primary",
                                hasMenu: e,
                                action: s,
                                progress: a,
                                subText: t
                            };
                        if (("bookbuy" == this.workoutState || "nobook" == this.workoutState) && !this.$store.state.isLoggedIn) {
                            let e = [];
                            return e.push({
                                title: this.$translate("Already a member?"),
                                subtitle: this.$translate("Login and book here"),
                                action: ()=>this.openBuyDialog("login")
                            }),
                            e.push({
                                title: this.$translate("Get started!"),
                                subtitle: this.$translate("Buy training card and book"),
                                action: ()=>this.openBuyDialog()
                            }),
                            i.getTrialCards().length > 0 && e.push({
                                title: this.$translate("Try!"),
                                subtitle: this.$translate("So you get an idea what it’s about!"),
                                action: ()=>this.openBuyDialog("trial")
                            }),
                            {
                                text: this.$translate("Book"),
                                color: "primary",
                                menuItems: e,
                                subText: t,
                                hasMenu: !0
                            }
                        }
                    }
                    return {
                        info: !0,
                        subText: t
                    }
                },
                mainLoading() {
                    var t;
                    let e = null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.id;
                    return e && (this.loading.cancel[e] || this.loading.book[e] || this.loading.queue[e])
                }
            },
            methods: {
                cancel(t) {
                    this.setLoading("cancel", t, !0),
                    this.$api.post("/api/memberapi/workoutBooking/remove", null, {
                        workout: this.workout.id,
                        booked_user: t
                    }).then(e=>{
                        this.showWorkoutDialog = !1,
                        e.ok || (this.setLoading("cancel", t, !1),
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Cancellation error"),
                            text: this.$translate("The booking could not be cancelled")
                        }))
                    }
                    )
                },
                bookFromQueue(t) {
                    this.setLoading("book", t, !0),
                    this.$api.post("/api/memberapi/workoutBooking/join", null, {
                        workout: this.workout.id
                    }).then(e=>{
                        e.ok ? this.$emit("booked") : (this.setLoading("book", t, !1),
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Booking error"),
                            text: this.$translate("The booking could not be completed")
                        }))
                    }
                    )
                },
                book(t) {
                    if (t == this.$store.state.user.id && !this.workout.hasValidTrainingCard())
                        return void (this.buyDialog.show = !0);
                    let e = this.getUser(t);
                    !this.workout.isFull() && this.workout.bookable(e) && this.workout.isInQueue(e) ? this.bookFromQueue(t) : (this.setLoading(this.workout.isFull() ? "queue" : "book", t, !0),
                    this.$api.post("/api/memberapi/workoutBooking/add", null, {
                        workout: this.workout.id,
                        method: "trainingcard",
                        user_id: t
                    }).then(e=>{
                        if (e.ok) {
                            try {
                                let t = [{
                                    id: "w" + this.workout.id,
                                    name: this.workout.workoutType.name,
                                    price: this.workout.workoutType.price,
                                    count: 1,
                                    vat: this.workout.workoutType.vat,
                                    currency: "SEK",
                                    discount: null
                                }]
                                  , e = Date.now();
                                this.$ecommercetracking.addToCart(t[0]),
                                this.$ecommercetracking.purchase(e, t)
                            } catch (i) {
                                B["a"](i)
                            }
                            this.$emit("booked")
                        } else
                            this.setLoading("book", t, !1),
                            e.json().then(e=>{
                                if ("duplicate" == e.type) {
                                    let e, i = t == this.$store.state.user.id ? this.$store.state.user : this.$store.state.user.canBookFor.find(e=>e.id == t);
                                    if (t == this.$store.state.user.id) {
                                        let t = this.workout.isInQueue(i) ? "You are already in queue" : "You are already booked";
                                        e = this.$translate(t)
                                    } else {
                                        let t = this.workout.isInQueue(i) ? "{0} is already in queue" : "{0} is already booked";
                                        e = this.$translate(t).format(i.name.split(" ")[0])
                                    }
                                    this.$store.commit("showSnackBar", {
                                        text: e
                                    })
                                } else {
                                    let t = "The booking could not be completed";
                                    this.membershipActive || (t = "Your training card requires an active membership"),
                                    this.$store.commit("showErrorDialog", {
                                        title: this.$translate("Booking error"),
                                        text: this.$translate(t)
                                    })
                                }
                            }
                            )
                    }
                    ))
                },
                getUser(t) {
                    return t == this.$store.state.user.id ? this.$store.state.user : this.$store.state.user.canBookFor.find(e=>e.id == t)
                },
                gotEvent(t) {
                    "book" == t ? 1 == this.$store.state.user.canBookFor.length && "nobook" != this.workoutState ? this.book(this.$store.state.user.id) : this.showWorkoutDialog = !0 : "canBookForSeveral" == t ? (this.buyDialog.show = !1,
                    this.showWorkoutDialog = !0) : this.buyDialog.show = !1
                },
                setLoading(t, e, i) {
                    let s = this.loading[t];
                    s[e] = i,
                    this.loading[t] = Object.assign({}, s),
                    "book" != t || i || this.setLoading("queue", e, !1)
                },
                getState(t) {
                    return this.workout.getState(t)
                },
                openBuyDialog(t, e) {
                    this.buyDialog.queue = this.workout.isFull(),
                    this.buyDialog.trial = "trial" == t,
                    this.buyDialog.login = "login" == t,
                    this.buyDialog.show = !0,
                    this.buyDialog.user_id = e
                }
            }
        }
          , E = F
          , O = i("8212")
          , M = i("8860")
          , A = i("da13")
          , R = i("5d23")
          , L = i("e449")
          , j = i("490a")
          , N = Object(f["a"])(E, s, a, !1, null, null, null);
        e["a"] = N.exports;
        y()(N, {
            VAvatar: O["a"],
            VBtn: _["a"],
            VIcon: z["a"],
            VList: M["a"],
            VListItem: A["a"],
            VListItemContent: R["a"],
            VListItemSubtitle: R["b"],
            VListItemTitle: R["c"],
            VMenu: L["a"],
            VProgressCircular: j["a"]
        })
    },
    "9f1f": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.show ? i("div", {
                ref: "stepper",
                staticClass: "pt-2 fill-width",
                staticStyle: {
                    "background-color": "white"
                }
            }, [t.showTitle ? i("div", {
                staticClass: "d-flex justify-space-between",
                class: {
                    "mx-2": t.fixed
                }
            }, t._l(t.steps, (function(e, s) {
                return i("div", {
                    key: s,
                    staticStyle: {
                        display: "contents"
                    }
                }, [i("div", {
                    directives: [{
                        name: "ripple",
                        rawName: "v-ripple",
                        value: e.complete && s < t.currentStep && !t.disabled,
                        expression: "step.complete && index < currentStep && !disabled"
                    }],
                    staticClass: "d-flex flex-column align-center z-clickable",
                    class: {
                        "z-clickable": e.complete && s < t.currentStep && !t.disabled
                    },
                    on: {
                        click: function(i) {
                            return t.stepClicked(e)
                        }
                    }
                }, [i("v-avatar", {
                    attrs: {
                        color: t.getColor(e).name,
                        size: t.circleSize
                    }
                }, [i("span", {
                    staticClass: "white--text",
                    domProps: {
                        textContent: t._s(s + 1)
                    }
                })]), i("div", {
                    style: {
                        color: t.getColor(e).hex
                    },
                    domProps: {
                        textContent: t._s(e.title)
                    }
                })], 1), s < t.steps.length - 1 ? i("hr", {
                    staticClass: "v-divider theme--light",
                    style: {
                        "margin-top": t.circleSize / 2 + "px"
                    }
                }) : t._e()])
            }
            )), 0) : t._e(), t.showExtraButton ? i("div", {
                staticClass: "mt-2 d-flex"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                class: t.extraButtonDisabled ? "z-disable-clicks" : null,
                attrs: {
                    color: "primary",
                    outlined: "",
                    block: "",
                    disabled: t.extraButtonDisabled
                },
                on: {
                    click: t.extraButtonClicked
                }
            }, [t._v(t._s(t.extraButtonLabel))])], 1) : t._e(), i("div", {
                staticClass: "mt-2 d-flex"
            }, [i("div", {
                staticStyle: {
                    width: "50%"
                }
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin mr-1",
                attrs: {
                    color: "grey-lighten-1",
                    block: "",
                    disabled: t.disabled
                },
                on: {
                    click: t.backClicked
                }
            }, [t._v(t._s(t.$translate(0 == t.currentStep ? "Cancel" : "Go back")))])], 1), i("div", {
                staticStyle: {
                    width: "50%"
                }
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin ml-1",
                class: t.buttonDisabled ? "z-disable-clicks" : null,
                attrs: {
                    color: t.buttonDisabled ? "error" : t.currentStepItemSafe.nextColor || "primary",
                    block: "",
                    dark: !t.buttonDisabled && t.currentStepItemSafe.nextDark,
                    loading: t.currentStepItemSafe.nextLoading,
                    outlined: t.buttonDisabled
                },
                on: {
                    click: t.nextClicked
                }
            }, [t._v(t._s(t.currentStepItemSafe.nextTitle || "Fortsätt"))])], 1)])]) : t._e()
        }
          , a = []
          , o = {
            name: "zoezi-stepper",
            zoezi: {
                title: "Stepper",
                internal: !0
            },
            props: {
                value: {},
                steps: {
                    type: Array
                },
                fixed: {
                    type: Boolean,
                    default: !1
                },
                successColor: {
                    type: String,
                    default: "success"
                },
                nextStepColor: {
                    type: String,
                    default: "grey lighten-1"
                },
                circleSize: {
                    type: Number,
                    default: 20
                },
                show: {
                    type: Boolean,
                    default: !0
                },
                animationDuration: {
                    type: Number,
                    default: 700
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                showTitle: {
                    type: Boolean,
                    default: !0
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.setStep(this.currentStep, t)
                    }
                },
                currentStep() {
                    this.$emit("input", this.currentStep)
                }
            },
            data: ()=>({
                currentStep: 0
            }),
            computed: {
                currentStepItemSafe() {
                    return !this.steps || this.currentStep < 0 || this.currentStep >= this.steps.length ? {} : this.steps[this.currentStep]
                },
                buttonDisabled() {
                    return !this.currentStepItemSafe.complete || this.disabled
                },
                showExtraButton() {
                    return !!this.currentStepItemSafe.extraButton
                },
                extraButtonLabel() {
                    var t;
                    return null === (t = this.currentStepItemSafe.extraButton) || void 0 === t ? void 0 : t.label
                },
                extraButtonDisabled() {
                    var t;
                    return this.disabled || !(null === (t = this.currentStepItemSafe.extraButton) || void 0 === t || !t.disabled)
                }
            },
            methods: {
                setStep(t, e) {
                    this.currentStep = e,
                    t != e && this.$emit("beforeLeave", t, e)
                },
                backClicked() {
                    this.currentStep > 0 ? this.setStep(this.currentStep, this.currentStep - 1) : this.$emit("cancel")
                },
                nextClicked() {
                    this.steps[this.currentStep].nextClicked ? this.steps[this.currentStep].nextClicked() : this.currentStep < this.steps.length - 1 && this.setStep(this.currentStep, this.currentStep + 1)
                },
                extraButtonClicked() {
                    var t, e;
                    null === (t = this.currentStepItemSafe.extraButton) || void 0 === t || null === (e = t.clicked) || void 0 === e || e.call(t)
                },
                stepClicked(t) {
                    let e = this.steps.indexOf(t);
                    t.complete && e < this.currentStep && !this.disabled && this.setStep(this.currentStep, e)
                },
                getColor(t) {
                    let e = this.steps.indexOf(t)
                      , i = {};
                    return e > this.currentStep ? i.name = this.nextStepColor : e == this.currentStep ? i.name = "primary" : i.name = this.successColor,
                    i.hex = this.$root.colorToHex(i.name),
                    i
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("8212")
          , u = i("8336")
          , h = i("269a")
          , m = i.n(h)
          , p = i("5607")
          , v = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = v.exports;
        c()(v, {
            VAvatar: d["a"],
            VBtn: u["a"]
        }),
        m()(v, {
            Ripple: p["a"]
        })
    },
    "9f44": function(t, e, i) {
        "use strict";
        let s = [{
            name: "Svea Bank AB",
            from: 9660,
            to: 9669,
            type: 1,
            subtype: 2
        }, {
            name: "Avanza Bank AB",
            from: 9550,
            to: 9569,
            type: 1,
            subtype: 2
        }, {
            name: "BlueStep Finans AB",
            from: 9680,
            to: 9689,
            type: 1,
            subtype: 1
        }, {
            name: "BNP Paribas SA",
            from: 9470,
            to: 9479,
            type: 1,
            subtype: 2
        }, {
            name: "Citibank",
            from: 9040,
            to: 9049,
            type: 1,
            subtype: 2
        }, {
            name: "Danske Bank",
            from: 1200,
            to: 1399,
            type: 1,
            subtype: 1
        }, {
            name: "Danske Bank",
            from: 2400,
            to: 2499,
            type: 1,
            subtype: 1
        }, {
            name: "DNB Bank",
            from: 9190,
            to: 9199,
            type: 1,
            subtype: 2
        }, {
            name: "DNB Bank",
            from: 9260,
            to: 9269,
            type: 1,
            subtype: 2
        }, {
            name: "Ekobanken",
            from: 9700,
            to: 9709,
            type: 1,
            subtype: 2
        }, {
            name: "Erik Penser AB",
            from: 9590,
            to: 9599,
            type: 1,
            subtype: 2
        }, {
            name: "Forex Bank",
            from: 9400,
            to: 9449,
            type: 1,
            subtype: 1
        }, {
            name: "ICA Banken AB",
            from: 9270,
            to: 9279,
            type: 1,
            subtype: 1
        }, {
            name: "IKANO Bank",
            from: 9170,
            to: 9179,
            type: 1,
            subtype: 1
        }, {
            name: "JAK Medlemsbank",
            from: 9670,
            to: 9679,
            type: 1,
            subtype: 2
        }, {
            name: "Klarna Bank",
            from: 9780,
            to: 9789,
            type: 1,
            subtype: 2
        }, {
            name: "Landshypotek AB",
            from: 9390,
            to: 9399,
            type: 1,
            subtype: 2
        }, {
            name: "Lån & Spar Bank Sverige",
            from: 9630,
            to: 9639,
            type: 1,
            subtype: 1
        }, {
            name: "Länsförsäkringar Bank",
            from: 3400,
            to: 3409,
            type: 1,
            subtype: 1
        }, {
            name: "Länsförsäkringar Bank",
            from: 9020,
            to: 9029,
            type: 1,
            subtype: 2
        }, {
            name: "Länsförsäkringar Bank",
            from: 9060,
            to: 9069,
            type: 1,
            subtype: 1
        }, {
            name: "Marginalen Bank",
            from: 9230,
            to: 9239,
            type: 1,
            subtype: 1
        }, {
            name: "MedMera Bank AB",
            from: 9650,
            to: 9659,
            type: 1,
            subtype: 2
        }, {
            name: "Nordax Finans AB",
            from: 9640,
            to: 9649,
            type: 1,
            subtype: 2
        }, {
            name: "Nordea",
            from: 1100,
            to: 1199,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 1400,
            to: 2099,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 3e3,
            to: 3299,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 3301,
            to: 3399,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 3410,
            to: 3781,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 3783,
            to: 3999,
            type: 1,
            subtype: 1
        }, {
            name: "Nordea",
            from: 4e3,
            to: 4999,
            type: 1,
            subtype: 2
        }, {
            name: "Nordnet Bank",
            from: 9100,
            to: 9109,
            type: 1,
            subtype: 2
        }, {
            name: "Northmill Bank AB",
            from: 9750,
            to: 9759,
            type: 1,
            subtype: 2
        }, {
            name: "Resurs Bank",
            from: 9280,
            to: 9289,
            type: 1,
            subtype: 1
        }, {
            name: "Riksgälden",
            from: 9880,
            to: 9889,
            type: 1,
            subtype: 2
        }, {
            name: "Santander Consumer Bank AS",
            from: 9460,
            to: 9469,
            type: 1,
            subtype: 1
        }, {
            name: "SBAB",
            from: 9250,
            to: 9259,
            type: 1,
            subtype: 1
        }, {
            name: "SEB",
            from: 5e3,
            to: 5999,
            type: 1,
            subtype: 1
        }, {
            name: "SEB",
            from: 9120,
            to: 9124,
            type: 1,
            subtype: 1
        }, {
            name: "SEB",
            from: 9130,
            to: 9149,
            type: 1,
            subtype: 1
        }, {
            name: "Skandiabanken",
            from: 9150,
            to: 9169,
            type: 1,
            subtype: 2
        }, {
            name: "Swedbank",
            from: 7e3,
            to: 7999,
            type: 1,
            subtype: 1,
            maxClearingLength: 4
        }, {
            name: "Ålandsbanken Sverige AB",
            from: 2300,
            to: 2399,
            type: 1,
            subtype: 2
        }, {
            name: "Danske Bank",
            from: 9180,
            to: 9189,
            type: 2,
            subtype: 1
        }, {
            name: "Handelsbanken",
            from: 6e3,
            to: 6999,
            type: 2,
            subtype: 2,
            accountNumberLength: [8, 9]
        }, {
            name: "Nordea/Plusgirot",
            from: 9500,
            to: 9549,
            type: 2,
            subtype: 3
        }, {
            name: "Nordea/Plusgirot",
            from: 9960,
            to: 9969,
            type: 2,
            subtype: 3
        }, {
            name: "Nordea - personkonto",
            from: 3300,
            to: 3300,
            type: 2,
            subtype: 1
        }, {
            name: "Nordea - personkonto",
            from: 3782,
            to: 3782,
            type: 2,
            subtype: 1
        }, {
            name: "Riksgälden",
            from: 9890,
            to: 9899,
            type: 2,
            subtype: 1
        }, {
            name: "Swedbank",
            from: 9300,
            to: 9329,
            type: 2,
            subtype: 1
        }, {
            name: "Swedbank",
            from: 9330,
            to: 9349,
            type: 2,
            subtype: 1
        }, {
            name: "Sparbanken Syd",
            from: 9570,
            to: 9579,
            type: 2,
            subtype: 1
        }, {
            name: "Swedbank",
            from: 8e3,
            to: 8999,
            type: 2,
            subtype: 3,
            wrongCheck: !0
        }]
          , a = {
            "Svea Bank AB": "svea.png",
            "Avanza Bank AB": "avanza.svg",
            "BlueStep Finans AB": "bluestep.png",
            "BNP Paribas SA": "bnp.svg",
            Citibank: "citi.jpg",
            "Danske Bank": "danskebank.png",
            "DNB Bank": "dnb.png",
            Ekobanken: "ekobanken.png",
            "Erik Penser AB": "erikpenser.png",
            "Forex Bank": "forex.png",
            "ICA Banken AB": "ica.png",
            "IKANO Bank": "ikano.png",
            "JAK Medlemsbank": "jak.svg",
            "Klarna Bank": "klarna.png",
            "Landshypotek AB": "landshypotek.png",
            "Lån & Spar Bank Sverige": "lsb.png",
            "Länsförsäkringar Bank": "lf.png",
            "Marginalen Bank": "marginalen.jpg",
            "MedMera Bank AB": "coop-medmera-bank.png",
            "Nordax Finans AB": "nordax.svg",
            Nordea: "nordea.png",
            "Nordnet Bank": "nordnet.png",
            "Northmill Bank AB": "northmill.jpg",
            "Resurs Bank": "resurs.svg",
            "Riksgälden": "rg.png",
            "Santander Consumer Bank AS": "santander.svg",
            SBAB: "sbab.svg",
            SEB: "seb.png",
            Skandiabanken: "skandia.png",
            Swedbank: "swedbank.png",
            "Ålandsbanken Sverige AB": "",
            Handelsbanken: "handelsbanken.svg",
            "Nordea/Plusgirot": "nordea.png",
            "Nordea - personkonto": "nordea.png",
            "Sparbanken Syd": "sparbankensyd.png"
        };
        function o(t) {
            return String(t).substring(0, 4)
        }
        function n(t) {
            if (!t)
                return null;
            if (t = Number(("" + t).replace(/-/g, "")),
            isNaN(t))
                return null;
            if (t > 99999)
                return null;
            let e = Number(o(t))
              , i = s.find(t=>e >= t.from && e <= t.to);
            return i && i.maxClearingLength && String(t).length > i.maxClearingLength ? null : i
        }
        function r(t) {
            t = String(t);
            for (var e = 0, i = 1, s = 0; s < t.length; ++s) {
                var a = t.length - s - 1
                  , o = Number(t[a]);
                e += i * o,
                ++i,
                i > 10 && (i = 1)
            }
            return e % 11 == 0
        }
        function l(t) {
            t = String(t);
            for (var e = 0, i = 0; i < t.length; ++i) {
                var s = t.length - i - 1
                  , a = Number(t[s])
                  , o = i % 2 == 0 ? 1 : 2
                  , n = a * o;
                e += Math.floor(n / 10) + n % 10
            }
            return e % 10 == 0
        }
        function c(t) {
            return t = String(t),
            t.substring(1, 4)
        }
        function d(t, e) {
            return e = String(e),
            e.substring(e.length - t)
        }
        function u(t, e) {
            let i = n(t);
            if (i) {
                let s = String(e).length;
                if (s > 12 || s < 2)
                    return !1;
                if (i.wrongCheck)
                    return !0;
                if (1 == i.type) {
                    e = String(e);
                    while (e.length < 7)
                        e = "0" + e;
                    if (1 == i.subtype) {
                        let i = c(t) + d(7, e);
                        return r(i)
                    }
                    if (2 == i.subtype) {
                        let i = o(t) + d(7, e);
                        return r(i)
                    }
                } else if (2 == i.type) {
                    if (1 == i.subtype) {
                        if (10 != s)
                            return !1;
                        let t = d(10, e);
                        return l(t)
                    }
                    if (2 == i.subtype) {
                        if (i.accountNumberLength) {
                            if (-1 === i.accountNumberLength.indexOf(s))
                                return !1
                        } else if (9 != s)
                            return !1;
                        let t = d(9, e);
                        return r(t)
                    }
                    if (3 == i.subtype) {
                        if (s > 10)
                            return !1;
                        let t = d(10, e);
                        return l(t)
                    }
                }
            }
            return !1
        }
        s.forEach(t=>t.image = a[t.name] || null),
        e["a"] = {
            getBankFromClearingNumber: n,
            validateAccountNumber: u
        }
    },
    "9fc1": function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("v-card-title", {
                staticClass: "d-flex error--text"
            }, [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-sticker-alert-outline")]), t._v(" " + t._s(t.$translate("Cancellation and Refund Policy")) + " "), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [t.cancelRules && t.cancelRules.canCancel ? [t._v(" " + t._s(t.$translate("Cancellation is allowed until {0}").format(t.lastCancelTime)) + " "), t.cancelRules.rules && t.cancelRules.rules.length ? i("ul", [i("li", [t._v(" " + t._s(t.$translate("Until and including {0}, cancellation is free of charge").format(t.getRuleTimeText(t.cancelRules.rules[0]))) + " ")]), t._l(t.cancelRules.rules, (function(e, s) {
                return i("li", {
                    key: s
                }, [t._v(" " + t._s(t.getRuleText(e)) + " ")])
            }
            ))], 2) : t._e()] : [t._v(" " + t._s(t.$translate("Cancellation not allowed")) + " ")], t.showAcceptButton ? i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1,
                        t.$emit("accepted")
                    }
                }
            }, [t._v(t._s(t.$translate("I accept the terms")))])], 1) : t._e()], 2)], 1)], 1)
        }
          , a = []
          , o = i("e0eb")
          , n = {
            name: "zoezi-cancel-rules-dialog",
            props: {
                value: {
                    type: Boolean
                },
                cancelRules: {
                    type: Object
                },
                showAcceptButton: {
                    type: Boolean,
                    default: !1
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t
                    }
                },
                showDialog(t) {
                    this.$emit("input", t)
                }
            },
            computed: {
                lastCancelTime() {
                    if (!this.cancelRules || !this.cancelRules.lastCancelTime)
                        return null;
                    let t = this.cancelRules.lastCancelTime;
                    return t instanceof o["b"] ? t.string : t instanceof Date ? t.dateTime() : new o["b"](t).string
                }
            },
            data: ()=>({
                showDialog: !1
            }),
            methods: {
                getRuleTimeText(t) {
                    return new o["b"](t.time).string
                },
                getRuleText(t) {
                    let e = new o["b"](t.time)
                      , i = "";
                    return t.cost_percent && (i += t.cost_percent + " % " + window.$translate("of the course price")),
                    t.cost_fixed ? (i && (i += " + "),
                    i += Object(o["i"])(t.cost_fixed)) : i || (i = Object(o["i"])(0)),
                    i = window.$translate("for") + " " + i,
                    100 != t.cost_percent || t.cost_fixed || (i = ", " + window.$translate("but without any refund at all")),
                    window.$translate("beforestart" == e.relative.id ? "Is it less than" : "Is it more than") + " " + e.string + " " + window.$translate("cancellation is allowed") + " " + i
                }
            }
        }
          , r = n
          , l = i("2877")
          , c = i("6544")
          , d = i.n(c)
          , u = i("8336")
          , h = i("b0af")
          , m = i("99d9")
          , p = i("169a")
          , v = i("132d")
          , g = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = g.exports;
        d()(g, {
            VBtn: u["a"],
            VCard: h["a"],
            VCardActions: m["a"],
            VCardText: m["b"],
            VCardTitle: m["c"],
            VDialog: p["a"],
            VIcon: v["a"]
        })
    },
    a290: function(t, e, i) {
        "use strict";
        var s = i("a026")
          , a = i("2ef0")
          , o = i("e0eb")
          , n = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.settings && t.$store.state.settings.workoutbooking ? i("v-row", {
                staticClass: "mx-0",
                attrs: {
                    dense: t.$vuetify.breakpoint.mobile
                }
            }, [t.showFilter ? i("v-col", {
                attrs: {
                    lg: "3",
                    md: "4",
                    cols: "12"
                }
            }, [t.$vuetify.breakpoint.mobile ? i("v-row", {
                ref: "filter",
                staticClass: "mx-0",
                attrs: {
                    dense: ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                ref: "filterButtonWorkoutTypes",
                attrs: {
                    title: t.$translate("Workout_type"),
                    items: t.workoutTypesSearchMatch,
                    icon: "mdi-format-list-bulleted-type"
                },
                scopedSlots: t._u([{
                    key: "items",
                    fn: function(e) {
                        var s = e.items;
                        return [i("div", {
                            staticClass: "mx-2",
                            staticStyle: {
                                "overflow-y": "auto",
                                "max-height": "70vh"
                            }
                        }, [i("v-text-field", {
                            staticClass: "mr-2",
                            attrs: {
                                placeholder: t.$translate("Search workout type..."),
                                dense: "",
                                clearable: ""
                            },
                            model: {
                                value: t.filter.workoutTypeSearch,
                                callback: function(e) {
                                    t.$set(t.filter, "workoutTypeSearch", e)
                                },
                                expression: "filter.workoutTypeSearch"
                            }
                        }), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-bookmark-check-outline",
                                name: t.$translate("Only available workouts"),
                                value: t.onlyFree
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("onlyFree", e)
                                }
                            }
                        }), t.$store.state.isLoggedIn ? i("filter-button-row", {
                            attrs: {
                                icon: "mdi-ticket-account",
                                name: t.$translate("Only for my training card"),
                                value: t.filterForMyTrainingCard
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("filterForMyTrainingCard", e)
                                }
                            }
                        }) : t._e(), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-television-play",
                                name: t.$translate("Only video workouts"),
                                value: t.filterOnlyVideo
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("filterOnlyVideo", e)
                                }
                            }
                        }), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-playlist-check",
                                name: t.$translate("All workout types"),
                                value: t.allWorkoutsSelected
                            },
                            on: {
                                input: function(e) {
                                    return t.selectAllWorkoutTypes(e)
                                }
                            }
                        }), i("v-divider", {
                            staticClass: "mt-2 mb-4"
                        }), t._l(s, (function(e) {
                            return i("filter-button-row", {
                                key: e.id,
                                attrs: {
                                    color: e.color,
                                    name: e.name,
                                    value: t.filterWorkoutTypes.includes(e.id)
                                },
                                on: {
                                    input: function(i) {
                                        return t.setItem(t.filterWorkoutTypes, e.id, i, "filterWorkoutTypes")
                                    }
                                }
                            })
                        }
                        ))], 2)]
                    }
                }], null, !1, 2268017345)
            })], 1), i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                ref: "filterButtonStaffs",
                attrs: {
                    value: t.filterStaffs,
                    items: t.staffs,
                    title: t.$translate("Instructor"),
                    icon: "mdi-account-check-outline",
                    search: "",
                    searchText: t.$translate("Search instructor")
                },
                on: {
                    input: function(e) {
                        return t.setProp("filterStaffs", e)
                    }
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                ref: "filterButtonDate",
                attrs: {
                    title: t.$translate("Time"),
                    icon: "mdi-calendar-clock"
                },
                scopedSlots: t._u([{
                    key: "items",
                    fn: function(e) {
                        var s = e.hide;
                        return [i("date-picker", {
                            attrs: {
                                value: t.calculatedFromDateString,
                                "min-date": t.$store.state.now30s.clone().clearTime()
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("fromDate", e)
                                },
                                change: s
                            }
                        }), i("div", {
                            staticClass: "mx-2 mt-4"
                        }, [i("filter-button-row", {
                            attrs: {
                                icon: "mdi-calendar-today",
                                name: t.$translate("All day"),
                                value: [0, t.DAY_PERIODS.length].includes(t.filterDayPeriods.length)
                            }
                        }), t._l(t.DAY_PERIODS, (function(e) {
                            return i("filter-button-row", {
                                key: e.id,
                                attrs: {
                                    color: e.color,
                                    name: t.$translate(e.title),
                                    icon: e.icon,
                                    value: t.filterDayPeriods.includes(e.id)
                                },
                                on: {
                                    input: function(i) {
                                        return t.setItem(t.filterDayPeriods, e.id, i, "filterDayPeriods")
                                    }
                                }
                            })
                        }
                        ))], 2)]
                    }
                }], null, !1, 2573312289)
            })], 1), t.sites && t.sites.length && t.hasMultiSites && !t.globalSiteSetting ? i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                ref: "filterButtonSite",
                attrs: {
                    value: t.filterSites,
                    title: t.$translate("Location"),
                    icon: "mdi-map-marker-radius-outline",
                    items: t.sites,
                    search: "",
                    searchText: t.$translate("Search location"),
                    "show-color-image-circle": !1
                },
                on: {
                    input: function(e) {
                        return t.setProp("filterSites", e)
                    }
                }
            })], 1) : t._e()], 1) : i("div", {
                ref: "filter",
                staticClass: "desktop-filter",
                style: {
                    top: t.sticky.top + 10 + "px"
                }
            }, [i("filter-button", {
                ref: "filterButtonWorkoutTypes",
                attrs: {
                    title: t.$translate("Workout_type"),
                    items: t.workoutTypesSearchMatch,
                    icon: "mdi-format-list-bulleted-type",
                    horizontal: "",
                    attach: t.$refs.filter
                },
                scopedSlots: t._u([{
                    key: "items",
                    fn: function(e) {
                        var s = e.items;
                        return [i("div", {
                            staticClass: "mx-2",
                            staticStyle: {
                                "overflow-y": "auto",
                                "max-height": "70vh"
                            }
                        }, [i("v-text-field", {
                            staticClass: "mr-2",
                            attrs: {
                                placeholder: t.$translate("Search workout type..."),
                                dense: "",
                                clearable: ""
                            },
                            model: {
                                value: t.filter.workoutTypeSearch,
                                callback: function(e) {
                                    t.$set(t.filter, "workoutTypeSearch", e)
                                },
                                expression: "filter.workoutTypeSearch"
                            }
                        }), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-bookmark-check-outline",
                                name: t.$translate("Only available workouts"),
                                value: t.onlyFree
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("onlyFree", e)
                                }
                            }
                        }), t.$store.state.isLoggedIn ? i("filter-button-row", {
                            attrs: {
                                icon: "mdi-ticket-account",
                                name: t.$translate("Only for my training card"),
                                value: t.filterForMyTrainingCard
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("filterForMyTrainingCard", e)
                                }
                            }
                        }) : t._e(), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-television-play",
                                name: t.$translate("Only video workouts"),
                                value: t.filterOnlyVideo
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("filterOnlyVideo", e)
                                }
                            }
                        }), i("filter-button-row", {
                            attrs: {
                                icon: "mdi-playlist-check",
                                name: t.$translate("All workout types"),
                                value: t.allWorkoutsSelected
                            },
                            on: {
                                input: function(e) {
                                    return t.selectAllWorkoutTypes(e)
                                }
                            }
                        }), i("v-divider", {
                            staticClass: "mt-2 mb-4"
                        }), t._l(s, (function(e) {
                            return i("filter-button-row", {
                                key: e.id,
                                attrs: {
                                    color: e.color,
                                    name: e.name,
                                    value: t.filterWorkoutTypes.includes(e.id)
                                },
                                on: {
                                    input: function(i) {
                                        return t.setItem(t.filterWorkoutTypes, e.id, i, "filterWorkoutTypes")
                                    }
                                }
                            })
                        }
                        ))], 2)]
                    }
                }], null, !1, 2268017345)
            }), t.filterWorkoutTypes.length && t.workoutTypes.length ? i("div", {
                staticClass: "sel-filters"
            }, t._l(t.filterWorkoutTypes.map((function(e) {
                return t.workoutTypes.find((function(t) {
                    return e == t.id
                }
                ))
            }
            )).filter((function(t) {
                return t
            }
            )), (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "sel-filter",
                    style: {
                        backgroundColor: t.h2r(e.color, .05),
                        borderColor: t.h2r(e.color, 1)
                    }
                }, [i("span", {
                    staticClass: "circle",
                    style: {
                        backgroundColor: e.color
                    }
                }), t._v(" " + t._s(e.name) + " "), i("b", {
                    staticClass: "close",
                    on: {
                        click: function(i) {
                            return t.setItem(t.filterWorkoutTypes, e.id, !1, "filterWorkoutTypes")
                        }
                    }
                }, [t._v("×")])])
            }
            )), 0) : t._e(), i("filter-button", {
                ref: "filterButtonStaffs",
                attrs: {
                    value: t.filterStaffs,
                    items: t.staffs,
                    title: t.$translate("Instructor"),
                    icon: "mdi-account-check-outline",
                    search: "",
                    searchText: t.$translate("Search instructor"),
                    horizontal: "",
                    attach: t.$refs.filter
                },
                on: {
                    input: function(e) {
                        return t.setProp("filterStaffs", e)
                    }
                }
            }), t.filterStaffs.length && t.staffs.length ? i("div", {
                staticClass: "sel-filters"
            }, t._l(t.filterStaffs.map((function(e) {
                return t.staffs.find((function(t) {
                    return e == t.id
                }
                ))
            }
            )).filter((function(t) {
                return t
            }
            )), (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "sel-filter"
                }, [e.imagekey ? i("img", {
                    staticClass: "face",
                    attrs: {
                        src: t.$api.getImageUrl(e.imagekey, 200)
                    }
                }) : t._e(), t._v(" " + t._s(e.name) + " "), i("b", {
                    staticClass: "close",
                    on: {
                        click: function(i) {
                            return t.setItem(t.filterStaffs, e.id, !1, "filterStaffs")
                        }
                    }
                }, [t._v("×")])])
            }
            )), 0) : t._e(), i("filter-button", {
                ref: "filterButtonDate",
                attrs: {
                    title: t.$translate("Time"),
                    icon: "mdi-calendar-clock",
                    horizontal: "",
                    attach: t.$refs.filter
                },
                scopedSlots: t._u([{
                    key: "items",
                    fn: function(e) {
                        var s = e.hide;
                        return [i("date-picker", {
                            attrs: {
                                value: t.calculatedFromDateString,
                                "min-date": t.$store.state.now30s.clone().clearTime()
                            },
                            on: {
                                input: function(e) {
                                    return t.setProp("fromDate", e)
                                },
                                change: s
                            }
                        }), i("div", {
                            staticClass: "mx-2 mt-4"
                        }, [i("filter-button-row", {
                            attrs: {
                                icon: "mdi-calendar-today",
                                name: t.$translate("All day"),
                                value: [0, t.DAY_PERIODS.length].includes(t.filterDayPeriods.length)
                            }
                        }), t._l(t.DAY_PERIODS, (function(e) {
                            return i("filter-button-row", {
                                key: e.id,
                                attrs: {
                                    color: e.color,
                                    name: t.$translate(e.title),
                                    icon: e.icon,
                                    value: t.filterDayPeriods.includes(e.id)
                                },
                                on: {
                                    input: function(i) {
                                        return t.setItem(t.filterDayPeriods, e.id, i, "filterDayPeriods")
                                    }
                                }
                            })
                        }
                        ))], 2)]
                    }
                }], null, !1, 2573312289)
            }), t.filterDayPeriods.length > 0 ? i("div", {
                staticClass: "sel-filters"
            }, t._l(t.filterDayPeriods.map((function(e) {
                return t.DAY_PERIODS.find((function(t) {
                    return e == t.id
                }
                ))
            }
            )), (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "sel-filter"
                }, [i("v-icon", {
                    attrs: {
                        color: e.color
                    }
                }, [t._v(t._s(e.icon))]), t._v(" " + t._s(t.$translate(e.title)) + " "), i("b", {
                    staticClass: "close",
                    on: {
                        click: function(i) {
                            return t.setItem(t.filterDayPeriods, e.id, !1, "filterDayPeriods")
                        }
                    }
                }, [t._v("×")])], 1)
            }
            )), 0) : t._e(), t.sites && t.sites.length && t.hasMultiSites && !t.globalSiteSetting ? [i("filter-button", {
                ref: "filterButtonSite",
                attrs: {
                    value: t.filterSites,
                    title: t.$translate("Location"),
                    icon: "mdi-map-marker-radius-outline",
                    items: t.sites,
                    search: "",
                    searchText: t.$translate("Search location"),
                    horizontal: "",
                    attach: t.$refs.filter,
                    "show-color-image-circle": !1
                },
                on: {
                    input: function(e) {
                        return t.setProp("filterSites", e)
                    }
                }
            }), i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.filterSites.length > 0,
                    expression: "filterSites.length>0"
                }],
                staticClass: "sel-filters"
            }, t._l(t.filterSites.map((function(e) {
                return t.sites.find((function(t) {
                    return e == t.id
                }
                ))
            }
            )).filter((function(t) {
                return t
            }
            )), (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "sel-filter"
                }, [t._v(" " + t._s(e.name) + " "), i("b", {
                    staticClass: "close",
                    on: {
                        click: function(i) {
                            return t.setItem(t.filterSites, e.id, !1, "filterSites")
                        }
                    }
                }, [t._v("×")])])
            }
            )), 0)] : t._e()], 2)], 1) : t._e(), i("v-col", {
                attrs: {
                    lg: t.showFilter ? 9 : 12,
                    md: t.showFilter ? 8 : 12,
                    cols: "12"
                }
            }, [t.showFilter ? i("div", {
                staticClass: "filter-summary hidden-md-and-up"
            }, [t._v(" " + t._s(t.$translate("Showing results for")) + " "), i("span", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.$refs.filterButtonWorkoutTypes.showMenu = !0
                    }
                }
            }, [t._v(" " + t._s(0 == t.filterWorkoutTypes.length ? t.$translate("All workout types") : t.filterWorkoutTypes.map((function(e) {
                var i = t.workoutTypes.find((function(t) {
                    return t.id == e
                }
                ));
                return i ? i.name : ""
            }
            )).join(", ")) + " ")]), t._v(" " + t._s(t.$translate("with")) + " "), i("span", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.$refs.filterButtonStaffs.showMenu = !0
                    }
                }
            }, [t._v(" " + t._s(0 == t.filterStaffs.length ? t.$translate("all instructors") : t.filterStaffs.map((function(e) {
                var i = t.staffs.find((function(t) {
                    return t.id == e
                }
                ));
                return i ? i.name : ""
            }
            )).join(", ")) + " ")]), i("span", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.$refs.filterButtonDate.showMenu = !0
                    }
                }
            }, [t._v(" " + t._s(0 == t.filterDayPeriods.length ? t.$translate("All day").toLowerCase() : t.filterDayPeriods.map((function(e) {
                return t.DAY_PERIODS.find((function(t) {
                    return t.id == e
                }
                )).name
            }
            )).join(", ")) + " ")]), t._v(" " + t._s(t.$translate("from")) + " "), i("span", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.$refs.filterButtonDate.showMenu = !0
                    }
                }
            }, [t._v(" " + t._s(Date.formatFullShortRelative(t.days[0].date)) + " ")]), t.sites && t.sites.length > 1 && !t.globalSiteSetting ? [t._v(" " + t._s(t.$translate("on")) + " "), i("span", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.$refs.filterButtonSite.showMenu = !0
                    }
                }
            }, [t._v(" " + t._s(0 == t.filterSites.length ? t.$translate("all locations") : t.filterSites.map((function(e) {
                var i = t.sites.find((function(t) {
                    return t.id == e
                }
                ));
                return i ? i.name : ""
            }
            )).join(", ")) + " ")])] : t._e()], 2) : t._e(), t.visibleDays.length && t.showDaysRow && t.$vuetify.breakpoint.mobile && !t.loadingWorkouts ? i("div", {
                ref: "scrollerDaysContainer",
                staticClass: "z-clickable day-scroller",
                style: {
                    top: t.sticky.top + "px"
                }
            }, [t.showWeekPicker ? i("div", {
                staticClass: "d-flex"
            }, t._l(t.weeks, (function(e) {
                return i("div", {
                    key: e.text,
                    staticClass: "week-marker pr-4",
                    class: e.selected ? "primary--text" : "grey--text",
                    on: {
                        click: function(i) {
                            return t.setWeek(e.date)
                        }
                    }
                }, [i("strong", [t._v(t._s(e.text))])])
            }
            )), 0) : t._e(), i("div", {
                staticClass: "d-flex mt-2"
            }, [t._l(t.visibleDays, (function(e, s) {
                return i("div", {
                    key: e.date.yyyymmdd(),
                    staticClass: "z-1of8 zoezi-button-round zoezi-button-thin"
                }, [i("v-btn", {
                    ref: "scrollerDays",
                    refInFor: !0,
                    staticClass: "zoezi-button-thin zoezi-button-round",
                    attrs: {
                        "data-date": e.date.yyyymmdd(),
                        color: Date.dateEquals(e.date, t.showingDate) ? "primary" : void 0,
                        rounded: "",
                        height: "32",
                        width: "32"
                    },
                    on: {
                        click: function(e) {
                            return t.setDay(s)
                        }
                    }
                }, [t._v(" " + t._s(Date.dateEquals(e.date, t.$store.state.now30s) ? t.$translate("Today").toLowerCase() : t.$translate(e.date.getWeekDayString().substring(0, 3)).toLowerCase()) + " ")])], 1)
            }
            )), t.showFilter ? i("div", {
                staticClass: "z-1of8 zoezi-button-round zoezi-button-thin"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin zoezi-button-round",
                attrs: {
                    rounded: "",
                    height: "32",
                    width: "32"
                },
                on: {
                    click: function(e) {
                        return t.$vuetify.goTo(t.$refs.filter)
                    }
                }
            }, [i("v-icon", [t._v("mdi-filter")])], 1)], 1) : t._e()], 2)]) : t._e(), t.visibleDays.length && t.showDaysRow && !t.$vuetify.breakpoint.mobile && !t.loadingWorkouts ? i("div", {
                ref: "scrollerDaysContainer",
                staticClass: "day-scroller",
                style: {
                    top: t.sticky.top + "px"
                }
            }, [t.showWeekPicker ? i("div", {
                staticClass: "z-clickable d-flex"
            }, t._l(t.weeks, (function(e) {
                return i("div", {
                    key: e.text,
                    staticClass: "week-marker pr-4",
                    class: e.selected ? "primary--text" : "grey--text",
                    on: {
                        click: function(i) {
                            return t.setWeek(e.date)
                        }
                    }
                }, [i("strong", [t._v(t._s(e.text))])])
            }
            )), 0) : t._e(), i("div", {
                staticClass: "d-flex z-clickable mt-4"
            }, t._l(t.visibleDays, (function(e, s) {
                return i("div", {
                    key: e.date.yyyymmdd(),
                    ref: "scrollerDays",
                    refInFor: !0,
                    staticClass: "day-marker-desktop pr-4",
                    class: Date.dateEquals(e.date, t.showingDate) ? "primary--text" : "grey--text",
                    attrs: {
                        "data-date": e.date.yyyymmdd()
                    },
                    on: {
                        click: function(e) {
                            return t.setDay(s)
                        }
                    }
                }, [i("strong", [t._v(t._s(e.title))]), i("span", [t._v(t._s(Date.formatFullShorter(e.date)))])])
            }
            )), 0)]) : t._e(), t.isBlocked ? i("v-banner", {
                ref: "warningBanner",
                staticClass: "sticky-warning-background",
                style: {
                    top: t.sticky.afterDays + "px"
                },
                attrs: {
                    icon: "mdi-sticker-alert-outline",
                    "icon-color": "error",
                    sticky: "",
                    elevation: "4",
                    "two-line": ""
                }
            }, [!t.isBlocked.toDate || Date.isMaxDate(t.isBlocked.toDate) ? i("div", {
                staticClass: "error--text"
            }, [t._v(t._s(t.$translate("You are blocked from group workouts until furhter notice")))]) : i("div", {
                staticClass: "error--text"
            }, [t._v(t._s(t.$translate("You are blocked from group workouts until {0}").format(Date.formatFullShorter(t.isBlocked.toDate))))]), "warning" == t.isBlocked.type ? i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showWarningsDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("See your warnings")) + " ")]) : t._e(), t.$store.state.settings.blockFeeProductId && "warning" == t.isBlocked.type ? i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showBlockFeeDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Unblock")) + " ")]) : t._e()], 1) : t.$store.state.user && t.$store.state.settings && t.$store.state.settings.wbswarningsenabled && this.activeWarnings.length > 0 ? i("v-banner", {
                ref: "warningBanner",
                staticClass: "sticky-warning-background z-thinner-banner",
                style: {
                    top: t.sticky.afterDays + "px"
                },
                attrs: {
                    icon: "mdi-sticker-alert-outline",
                    "icon-color": "error",
                    sticky: "",
                    elevation: "4",
                    "two-line": ""
                }
            }, [i("div", {
                staticClass: "error--text"
            }, [t._v(t._s(t.$translate("You have received warnings")))]), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showWarningsDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("See your warnings")) + " ")])], 1) : t._e(), t.loadingWorkouts ? i("div", {
                staticClass: "text-center"
            }, [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : i("div", {
                staticClass: "list"
            }, [t._l(t.visibleDays, (function(e, s) {
                return i("div", {
                    key: e.date.yyyymmdd(),
                    ref: "days",
                    refInFor: !0,
                    staticClass: "list-day",
                    attrs: {
                        "data-date": e.date.yyyymmdd()
                    }
                }, [i("div", {
                    staticClass: "item-day",
                    class: {
                        "primary--text": Date.dateEquals(e.date, t.showingDate)
                    },
                    style: {
                        top: t.sticky.afterWarning + "px"
                    },
                    on: {
                        click: function(e) {
                            return e.stopPropagation(),
                            t.setDay(s)
                        }
                    }
                }, [t._e(), i("strong", [t._v(t._s(e.title))]), i("span", [t._v(t._s(Date.formatFullShorter(e.date)))])]), 0 == t.filteredWorkoutsPerDay[t.days.findIndex((function(t) {
                    return Date.dateEquals(t.date, e.date)
                }
                ))].length ? i("div", {
                    staticClass: "text--secondary"
                }, [t._v(" " + t._s(t.$translate("No activities")) + " ")]) : t._e(), t._l(t.filteredWorkoutsPerDay[t.days.findIndex((function(t) {
                    return Date.dateEquals(t.date, e.date)
                }
                ))], (function(e) {
                    return i("div", {
                        key: e.id
                    }, [i("div", {
                        staticClass: "my-2 item",
                        class: {
                            cancelled: e.isCancelled()
                        },
                        on: {
                            click: function(i) {
                                t.showWorkoutDialog = !0,
                                t.showingWorkout = e
                            }
                        }
                    }, [i("div", {
                        staticClass: "image-block",
                        style: t.getWorkoutBackground(e)
                    }, [i("div", {
                        staticClass: "time",
                        style: {
                            backgroundColor: t.h2r(e.workoutType.color, t.workoutTypeOpacity / 100)
                        }
                    }, [t._v(t._s(e.startTime.hhmm()))]), i("div", {
                        staticClass: "duration",
                        style: {
                            backgroundColor: t.h2r(e.workoutType.color, t.workoutTypeOpacity / 100)
                        }
                    }, [t._v(t._s((e.endTime - e.startTime) / 6e4) + " " + t._s(t.$translate("MINUTES_SHORT")))])]), i("div", {
                        staticClass: "content"
                    }, [i("h3", {
                        staticClass: "title"
                    }, [t._v(t._s(e.workoutType.name + (e.extra_title ? " - " + e.extra_title : "")))]), e.staffs.length ? i("span", t._l(e.staffs, (function(e) {
                        return i("span", {
                            key: e.id,
                            staticClass: "staff mr-2"
                        }, [e.imagekey ? i("img", {
                            staticStyle: {
                                width: "16px",
                                "border-radius": "50%"
                            },
                            attrs: {
                                src: t.$api.getImageUrl(e.imagekey, 100)
                            }
                        }) : t._e(), e.imagekey ? t._e() : i("v-icon", {
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v("mdi-account")]), t._v(" " + t._s(e.shortname) + " ")], 1)
                    }
                    )), 0) : t._e(), e.location || e.room ? i("div", {
                        staticClass: "location"
                    }, [i("v-icon", {
                        attrs: {
                            small: "",
                            color: "primary"
                        }
                    }, [t._v("mdi-map-marker")]), e.room ? i("span", [t._v(t._s(e.room.name) + t._s(e.location ? ", " : " "))]) : t._e(), e.location ? i("span", [t._v(t._s(e.location.name))]) : t._e()], 1) : t._e()]), i("workout-book-button", {
                        attrs: {
                            workout: e,
                            showNumBooked: t.computedShowNumBooked
                        }
                    }), t.$store.state.user ? i("div", {
                        staticClass: "zoezi-booked-list",
                        attrs: {
                            "data-these-can-book-text": t.$translate("These can book")
                        }
                    }, t._l(t.$store.state.user.canBookFor.filter((function(t) {
                        return e.isBooked(t)
                    }
                    )), (function(t) {
                        return i("workout-book-user-row", {
                            key: t.id,
                            staticClass: "zoezi-booked-person",
                            attrs: {
                                workout: e,
                                user: t
                            }
                        })
                    }
                    )), 1) : t._e()], 1)])
                }
                ))], 2)
            }
            )), i("v-btn", {
                staticClass: "zoezi-button-thin float-right",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: t.setNextWeek
                }
            }, [i("span", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.$translate("Next week")))])])], 2), t.showWorkoutDialog ? i("workout-dialog", {
                attrs: {
                    workout: t.showingWorkout,
                    showNumBooked: t.computedShowNumBooked,
                    invite: t.workoutInvite
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }) : t._e(), t.showBlockFeeDialog ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    fullscreen: t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showBlockFeeDialog,
                    callback: function(e) {
                        t.showBlockFeeDialog = e
                    },
                    expression: "showBlockFeeDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showBlockFeeDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("zoezi-checkout", {
                staticClass: "zoezi-checkout",
                attrs: {
                    items: [{
                        product_id: t.$store.state.settings.blockFeeProductId
                    }]
                }
            })], 1)], 1) : t._e(), t.showWarningsDialog ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px"
                },
                model: {
                    value: t.showWarningsDialog,
                    callback: function(e) {
                        t.showWarningsDialog = e
                    },
                    expression: "showWarningsDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [i("v-icon", {
                staticClass: "primary primarytext--text mr-2"
            }, [t._v("mdi-sticker-alert-outline")]), t._v(" " + t._s(t.$translate("Warnings")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showWarningsDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [t._v(" " + t._s(t.$translate("After {0} warnings, your account will be locked for {1} days or until the fine is paid. While the account is locked, it is not possible to make bookings.").format(t.$store.state.settings.wbswarninglimit, t.$store.state.settings.wbswarningduration)) + " "), i("div", {
                staticClass: "font-weight-bold mt-4"
            }, [t._v(t._s(t.$translate("You have been warned on the following occasions")))]), t.$store.state.user.warnedUntil ? i("ul", t._l(t.$store.state.user.recentWarnings, (function(e) {
                return i("li", {
                    key: e.id
                }, [t.getWarningTime(e) ? i("span", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(Date.newFull(t.getWarningTime(e)).yyyymmdd()))]) : t._e(), i("span", {
                    staticClass: "ml-2"
                }, [t._v(t._s(e.reason))])])
            }
            )), 0) : t.activeWarnings.length > 0 ? i("ul", t._l(t.activeWarnings, (function(e) {
                return i("li", {
                    key: e.id
                }, [t.getWarningTime(e) ? i("span", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(Date.newFull(t.getWarningTime(e)).yyyymmdd()))]) : t._e(), i("span", {
                    staticClass: "ml-2"
                }, [t._v(t._s(e.reason))])])
            }
            )), 0) : t._e()]), i("v-card-actions", [t.$store.state.settings.blockFeeProductId && t.$store.state.user.blocks.find((function(t) {
                return "warning" == t.type
            }
            )) ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: function(e) {
                        t.showBlockFeeDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Unblock")) + " ")]) : t._e()], 1)], 1)], 1) : t._e()], 1)], 1) : t._e()
        }
          , r = []
          , l = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-menu", {
                attrs: {
                    "offset-y": !t.horizontal,
                    "offset-x": t.horizontal,
                    "close-on-content-click": !1,
                    attach: t.attach
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-card", t._g({
                            staticClass: "primary primarytext--text text-caption d-flex",
                            class: t.horizontal ? "flex-row my-2" : "flex-column text-center",
                            attrs: {
                                text: "",
                                flat: ""
                            }
                        }, s), [i("div", {
                            staticClass: "pt-2 pb-2"
                        }, [i("v-icon", {
                            staticClass: "primarytext--text",
                            class: {
                                "px-2": t.horizontal
                            },
                            domProps: {
                                textContent: t._s(t.icon)
                            }
                        })], 1), i("div", {
                            staticClass: "mt-n1 flex-grow-1",
                            class: {
                                "align-self-center": t.horizontal,
                                "px-2": t.horizontal
                            },
                            domProps: {
                                textContent: t._s(t.title)
                            }
                        }), i("v-icon", {
                            staticClass: "primarytext--text mt-n2"
                        }, [t._v(t._s(t.horizontal ? "mdi-chevron-right" : "mdi-chevron-down"))])], 1)]
                    }
                }]),
                model: {
                    value: t.showMenu,
                    callback: function(e) {
                        t.showMenu = e
                    },
                    expression: "showMenu"
                }
            }, [i("v-list", {
                attrs: {
                    dense: ""
                }
            }, [t.$scopedSlots.items ? t._t("items", null, {
                items: t.items,
                hide: t.hideMenu
            }) : i("div", {
                staticClass: "mx-2",
                staticStyle: {
                    "overflow-y": "auto",
                    "max-height": "70vh"
                }
            }, [t.search ? i("v-text-field", {
                staticClass: "mr-2",
                attrs: {
                    placeholder: t.searchText,
                    dense: "",
                    clearable: ""
                },
                model: {
                    value: t.filterSearchText,
                    callback: function(e) {
                        t.filterSearchText = e
                    },
                    expression: "filterSearchText"
                }
            }) : t._e(), t.all ? i("filter-button-row", {
                attrs: {
                    icon: "mdi-playlist-check",
                    name: t.$translate(t.allTitle),
                    value: 0 == t.selected.length || t.selected.length == t.items.length
                },
                on: {
                    input: function(e) {
                        return t.selectAll(e)
                    }
                }
            }) : t._e(), t.search || t.all ? i("v-divider", {
                staticClass: "mt-2 mb-4"
            }) : t._e(), t.categories ? t._l(t.filteredCategories, (function(e) {
                return i("div", {
                    key: e.id
                }, [i("filter-button-row", {
                    attrs: {
                        value: !t.items.filter((function(i) {
                            return t.categoryMatch(e, i)
                        }
                        )).find((function(e) {
                            return !t.selected.includes(e.id)
                        }
                        )),
                        name: e.name,
                        color: null,
                        image: e.imagekey
                    },
                    on: {
                        input: function(i) {
                            return t.setCategory(e, i)
                        }
                    }
                }), t._l(t.filteredItems.filter((function(i) {
                    return t.categoryMatch(e, i)
                }
                )), (function(e) {
                    return i("filter-button-row", {
                        key: e.id,
                        staticClass: "ml-8",
                        attrs: {
                            value: t.selected.includes(e.id),
                            icon: e.icon,
                            color: t.showColorImageCircle ? e.color : null,
                            name: e[t.itemName],
                            image: e[t.itemImage]
                        },
                        on: {
                            input: function(i) {
                                return t.setItem(t.selected, e.id, i)
                            }
                        }
                    })
                }
                ))], 2)
            }
            )) : t._l(t.filteredItems, (function(e) {
                return i("filter-button-row", {
                    key: e.id,
                    attrs: {
                        value: t.selected.includes(e.id),
                        icon: e.icon,
                        color: t.showColorImageCircle ? e.color : null,
                        name: e[t.itemName],
                        image: e[t.itemImage],
                        showColorImageCircle: t.showColorImageCircle
                    },
                    on: {
                        input: function(i) {
                            return t.setItem(t.selected, e.id, i)
                        }
                    }
                })
            }
            ))], 2)], 2)], 1)
        }
          , c = []
          , d = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "d-flex z-clickable",
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.toggle.apply(null, arguments)
                    }
                }
            }, [i("v-checkbox", {
                staticStyle: {
                    "margin-top": "0px",
                    "padding-top": "0px",
                    height: "32px"
                },
                attrs: {
                    dense: "",
                    "hide-details": "",
                    "input-value": t.iselected,
                    color: "primary"
                }
            }), t.icon ? i("v-icon", {
                staticClass: "mr-2 mt-n2",
                attrs: {
                    color: t.color
                }
            }, [t._v(" " + t._s(t.icon) + " ")]) : i("v-avatar", {
                staticClass: "mr-2 mt-1",
                attrs: {
                    color: t.color,
                    size: "20"
                }
            }, [t.image ? i("v-auto-img", {
                attrs: {
                    src: t.image
                }
            }) : t._e()], 1), i("span", {
                staticClass: "mr-2"
            }, [t._v(t._s(t.name))])], 1)
        }
          , u = []
          , h = {
            name: "zoezi-filter-button-row",
            props: {
                value: {
                    type: Boolean
                },
                name: {
                    type: String
                },
                image: {
                    type: String
                },
                color: {
                    type: String,
                    default: "primary"
                },
                icon: {
                    type: String
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.iselected = t
                    }
                }
            },
            data: ()=>({
                iselected: !1
            }),
            methods: {
                toggle() {
                    this.iselected = !this.iselected,
                    this.$emit("input", this.iselected)
                }
            }
        }
          , m = h
          , p = i("2877")
          , v = i("6544")
          , g = i.n(v)
          , f = i("8212")
          , b = i("ac7c")
          , y = i("132d")
          , _ = Object(p["a"])(m, d, u, !1, null, null, null)
          , k = _.exports;
        g()(_, {
            VAvatar: f["a"],
            VCheckbox: b["a"],
            VIcon: y["a"]
        });
        var w = {
            name: "zoezi-filter-button",
            props: {
                value: {},
                title: {
                    type: String
                },
                icon: {
                    type: String
                },
                items: {
                    type: Array
                },
                itemName: {
                    type: String,
                    default: "name"
                },
                itemImage: {
                    type: String,
                    default: "imagekey"
                },
                all: {
                    type: Boolean,
                    default: !0
                },
                allTitle: {
                    type: String,
                    default: "ALL"
                },
                allIcon: {
                    type: String
                },
                search: {
                    type: Boolean,
                    default: !1
                },
                searchText: {
                    type: String
                },
                horizontal: {
                    type: Boolean,
                    default: !1
                },
                attach: {},
                categories: {
                    type: Array,
                    default: null
                },
                categoryMatch: {
                    type: Function,
                    default: null
                },
                showColorImageCircle: {
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                FilterButtonRow: k
            },
            watch: {
                value(t) {
                    this.selected = t
                },
                selected() {
                    this.$emit("input", this.selected)
                },
                showMenu(t) {
                    t && (this.filterSearchText = "")
                }
            },
            data: ()=>({
                selected: [],
                showMenu: !1,
                filterSearchText: ""
            }),
            computed: {
                selectedText() {
                    return this.selected && 0 != this.selected.length ? 1 == this.selected.length ? this.items.find(t=>t.id == this.selected[0])[this.itemName] : this.$translate("{0} selected").format(this.selected.length) : this.$translate("ALL")
                },
                filteredItems() {
                    var t;
                    if (!this.search || !this.filterSearchText)
                        return this.items;
                    let e = this.filterSearchText.toLowerCase();
                    return null === (t = this.items) || void 0 === t ? void 0 : t.filter(t=>!e || t[this.itemName].toLowerCase().includes(e))
                },
                filteredCategories() {
                    var t;
                    if (!this.search || !this.filterSearchText)
                        return this.categories;
                    let e = this.filterSearchText.toLowerCase()
                      , i = t=>this.filteredItems.find(e=>this.categoryMatch(t, e));
                    return null === (t = this.categories) || void 0 === t ? void 0 : t.filter(t=>!e || t.name.toLowerCase().includes(e) || i(t))
                }
            },
            methods: {
                setItem(t, e, i) {
                    let s = t.indexOf(e);
                    i && -1 == s ? t.push(e) : i || -1 == s || t.splice(s, 1)
                },
                hideMenu() {
                    this.showMenu = !1
                },
                selectAll(t) {
                    t && (this.selected = [])
                },
                setCategory(t, e) {
                    this.items.filter(e=>this.categoryMatch(t, e)).forEach(t=>{
                        this.setItem(this.selected, t.id, e)
                    }
                    )
                }
            }
        }
          , C = w
          , x = i("b0af")
          , $ = i("ce7e")
          , S = i("8860")
          , D = i("e449")
          , z = i("8654")
          , T = Object(p["a"])(C, l, c, !1, null, null, null)
          , I = T.exports;
        g()(T, {
            VCard: x["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VList: S["a"],
            VMenu: D["a"],
            VTextField: z["a"]
        });
        var P = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "px-2"
            }, [i("div", {
                staticClass: "zoezi-datepicker-buttons"
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("zoezi-button", {
                attrs: {
                    text: t.$translate("Today"),
                    block: "",
                    thin: ""
                },
                on: {
                    click: function(e) {
                        t.selectedDate = Date.today()
                    }
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("zoezi-button", {
                attrs: {
                    text: t.$translate("Next week"),
                    block: "",
                    thin: ""
                },
                on: {
                    click: function(e) {
                        t.selectedDate = Date.today().addDays(7).monday()
                    }
                }
            })], 1)], 1)], 1), i("div", {
                staticClass: "d-flex text-center my-2"
            }, [i("span", {
                staticClass: "z-1of8"
            }, [t.canPrev ? i("v-icon", {
                on: {
                    click: t.prevMonth
                }
            }, [t._v("mdi-chevron-left")]) : t._e()], 1), i("span", {
                staticClass: "z-6of8"
            }, [t._v(t._s(t.monthName) + " " + t._s(t.browsingDate.getFullYear()))]), i("span", {
                staticClass: "x-1of8"
            }, [i("v-icon", {
                on: {
                    click: t.nextMonth
                }
            }, [t._v("mdi-chevron-right")])], 1)]), i("div", {
                staticClass: "d-flex text-center"
            }, [i("span", {
                staticClass: "z-1of8"
            }), t._l(t.weekdaysShort, (function(e) {
                return i("span", {
                    key: e,
                    staticClass: "z-1of8"
                }, [t._v(" " + t._s(e) + " ")])
            }
            ))], 2), t._l(t.weeks, (function(e) {
                return i("div", {
                    key: e.number,
                    staticClass: "d-flex text-right"
                }, [i("span", {
                    staticClass: "z-1of8 zoezi-datepicker-week"
                }, [i("v-btn", {
                    attrs: {
                        rounded: "",
                        text: "",
                        height: t.size,
                        width: t.size,
                        disabled: e.days[6].date < t.minDateComputed
                    },
                    on: {
                        click: function(i) {
                            return t.selectWeek(e)
                        }
                    }
                }, [t._v(" " + t._s(e.number) + " ")])], 1), t._l(e.days, (function(e) {
                    return i("span", {
                        key: e.date.getTime(),
                        staticClass: "z-1of8 zoezi-datepicker-day",
                        class: {
                            "zoezi-datepicker-day-outside-month": !e.samemonth,
                            "zoezi-datepicker-day-unpickable": !e.pickable
                        }
                    }, [t.isDaySelected(e) ? i("v-btn", {
                        staticClass: "primarytext--text",
                        attrs: {
                            color: "primary",
                            rounded: "",
                            height: t.size,
                            width: t.size
                        }
                    }, [t._v(t._s(e.date.getDate()))]) : i("v-btn", {
                        attrs: {
                            rounded: "",
                            text: "",
                            disabled: !e.pickable,
                            height: t.size,
                            width: t.size
                        },
                        on: {
                            click: function(i) {
                                return t.selectDay(e)
                            }
                        }
                    }, [t._v(t._s(e.date.getDate()))])], 1)
                }
                ))], 2)
            }
            ))], 2)
        }
          , V = []
          , B = i("4be9")
          , F = {
            name: "zoezi-datepicker",
            zoezi: {
                title: "Date picker",
                icon: "mdi-calendar",
                internal: !0
            },
            props: {
                value: {
                    title: "Selected date",
                    type: String,
                    fulltype: "date",
                    default: null
                },
                minDate: {
                    title: "First selectable date"
                },
                week: {
                    title: "Weekly mode",
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                ZoeziButton: B["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler() {
                        let t = Date.newFull(this.value) || Date.today();
                        Date.dateEquals(t, this.selectedDate) || (this.selectedDate = t)
                    }
                },
                selectedDate: {
                    immediate: !0,
                    handler(t, e) {
                        this.browsingDate = this.selectedDate,
                        e && (this.$emit("input", this.selectedDate),
                        this.$emit("change"))
                    }
                }
            },
            data: ()=>({
                size: 32,
                selectedDate: null,
                browsingDate: null
            }),
            computed: {
                monthName() {
                    var t;
                    return this.$translate(null === (t = this.browsingDate) || void 0 === t ? void 0 : t.getMonthName())
                },
                weekdaysShort() {
                    return ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"].map(this.$translate).map(t=>t.substring(0, 2))
                },
                minDateComputed() {
                    return this.minDate ? Date.newFull(this.minDate) : Date.newFull("1900-01-01").clearTime()
                },
                weeks() {
                    let t = this.browsingDate.firstDayThisMonth()
                      , e = this.browsingDate.lastDayThisMonth()
                      , i = this.browsingDate.lastDayThisMonth().getWeekNumber()
                      , s = []
                      , a = t.monday().clone();
                    while (!s.length || s[s.length - 1].number != i) {
                        let i = a.getWeekNumber()
                          , o = [];
                        while (a.getWeekNumber() == i)
                            o.push({
                                date: a.clone(),
                                samemonth: a >= t && a <= e,
                                pickable: a >= this.minDateComputed
                            }),
                            a.addDays(1);
                        s.push({
                            number: i,
                            days: o
                        })
                    }
                    return s
                },
                canPrev() {
                    return this.browsingDate.firstDayThisMonth().clone().addDays(-1) >= this.minDateComputed
                }
            },
            methods: {
                nextMonth() {
                    this.browsingDate = this.browsingDate.clone().addMonths(1)
                },
                prevMonth() {
                    this.browsingDate = this.browsingDate.clone().addMonths(-1)
                },
                selectWeek(t) {
                    this.selectedDate = new Date(Math.max(this.minDateComputed, t.days[0].date))
                },
                selectDay(t) {
                    this.week ? this.selectedDate = new Date(Math.max(this.minDateComputed, t.date.monday())) : this.selectedDate = t.date
                },
                isDaySelected(t) {
                    return this.week ? t.date.getWeekNumber() == this.selectedDate.getWeekNumber() && t.date >= this.minDateComputed : Date.dateEqualsObjects(t.date, this.selectedDate)
                }
            }
        }
          , E = F
          , O = i("8336")
          , M = i("62ad")
          , A = i("0fd9")
          , R = Object(p["a"])(E, P, V, !1, null, null, null)
          , L = R.exports;
        g()(R, {
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VRow: A["a"]
        });
        var j = i("5a86")
          , N = i("9c90")
          , W = i("e61a")
          , q = i("82dc")
          , H = {
            name: "zoezi-grouptraining",
            zoezi: {
                title: "Group training schedule",
                icon: "mdi-calendar",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "pass",
                        prop: "workout"
                    }]
                })
            },
            components: {
                FilterButton: I,
                DatePicker: L,
                WorkoutDialog: j["default"],
                FilterButtonRow: k,
                WorkoutBookButton: N["a"],
                WorkoutBookUserRow: W["a"]
            },
            props: {
                categories: {
                    title: "Categories",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        placeholder: "Show all categories",
                        getItems: ()=>window.$booking.getWorkoutCategories()
                    },
                    default: ()=>[]
                },
                filterWorkoutTypes: {
                    title: "Filter by activity types",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getWorkoutTypes()
                    },
                    default: ()=>[]
                },
                filterStaffs: {
                    title: "Filter by staff",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/public/staff/get/full").then(t=>t.sort((t,e)=>t.name.localeCompare(e.name)))
                    },
                    default: ()=>[]
                },
                filterSites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0
                    },
                    default: ()=>[]
                },
                filterDayPeriods: {
                    title: "Filter by time of day",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "title",
                        value: "id",
                        getItems: ()=>o["a"]
                    },
                    default: ()=>[]
                },
                onlyFree: {
                    title: "Only available workouts",
                    type: Boolean,
                    default: !1
                },
                filterForMyTrainingCard: {
                    title: "Only for my training card",
                    type: Boolean,
                    default: !1
                },
                filterOnlyVideo: {
                    title: "Only video workouts",
                    type: Boolean,
                    default: !1
                },
                fromDate: {
                    title: "Show from date",
                    type: String,
                    fulltype: "date",
                    default: null
                },
                showFilter: {
                    title: "Show filters",
                    type: Boolean,
                    default: !0
                },
                showNumBooked: {
                    title: "Show number of seats/booked",
                    type: Boolean,
                    default: !0
                },
                showDaysRow: {
                    title: "Show row with days",
                    type: Boolean,
                    default: !0
                },
                workout: {
                    title: "Show workout",
                    type: String
                },
                showWeekPicker: {
                    title: "Show week selector",
                    type: Boolean,
                    default: !0
                },
                workoutTypeOpacity: {
                    title: "Opacity for workout type in list",
                    type: Number,
                    fulltype: "number-slider",
                    typeinfo: {
                        min: 0,
                        max: 100,
                        step: 1
                    },
                    default: 80
                },
                globalSiteSetting: {
                    title: "Filter by globally selected site",
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                workouts: [],
                workoutTypes: [],
                unsubscribe: [],
                showWorkoutDialog: !1,
                showingWorkout: null,
                loadingWorkouts: !1,
                progress: {
                    workouts: []
                },
                filter: {
                    workoutTypeSearch: ""
                },
                showingDate: null,
                banner: {
                    warning: null,
                    days: null
                },
                showBlockFeeDialog: !1,
                showWarningsDialog: !1,
                workoutInvite: null
            }),
            watch: {
                fromDate() {
                    this.fetchWorkouts(!0)
                },
                workout: {
                    immediate: !0,
                    handler(t) {
                        t && this.fetchShowingWorkout(t)
                    }
                },
                showWorkoutDialog(t) {
                    if (this.$parent && "ComponentWrapper" == this.$parent.$options.name && this.$parent.config) {
                        var e, i;
                        let a = null === (e = this.$parent.config.style) || void 0 === e || null === (i = e.pageParams) || void 0 === i ? void 0 : i.find(t=>"workout" == t.prop);
                        if (a) {
                            let e = "id" == a.id ? "params" : "query"
                              , i = void 0 !== this.$route[e][a.id]
                              , o = {
                                name: this.$route.name,
                                params: Object.assign({}, this.$route.params),
                                query: Object.assign({}, this.$route.query)
                            };
                            try {
                                let t = {
                                    id: "w" + this.showingWorkout.workoutType.id,
                                    name: this.showingWorkout.workoutType.name,
                                    price: this.showingWorkout.workoutType.price,
                                    vat: this.showingWorkout.workoutType.vat
                                };
                                this.$ecommercetracking.viewItem(t)
                            } catch (s) {
                                q["a"](s)
                            }
                            t ? i || (o[e][a.id] = this.showingWorkout.id,
                            this.$router.replace(o)) : i && (delete o[e][a.id],
                            this.$router.replace(o))
                        }
                    }
                },
                "$vuetify.breakpoint.width"() {
                    this.$nextTick(()=>this.updateBannerHeights())
                }
            },
            computed: {
                activeWarnings() {
                    var t, e;
                    let i = null === (t = this.$store.state.user) || void 0 === t || null === (e = t.recentWarnings) || void 0 === e ? void 0 : e.filter(t=>null == t.deprecated);
                    return i || []
                },
                DAY_PERIODS() {
                    return o["a"]
                },
                allWorkoutsSelected() {
                    return 0 == this.filterWorkoutTypes.length || this.filterWorkoutTypes.length == this.workoutTypes.length
                },
                workoutTypesSearchMatch() {
                    let t = (this.filter.workoutTypeSearch || "").toLowerCase();
                    return this.workoutTypes.filter(e=>!t || e.name.toLowerCase().includes(t))
                },
                calculatedFromDate() {
                    let t = Date.newFull(this.fromDate)
                      , e = !t || !(t instanceof Date) || isNaN(t);
                    return e ? Date.today() : t
                },
                calculatedFromDateString() {
                    return this.calculatedFromDate.yyyymmdd()
                },
                calculatedToDate() {
                    return this.calculatedFromDate.clone().addDays(6)
                },
                days() {
                    let t = []
                      , e = this.calculatedFromDate.clone();
                    while (e <= this.calculatedToDate) {
                        let i = e.isToday() ? this.$translate("Today").toLowerCase() : Date.dateEquals(e, Date.tomorrow()) ? this.$translate("Tomorrow").toLowerCase() : this.$translate(e.getWeekDayString()).toLowerCase();
                        t.push({
                            date: e.clone(),
                            title: i
                        }),
                        e = e.addDays(1)
                    }
                    return t
                },
                visibleDays() {
                    return this.days.filter((t,e)=>this.filteredWorkoutsPerDay[e].length > 0 || !0)
                },
                weeks() {
                    if (!this.showingDate)
                        return [];
                    const t = 4;
                    let e = [];
                    for (let i = 0; i < t; ++i) {
                        let t = (new Date).addDays(7 * i).monday()
                          , s = t.getWeekNumber()
                          , a = this.$translate("Week") + " " + s;
                        s == Date.today().getWeekNumber() && (a = this.$translate("This week"));
                        let o = this.showingDate.getWeekNumber() == s;
                        e.push({
                            date: t,
                            text: a,
                            selected: o,
                            nr: s
                        })
                    }
                    return e
                },
                filteredWorkouts() {
                    let t = this.calculatedToDate.clone().addDays(1)
                      , e = this.workouts.filter(t=>!this.categories || 0 == this.categories.length || this.categories.find(e=>t.workoutType.category_id == e)).filter(e=>{
                        let i = e.getCategory()
                          , s = null !== i && void 0 !== i && i.allowBookingAfterStarted ? e.endTime.clone() : e.startTime.clone();
                        return s >= this.$store.state.now30s && e.startTime >= this.calculatedFromDate && e.startTime <= t
                    }
                    ).filter(t=>0 == this.filterWorkoutTypes.length || -1 != this.filterWorkoutTypes.indexOf(t.workoutType.id)).filter(t=>0 == this.filterStaffs.length || this.filterStaffs.find(e=>t.staffs.find(t=>t.id == e))).filter(t=>{
                        if (0 == this.filterDayPeriods.length)
                            return !0;
                        let e = t.startTime.getHours()
                          , i = o["a"].find(t=>e >= t.start && e < t.end);
                        return -1 != this.filterDayPeriods.indexOf(i.id)
                    }
                    ).filter(t=>!this.filterOnlyVideo || t.video).filter(t=>!this.onlyFree || !t.isBooked() && !t.isFull()).filter(t=>!this.filterForMyTrainingCard || t.hasValidTrainingCard()).filter(t=>{
                        if (this.globalSiteSetting) {
                            const e = this.$store.state.selectedSiteId;
                            return !e || t.site_id == e
                        }
                        return 0 == this.filterSites.length || this.filterSites.find(e=>t.site_id == e)
                    }
                    );
                    return e.sort((t,e)=>t.startTime - e.startTime)
                },
                filteredWorkoutsPerDay() {
                    return this.days.map(t=>this.filteredWorkouts.filter(e=>Date.dateEquals(t.date, e.startTime)))
                },
                staffs() {
                    let t = [];
                    return this.workouts.forEach(e=>{
                        e.staffs.forEach(e=>{
                            e.name = e.firstname + " " + e.lastname,
                            e.shortname = e.firstname + " " + e.lastname.substring(0, 1),
                            t.find(t=>t.id == e.id) || t.push({
                                id: e.id,
                                name: e.name,
                                imagekey: e.imagekey,
                                shortname: e.shortname
                            })
                        }
                        )
                    }
                    ),
                    t.sort((t,e)=>t.name.localeCompare(e.name))
                },
                locations() {
                    let t = [];
                    return this.workouts.forEach(e=>{
                        e.resources.forEach(e=>{
                            t.find(t=>t.id == e.id) || t.push({
                                id: e.id,
                                name: e.name,
                                imagekey: e.imagekey,
                                color: "white",
                                sites: e.sites
                            })
                        }
                        )
                    }
                    ),
                    t.sort((t,e)=>t.name.localeCompare(e.name))
                },
                sticky() {
                    let t = {
                        top: this.$root.siteconfig.appbar.props.prominent && !this.$vuetify.breakpoint.mobile ? 128 : 56
                    };
                    return t.afterDays = t.top + this.banner.days,
                    t.afterWarning = t.afterDays + this.banner.warning,
                    t
                },
                hasMultiSites() {
                    var t, e;
                    return (null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.sites) || void 0 === e ? void 0 : e.length) > 1
                },
                sites() {
                    let t = this.$store.state.settings && this.$store.state.settings.sites;
                    return null === t || void 0 === t ? void 0 : t.filter(t=>this.workouts.find(e=>e.site_id == t.id)).sort((t,e)=>t.name.localeCompare(e.name))
                },
                isBlocked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.isBlocked("block_grouptraining")
                },
                computedShowNumBooked() {
                    var t;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || !t.wbshowbookingcount) && this.showNumBooked
                }
            },
            methods: {
                getWorkoutTypes() {
                    this.$booking.getWorkoutTypes().then(t=>{
                        this.workoutTypes = t ? t.sort((t,e)=>t.name.localeCompare(e.name)) : []
                    }
                    )
                },
                fetchWorkouts(t) {
                    let e = this.calculatedFromDate.yyyymmdd()
                      , i = this.calculatedToDate.yyyymmdd();
                    return this.workouts && 0 != this.workouts.length || (this.loadingWorkouts = !0),
                    this.showingDate = this.calculatedFromDate.clone(),
                    this.$api.get("/api/public/workout/get/all", {
                        fromDate: e,
                        toDate: i
                    }).then(e=>{
                        e.workouts.forEach(t=>this.$booking.transformWorkout(t)),
                        this.workouts = e.workouts,
                        this.loadingWorkouts = !1,
                        t && this.$nextTick(()=>this.setDay(0))
                    }
                    )
                },
                setDay(t) {
                    let e = this.$refs.days.find(e=>e.getAttribute("data-date") == this.visibleDays[t].date.yyyymmdd())
                      , i = this.banner.days;
                    this.banner.warning && (i += this.banner.warning),
                    this.$vuetify.goTo(e, {
                        offset: i
                    })
                },
                setItem(t, e, i, s) {
                    let a = t.indexOf(e);
                    s && (t = t.slice()),
                    i && -1 == a ? t.push(e) : i || -1 == a || t.splice(a, 1),
                    s && this.setProp(s, t)
                },
                selectAllWorkoutTypes(t) {
                    t && this.setProp("filterWorkoutTypes", [])
                },
                getWorkoutBackground(t) {
                    return t.workoutType.imagekey ? {
                        "background-image": "url(" + this.$api.getImageUrl(t.workoutType.imagekey, 200) + ")"
                    } : null
                },
                h2r(t, e) {
                    let i;
                    return /^#([A-Fa-f0-9]{3}){1,2}$/.test(t) ? (i = t.substring(1).split(""),
                    3 == i.length && (i = [i[0], i[0], i[1], i[1], i[2], i[2]]),
                    i = "0x" + i.join(""),
                    e > 1 && (e = 1),
                    e < 0 && (e = 0),
                    "rgba(" + [i >> 16 & 255, i >> 8 & 255, 255 & i].join(",") + "," + e + ")") : "rgba(0,0,0,1)"
                },
                onScroll() {
                    var t;
                    let e = null;
                    if (null === (t = this.$refs.days) || void 0 === t || t.forEach(t=>{
                        t.getBoundingClientRect().top <= this.sticky.afterWarning + 20 && (e = t)
                    }
                    ),
                    e) {
                        let t = Date.newFull(e.getAttribute("data-date"));
                        Date.dateEqualsObjects(t, this.showingDate) || (this.showingDate = t)
                    }
                },
                updateBannerHeights() {
                    this.$refs.warningBanner && this.$refs.warningBanner.$el ? this.banner.warning = this.$refs.warningBanner.$el.clientHeight : this.banner.warning = 0,
                    this.$refs.scrollerDaysContainer ? this.banner.days = this.$refs.scrollerDaysContainer.clientHeight : this.banner.days = 0
                },
                fetchShowingWorkout(t) {
                    this.$api.get("/api/public/workout/get", {
                        id: t
                    }).then(t=>{
                        this.$booking.transformWorkout(t),
                        this.showingWorkout = t,
                        this.showWorkoutDialog = !0
                    }
                    )
                },
                setWeek(t) {
                    t < Date.today() && (t = Date.today()),
                    this.setProp("fromDate", t.yyyymmdd())
                },
                setNextWeek() {
                    this.setWeek(this.calculatedFromDate.clone().monday().addDays(7))
                },
                getWarningTime(t) {
                    var e;
                    return (null === (e = t.workout) || void 0 === e ? void 0 : e.startTime) || t.created
                },
                checkInviteHash(t) {
                    this.$api.get("/api/workoutBooking/invites/checkAnswerPermission", {
                        workout_id: this.showingWorkout.id,
                        linkHash: t
                    }).then(e=>{
                        this.workoutInvite = {
                            workoutId: this.showingWorkout.id,
                            linkHash: t,
                            hasResponded: !e
                        }
                    }
                    )
                }
            },
            created() {
                this.getWorkoutTypes(),
                this.unsubscribe.push(this.$root.$api.subscribe({
                    type: "workout",
                    callback: (t,e)=>{
                        e.data.forEach(t=>{
                            if ("add" == e.action)
                                this.workouts.push(this.$booking.transformWorkout(t));
                            else if ("change" == e.action) {
                                let e = this.workouts.find(e=>e.id == t.id);
                                e && (Object.assign(e, t),
                                this.$booking.transformWorkout(e))
                            } else if ("remove" == e.action) {
                                let e = this.workouts.findIndex(e=>e.id == t.id);
                                -1 != e && this.workouts.splice(e, 1)
                            }
                        }
                        )
                    }
                })),
                this.unsubscribe.push(this.$root.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        e.data.forEach(t=>{
                            let e = this.workouts.find(e=>e.id == t.workout);
                            e && (e.numBooked = t.numBooked,
                            e.numQueue = t.numQueue)
                        }
                        )
                    }
                })),
                this.unsubscribe.push(this.$root.$api.subscribe({
                    type: "workouttype",
                    callback: ()=>{
                        this.fetchWorkouts(),
                        this.showingWorkout && this.fetchShowingWorkout(this.showingWorkout.id)
                    }
                }))
            },
            beforeUpdate() {
                this.updateBannerHeights()
            },
            mounted() {
                this.fetchWorkouts().then(()=>{
                    let t = this.$route.query.hash;
                    t && this.checkInviteHash(t)
                }
                ),
                window.addEventListener("scroll", this.onScroll)
            },
            destroyed() {
                this.unsubscribe.forEach(t=>{
                    t && t()
                }
                ),
                window.removeEventListener("scroll", this.onScroll)
            }
        }
          , U = H
          , Y = (i("1730"),
        i("e4e5"))
          , G = i("99d9")
          , K = i("169a")
          , Q = i("490a")
          , J = i("2fa4")
          , X = Object(p["a"])(U, n, r, !1, null, null, null)
          , Z = X.exports;
        g()(X, {
            VBanner: Y["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var tt = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        prop: "html",
                        html: !0,
                        multiline: !0
                    },
                    expression: "{prop: 'html', html: true, multiline: true}"
                }]
            }, [i("v-runtime-template", {
                attrs: {
                    template: t.html
                }
            })], 1)
        }
          , et = []
          , it = i("dd1e")
          , st = i("cc20")
          , at = i("adda")
          , ot = {
            name: "zoezi-html",
            zoezi: {
                title: "Html",
                icon: "mdi-code-tags"
            },
            components: {
                VRuntimeTemplate: it["a"],
                VBtn: O["a"],
                VChip: st["a"],
                VImg: at["a"],
                VRow: A["a"],
                VCol: M["a"]
            },
            props: {
                html: {
                    title: "HTML text",
                    type: String,
                    fulltype: "html",
                    default: '<div class="fill-height zoezi-html-default">\n  <h3>Html-text</h3>\n</div>'
                }
            },
            data: ()=>({})
        }
          , nt = ot
          , rt = Object(p["a"])(nt, tt, et, !1, null, null, null)
          , lt = rt.exports
          , ct = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.title ? i("h1", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        prop: "title",
                        multiline: !1,
                        html: !1
                    },
                    expression: "{prop: 'title', multiline: false, html: false}"
                }],
                style: t.titleColorStyle
            }, [t._v(t._s(t.title))]) : t._e(), t.text ? i("p", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        prop: "text",
                        multiline: !0,
                        html: !0
                    },
                    expression: "{prop: 'text', multiline: true, html: true}"
                }],
                style: t.textColorStyle,
                domProps: {
                    innerHTML: t._s(t.textCompiled)
                }
            }) : t._e()])
        }
          , dt = []
          , ut = {
            name: "zoezi-text",
            zoezi: {
                title: "Text and headline",
                icon: "mdi-card-text-outline",
                getDefaultStyle: ()=>({
                    margin: 12
                })
            },
            props: {
                title: {
                    title: "Headline",
                    type: String,
                    default: "Rubrik"
                },
                text: {
                    title: "Text in markdown",
                    type: String,
                    default: "Text"
                },
                titleColor: {
                    title: "Header color",
                    type: String,
                    fulltype: "color"
                },
                textColor: {
                    title: "Textfärg",
                    type: String,
                    fulltype: "color"
                }
            },
            computed: {
                textCompiled() {
                    return this.text
                },
                titleColorStyle() {
                    return this.titleColor ? {
                        color: this.$root.colorToHex(this.titleColor)
                    } : null
                },
                textColorStyle() {
                    return this.textColor ? {
                        color: this.$root.colorToHex(this.textColor)
                    } : null
                }
            },
            migrations: [t=>{
                var e, i;
                "object" === typeof t.text && (t.text = null === (e = t.text) || void 0 === e ? void 0 : e.sv);
                "object" === typeof t.title && (t.title = null === (i = t.title) || void 0 === i ? void 0 : i.sv)
            }
            ]
        }
          , ht = ut
          , mt = Object(p["a"])(ht, ct, dt, !1, null, null, null)
          , pt = mt.exports
          , vt = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.submenu && !t.$vuetify.breakpoint.mobile ? i("span", {
                staticClass: "d-inline-block"
            }, [t.icon ? i("v-icon", {
                attrs: {
                    small: "",
                    left: ""
                }
            }, [t._v(t._s(t.icon))]) : t._e(), t._v(" " + t._s(t.title) + " ")], 1) : t.$vuetify.breakpoint.mobile ? t.subitems && 0 != t.subitems.length ? t.subitems && t.subitems.length > 0 ? i("v-list-group", {
                key: t.title,
                attrs: {
                    "no-action": "",
                    color: t.color
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function() {
                        return [i("v-list-item-content", {
                            style: {
                                "text-transform": t.uppercase ? "uppercase" : "none",
                                "margin-bottom": "0px",
                                color: t.color + " !important"
                            }
                        }, [i("v-list-item-title", {
                            on: {
                                click: t.followLink
                            }
                        }, [t.icon ? i("v-icon", {
                            attrs: {
                                small: "",
                                left: ""
                            }
                        }, [t._v(t._s(t.icon))]) : t._e(), t._v(" " + t._s(t.title) + " ")], 1)], 1)]
                    },
                    proxy: !0
                }])
            }, t._l(t.visibleSubItems, (function(e, s) {
                return i("router-link", {
                    key: s,
                    attrs: {
                        to: e.props.link || "/"
                    },
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(a) {
                            var o = a.navigate
                              , n = a.isExactActive;
                            return [i("v-list-item", {
                                style: {
                                    "text-transform": t.uppercase ? "uppercase" : "none",
                                    color: n ? t.activeColor + " !important" : t.color + " !important"
                                },
                                on: {
                                    click: function(e) {
                                        return t.onClickInner(o, e)
                                    }
                                }
                            }, [i("component-wrapper", {
                                attrs: {
                                    config: e,
                                    "can-remove": ""
                                },
                                on: {
                                    remove: function(e) {
                                        return t.removeMenuItem(s)
                                    }
                                }
                            })], 1)]
                        }
                    }], null, !0)
                })
            }
            )), 1) : t._e() : i("v-list-item", {
                style: {
                    "text-transform": t.uppercase ? "uppercase" : "none",
                    color: t.color + " !important"
                }
            }, [i("router-link", {
                attrs: {
                    to: t.safeLink
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.isExactActive;
                        return [i("v-list-item-title", {
                            style: {
                                color: s ? t.activeColor + " !important" : void 0
                            },
                            on: {
                                click: function(e) {
                                    return t.followLinkAndClose()
                                }
                            }
                        }, [t.icon ? i("v-icon", {
                            attrs: {
                                small: "",
                                left: ""
                            }
                        }, [t._v(t._s(t.icon))]) : t._e(), t._v(t._s(t.title) + " ")], 1)]
                    }
                }])
            })], 1) : i("span", [t.$root.edit || 0 != t.visibleSubItems.length ? t._e() : i("router-link", {
                attrs: {
                    to: t.safeLink
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.navigate
                          , a = e.isExactActive;
                        return [i("div", {
                            staticClass: "d-inline-block"
                        }, [i("v-btn", {
                            staticClass: "font-weight-bold hidden-sm-and-down d-inline",
                            style: {
                                "text-transform": t.uppercase ? "uppercase" : "none",
                                color: a ? t.activeColor + " !important" : t.color + " !important"
                            },
                            attrs: {
                                text: "",
                                block: "",
                                icon: !!t.icon && !t.title,
                                "x-large": !t.icon || !!t.title
                            },
                            on: {
                                click: function(e) {
                                    return t.onClick(s, e)
                                }
                            }
                        }, [t.icon ? i("v-icon", {
                            attrs: {
                                small: "",
                                left: ""
                            }
                        }, [t._v(t._s(t.icon))]) : t._e(), t.title ? i("span", [t._v(t._s(t.title))]) : t._e()], 1)], 1)]
                    }
                }], null, !1, 1098335707)
            }), t.visibleSubItems.length > 0 || t.$root.edit ? i("v-menu", {
                key: t.menuKey,
                attrs: {
                    bottom: "",
                    left: "",
                    "offset-y": "",
                    "open-on-hover": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("router-link", {
                            attrs: {
                                to: t.safeLink
                            },
                            scopedSlots: t._u([{
                                key: "default",
                                fn: function(e) {
                                    var a = e.isExactActive;
                                    return [i("div", {
                                        staticClass: "d-inline-block"
                                    }, [i("v-btn", t._g({
                                        staticClass: "font-weight-bold hidden-sm-and-down d-inline",
                                        style: {
                                            "text-transform": t.uppercase ? "uppercase" : "none",
                                            color: a || t.subitemActive ? t.activeColor + " !important" : t.color + " !important"
                                        },
                                        attrs: {
                                            text: "",
                                            color: t.color,
                                            "x-large": ""
                                        },
                                        on: {
                                            click: function(e) {
                                                return t.onClick(t.followLink, e)
                                            }
                                        }
                                    }, s), [t.icon ? i("v-icon", {
                                        attrs: {
                                            small: "",
                                            left: ""
                                        }
                                    }, [t._v(t._s(t.icon))]) : t._e(), i("span", {
                                        directives: [{
                                            name: "zoezi-editable",
                                            rawName: "v-zoezi-editable",
                                            value: {
                                                prop: "title",
                                                html: !1,
                                                multiline: !1
                                            },
                                            expression: "{prop: 'title', html: false, multiline: false}"
                                        }]
                                    }, [t._v(t._s(t.title))])], 1)], 1)]
                                }
                            }], null, !0)
                        })]
                    }
                }], null, !1, 1418363763)
            }, [i("v-list", {
                attrs: {
                    color: t.backgroundColor
                }
            }, [i("draggable", {
                attrs: {
                    disabled: !t.$root.edit,
                    group: "menuitem"
                },
                on: {
                    change: function(e) {
                        return t.$emit("silentsave", {
                            subitems: t.draggableSubItems
                        })
                    }
                },
                model: {
                    value: t.draggableSubItems,
                    callback: function(e) {
                        t.draggableSubItems = e
                    },
                    expression: "draggableSubItems"
                }
            }, t._l(t.visibleSubItems, (function(e, s) {
                return i("router-link", {
                    key: s,
                    attrs: {
                        to: e.props.link || "/"
                    },
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(a) {
                            var o = a.navigate
                              , n = a.isExactActive;
                            return [i("v-list-item", {
                                style: {
                                    "text-transform": t.uppercase ? "uppercase" : "none",
                                    color: n ? t.activeColor + " !important" : t.color + " !important"
                                },
                                on: {
                                    click: function(e) {
                                        return t.onClickInner(o, e)
                                    }
                                }
                            }, [i("v-list-item-title", [i("component-wrapper", {
                                staticClass: "d-inline-block",
                                attrs: {
                                    config: e,
                                    "can-remove": ""
                                },
                                on: {
                                    remove: function(e) {
                                        return t.removeMenuItem(s)
                                    }
                                }
                            })], 1)], 1)]
                        }
                    }], null, !0)
                })
            }
            )), 1), t.$root.edit ? i("v-list-item", [i("v-btn", {
                staticClass: "hidden-sm-and-down my-2",
                attrs: {
                    fab: "",
                    color: "zoezi-edit-color",
                    small: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("action", "addsubmenuitem")
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1) : t._e()], 1)], 1) : t._e()], 1)
        }
          , gt = []
          , ft = i("310e")
          , bt = i.n(ft)
          , yt = {
            name: "zoezi-menuitem",
            zoezi: {
                title: "Menu choice",
                icon: "mdi-menu-down"
            },
            components: {
                Draggable: bt.a
            },
            props: {
                title: {
                    title: "Title",
                    type: String,
                    default: ()=>window.$translate("New menu option")
                },
                icon: {
                    title: "Icon",
                    type: String,
                    fulltype: "icon"
                },
                link: {
                    title: "Link",
                    type: String,
                    fulltype: "page",
                    default: "/"
                },
                subitems: {
                    title: "Submenu",
                    type: Array,
                    default: ()=>[]
                }
            },
            watch: {
                subitems: {
                    immediate: !0,
                    handler(t) {
                        this.draggableSubItems = null === t || void 0 === t ? void 0 : t.concat()
                    }
                }
            },
            data: ()=>({
                menuKey: 0,
                id: 0,
                draggableSubItems: null
            }),
            mounted() {
                this.id = "0".repeat(64).replace(/0/g, (function() {
                    return (~~(16 * Math.random())).toString(16)
                }
                ))
            },
            computed: {
                subitemActive() {
                    return this.subitems && !!this.subitems.find(t=>t.props.link == this.$route.path)
                },
                submenu() {
                    let t = function(e) {
                        return !!e && ("zoezi-menuitem" == e.$options.name || t(e.$parent))
                    };
                    return t(this.$parent)
                },
                visibleSubItems() {
                    return this.subitems
                },
                color() {
                    return this.$root.colorToHex(this.$root.siteconfig.appbar.props.color)
                },
                activeColor() {
                    return this.$root.colorToHex(this.$root.siteconfig.appbar.props.activeColor)
                },
                uppercase() {
                    return this.$root.siteconfig.appbar.props.uppercase
                },
                backgroundColor() {
                    return this.$root.colorToHex(this.$root.siteconfig.appbar.props.backgroundColor)
                },
                safeLink() {
                    return this.link || "/"
                }
            },
            methods: {
                followLink() {
                    this.$route.path != this.safeLink && this.$router.push({
                        path: this.safeLink
                    })
                },
                followLinkAndClose() {
                    this.followLink(),
                    this.$store.commit("setShowMobileMenu", !1)
                },
                onClickInner(t, e) {
                    t && t(e)
                },
                onClick(t, e) {
                    t && t(e),
                    this.$emit("select", this)
                },
                removeMenuItem(t) {
                    this.subitems.splice(t, 1),
                    this.$root.saveHomePage()
                }
            }
        }
          , _t = yt
          , kt = i("56b0")
          , wt = i("da13")
          , Ct = i("5d23")
          , xt = Object(p["a"])(_t, vt, gt, !1, null, null, null)
          , $t = xt.exports;
        g()(xt, {
            VBtn: O["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListGroup: kt["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"]
        });
        var St = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                key: t.renderKey
            }, [i("v-carousel", {
                attrs: {
                    light: "",
                    height: t.height,
                    "show-arrows": t.showArrows,
                    cycle: !t.$root.edit && t.cycle,
                    "hide-delimiters": t.hideDelimiters,
                    "hide-delimiter-background": t.hideDelimiterBackground,
                    interval: t.interval
                },
                model: {
                    value: t.currentItem,
                    callback: function(e) {
                        t.currentItem = e
                    },
                    expression: "currentItem"
                }
            }, t._l(t.items, (function(e) {
                return i("v-carousel-item", {
                    key: e.id
                }, [i("component-wrapper", {
                    attrs: {
                        config: e,
                        array: t.items,
                        "can-remove": ""
                    }
                })], 1)
            }
            )), 1)], 1)
        }
          , Dt = []
          , zt = {
            name: "zoezi-carousel",
            zoezi: {
                title: "Slideshow",
                icon: "mdi-view-carousel-outline"
            },
            props: {
                items: {
                    title: "Pages",
                    type: Array,
                    default: ()=>[Yx.makeEmptyConfig({})],
                    fulltype: "componentlist"
                },
                height: {
                    title: "Height",
                    type: String,
                    fulltype: "csssize",
                    default: "500px"
                },
                showArrows: {
                    title: "Show arrows",
                    type: Boolean,
                    default: !0
                },
                cycle: {
                    title: "Automatically proceed to the next image",
                    type: Boolean,
                    default: !1
                },
                interval: {
                    title: "Time before the next page is displayed (ms)",
                    type: Number,
                    default: 6e3
                },
                hideDelimiters: {
                    title: "Hide buttons at the bottom",
                    type: Boolean,
                    default: !1
                },
                hideDelimiterBackground: {
                    title: "Hide background at the bottom",
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                renderKey: 0,
                currentItem: 0
            }),
            methods: {
                save() {
                    const t = Object(a["omitBy"])(this.$props, t=>void 0 === t);
                    this.$emit("save", t),
                    this.renderKey++
                },
                addItem() {
                    this.items.splice(this.items.length, 0, {}),
                    this.save()
                },
                saveConfigForChild(t, e) {
                    Object.assign(t.props, e),
                    this.save()
                },
                findChild(t) {
                    let e = this.items.findIndex(e=>e.id == t);
                    -1 != e && (this.currentItem = e,
                    ++this.renderKey)
                }
            },
            migrations: [t=>{
                "string" !== typeof t.height && t.height && (t.height = t.height + "px")
            }
            ]
        }
          , Tt = zt
          , It = i("5e66")
          , Pt = i("3e35")
          , Vt = Object(p["a"])(Tt, St, Dt, !1, null, null, null)
          , Bt = Vt.exports;
        g()(Vt, {
            VCarousel: It["a"],
            VCarouselItem: Pt["a"]
        });
        var Ft = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("video-background", {
                style: {
                    height: t.height
                },
                attrs: {
                    src: t.$api.getImageUrl(t.src) + "&_ignore=.mp4"
                }
            })], 1)
        }
          , Et = []
          , Ot = i("cf1a")
          , Mt = i.n(Ot)
          , At = {
            name: "zoezi-video",
            zoezi: {
                title: "Video",
                icon: "mdi-video",
                internal: !0
            },
            components: {
                VideoBackground: Mt.a
            },
            props: {
                src: {
                    title: "Video address",
                    type: String,
                    fulltype: "video"
                },
                height: {
                    title: "Height",
                    type: String,
                    default: "400px"
                }
            }
        }
          , Rt = At
          , Lt = Object(p["a"])(Rt, Ft, Et, !1, null, null, null)
          , jt = Lt.exports
          , Nt = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-tabs", {
                key: t.renderKey,
                attrs: {
                    centered: t.centered,
                    grow: t.grow,
                    vertical: t.vertical,
                    showArrows: t.arrows,
                    right: t.right,
                    "background-color": t.backgroundColor,
                    color: t.color
                }
            }, [t.$root.edit && !t.centered ? i("draggable", {
                attrs: {
                    disabled: !t.$root.edit || 1 == t.tabs.length,
                    tag: "ContentsContainer"
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.tabscopy,
                    callback: function(e) {
                        t.tabscopy = e
                    },
                    expression: "tabscopy"
                }
            }, t._l(t.tabs, (function(e) {
                return i("v-tab", {
                    key: e.name
                }, [i("span", {
                    directives: [{
                        name: "zoezi-editable",
                        rawName: "v-zoezi-editable",
                        value: {
                            setProp: function(t) {
                                return e.name = t
                            },
                            html: !1,
                            multiline: !1
                        },
                        expression: "{setProp: (value) => tab.name = value, html: false, multiline: false}"
                    }]
                }, [t._v(t._s(e.name))])])
            }
            )), 1) : t._l(t.tabs, (function(e) {
                return i("v-tab", {
                    key: e.name
                }, [t._v(t._s(e.name))])
            }
            )), t.$root.edit ? i("v-tab", [i("v-btn", {
                attrs: {
                    fab: "",
                    small: "",
                    color: "zoezi-edit-color",
                    elevation: "3"
                },
                on: {
                    click: t.add
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1) : t._e(), t._l(t.tabs, (function(e) {
                return i("v-tab-item", {
                    key: e.id
                }, [i("component-wrapper", {
                    attrs: {
                        config: e,
                        array: t.tabs,
                        "can-remove": ""
                    }
                })], 1)
            }
            ))], 2)
        }
          , Wt = []
          , qt = {
            name: "zoezi-tabbar",
            zoezi: {
                title: "Tab row",
                icon: "mdi-tab"
            },
            components: {
                Draggable: bt.a
            },
            props: {
                tabs: {
                    title: "Tabs",
                    type: Array,
                    default: ()=>[Yx.makeEmptyConfig({
                        name: window.$translate("New tab")
                    })],
                    fulltype: "namelist",
                    typeinfo: {
                        getNewName(t) {
                            const e = window.$translate("New tab");
                            let i = t.filter(t=>t.name.startsWith(e)).length
                              , s = 0 == i ? "" : " " + (i + 1);
                            return e + s
                        }
                    }
                },
                arrows: {
                    title: "Show arrows",
                    type: Boolean,
                    default: !1
                },
                centered: {
                    title: "Centered tabs",
                    type: Boolean,
                    default: !1
                },
                grow: {
                    title: "Let the tabs fill the entire space",
                    type: Boolean,
                    default: !1
                },
                vertical: {
                    title: "Vertical tabs",
                    type: Boolean,
                    default: !1
                },
                right: {
                    title: "Align tabs to the right",
                    type: Boolean,
                    default: !1
                },
                backgroundColor: {
                    title: "Background color for tab row",
                    type: String,
                    fulltype: "color"
                },
                color: {
                    title: "Color for selected tab",
                    type: String,
                    fulltype: "color"
                }
            },
            data: ()=>({
                renderKey: 0,
                tabscopy: null
            }),
            methods: {
                save() {
                    const t = Object(a["omitBy"])(this.$props, t=>void 0 === t);
                    t.tabs = this.tabscopy,
                    this.$emit("save", t),
                    ++this.renderKey
                },
                add() {
                    const t = window.$translate("New tab");
                    let e = this.tabs.filter(e=>e.name.startsWith(t)).length
                      , i = 0 == e ? "" : " " + (e + 1);
                    this.tabs.splice(this.tabs.length, 0, Yx.makeEmptyConfig({
                        name: t + i
                    })),
                    this.save()
                }
            },
            created() {
                this.tabscopy = this.tabs
            }
        }
          , Ht = qt
          , Ut = i("71a3")
          , Yt = i("c671")
          , Gt = i("fe57")
          , Kt = Object(p["a"])(Ht, Nt, Wt, !1, null, null, null)
          , Qt = Kt.exports;
        g()(Kt, {
            VBtn: O["a"],
            VIcon: y["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"]
        });
        var Jt = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                key: t.renderKey
            }, [i("v-expansion-panels", [i("draggable", {
                attrs: {
                    disabled: !t.$root.edit || 1 == t.rows.length,
                    tag: "ContentsContainer"
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.rowscopy,
                    callback: function(e) {
                        t.rowscopy = e
                    },
                    expression: "rowscopy"
                }
            }, t._l(t.rows, (function(e, s) {
                return i("v-expansion-panel", {
                    key: e.id || s
                }, [i("v-expansion-panel-header", {
                    directives: [{
                        name: "zoezi-editable",
                        rawName: "v-zoezi-editable",
                        value: {
                            setProp: function(t) {
                                return e.name = t
                            },
                            html: !1,
                            multiline: !1
                        },
                        expression: "{setProp: (value) => row.name = value, html: false, multiline: false}"
                    }]
                }, [t._v(" " + t._s(e.name) + " ")]), i("v-expansion-panel-content", [i("component-wrapper", {
                    attrs: {
                        config: e,
                        array: t.rows,
                        "can-remove": ""
                    }
                })], 1)], 1)
            }
            )), 1)], 1)], 1)
        }
          , Xt = []
          , Zt = {
            name: "zoezi-expansionpanel",
            zoezi: {
                title: "Expansion panel",
                icon: "mdi-chevron-down"
            },
            components: {
                Draggable: bt.a
            },
            props: {
                rows: {
                    title: "Rows",
                    type: Array,
                    default: ()=>[Yx.makeEmptyConfig({
                        name: window.$translate("New row")
                    })],
                    fulltype: "namelist",
                    typeinfo: {
                        getNewName: t=>{
                            const e = window.$translate("New row");
                            let i = t.filter(t=>t.name.startsWith(e)).length
                              , s = 0 == i ? "" : " " + (i + 1);
                            return e + s
                        }
                    }
                }
            },
            data: ()=>({
                renderKey: 0,
                rowscopy: null
            }),
            methods: {
                save() {
                    const t = Object(a["omitBy"])(this.$props, t=>void 0 === t);
                    t.rows = this.rowscopy,
                    this.$emit("save", t),
                    ++this.renderKey
                }
            },
            created() {
                this.rowscopy = this.rows
            }
        }
          , te = Zt
          , ee = i("cd55")
          , ie = i("49e2")
          , se = i("c865")
          , ae = i("0393")
          , oe = Object(p["a"])(te, Jt, Xt, !1, null, null, null)
          , ne = oe.exports;
        g()(oe, {
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"]
        });
        var re, le, ce = i("b73d"), de = i("2e4b"), ue = i("8dd9"), he = {
            name: "zoezi-vue-component",
            zoezi: {
                title: "Vue component",
                icon: "mdi-vuejs"
            },
            props: {
                vue: {
                    title: "Vue code",
                    type: Object,
                    fulltype: "vue",
                    default: ()=>({
                        html: `<v-btn color="primary" @click="inc">\n  ${window.$translate("Click here")} ({{count}})\n</v-btn>\n`,
                        js: "{\n  data: () => ({\n    count: 1\n  }),\n  methods: {\n    inc() {\n      this.count++;\n    }\n  }\n}",
                        css: ""
                    })
                }
            },
            data: ()=>({
                compiledComponent: null
            }),
            watch: {
                vue: {
                    immediate: !0,
                    handler(t) {
                        this.updateComponent(t)
                    }
                }
            },
            methods: {
                updateComponent(t) {
                    let e, i = Yx.getCompiler().compileToFunctions(t.html), s = t.js.replace(/export\s+default\s+/, "");
                    try {
                        e = new Function("return " + s)()
                    } catch (a) {
                        console.error("Error creating component:", a),
                        e = {
                            template: "<div>Error creating component</div>"
                        }
                    }
                    e.render = i.render,
                    e.staticRenderFns = i.staticRenderFns,
                    e.components = {
                        VBtn: O["a"],
                        VChip: st["a"],
                        VImg: at["a"],
                        VRow: A["a"],
                        VCol: M["a"],
                        VTextField: z["a"],
                        VSwitch: ce["a"],
                        VDatePicker: de["a"],
                        VSheet: ue["a"],
                        VCard: x["a"],
                        VCardText: G["b"],
                        VCardTitle: G["c"]
                    },
                    this.compiledComponent = e,
                    Object(o["c"])("zoezi-style-" + this._uid, t.css)
                }
            },
            render(t) {
                return this.compiledComponent ? t(this.compiledComponent, {
                    props: {}
                }) : t("div")
            }
        }, me = he, pe = Object(p["a"])(me, re, le, !1, null, null, null), ve = pe.exports, ge = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", t._g({
                style: t.style,
                attrs: {
                    flat: t.flat,
                    tile: t.flat,
                    height: t.height,
                    elevation: t.elevation
                }
            }, t.events), [t.backgroundVideo ? i("video-background", {
                staticClass: "fill-height fill-width",
                attrs: {
                    src: t.$api.getImageUrl(t.backgroundVideo) + "&_ignore=.mp4"
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: t.component
                }
            })], 1) : t.backgroundImage ? i("v-auto-img", {
                attrs: {
                    src: t.backgroundImage,
                    position: t.backgroundPosition,
                    height: t.height,
                    cover: this.cover,
                    contain: !this.cover
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: t.component
                }
            })], 1) : i("component-wrapper", {
                attrs: {
                    config: t.component
                }
            })], 1)
        }, fe = [], be = {
            name: "zoezi-card",
            zoezi: {
                title: "Card",
                icon: "mdi-card-bulleted-outline"
            },
            components: {
                VideoBackground: Mt.a
            },
            props: {
                component: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>Yx.makeEmptyConfig({})
                },
                backgroundImage: {
                    title: "Background image",
                    type: String,
                    fulltype: "image"
                },
                backgroundPosition: {
                    title: "Background position",
                    type: String,
                    fulltype: "backgroundposition",
                    default: "center center"
                },
                cover: {
                    title: "Cover card with background image",
                    type: Boolean,
                    default: !0
                },
                backgroundVideo: {
                    title: "Background video",
                    type: String,
                    fulltype: "video"
                },
                flat: {
                    title: "Flat and square card",
                    type: Boolean,
                    default: !1
                },
                height: {
                    title: "Height",
                    type: String,
                    fulltype: "csssize"
                },
                link: {
                    title: "Link",
                    type: Object,
                    fulltype: "link",
                    typeinfo: {
                        clearable: !0
                    }
                },
                radius: {
                    title: "Corner radius",
                    type: String,
                    fulltype: "csssize",
                    global: !0
                },
                elevation: {
                    title: "Elevation",
                    type: Number,
                    typeinfo: {
                        min: 0,
                        max: 24
                    },
                    global: !0
                }
            },
            computed: {
                events() {
                    return !this.$root.edit && this.link ? {
                        click: ()=>{
                            this.$root.followLink(this.link)
                        }
                    } : {}
                },
                style() {
                    if (this.radius)
                        return {
                            "border-radius": this.radius
                        }
                }
            },
            migrations: [t=>{
                "string" !== typeof t.height && t.height && (t.height = t.height + "px")
            }
            ]
        }, ye = be, _e = Object(p["a"])(ye, ge, fe, !1, null, null, null), ke = _e.exports;
        g()(_e, {
            VCard: x["a"]
        });
        var we = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.services.length ? i("div", {
                ref: "top",
                staticClass: "z-mobile-negative-margins"
            }, [t.showFilterRow ? i("v-row", {
                staticClass: "mx-0"
            }, [i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                ref: "filterButtonDate",
                attrs: {
                    title: t.$translate("Time"),
                    icon: "mdi-calendar-clock"
                },
                scopedSlots: t._u([{
                    key: "items",
                    fn: function(e) {
                        var s = e.hide;
                        return [i("date-picker", {
                            attrs: {
                                "min-date": t.$store.state.now30s.clone().clearTime(),
                                week: ""
                            },
                            on: {
                                change: function(e) {
                                    t.dateChanged(e),
                                    s()
                                }
                            },
                            model: {
                                value: t.selectedDate,
                                callback: function(e) {
                                    t.selectedDate = e
                                },
                                expression: "selectedDate"
                            }
                        }), i("div", {
                            staticClass: "mx-2 mt-4"
                        }, [i("filter-button-row", {
                            attrs: {
                                icon: "mdi-calendar-today",
                                name: t.$translate("All day"),
                                value: [0, t.DAY_PERIODS.length].includes(t.selectedDayPeriods.length)
                            }
                        }), t._l(t.DAY_PERIODS, (function(e) {
                            return i("filter-button-row", {
                                key: e.id,
                                attrs: {
                                    color: e.color,
                                    name: t.$translate(e.title),
                                    icon: e.icon,
                                    value: t.selectedDayPeriods.includes(e.id)
                                },
                                on: {
                                    input: function(i) {
                                        return t.setItem(t.selectedDayPeriods, e.id, i)
                                    }
                                }
                            })
                        }
                        ))], 2)]
                    }
                }], null, !1, 4116426632)
            })], 1), i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                attrs: {
                    items: t.sortedServices,
                    title: t.$translate("Type"),
                    icon: "mdi-chart-timeline"
                },
                model: {
                    value: t.selectedServices,
                    callback: function(e) {
                        t.selectedServices = e
                    },
                    expression: "selectedServices"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                attrs: {
                    items: t.sortedStaffs,
                    title: t.$translate("Practitioner"),
                    icon: "mdi-account-question-outline"
                },
                model: {
                    value: t.selectedStaffs,
                    callback: function(e) {
                        t.selectedStaffs = e
                    },
                    expression: "selectedStaffs"
                }
            })], 1), t.showSiteFilter ? i("v-col", {
                attrs: {
                    cols: "3"
                }
            }, [i("filter-button", {
                attrs: {
                    value: t.filterSites,
                    title: t.$translate("Location"),
                    icon: "mdi-map-marker-radius-outline",
                    items: t.sites,
                    search: "",
                    searchText: t.$translate("Search location"),
                    "show-color-image-circle": !1
                },
                on: {
                    input: function(e) {
                        return t.setProp("filterSites", e)
                    }
                }
            })], 1) : t._e()], 1) : t._e(), i("div", {
                staticClass: "d-flex align-center"
            }, [t.isCurrentWeek ? t._e() : i("v-btn", {
                attrs: {
                    icon: "",
                    color: "primary"
                },
                on: {
                    click: t.prevWeek
                }
            }, [i("v-icon", [t._v("mdi-chevron-left")])], 1), i("span", {
                staticClass: "flex-grow-1 text-center text-h5"
            }, [t._v(t._s(t.$translate("Week")) + " " + t._s(t.selectedDate.getWeekNumber()))]), i("v-btn", {
                staticClass: "align-self-end",
                attrs: {
                    icon: "",
                    color: "primary"
                },
                on: {
                    click: t.nextWeek
                }
            }, [i("v-icon", [t._v("mdi-chevron-right")])], 1)], 1), t.isBlocked ? i("v-alert", {
                attrs: {
                    dense: "",
                    text: "",
                    type: "error",
                    border: "left",
                    icon: "mdi-alert-circle"
                }
            }, [t._v(" " + t._s(t.$translate("You are blocked and can not book")) + " ")]) : t._e(), !t.wholeWeekSlots.length && t.loadingSlots ? i("div", {
                staticClass: "d-flex align-center flex-column"
            }, [i("div", {
                staticClass: "flex-grow-1 text-center text-h5"
            }, [t._v(t._s(t.$translate("Fetching available times")))]), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : t._e(), t.wholeWeekSlots.length || t.loadingSlots || !t.showNextButton ? i("v-expansion-panels", {
                attrs: {
                    flat: "",
                    accordion: "",
                    multiple: !1
                }
            }, t._l(t.wholeWeekSlots, (function(e) {
                return i("div", {
                    key: e.date,
                    staticClass: "fill-width v-expansion-panels--accordion v-expansion-panels--flat"
                }, [i("div", {
                    staticClass: "d-flex flex-row"
                }, [i("hr", {
                    staticClass: "v-divider theme--light",
                    staticStyle: {
                        "margin-top": "11px"
                    }
                }), i("div", {
                    staticClass: "zoezi-resourcebooking-day-title text-subtitle-2 text--secondary px-2"
                }, [t._v(" " + t._s(t.formatTimeLonger(e.date)) + " ")]), i("hr", {
                    staticClass: "v-divider theme--light",
                    staticStyle: {
                        "margin-top": "11px"
                    }
                })]), t._l(e.services, (function(e, s) {
                    return i("v-expansion-panel", {
                        key: s
                    }, [i("v-expansion-panel-header", {
                        staticClass: "pa-0",
                        attrs: {
                            "expand-icon": ""
                        },
                        scopedSlots: t._u([{
                            key: "default",
                            fn: function(s) {
                                var a = s.open;
                                return [i("div", {
                                    staticClass: "d-flex"
                                }, [i("div", {
                                    staticClass: "flex-grow-1"
                                }, [i("div", {
                                    staticClass: "zoezi-resourcebooking-service-name font-weight-bold px-2"
                                }, [t._v(t._s(e.service.name))]), i("v-row", {
                                    staticClass: "px-2",
                                    attrs: {
                                        "no-gutters": ""
                                    }
                                }, [i("v-col", {
                                    attrs: {
                                        cols: "7"
                                    }
                                }, [i("v-icon", {
                                    staticClass: "mr-1",
                                    attrs: {
                                        small: "",
                                        color: "primary"
                                    }
                                }, [t._v("mdi-clock-outline")]), t._v(t._s(e.service.duration) + " " + t._s(t.$translate("MINUTES_SHORT")) + " ")], 1), t.showPrice ? i("v-col", {
                                    attrs: {
                                        cols: "5"
                                    }
                                }, [i("v-icon", {
                                    staticClass: "mr-1",
                                    attrs: {
                                        small: "",
                                        color: "primary"
                                    }
                                }, [t._v("mdi-tag-outline")]), t._v(t._s(t._f("price")(e.service.price)) + " ")], 1) : t._e()], 1)], 1), i("div", [i("div", {
                                    staticClass: "d-flex align-center pr-2"
                                }, [i("zoezi-button", {
                                    staticClass: "zoezi-resourcebooking-times-button",
                                    attrs: {
                                        block: "",
                                        thin: "",
                                        text: a ? t.$translate("Hide times") : t.$translate(1 == e.numSlots ? "SHOW_TIME" : "SHOW_TIMES").format(e.numSlots),
                                        icon: "mdi-chevron-" + (a ? "up" : "down"),
                                        right: ""
                                    },
                                    on: {
                                        click: function(i) {
                                            return t.ecommerceViewItemFunction(e)
                                        }
                                    }
                                })], 1)])])]
                            }
                        }], null, !0)
                    }), i("v-expansion-panel-content", {
                        staticClass: "z-dense"
                    }, [i("v-card", {
                        staticClass: "pa-1 mb-4 d-flex flex-wrap"
                    }, t._l(t.onePerStaff(e.slots), (function(e) {
                        return i("v-btn", {
                            key: e.key,
                            staticClass: "zoezi-button-thin zoezi-button-fill-space ma-1 px-1 align-self-start",
                            attrs: {
                                outlined: !e.reserved,
                                color: e.reserved && !e.reserving ? "success" : t.isBlocked ? "error" : "primary",
                                height: "36px",
                                width: "150px",
                                left: "",
                                loading: e.reserving,
                                disabled: t.isReserving
                            },
                            on: {
                                click: function(i) {
                                    return t.slotClicked(e)
                                }
                            }
                        }, [i("v-avatar", {
                            attrs: {
                                size: "30"
                            }
                        }, [i("img", {
                            staticClass: "zoezi-staff-image",
                            staticStyle: {
                                width: "30px",
                                height: "30px"
                            },
                            attrs: {
                                src: t.$api.getImageUrl(e.staff.imagekey, 100)
                            }
                        })]), i("div", {
                            staticClass: "ma-1 text-start"
                        }, [i("div", {
                            staticClass: "font-weight-bold",
                            domProps: {
                                textContent: t._s(e.start.hhmm())
                            }
                        }), i("div", {
                            staticClass: "z-small-font",
                            domProps: {
                                textContent: t._s(e.staff.name)
                            }
                        })])], 1)
                    }
                    )), 1)], 1)], 1)
                }
                ))], 2)
            }
            )), 0) : i("v-sheet", {
                staticClass: "zoezi-resourcebooking-no-times pa-4 black--text",
                attrs: {
                    color: "#f5f5f5"
                }
            }, [t.reloading ? i("div", [i("img", {
                staticClass: "v-icon",
                staticStyle: {
                    height: "40px"
                },
                attrs: {
                    src: "/assets/img/loader.svg"
                }
            }), i("span", {
                staticClass: "text-subtitle-1 ml-2"
            }, [t._v(t._s(t.$translate("Fetching available times")))])]) : i("div", [i("v-icon", {
                attrs: {
                    "x-large": "",
                    color: "#4c4c4c"
                }
            }, [t._v("mdi-calendar-remove-outline")]), i("span", {
                staticClass: "text-subtitle-1 ml-2"
            }, [t._v(t._s(t.$translate("There are no available times this week")))])], 1)]), t.showNextButton ? i("div", {
                staticClass: "d-flex justify-end mt-6"
            }, [t.showNextWeek ? i("zoezi-button", {
                staticClass: "mr-2",
                attrs: {
                    text: t.$translate("Next week"),
                    thin: "",
                    large: ""
                },
                on: {
                    click: t.nextWeek
                }
            }) : i("zoezi-button", {
                staticClass: "mr-2",
                attrs: {
                    text: t.$translate("Next available time"),
                    thin: "",
                    large: ""
                },
                on: {
                    click: t.nextAvailable
                }
            })], 1) : t.loadingSlots || 1 != t.filteredServices.length ? t._e() : i("v-sheet", {
                staticClass: "zoezi-resourcebooking-no-times pa-4 black--text",
                attrs: {
                    color: "#f5f5f5"
                }
            }, [i("v-icon", {
                attrs: {
                    "x-large": "",
                    color: "#4c4c4c"
                }
            }, [t._v("mdi-calendar-remove-outline")]), i("span", {
                staticClass: "text-subtitle-1 ml-2"
            }, [t._v(t._s(t.$translate("There are no available times at all in the future")))])], 1), t.showCheckout ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile,
                    persistent: !t.almostdone
                },
                model: {
                    value: t.showCheckout,
                    callback: function(e) {
                        t.showCheckout = e
                    },
                    expression: "showCheckout"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t.almostdone ? t._e() : i("span", [t._v(t._s(t.$translate("Complete booking")))]), t.checkoutLoading ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showCheckout = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll",
                class: {
                    "px-2": !t.almostdone && t.$vuetify.breakpoint.mobile,
                    "px-0": t.almostdone,
                    "pb-0": t.almostdone,
                    primary: t.almostdone
                },
                staticStyle: {
                    "min-height": "50vh"
                }
            }, [i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    useCart: t.useCart,
                    cartName: t.cartName,
                    items: t.checkoutItems,
                    "expand-first-item": "",
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "show-sum": t.showPrice,
                    "force-done": t.almostdone,
                    "content-target": "checkoutcontent",
                    dialog: !0,
                    "new-style-done-dialog": !0
                },
                on: {
                    done: t.reset,
                    almostdone: function(e) {
                        t.almostdone = !0
                    },
                    loading: function(e) {
                        t.checkoutLoading = e
                    },
                    cost: function(e) {
                        t.cost = e
                    },
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    readyToPayExceptPaymentMethod: function(e) {
                        t.readyToPayExceptPaymentMethod = e
                    },
                    changeNumberOfItems: t.changeNumberOfItems,
                    "reservation-timeout": t.reservationTimeout
                },
                scopedSlots: t._u([{
                    key: "done",
                    fn: function(e) {
                        var s = e.context;
                        return [i("v-sheet", {
                            staticClass: "zoezi-resourcebooking-done",
                            attrs: {
                                color: "primary"
                            }
                        }, [i("div", {
                            staticClass: "zoezi-resourcebooking-done-header-row mb-4 d-flex justify-center primarytext--text"
                        }, [i("i", {
                            staticClass: "done-icon",
                            class: {
                                active: t.animateDone
                            },
                            staticStyle: {
                                "font-size": "52px"
                            }
                        })]), i("v-row", {
                            staticClass: "zoezi-resourcebooking-done-resource-row",
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticStyle: {
                                "max-width": "80px"
                            },
                            attrs: {
                                "align-self": "end"
                            }
                        }, [i("v-avatar", {
                            staticClass: "mx-2",
                            attrs: {
                                size: "60"
                            }
                        }, [i("v-auto-img", {
                            staticClass: "zoezi-staff-image",
                            attrs: {
                                src: s.staff.imagekey
                            }
                        })], 1)], 1), i("v-col", {
                            staticStyle: {
                                "max-width": "350px"
                            }
                        }, [i("v-card", {
                            staticClass: "ma-2 pointer-lb"
                        }, [i("v-card-text", {
                            staticClass: "pa-3"
                        }, [i("div", {
                            staticClass: "zoezi-resourcebooking-done-welcome primary--text font-weight-bold"
                        }, [t._v(t._s(t.$translate("Warm welcome!")))]), i("div", {
                            staticClass: "font-weight-bold"
                        }, [t._v(t._s(s.service.name))]), i("div", [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: ""
                            }
                        }, [t._v("mdi-calendar-month-outline")]), t._v(t._s(t.formatTime(s.start, s.period)))], 1), i("div", [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: ""
                            }
                        }, [t._v("mdi-clock-outline")]), t._v(t._s(t.$translate("At {0} o'clock".format(s.start.hhmm()))))], 1), i("div", {
                            staticClass: "my-2"
                        }, [t._v("–" + t._s(s.staff.name))])])], 1)], 1)], 1), i("v-row", {
                            staticClass: "zoezi-resourcebooking-done-location-row mt-2",
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticClass: "ml-auto",
                            staticStyle: {
                                "max-width": "350px"
                            }
                        }, [i("v-card", {
                            staticClass: "ma-2 pointer-rb"
                        }, [i("v-card-text", {
                            staticClass: "pa-3"
                        }, [i("div", [i("div", [t._v(t._s(t.contactinfo.visit_address))]), i("div", [t._v(t._s(t.contactinfo.visit_zipCode) + " " + t._s(t.contactinfo.visit_city))])]), i("v-btn", {
                            staticClass: "mt-2",
                            attrs: {
                                color: "primary",
                                block: ""
                            },
                            on: {
                                click: function(e) {
                                    return t.openGoogle()
                                }
                            }
                        }, [t._v(t._s(t.$translate("Show on Google")) + " "), i("v-icon", {
                            staticClass: "ml-2"
                        }, [t._v("mdi-export")])], 1)], 1)], 1)], 1), i("v-col", {
                            staticStyle: {
                                "max-width": "50px"
                            },
                            attrs: {
                                "align-self": "end"
                            }
                        }, [i("v-icon", {
                            staticClass: "mb-4",
                            attrs: {
                                "x-large": "",
                                color: "primarytext"
                            }
                        }, [t._v("mdi-map-marker-outline")])], 1)], 1), t.numBookings ? i("v-btn", {
                            style: {
                                bottom: t.$vuetify.breakpoint.mobile ? "calc(56px + 16px)" : "16px"
                            },
                            attrs: {
                                color: "primary",
                                fab: "",
                                bottom: "",
                                right: "",
                                fixed: ""
                            },
                            on: {
                                click: t.gotoMyPages
                            }
                        }, [i("v-badge", {
                            key: t.numBookings,
                            staticClass: "animate__animated animate__heartBeat",
                            attrs: {
                                content: t.numBookings,
                                color: "red",
                                value: t.numBookings,
                                left: ""
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: "primarytext"
                            }
                        }, [t._v("mdi-ticket")])], 1)], 1) : t._e()], 1)]
                    }
                }, {
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "questions",
                                fn: function() {
                                    return [i("v-form", {
                                        on: {
                                            submit: function(e) {
                                                e.preventDefault(),
                                                t.questionsDone && t.$refs.stepper.nextClicked()
                                            }
                                        },
                                        model: {
                                            value: t.questionsDone,
                                            callback: function(e) {
                                                t.questionsDone = e
                                            },
                                            expression: "questionsDone"
                                        }
                                    }, [i("v-expansion-panels", {
                                        attrs: {
                                            accordion: "",
                                            flat: ""
                                        },
                                        model: {
                                            value: t.expandedQuestionPanel,
                                            callback: function(e) {
                                                t.expandedQuestionPanel = e
                                            },
                                            expression: "expandedQuestionPanel"
                                        }
                                    }, t._l(t.reservations.filter((function(t) {
                                        return t.questions && Object.keys(t.questions).length
                                    }
                                    )), (function(e, s) {
                                        return i("v-expansion-panel", {
                                            key: s
                                        }, [i("expansion-panel-header", {
                                            attrs: {
                                                icon: "mdi-comment-question-outline",
                                                title: t.$translate("Supplementary questions for {0}").format(t.services.find((function(t) {
                                                    return t.id == e.bookings[0].rbservice_id
                                                }
                                                )).name),
                                                subtitle: t.$translate("Answer the questions to proceed")
                                            }
                                        }), i("v-expansion-panel-content", {
                                            staticClass: "z-dense"
                                        }, t._l(e.questions, (function(e) {
                                            return i("form-field", {
                                                key: e.name,
                                                attrs: {
                                                    field: e,
                                                    star: ""
                                                },
                                                model: {
                                                    value: e.value,
                                                    callback: function(i) {
                                                        t.$set(e, "value", i)
                                                    },
                                                    expression: "q.value"
                                                }
                                            })
                                        }
                                        )), 1)], 1)
                                    }
                                    )), 1)], 1)]
                                },
                                proxy: !0
                            }, {
                                key: "optional_resources",
                                fn: function() {
                                    return [i("OptionalResources", {
                                        staticStyle: {
                                            "max-height": "428px"
                                        },
                                        attrs: {
                                            disabled: t.isReserving,
                                            "resource-name": t.steps[t.currentStep].context.resource_name,
                                            "resource-ids": t.steps[t.currentStep].context.resource_ids,
                                            "start-time": t.steps[t.currentStep].context.start,
                                            "end-time": t.steps[t.currentStep].context.end,
                                            "all-resources": t.steps[t.currentStep].context.service.resources,
                                            "selected-resource-ids": t.steps[t.currentStep].context.selected_resource_ids
                                        },
                                        on: {
                                            select: function(e, i) {
                                                return t.optionalResourceSelected(t.steps[t.currentStep].context.reservation, t.steps[t.currentStep].context.booking, e, i)
                                            }
                                        }
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "extra_person",
                                fn: function() {
                                    return [i("div", {
                                        staticClass: "mb-2 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("You have the opportunity to schedule more at the same time and resource. Do you want to do that?")))]), i("div", [i("v-icon", [t._v("mdi-account-question-outline")]), i("span", {
                                        staticClass: "ml-2"
                                    }, [t._v(t._s(t.$translate("Who to book?")))])], 1), i("div", {
                                        staticClass: "z-rounded-box my-2"
                                    }, [i("div", {
                                        staticClass: "pa-2 d-flex"
                                    }, [i("div", {
                                        staticClass: "ml-2 flex-grow-1"
                                    }, [0 == t.extraPersons.length ? i("span", {
                                        staticClass: "font-weight-bold"
                                    }, [t._v(t._s(t.$store.state.user && t.$store.state.user.name) + " (" + t._s(t.$translate("You")) + ")")]) : i("span", {
                                        staticClass: "font-weight-bold"
                                    }, [t._v(t._s(t.$translate("{0} people including you").format(t.extraPersons.length + 1)))])])]), t._l(t.extraPersons, (function(e, s) {
                                        return i("div", {
                                            key: s,
                                            staticClass: "px-2 py-1 d-flex align-center"
                                        }, [i("v-text-field", {
                                            attrs: {
                                                label: t.$translate("Name"),
                                                dense: "",
                                                rules: [function(e) {
                                                    return !!e || t.$translate("Write the name of the participant")
                                                }
                                                ]
                                            },
                                            model: {
                                                value: e.name,
                                                callback: function(i) {
                                                    t.$set(e, "name", i)
                                                },
                                                expression: "person.name"
                                            }
                                        }), i("v-btn", {
                                            staticClass: "ml-3",
                                            attrs: {
                                                icon: ""
                                            },
                                            on: {
                                                click: function(e) {
                                                    return t.removeExtraPerson(s)
                                                }
                                            }
                                        }, [i("v-icon", {
                                            attrs: {
                                                small: ""
                                            }
                                        }, [t._v("mdi-trash-can-outline")])], 1)], 1)
                                    }
                                    ))], 2), t.checkingAvailability ? i("div", {
                                        staticClass: "d-flex align-center"
                                    }, [i("v-progress-circular", {
                                        attrs: {
                                            indeterminate: "",
                                            size: "24"
                                        }
                                    }), i("span", {
                                        staticClass: "ml-2"
                                    }, [t._v(t._s(t.$translate("Updating...")))])], 1) : t._e(), i("div", [t._v(" " + t._s(1 == t.seatsLeft ? t.$translate("There is currently 1 spot left") : t.$translate("There are currently {0} seats left").format(t.seatsLeft)) + " ")]), i("v-btn", {
                                        staticClass: "zoezi-button-thin",
                                        attrs: {
                                            color: "primary",
                                            outlined: !0,
                                            block: "",
                                            disabled: !t.seatsLeft || t.isReserving || t.checkingAvailability
                                        },
                                        on: {
                                            click: t.addExtraPerson
                                        }
                                    }, [i("v-icon", {
                                        attrs: {
                                            left: "",
                                            color: "primary"
                                        }
                                    }, [t._v("mdi-account-plus")]), t._v(" " + t._s(t.$translate("Add participant")) + " ")], 1)]
                                },
                                proxy: !0
                            }, {
                                key: "products",
                                fn: function() {
                                    return [i("v-expansion-panels", {
                                        attrs: {
                                            accordion: "",
                                            flat: ""
                                        },
                                        model: {
                                            value: t.expandedProductPanel,
                                            callback: function(e) {
                                                t.expandedProductPanel = e
                                            },
                                            expression: "expandedProductPanel"
                                        }
                                    }, t._l(t.reservations.filter((function(e) {
                                        return t.additionalProducts[e.key].length
                                    }
                                    )), (function(e) {
                                        return i("v-expansion-panel", {
                                            key: e.key,
                                            staticClass: "mt-2"
                                        }, [i("expansion-panel-header", {
                                            attrs: {
                                                icon: "mdi-tag-plus-outline",
                                                title: t.$translate("Buy more for {0}").format(t.services.find((function(t) {
                                                    return t.id == e.bookings[0].rbservice_id
                                                }
                                                )).name),
                                                subtitle: t.$translate("Buy the products you need")
                                            }
                                        }), i("v-expansion-panel-content", {
                                            staticClass: "z-dense"
                                        }, [i("additional-product-list", {
                                            attrs: {
                                                products: t.additionalProducts[e.key],
                                                basket: e.basket,
                                                "total-basket": t.productsInBasket,
                                                "show-added-banner": !1
                                            }
                                        })], 1)], 1)
                                    }
                                    )), 1)]
                                },
                                proxy: !0
                            }, {
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }], null, !1, 2337872478),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 2882582729)
            })], 1), t.almostdone ? t._e() : i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    fixed: t.$vuetify.breakpoint.mobile,
                    show: !t.almostdone,
                    disabled: t.checkoutLoading
                },
                on: {
                    cancel: function(e) {
                        t.showCheckout = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e(), t.showBookTimesSheet && !t.showCheckout ? i("div", {
                staticStyle: {
                    background: "white",
                    position: "fixed",
                    "z-index": "250"
                },
                style: {
                    left: t.$vuetify.breakpoint.mobile ? 0 : "calc(50vw - 350px)",
                    width: t.$vuetify.breakpoint.mobile ? "100vw" : "700px",
                    bottom: t.$vuetify.breakpoint.mobile ? "56px" : "0"
                }
            }, [i("v-sheet", {
                staticClass: "d-flex pa-2 elevation-8",
                attrs: {
                    color: "white"
                }
            }, [i("v-row", {
                attrs: {
                    dense: ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    outlined: "",
                    color: "primary",
                    "x-large": "",
                    block: ""
                },
                on: {
                    click: function(e) {
                        return t.unreserveAll(!1)
                    }
                }
            }, [t._v(t._s(t.$translate("Cancel")))])], 1), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("zoezi-button", {
                key: t.numberOfBookings,
                staticClass: "mx-1 animate__animated animate__tada",
                attrs: {
                    text: 1 == t.numberOfBookings ? t.$translate("Book selected time") : t.$translate("Book {0} selected times").format(t.numberOfBookings),
                    thin: "",
                    "x-large": "",
                    block: ""
                },
                on: {
                    click: function(e) {
                        t.showCheckout = !0
                    }
                }
            })], 1)], 1)], 1)], 1) : t._e()], 1) : t.$root.edit ? i("v-card", {
                attrs: {
                    color: "zoezi-edit-color",
                    dark: "",
                    height: "100"
                }
            }, [i("v-card-title", [t._v(t._s(t.$translate("Select services for resource booking")))])], 1) : t._e()
        }
          , Ce = []
          , xe = (i("13d5"),
        i("7cb4"))
          , $e = i("1123")
          , Se = i("9f1f")
          , De = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t._l(t.products, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "d-flex mt-4 z-no-focus",
                    attrs: {
                        height: "65px"
                    },
                    on: {
                        click: function(i) {
                            return t.showAdditionalProduct(e)
                        }
                    }
                }, [i("v-auto-img", {
                    staticStyle: {
                        "border-bottom-left-radius": "inherit",
                        "border-top-right-radius": "0"
                    },
                    attrs: {
                        src: e.imagekey,
                        width: "100px",
                        height: "65px",
                        "max-width": "100px",
                        "max-height": "65px"
                    }
                }, [t.countForProduct(e) > 0 && t.showAddedBanner ? i("svg", {
                    attrs: {
                        height: "55px",
                        width: "55px"
                    }
                }, [i("polygon", {
                    style: {
                        fill: t.$root.colorToHex("primary")
                    },
                    attrs: {
                        points: "0,0 55,0 0,55"
                    }
                }), i("text", {
                    staticStyle: {
                        "font-size": "12px"
                    },
                    attrs: {
                        x: "-23",
                        y: "35",
                        width: "40",
                        height: "20",
                        transform: "rotate(-45)",
                        fill: t.$root.colorToHex("primarytext")
                    }
                }, [t._v(t._s(t.$translate("Added").toUpperCase()))])]) : t._e()]), i("div", {
                    staticClass: "flex-grow-1 px-2 z-min-width-0"
                }, [i("div", [i("b", [t._v(t._s(e.name))])]), i("div", {
                    staticStyle: {
                        height: "43px",
                        overflow: "hidden"
                    },
                    domProps: {
                        innerHTML: t._s(t.stripHtml(e.description))
                    }
                })]), i("div", {
                    staticClass: "d-flex px-2 flex-column"
                }, [i("div", {
                    staticClass: "primary--text font-weight-bold text-no-wrap align-self-center"
                }, [t._v(t._s(t.getPrice(e)))]), i("div", {
                    staticClass: "align-self-end"
                }, [i("zoezi-button", {
                    attrs: {
                        thin: "",
                        text: t.$translate(t.buyButtonText)
                    },
                    on: {
                        click: function(i) {
                            return i.stopPropagation(),
                            t.buyButtonClick(e)
                        }
                    }
                })], 1)])], 1)
            }
            )), t.showingProduct ? i("product-dialog", {
                attrs: {
                    product: t.showingProduct,
                    "show-count": !1,
                    "show-buy-button": !0,
                    basket: t.totalBasket
                },
                on: {
                    buy: function(e) {
                        return t.buy(e, t.showingProduct)
                    }
                },
                model: {
                    value: t.showProductDialog,
                    callback: function(e) {
                        t.showProductDialog = e
                    },
                    expression: "showProductDialog"
                }
            }) : t._e()], 2)
        }
          , ze = []
          , Te = i("8f18")
          , Ie = {
            name: "zoezi-additional-product-list",
            props: {
                products: {},
                basket: {},
                totalBasket: {},
                showAddedBanner: {
                    type: Boolean
                },
                buyEvent: {
                    type: Boolean
                },
                buyButtonText: {
                    type: String,
                    default: "Buy"
                }
            },
            components: {
                ProductDialog: Te["a"],
                ZoeziButton: B["a"]
            },
            data: ()=>({
                showProductDialog: !1,
                showingProduct: null
            }),
            methods: {
                showAdditionalProduct(t) {
                    this.showingProduct = t,
                    this.showProductDialog = !0
                },
                countForProduct(t) {
                    let e = 0;
                    return this.basket && this.basket[t.id].forEach(t=>e += t.count),
                    e
                },
                stripHtml: o["H"],
                buyButtonClick(t) {
                    this.buyEvent ? this.$emit("buy", t) : t.variants ? this.showAdditionalProduct(t) : this.buy({
                        count: 1,
                        variant: null
                    }, t)
                },
                buy(t, e) {
                    let i = t.count
                      , s = t.variant
                      , a = this.basket[e.id]
                      , o = a.find(t=>t.variant == s)
                      , n = null == t.variant ? e.stock : e.variants.find(e=>e.name == t.variant).stock;
                    if (null != n && this.totalBasket) {
                        let t = this.totalBasket.find(t=>t.product_id == e.id && s == t.variant);
                        t && t.count && (n -= t.count),
                        n = Math.max(0, n)
                    }
                    if (null != n && i > n) {
                        let t = n > 0 ? this.$translate("There is only {0} of this product in stock").format(n) : this.$translate("There are no products left in stock");
                        this.$store.commit("showSnackBar", {
                            text: t
                        })
                    } else
                        o ? o.count += i : a.push({
                            count: i,
                            variant: s
                        })
                },
                getPrice(t) {
                    let e = Object(o["i"])(t.price);
                    return t.priceType && "OneTime" != t.priceType ? (e += " per " + this.$translate(t.priceType).toLowerCase(),
                    e) : e
                }
            }
        }
          , Pe = Ie
          , Ve = Object(p["a"])(Pe, De, ze, !1, null, null, null)
          , Be = Ve.exports;
        g()(Ve, {
            VCard: x["a"]
        });
        var Fe = i("a933")
          , Ee = i("c1ee")
          , Oe = i("ac27")
          , Me = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "flex-container"
            }, [i("div", {
                staticClass: "header"
            }, [i("div", [t._v(t._s(t.$translate("Choose optional resource")) + " " + t._s(t.$translate("for")) + " " + t._s(t.resourceName) + ", " + t._s(t.startTimeHhmm) + " - " + t._s(t.endTimeHhmm))]), t.loading ? i("v-progress-circular", {
                attrs: {
                    color: "primary",
                    indeterminate: "",
                    size: "32"
                }
            }) : t._e(), !t.loading && t.resources.length >= 5 ? i("v-text-field", {
                attrs: {
                    "append-icon": "mdi-magnify",
                    label: t.$translate("Search..."),
                    "single-line": "",
                    "hide-details": ""
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            }) : t._e()], 1), i("div", {
                staticClass: "overflow-y-auto content"
            }, t._l(t.filteredResources, (function(e) {
                return i("div", {
                    key: e.id
                }, [i("v-checkbox", {
                    staticClass: "align-center",
                    attrs: {
                        label: e.name,
                        disabled: t.disabled || e.disabled,
                        dense: "",
                        "hide-details": ""
                    },
                    on: {
                        change: function() {
                            return t.$emit("select", e.id, e.selected)
                        }
                    },
                    scopedSlots: t._u([{
                        key: "label",
                        fn: function() {
                            return [i("v-avatar", {
                                staticClass: "mr-2"
                            }, [i("v-auto-img", {
                                attrs: {
                                    src: e.imagekey
                                }
                            })], 1), t._v(" " + t._s(e.name) + " ")]
                        },
                        proxy: !0
                    }], null, !0),
                    model: {
                        value: e.selected,
                        callback: function(i) {
                            t.$set(e, "selected", i)
                        },
                        expression: "resource.selected"
                    }
                })], 1)
            }
            )), 0)])
        }
          , Ae = []
          , Re = {
            name: "zoezi-optional-resources",
            zoezi: {
                title: "Optional resources",
                icon: "mdi-cog-outline"
            },
            props: {
                resourceName: {
                    type: String,
                    required: !0
                },
                resourceIds: {
                    type: Array,
                    required: !0
                },
                startTime: {
                    type: String,
                    required: !0
                },
                endTime: {
                    type: String,
                    required: !0
                },
                allResources: {
                    type: Array,
                    required: !0
                },
                selectedResourceIds: {
                    type: Array,
                    required: !0
                },
                disabled: {
                    type: Boolean,
                    default: !1
                }
            },
            watch: {
                resourceIds(t, e) {
                    Object(a["isEqual"])(t, e) || this.getResources()
                },
                resourceName() {
                    this.getResources()
                },
                startTime() {
                    this.getResources()
                },
                endTime() {
                    this.getResources()
                }
            },
            computed: {
                filteredResources() {
                    var t;
                    let e = null === (t = this.search) || void 0 === t ? void 0 : t.toLowerCase();
                    return this.resources.filter(t=>!e || t.name.toLowerCase().includes(e)).sort((t,e)=>t.name.localeCompare(e.name))
                },
                startTimeHhmm() {
                    return Date.newFull(this.startTime).hhmm()
                },
                endTimeHhmm() {
                    return Date.newFull(this.endTime).hhmm()
                }
            },
            data: ()=>({
                resources: [],
                search: "",
                loading: !1
            }),
            methods: {
                getResources() {
                    this.resources = [],
                    this.loading = !0,
                    this.$api.post("/api/resourcebooking/resource/get_available_by_room", {
                        bookings: [{
                            start: this.startTime,
                            end: this.endTime
                        }],
                        original_list: this.resourceIds
                    }).then(t=>{
                        t.json().then(t=>{
                            this.resources = this.resourceIds.map(e=>{
                                let i = this.allResources.find(t=>t.id == e)
                                  , s = t.includes(e)
                                  , a = this.selectedResourceIds.includes(e);
                                return {
                                    id: e,
                                    name: i.lastname,
                                    imagekey: i.imagekey,
                                    disabled: !s && !a,
                                    selected: a
                                }
                            }
                            ),
                            this.loading = !1
                        }
                        )
                    }
                    )
                }
            },
            mounted() {
                this.getResources()
            }
        }
          , Le = Re
          , je = (i("7071"),
        Object(p["a"])(Le, Me, Ae, !1, null, "040c1d40", null))
          , Ne = je.exports;
        g()(je, {
            VAvatar: f["a"],
            VCheckbox: b["a"],
            VProgressCircular: Q["a"],
            VTextField: z["a"]
        });
        var We = {
            name: "zoezi-resourcebooking",
            zoezi: {
                title: "Resource booking",
                icon: "mdi-book",
                addon: "ResourceBooking"
            },
            components: {
                Checkout: xe["a"],
                DatePicker: L,
                ZoeziButton: B["a"],
                BottomDialog: $e["a"],
                Stepper: Se["a"],
                AdditionalProductList: Be,
                ExpansionPanelHeader: Fe["a"],
                FormField: Ee["a"],
                StepperContent: Oe["a"],
                FilterButton: I,
                FilterButtonRow: k,
                OptionalResources: Ne
            },
            props: {
                categoryId: {
                    title: "Category",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getResourceBookingCategories(),
                        selectFirst: !0
                    }
                },
                serviceIds: {
                    title: "Services",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        filter: (t,e)=>(!e.categoryId || t.category_id == e.categoryId) && t.show && t.active,
                        getItems: ()=>window.$zoeziapi.get("/api/resourcebooking/service/get/all"),
                        selectFirst: !0
                    }
                },
                showFilterRow: {
                    title: "Show filter row",
                    type: Boolean,
                    default: !0
                },
                defaultDayPeriods: {
                    title: "Time of the day",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "title",
                        value: "id",
                        nosort: !0,
                        getItems() {
                            return new Promise(t=>t(o["a"]))
                        }
                    },
                    default: ()=>[]
                },
                defaultServices: {
                    title: "Preselected services",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        filter: (t,e)=>(!e.categoryId || t.category_id == e.categoryId) && t.show,
                        getItems: ()=>window.$zoeziapi.get("/api/resourcebooking/service/get/all")
                    },
                    default: ()=>[]
                },
                filterSites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0
                    },
                    default: ()=>[]
                },
                showSiteFilter: {
                    title: "Show site filter",
                    type: Boolean,
                    default: !0
                },
                siteId: {
                    title: "Site",
                    type: Number,
                    default: 1
                },
                useCart: {
                    title: "Use shopping cart",
                    type: Boolean,
                    default: !0
                },
                cartName: {
                    title: "Namn på varukorg",
                    type: String,
                    default: ""
                }
            },
            data: ()=>({
                currentStep: 0,
                almostdone: !1,
                selectedDate: Date.today(),
                loadingSlots: !0,
                firstFreeDate: null,
                showNextButton: !1,
                showNextWeek: !1,
                category: null,
                services: [],
                dayPeriods: o["a"],
                selectedDayPeriods: [],
                selectedServices: null,
                selectedStaffs: null,
                slots: [],
                selectedDateAndService: null,
                showCheckout: !1,
                selectedSlot: null,
                showServiceDescription: !1,
                reservations: [],
                showDatePicker: !1,
                products: [],
                expandedQuestionPanel: 0,
                expandedProductPanel: 0,
                checkoutLoading: !1,
                cost: null,
                showBookTimesSheet: !1,
                readyToPay: !1,
                readyToPayExceptPaymentMethod: !1,
                questionsDone: !1,
                unsubscribe: null,
                animateDone: !1,
                reloading: !1,
                requestIndex: 1,
                throttling: null,
                extraPersons: [],
                seatsLeft: null,
                checkingAvailability: !1,
                selectedSlotHasCapacity: null,
                bookingId: Object(o["p"])(8)
            }),
            watch: {
                siteId() {
                    this.unreserveAll()
                },
                categoryId: {
                    immediate: !0,
                    handler() {
                        this.$booking.getResourceBookingCategories().then(t=>{
                            this.category = t.find(t=>this.categoryId == t.id)
                        }
                        )
                    }
                },
                serviceIds: {
                    immediate: !0,
                    handler() {
                        this.$api.get("/api/public/resourcebooking/service/get", {
                            category: this.categoryId
                        }).then(t=>{
                            this.services = this.serviceIds ? this.serviceIds.map(e=>t.find(t=>t.id == e)).filter(t=>t) : [],
                            this.setServices(this.defaultServices)
                        }
                        )
                    }
                },
                defaultDayPeriods: {
                    immediate: !0,
                    handler() {
                        this.selectedDayPeriods = this.defaultDayPeriods.concat()
                    }
                },
                defaultServices: {
                    immediate: !0,
                    handler() {
                        this.setServices(this.defaultServices)
                    }
                },
                showCheckout() {
                    this.showCheckout || this.reset()
                },
                selectedDate() {
                    this.$vuetify.goTo(this.$refs.top),
                    this.getFreeSlots()
                },
                selectedServices() {
                    this.getFreeSlots()
                },
                filteredStaffs() {
                    this.getFreeSlots()
                },
                filterSites() {
                    this.unreserveAll(),
                    this.getFreeSlots()
                },
                reservations() {
                    this.reservations && this.reservations.length ? (window.addEventListener("beforeunload", this.unreserveAll),
                    this.category && !this.category.multiBooking ? (this.currentStep = 0,
                    this.showCheckout = !0) : this.category && this.category.multiBooking && (this.showBookTimesSheet = !0)) : (window.removeEventListener("beforeunload", this.unreserveAll),
                    this.showBookTimesSheet = !1),
                    this.reservations.forEach(t=>{
                        let e = this.services.find(e=>e.id == t.bookings[0].rbservice_id);
                        if (!t.questions) {
                            let i = {};
                            e.extendedInfo.forEach(t=>{
                                t = Object.assign({}, t, {
                                    value: "",
                                    title: t.name
                                }),
                                i[t.name] = t
                            }
                            ),
                            this.$set(t, "questions", i)
                        }
                        if (t.basket || this.$set(t, "basket", {}),
                        e.additional_products) {
                            e.additional_products.forEach(e=>this.$set(t.basket, e, []));
                            let i = String(e.additional_products.filter(t=>!this.products.find(e=>e.id == t)));
                            i && this.$api.get("/api/public/trainingcard/type/get", {
                                ids: i
                            }).then(t=>{
                                t.forEach(t=>{
                                    this.products.find(e=>e.id == t.id) || this.products.push(t)
                                }
                                )
                            }
                            )
                        }
                    }
                    )
                },
                almostdone(t) {
                    t ? setTimeout(()=>this.animateDone = !0, 500) : this.animateDone = !1
                }
            },
            computed: {
                DAY_PERIODS() {
                    return o["a"]
                },
                sortedServices() {
                    return this.services.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                staffs() {
                    let t = [];
                    return this.services.forEach(e=>{
                        e.staffs.forEach(e=>{
                            e.name = Object(o["n"])(e),
                            t.find(t=>t.id == e.id) || t.push({
                                id: e.id,
                                name: e.name,
                                imagekey: e.imagekey,
                                sites: e.sites
                            })
                        }
                        )
                    }
                    ),
                    t
                },
                staffsForSite() {
                    return this.filterSites && 0 != this.filterSites.length ? this.staffs.filter(t=>Object(a["intersection"])(t.sites, this.filterSites).length > 0) : this.staffs
                },
                filteredStaffs() {
                    return this.staffsForSite.filter(t=>!this.selectedStaffs || 0 == this.selectedStaffs.length || !!this.selectedStaffs.find(e=>e == t.id))
                },
                sortedStaffs() {
                    return this.staffsForSite.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                filteredServices() {
                    return this.services.filter(t=>!this.selectedServices || 0 == this.selectedServices.length || this.selectedServices.find(e=>e == t.id))
                },
                reservationSlots() {
                    let t = [];
                    return this.reservations.forEach(e=>{
                        e.bookings.forEach(e=>{
                            let i = Date.newFull(e.start).getHours()
                              , s = {
                                start: Date.newFull(e.start),
                                end: Date.newFull(e.end),
                                service: this.services.find(t=>t.id == e.rbservice_id),
                                staffs: [e.staff_id],
                                key: e.rbservice_id + "_" + e.start,
                                period: o["a"].find(t=>i >= t.start && i < t.end),
                                reserved: !0,
                                reserving: e.reserving
                            };
                            t.push(s)
                        }
                        )
                    }
                    ),
                    t
                },
                slotsAndReservations() {
                    return this.slots.concat(this.reservationSlots)
                },
                periodFilteredSlots() {
                    return this.slotsAndReservations.filter(t=>!(t.start.getTime() < this.selectedDate.getTime()) && (0 == this.selectedDayPeriods.length || !!this.selectedDayPeriods.find(e=>e == t.period.id)))
                },
                isCurrentWeek() {
                    let t = this.$store.state.now30s.getDateIntervalForWeek();
                    return this.selectedDate.withinRange(t[0], t[1])
                },
                nextWeekNumber() {
                    return this.selectedDate.clone().addDays(7).monday().getWeekNumber()
                },
                wholeWeekSlots() {
                    let t = this.selectedDate.getDateIntervalForWeek()
                      , e = this.periodFilteredSlots.filter(e=>e.start.withinRange(t[0], t[1]))
                      , i = [];
                    return e.forEach(t=>{
                        let e = i.find(e=>e.date == t.start.yyyymmdd());
                        e || (e = {
                            date: t.start.yyyymmdd(),
                            services: {}
                        },
                        i.push(e)),
                        e.services[t.service.id] || (e.services[t.service.id] = {
                            service: t.service,
                            slots: [],
                            numSlots: 0
                        }),
                        e.services[t.service.id].slots.push(t),
                        e.services[t.service.id].numSlots += t.staffs.length
                    }
                    ),
                    i = i.sort((t,e)=>Date.newFull(t.date) - Date.newFull(e.date)),
                    i
                },
                checkoutItems() {
                    if (0 == this.reservations.length)
                        return [];
                    let t = this.reservations.map((t,e)=>({
                        count: 1 + this.extraPersons.length,
                        rbservice_id: t.bookings[0].rbservice_id,
                        service: this.services.find(e=>e.id == t.bookings[0].rbservice_id),
                        reservation: t.key,
                        slots: t.bookings.map(t=>({
                            start: t.start,
                            end: t.end,
                            staff_id: t.staff_id,
                            rbservice_id: t.rbservice_id,
                            site_id: t.site_id,
                            optional_resources: t.optional_resources,
                            count: t.count
                        })),
                        extra_person: this.extraPersons,
                        context: {
                            service: this.services.find(e=>e.id == t.bookings[0].rbservice_id),
                            start: Date.newFull(t.bookings[0].start),
                            staff: this.staffs.find(e=>e.id == t.bookings[0].staff_id),
                            period: this.getPeriod(t.bookings[0].start)
                        },
                        extended_info: Object.fromEntries(Object.values(t.questions).map(t=>[t.name, t.value])),
                        tmp_id: this.bookingId + "-" + (e + 1),
                        site_id: t.bookings[0].site_id
                    }));
                    return this.reservations.forEach((e,i)=>{
                        this.additionalProducts[e.key].forEach(s=>{
                            let a = e.basket[s.id];
                            a.forEach(e=>{
                                e.count && t.push({
                                    count: e.count,
                                    rbooking_id: this.bookingId + "-" + (i + 1),
                                    price: s.price,
                                    product_id: s.id,
                                    variant: e.variant
                                })
                            }
                            )
                        }
                        )
                    }
                    ),
                    t
                },
                selectedSlotChunk() {
                    if (this.selectedDateAndService) {
                        let t = this.selectedDateAndService.date
                          , e = this.selectedDateAndService.service
                          , i = this.wholeWeekSlots
                          , s = this.selectedDateAndService.period
                          , a = i.find(e=>e.date == t && e.period == s);
                        if (a) {
                            let i = Object.values(a.services).find(t=>t.service.id == e.id);
                            if (i)
                                return {
                                    date: t,
                                    period: a.period,
                                    service: e,
                                    slots: i.slots
                                }
                        }
                        return null
                    }
                    return null
                },
                numBookings() {
                    let t = this.$store.getters.comingBookings;
                    if (!t)
                        return 0;
                    let e = 0;
                    return t.workouts && (e += t.workouts.length),
                    t.resourcebookings && (e += t.resourcebookings.length),
                    t.coursebookings && (e += t.coursebookings.length),
                    e
                },
                steps() {
                    if (0 == this.reservations.length)
                        return null;
                    let t = this.reservations.find(t=>this.services.find(e=>e.id == t.bookings[0].rbservice_id).extendedInfo.length)
                      , e = this.reservations.find(t=>{
                        var e;
                        return null === (e = this.services.find(e=>e.id == t.bookings[0].rbservice_id).additional_products) || void 0 === e ? void 0 : e.length
                    }
                    )
                      , i = [];
                    this.reservations.forEach(t=>{
                        var e, s, a;
                        let o = this.services.find(e=>e.id == t.bookings[0].rbservice_id);
                        null === (e = o.resources) || void 0 === e || !e.length || null !== (s = this.$store.state.settings) && void 0 !== s && null !== (a = s.modules) && void 0 !== a && a.WebShop || (i = i.concat(t.bookings.map(e=>({
                            title: this.staffs.find(t=>t.id == e.staff_id).name,
                            id: "optional_resources",
                            context: {
                                resource_name: this.staffs.find(t=>t.id == e.staff_id).name,
                                start: e.start,
                                end: e.end,
                                rbservice_id: e.rbservice_id,
                                service: o,
                                resource_ids: o.resources.map(t=>t.id),
                                booking: e,
                                reservation: t,
                                selected_resource_ids: e.optional_resources
                            },
                            complete: !0
                        }))))
                    }
                    );
                    const s = this.$translate("Pay");
                    let a = this.cost > 0 ? `${s} ${Object(o["i"])(this.cost)}` : this.$translate("Confirm booking")
                      , n = this.cost > 0 ? s : this.$translate("Confirm booking")
                      , r = this.selectedSlotHasCapacity
                      , l = this.extraPersons.every(t=>t.name)
                      , c = !this.readyToPayExceptPaymentMethod
                      , d = this.useCart && {
                        label: this.$translate("Add to cart and continue shopping"),
                        clicked: this.addToCart,
                        disabled: c
                    };
                    return i.concat([r && {
                        title: this.$translate("Book more"),
                        id: "extra_person",
                        complete: l
                    }, t && {
                        title: this.$translate("Questions"),
                        id: "questions",
                        complete: this.questionsDone
                    }, e && {
                        title: this.$translate("Optional"),
                        id: "products",
                        complete: !0
                    }, {
                        title: n,
                        id: "checkout",
                        nextTitle: a,
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: this.readyToPay,
                        extraButton: d
                    }, {
                        title: this.$translate("Done"),
                        id: "done"
                    }]).filter(t=>t)
                },
                additionalProducts() {
                    let t = {};
                    return this.reservations.forEach(e=>{
                        let i = this.services.find(t=>t.id == e.bookings[0].rbservice_id);
                        t[e.key] = (i.additional_products || []).map(t=>this.products.find(e=>e.id == t)).filter(t=>t)
                    }
                    ),
                    t
                },
                numberOfBookings() {
                    return this.reservations.reduce((t,e)=>t + e.bookings.length, 0)
                },
                isReserving() {
                    return !!this.reservations.find(t=>!!t.bookings.find(t=>t.reserving))
                },
                productsInBasket() {
                    return Object(o["B"])(this.reservations)
                },
                contactinfo() {
                    var t, e;
                    if (!this.$store.state.settings)
                        return {};
                    if ((null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.sites) || void 0 === e ? void 0 : e.length) > 1) {
                        let t = this.$store.state.settings.sites.find(t=>t.id == this.siteId);
                        return {
                            visit_address: null === t || void 0 === t ? void 0 : t.address,
                            visit_zipCode: null === t || void 0 === t ? void 0 : t.zipCode,
                            visit_city: null === t || void 0 === t ? void 0 : t.city
                        }
                    }
                    return this.$store.state.settings.contactinfo
                },
                sites() {
                    let t = this.$store.state.settings && this.$store.state.settings.sites;
                    return null === t || void 0 === t ? void 0 : t.filter(t=>this.services.find(e=>e.sites.includes(t.id))).sort((t,e)=>t.name.localeCompare(e.name))
                },
                isBlocked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.isBlocked("block_resourcebooking")
                },
                showPrice() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.Payment)
                }
            },
            methods: {
                openGoogle() {
                    let t = encodeURI(this.contactinfo.visit_address + ", " + this.contactinfo.visit_city);
                    window.open("https://www.google.se/maps/place/" + t)
                },
                setServices(t) {
                    this.selectedServices = t.concat()
                },
                getPeriod(t) {
                    let e = Date.newFull(t).getHours();
                    return o["a"].find(t=>e >= t.start && e < t.end)
                },
                getFreeSlots() {
                    this.reloading = !0,
                    this.throttling && clearTimeout(this.throttling),
                    this.throttling = setTimeout(()=>{
                        this.throttling = null,
                        this.getFreeSlotsPerform()
                    }
                    , 400)
                },
                getFreeSlotsPerform() {
                    this.loadingSlots = !0,
                    this.showNextButton = !1,
                    this.showNextWeek = !1;
                    let t = this.selectedDate.yyyymmdd()
                      , e = this.selectedDate.monday().addDays(7).yyyymmdd()
                      , i = this.filteredStaffs.map(t=>t.id).join(",")
                      , s = this.filteredServices.map(t=>t.id).join(",");
                    if (!s)
                        return void (this.reloading = !1);
                    let a = [];
                    this.filteredServices.forEach(t=>{
                        t.sites.forEach(t=>{
                            this.filterSites && this.filterSites.length && !this.filterSites.includes(t) || a.includes(t) || a.push(t)
                        }
                        )
                    }
                    );
                    let o = ++this.requestIndex
                      , n = a.map(a=>this.$api.get("/api/public/resourcebooking/get", {
                        service: s,
                        start: t,
                        end: e,
                        staffs: i,
                        site: a
                    }));
                    if (Promise.all(n).then(t=>{
                        if (o != this.requestIndex)
                            return;
                        let e = [];
                        t.forEach((t,i)=>{
                            t.forEach(t=>{
                                let s = {
                                    start: Date.newFull(t.start),
                                    end: Date.newFull(t.end),
                                    staffs: t.staffs,
                                    xstaffs: t.xstaffs,
                                    service: this.filteredServices.find(e=>e.id == t.service_id),
                                    key: t.service_id + "_" + t.start,
                                    period: this.getPeriod(t.start),
                                    site_id: a[i]
                                };
                                e.push(s)
                            }
                            )
                        }
                        ),
                        e = e.sort((t,e)=>t.start - e.start),
                        this.slots = e
                    }
                    ).finally(()=>{
                        o == this.requestIndex && (this.reloading = !1)
                    }
                    ),
                    this.filteredServices.length > 1)
                        return this.loadingSlots = !1,
                        this.showNextWeek = !0,
                        void (this.showNextButton = !0);
                    this.$api.get("/api/public/resourcebooking/get/firstfree", {
                        service: s,
                        start: e,
                        staffs: i
                    }).then(t=>{
                        const e = t.start;
                        this.firstFreeDate = Date.newFull(e),
                        0 === t.length ? this.showNextButton = !1 : this.firstFreeDate < this.selectedDate.clone().addDays(14) ? (this.showNextWeek = !0,
                        this.showNextButton = !0) : (this.showNextWeek = !1,
                        this.showNextButton = !0),
                        this.loadingSlots = !1
                    }
                    ).catch(()=>{
                        this.showNextButton = !1,
                        this.loadingSlots = !1
                    }
                    )
                },
                formatTimePeriodPart(t, e, i) {
                    t = Date.newFull(t);
                    let s = "";
                    return t.isToday() ? s = i || "morning" != e.id ? !i && e ? "I " + e.short : this.$translate("Today") : this.$translate("Today") + ", " + e.short : Date.dateEquals(t, Date.tomorrow()) && (s = e && !i ? this.$translate("Tomorrow") + " " + e.short : this.$translate("Tomorrow")),
                    s && (s += ", "),
                    s
                },
                formatTimeDatePart(t, e) {
                    t = Date.newFull(t);
                    let i = this.$translate(t.getWeekDayString());
                    e || (i = i.substring(0, 3));
                    let s = t=>"sv" == this.$store.state.language ? t.toLowerCase() : t;
                    return `${s(i)} ${t.getDate()} ${s(this.$translate(e ? t.getMonthName() : t.getMonthNameShort()))}`
                },
                formatTime(t, e, i) {
                    let s = this.formatTimePeriodPart(t, e, i);
                    return `${s}${this.formatTimeDatePart(t)}`
                },
                formatTimeLonger(t) {
                    let e = this.formatTimePeriodPart(t, null, !0);
                    return `${e}${this.formatTimeDatePart(t, !0)}`.capitalize()
                },
                onePerStaff(t) {
                    let e = []
                      , i = t.filter(t=>t.reserved);
                    return t.forEach(t=>{
                        t.staffs.forEach(s=>{
                            if (!t.reserved && i.length && i.find(e=>e.start.dateTime() == t.start.dateTime() && e.staffs[0] == s && e.service.id == t.service.id))
                                return;
                            if (this.filteredStaffs && this.filteredStaffs.length && !this.filteredStaffs.find(t=>t.id == s))
                                return;
                            let a = this.staffs.find(t=>t.id == s);
                            e.push({
                                start: t.start,
                                end: t.end,
                                service: t.service,
                                period: t.period,
                                key: t.key + s + t.reserved,
                                staff: a,
                                xstaffs: t.xstaffs,
                                orginalSlot: t,
                                reserved: t.reserved,
                                reserving: t.reserving
                            })
                        }
                        )
                    }
                    ),
                    e = e.sort((t,e)=>t.start.dateTime() == e.start.dateTime() ? t.staff.name.localeCompare(e.staff.name) : t.start - e.start),
                    e
                },
                reserve(t) {
                    let e = {
                        start: t.start.dateTime(),
                        end: t.end.dateTime(),
                        rbservice_id: t.service.id,
                        staff_id: t.staff.id,
                        reserving: !0,
                        site_id: t.orginalSlot.site_id,
                        optional_resources: [],
                        count: 1
                    };
                    t.xstaffs.length && (e.xstaff_id = t.xstaffs[Math.floor(Math.random() * t.xstaffs.length)]);
                    let i = this.reservations.find(i=>i.bookings.find(i=>i.rbservice_id == t.service.id && i.site_id == e.site_id));
                    i || (i = {
                        bookings: [],
                        key: null,
                        replace: !0,
                        basket: {}
                    },
                    this.reservations.push(i)),
                    i.bookings.push(e),
                    this.$api.post("/api/resource/reservation/add_resourcebooking", i).then(t=>{
                        t.ok ? t.json().then(t=>{
                            i.key = t.key,
                            e.reserving = !1;
                            try {
                                let t = {
                                    id: "r" + e.rbservice_id,
                                    count: e.count
                                }
                                  , i = this.services.find(t=>t.id == e.rbservice_id);
                                i && (t.name = i.name,
                                t.price = i.price,
                                t.vat = i.vat,
                                this.$ecommercetracking.addToCart(t))
                            } catch (s) {
                                q["a"](s)
                            }
                        }
                        ) : this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error during reservation"),
                            text: this.$translate("Something went wrong when the booking was to be reserved")
                        })
                    }
                    )
                },
                unreserve(t) {
                    let e = t=>{
                        let e = this.$watch("slots", ()=>{
                            t(),
                            e(),
                            e = null
                        }
                        );
                        setTimeout(()=>{
                            e ? e() : t()
                        }
                        , 3e3)
                    }
                      , i = this.reservations.find(e=>e.bookings.find(e=>e.rbservice_id == t.service.id));
                    if (i) {
                        let s = i.bookings.find(e=>e.start == t.start.dateTime() && e.staff_id == t.staff.id);
                        s && (s.reserving = !0,
                        1 == i.bookings.length ? this.$api.post("/api/resource/reservation/cancel", {
                            key: i.key
                        }).then(()=>{
                            e(()=>{
                                let t = this.reservations.indexOf(i);
                                -1 != t && this.reservations.splice(t, 1)
                            }
                            )
                        }
                        ) : this.$api.post("/api/resource/reservation/add_resourcebooking", {
                            ...i,
                            bookings: i.bookings.filter(t=>t != s)
                        }).then(t=>{
                            t.ok ? t.json().then(t=>{
                                e(()=>{
                                    this.$delete(i.bookings, i.bookings.indexOf(s)),
                                    i.key = t.key
                                }
                                )
                            }
                            ) : this.$store.commit("showErrorDialog", {
                                title: this.$translate("Error during reservation"),
                                text: this.$translate("Something went wrong when the booking was to be reserved")
                            })
                        }
                        ))
                    }
                },
                updateReservation(t) {
                    t.bookings.forEach(t=>t.reserving = !0),
                    this.$api.post("/api/resource/reservation/add_resourcebooking", t).then(e=>{
                        e.ok ? e.json().then(()=>{
                            t.bookings.forEach(t=>t.reserving = !1)
                        }
                        ) : this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error during reservation"),
                            text: this.$translate("Something went wrong when the booking was to be reserved")
                        })
                    }
                    )
                },
                unreserveAll(t) {
                    let e = this.reservations.map(t=>t.key);
                    e.length && this.$api.post("/api/resource/reservation/cancel", {
                        key: e
                    }).then(()=>{
                        let i = ()=>{
                            e.forEach(t=>{
                                let e = this.reservations.findIndex(e=>e.key == t);
                                -1 != e && this.reservations.splice(e, 1)
                            }
                            )
                        }
                        ;
                        if (t) {
                            let t = this.$watch("slots", i);
                            setTimeout(()=>{
                                t ? t() : i()
                            }
                            , 3e3)
                        } else
                            i()
                    }
                    )
                },
                async bookWithoutWebShop() {
                    this.checkoutLoading = !0;
                    for (let e of this.reservations) {
                        let i = e.bookings.map(t=>({
                            start: t.start,
                            end: t.end,
                            staff: t.staff_id,
                            service: t.rbservice_id,
                            extendedInfo: Object.fromEntries(Object.values(e.questions).map(t=>[t.name, t.value]))
                        }))
                          , s = e.bookings.map(t=>({
                            room_id: t.staff_id,
                            resources: t.optional_resources
                        }));
                        try {
                            let t = await this.$api.post("/api/memberapi/resourcebooking/add", {
                                bookings: i,
                                _extra_info: {
                                    reservation: [e.key],
                                    extra_person: this.extraPersons,
                                    _additional_products: null
                                },
                                optional_resource: s
                            });
                            if (!t.ok)
                                throw new Error(this.$translate("Booking error"))
                        } catch (t) {
                            return this.$store.commit("showErrorDialog", {
                                title: this.$translate("Booking error"),
                                text: t.message
                            }),
                            void (this.checkoutLoading = !1)
                        }
                    }
                    this.reset(),
                    this.$store.commit("showCheckoutDoneDialog", {
                        thankYouText: this.$translate("Booking completed")
                    }),
                    this.checkoutLoading = !1
                },
                pay() {
                    var t, e;
                    null !== (t = this.$store.state.settings) && void 0 !== t && null !== (e = t.modules) && void 0 !== e && e.WebShop ? this.$refs.checkout.completePurchase() : this.bookWithoutWebShop()
                },
                reset() {
                    this.selectedDateAndService = null,
                    this.selectedSlot = null,
                    this.unreserveAll(!1),
                    this.showCheckout = !1,
                    this.basket = {},
                    this.almostdone = !1,
                    this.currentStep = 0,
                    this.extraPersons = [],
                    this.selectedSlotHasCapacity = null,
                    this.bookingId = Object(o["p"])(8)
                },
                getPosX(t) {
                    return null === t || void 0 === t ? void 0 : t.$el.getBoundingClientRect().left
                },
                getPosBottomY(t) {
                    let e = null === t || void 0 === t ? void 0 : t.$el.getBoundingClientRect();
                    return e ? e.top + e.height : null
                },
                dateChanged() {
                    this.showDatePicker = !1
                },
                prevWeek() {
                    this.selectedDate = new Date(Math.max(this.selectedDate.clone().addDays(-7).monday(), Date.today()))
                },
                nextWeek() {
                    this.selectedDate = this.selectedDate.clone().addDays(7).monday()
                },
                nextAvailable() {
                    this.firstFreeDate && (this.selectedDate = this.firstFreeDate.clone())
                },
                zeropad(t) {
                    return t < 10 ? "0" + t : t
                },
                goto(t) {
                    this.$route.path != t && this.$router.push({
                        path: t
                    })
                },
                gotoMyPages() {
                    let t = this.$root.getDefaultPage("mypages");
                    this.$route.path != t && this.goto(t)
                },
                changeTime() {
                    this.checkoutLoading || (this.$refs.stepper.setStep(this.$refs.stepper.currentStep, this.steps.findIndex(t=>"time" == t.id)),
                    this.unreserve())
                },
                slotClicked(t) {
                    t.reserving || this.isBlocked || (t.reserved ? this.unreserve(t) : this.reserve(t))
                },
                changeNumberOfItems(t, e) {
                    if (t.rbooking_id) {
                        let i = Number(t.rbooking_id.split("-")[1]) - 1
                          , s = this.reservations[i]
                          , a = s.basket[t.product_id]
                          , o = null === a || void 0 === a ? void 0 : a.find(e=>e.variant === t.variant);
                        o && (o.count = e)
                    }
                },
                setItem(t, e, i) {
                    let s = t.indexOf(e);
                    i && -1 == s ? t.push(e) : i || -1 == s || t.splice(s, 1)
                },
                optionalResourceSelected(t, e, i, s) {
                    let a = e.optional_resources.indexOf(i);
                    s ? -1 == a && e.optional_resources.push(i) : -1 != a && e.optional_resources.splice(a, 1),
                    this.updateReservation(t)
                },
                addExtraPerson() {
                    this.extraPersons.push({
                        name: this.$translate("Participant {0}").format(this.extraPersons.length + 2)
                    }),
                    this.reservations.forEach(t=>{
                        t.count = this.extraPersons.length + 1,
                        this.updateReservation(t)
                    }
                    )
                },
                removeExtraPerson(t) {
                    this.extraPersons.splice(t, 1),
                    this.reservations.forEach(t=>{
                        t.count = this.extraPersons.length + 1,
                        this.updateReservation(t)
                    }
                    )
                },
                checkAvailabilityForReservedSlots() {
                    let t = this.reservations.map(t=>t.bookings.map(t=>{
                        let e = this.services.find(e=>e.id == t.rbservice_id)
                          , i = e.xstaffs.map(t=>t.id);
                        return i.push(t.staff_id),
                        {
                            resource_ids: i,
                            start: t.start,
                            end: t.end,
                            rbservice_id: t.rbservice_id,
                            staff_id: t.staff_id
                        }
                    }
                    )).flat();
                    0 != t.length ? (this.checkingAvailability = !0,
                    this.$api.post("/api/resource/availability/slots/get", {
                        bookings: t,
                        mode: "full"
                    }).then(t=>{
                        t.json().then(t=>{
                            let e = Object.values(t.availability)
                              , i = e.reduce((t,e)=>Math.min(t, e));
                            if (this.seatsLeft = i,
                            null === this.selectedSlotHasCapacity) {
                                let e = Object.values(t.capacity)
                                  , i = e.reduce((t,e)=>Math.min(t, e));
                                this.selectedSlotHasCapacity = i > 1
                            }
                            this.checkingAvailability = !1
                        }
                        )
                    }
                    )) : this.seatsLeft = null
                },
                addToCart() {
                    const t = ["count", "rbservice_id", "reservation", "slots", "extra_person", "extended_info", "tmp_id", "site_id", "rbooking_id", "product_id", "variant", "price", "service"]
                      , e = this.cartName;
                    this.checkoutItems.forEach(e=>{
                        let i = {};
                        t.forEach(t=>{
                            void 0 !== e[t] && (i[t] = e[t])
                        }
                        ),
                        this.$store.dispatch("addToCart", i)
                    }
                    ),
                    this.$store.dispatch("setCartVisibility", {
                        cartName: e,
                        showBottomBar: !0,
                        showCheckout: !1
                    }),
                    this.reservations = [],
                    this.showCheckout = !1
                },
                reservationTimeout() {
                    this.showCheckout = !1
                },
                ecommerceViewItemFunction(t) {
                    try {
                        let e = {
                            id: "r" + t.service.id,
                            name: t.service.name,
                            price: t.service.price,
                            vat: t.service.vat
                        };
                        this.$ecommercetracking.viewItem(e)
                    } catch (e) {
                        q["a"](e)
                    }
                }
            },
            created() {
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "resourceallocation",
                    callback: ()=>{
                        this.getFreeSlots(),
                        this.checkAvailabilityForReservedSlots()
                    }
                })
            },
            destroyed() {
                this.unreserveAll(),
                this.unsubscribe && this.unsubscribe()
            }
        }
          , qe = We
          , He = (i("cca9"),
        i("0798"))
          , Ue = i("4ca6")
          , Ye = i("4bd4")
          , Ge = Object(p["a"])(qe, we, Ce, !1, null, null, null)
          , Ke = Ge.exports;
        g()(Ge, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBadge: Ue["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSheet: ue["a"],
            VTextField: z["a"]
        });
        var Qe = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.category ? i("div", {
                staticClass: "zoezi-resource-booking-category"
            }, [i("div", {
                staticClass: "title primary--text text-center my-4"
            }, [t._v(t._s(t.$translate("Book")) + " " + t._s(t.category.name))]), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }, [t.$vuetify.breakpoint.mobile ? i("div", {
                staticClass: "primary card-title",
                style: t.background
            }, [i("div", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.category.name))])]) : t._e()])], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("v-sheet", {
                staticClass: "primarytext--text pa-8 fill-height",
                attrs: {
                    color: "#f4f4f4"
                }
            }, [t.$vuetify.breakpoint.mobile ? t._e() : i("div", {
                staticClass: "title primary--text"
            }, [t._v(t._s(t.category.name))]), i("div", {
                staticClass: "black--text",
                domProps: {
                    innerHTML: t._s(t.category.description)
                }
            })])], 1)], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("h2", {
                staticClass: "title primary--text px-3"
            }, [t._v(t._s(t.$translate("We offer")))]), i("v-expansion-panels", {
                attrs: {
                    accordion: ""
                },
                model: {
                    value: t.currentOpenServiceDescription,
                    callback: function(e) {
                        t.currentOpenServiceDescription = e
                    },
                    expression: "currentOpenServiceDescription"
                }
            }, t._l(t.servicesOnFilteredSites, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id
                }, [i("v-expansion-panel-header", {
                    staticClass: "px-6 d-flex"
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("div", {
                    staticClass: "flex-grow-1 align-self-center"
                }, [t._v(t._s(e.name))]), i("div", [i("v-icon", {
                    staticClass: "mr-1",
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-clock-outline")]), t._v(t._s(e.duration) + " " + t._s(t.$translate("MINUTES_SHORT")))], 1)])]), i("v-expansion-panel-content", {
                    staticClass: "px-3 z-dense"
                }, [i("div", {
                    staticClass: "my-2",
                    domProps: {
                        innerHTML: t._s(e.description)
                    }
                }), i("v-row", [t.showPrice ? i("v-col", {
                    attrs: {
                        cols: "6"
                    }
                }, [i("v-icon", {
                    staticClass: "mr-1",
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-tag-outline")]), t._v(t._s(t._f("price")(e.price)) + " ")], 1) : t._e(), i("v-col", {
                    attrs: {
                        cols: t.showPrice ? 6 : 12
                    }
                }, [i("v-icon", {
                    staticClass: "mr-1",
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-clock-outline")]), t._v(t._s(e.duration) + " " + t._s(t.$translate("MINUTES_SHORT")) + " ")], 1), t._l(e.staffs, (function(e) {
                    return i("v-col", {
                        key: e.id,
                        attrs: {
                            cols: "6"
                        }
                    }, [i("v-avatar", {
                        staticClass: "mr-1",
                        attrs: {
                            size: "30"
                        }
                    }, [i("img", {
                        staticClass: "zoezi-staff-image",
                        staticStyle: {
                            width: "30px",
                            height: "30px"
                        },
                        attrs: {
                            src: e.imagekey ? t.$api.getImageUrl(e.imagekey, 100) : t.$api.getAssetUrl("/assets/img/profile_avatar_man.jpg")
                        }
                    })]), i("a", {
                        staticClass: "primary--text z-no-underline",
                        attrs: {
                            href: ""
                        },
                        on: {
                            click: function(i) {
                                return i.preventDefault(),
                                t.doShowStaffInfoDialog(e)
                            }
                        }
                    }, [t._v(t._s(t.getName(e)))])], 1)
                }
                ))], 2)], 1)], 1)
            }
            )), 1), 0 != t.servicesOnFilteredSites.length || t.loadingServices ? t._e() : i("h3", {
                staticClass: "px-3"
            }, [t._v(" " + t._s(t.$translate("No services are offered at the moment")) + " ")])], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: {
                        component: "zoezi-resourcebooking",
                        props: {
                            categoryId: t.categoryId,
                            serviceIds: t.serviceIds,
                            filterSites: t.filterOnSites,
                            showSiteFilter: !t.filterOnSites,
                            defaultServices: t.defaultServices,
                            siteId: t.siteId
                        }
                    }
                }
            })], 1)], 1), i("staff-info-dialog", {
                attrs: {
                    staff: t.showStaff
                },
                model: {
                    value: t.showStaffInfoDialog,
                    callback: function(e) {
                        t.showStaffInfoDialog = e
                    },
                    expression: "showStaffInfoDialog"
                }
            })], 1) : t.$root.edit ? i("v-card", {
                attrs: {
                    color: "zoezi-edit-color",
                    dark: "",
                    height: "100"
                }
            }, [i("v-card-title", [t._v(t._s(t.$translate("Choose category for resource booking")))])], 1) : t._e()
        }
          , Je = []
          , Xe = i("0817")
          , Ze = {
            name: "zoezi-resource-booking-category",
            zoezi: {
                title: "Resource booking category",
                icon: "mdi-book",
                addon: "ResourceBooking"
            },
            props: {
                categoryId: {
                    title: "Category",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getResourceBookingCategories(),
                        selectFirst: !0
                    }
                },
                globalSiteSetting: {
                    title: "Filter by globally selected site",
                    type: Boolean,
                    default: !0
                },
                sites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all sites",
                        visible: "!globalSiteSetting"
                    },
                    default: ()=>[]
                }
            },
            components: {
                StaffInfoDialog: Xe["a"],
                ResourceBooking: Ke
            },
            watch: {
                categoryId: {
                    immediate: !0,
                    handler(t) {
                        this.loadingServices = !0,
                        this.$api.get("/api/public/resourcebooking/service/get", {
                            category: t
                        }).then(t=>{
                            this.services = t,
                            this.loadingServices = !1
                        }
                        )
                    }
                },
                servicesOnFilteredSites() {
                    if (this.servicesOnFilteredSites && 1 == this.servicesOnFilteredSites.length)
                        this.currentOpenServiceDescription = 0;
                    else {
                        if (this.currentOpenService) {
                            let t = this.servicesOnFilteredSites.findIndex(t=>t.id == this.currentOpenService.id);
                            if (-1 != t)
                                return void (this.currentOpenServiceDescription = t)
                        }
                        this.currentOpenServiceDescription = null
                    }
                },
                currentOpenServiceDescription() {
                    this.currentOpenService = null != this.currentOpenServiceDescription ? this.services[this.currentOpenServiceDescription] : null
                }
            },
            data: ()=>({
                services: [],
                currentOpenServiceDescription: null,
                currentOpenService: null,
                loadingServices: !1,
                showStaffInfoDialog: !1,
                showStaff: null
            }),
            computed: {
                category() {
                    var t, e, i;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e || null === (i = e.resourcebookingcategories) || void 0 === i ? void 0 : i.find(t=>t.id == this.categoryId)
                },
                filterOnSites() {
                    return this.globalSiteSetting ? [this.$store.state.selectedSiteId || 1] : this.sites && 0 != this.sites.length ? this.sites : null
                },
                servicesOnFilteredSites() {
                    return this.services.filter(t=>!this.filterOnSites || Object(a["intersection"])(this.filterOnSites, t.sites).length > 0)
                },
                serviceIds() {
                    return this.servicesOnFilteredSites.map(t=>t.id)
                },
                defaultServices() {
                    return null != this.currentOpenServiceDescription ? [this.servicesOnFilteredSites[this.currentOpenServiceDescription].id] : []
                },
                image() {
                    return this.category.imagekey
                },
                background() {
                    return {
                        "background-color": this.$root.colorToHex("primary") + "b4 !important"
                    }
                },
                siteId() {
                    return this.globalSiteSetting ? this.$store.state.selectedSiteId || 1 : null
                },
                showPrice() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.Payment)
                }
            },
            methods: {
                getName: o["n"],
                doShowStaffInfoDialog(t) {
                    this.showStaffInfoDialog = !0,
                    this.showStaff = t
                }
            }
        }
          , ti = Ze
          , ei = (i("1516"),
        Object(p["a"])(ti, Qe, Je, !1, null, null, null))
          , ii = ei.exports;
        g()(ei, {
            VAvatar: f["a"],
            VCard: x["a"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSheet: ue["a"]
        });
        var si = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.oneCategory ? i("resource-booking-category", {
                attrs: {
                    categoryId: t.oneCategory.id
                }
            }) : i("div", [i("div", {
                staticClass: "title primary--text text-center my-4"
            }, [t._v(t._s(t.$translate("Book appointment")))]), i("resource-booking-category-list", {
                attrs: {
                    link: t.categoryPage
                }
            })], 1)
        }
          , ai = []
          , oi = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("card-layout", {
                attrs: {
                    items: t.categories
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.item
                          , a = e.layout;
                        return [i("resource-booking-category-card", {
                            attrs: {
                                category: s,
                                "title-right": "wide" == a
                            },
                            on: {
                                click: function(e) {
                                    return t.gotoList(s)
                                }
                            }
                        })]
                    }
                }])
            })
        }
          , ni = []
          , ri = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "ma-2 zoezi-list-card resource-category overflow-hidden",
                class: {
                    "full-width": t.titleRight
                },
                attrs: {
                    elevation: "4"
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [t.titleRight ? i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-auto-img", {
                staticClass: "card-image-blur",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }), i("v-auto-img", {
                staticClass: "z-half inherit-border-left",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }), i("div", {
                staticClass: "z-half inherit-border-right pa-4 fill-height"
            }, [i("div", {
                staticClass: "primary--text",
                staticStyle: {
                    "margin-top": "-1em"
                }
            }, [i("div", {
                staticClass: "card-title",
                class: {
                    "text-center text-large": !t.category.description
                }
            }, [t._v(t._s(t.category.name))]), i("div", {
                staticClass: "description black--text",
                domProps: {
                    innerHTML: t._s(t.category.description)
                }
            })])])], 1) : i("v-auto-img", {
                staticClass: "card-image",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }, [i("div", {
                staticClass: "primary card-title",
                style: t.background
            }, [i("div", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.category.name))])])])], 1)
        }
          , li = []
          , ci = {
            name: "zoezi-resource-booking-category-card",
            zoezi: {
                title: "Resource booking category",
                icon: "mdi-format-list-text"
            },
            props: {
                category: {
                    type: Object
                },
                titleRight: {
                    type: Boolean
                }
            },
            computed: {
                image() {
                    return this.category.imagekey
                },
                background() {
                    return {
                        "background-color": this.$root.colorToHex("primary") + "b4 !important"
                    }
                }
            }
        }
          , di = ci
          , ui = Object(p["a"])(di, ri, li, !1, null, null, null)
          , hi = ui.exports;
        g()(ui, {
            VCard: x["a"]
        });
        var mi = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", t._l(t.rows, (function(e, s) {
                return i("v-row", {
                    key: s
                }, t._l(e, (function(s, a) {
                    return i("v-col", {
                        key: a,
                        attrs: {
                            cols: 12 / e.length
                        }
                    }, [s ? t._t("default", null, {
                        item: s.item,
                        layout: s.layout
                    }) : t._e()], 2)
                }
                )), 1)
            }
            )), 1)
        }
          , pi = []
          , vi = {
            name: "zoezi-card-layout",
            props: {
                items: {
                    type: Array
                }
            },
            computed: {
                rows() {
                    let t = this.items
                      , e = this.$vuetify.breakpoint.mobile;
                    if (e)
                        return t.map(t=>[{
                            item: t
                        }]);
                    if (1 == t.length)
                        return [[{
                            item: t[0],
                            layout: "wide"
                        }]];
                    if (2 == t.length)
                        return [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }]];
                    if (3 == t.length)
                        return [[{
                            item: t[0],
                            layout: "wide"
                        }], [{
                            item: t[1]
                        }, {
                            item: t[2]
                        }]];
                    if (4 == t.length)
                        return [[{
                            item: t[0],
                            layout: "wide"
                        }], [{
                            item: t[1]
                        }, {
                            item: t[2]
                        }, {
                            item: t[3]
                        }]];
                    if (5 == t.length)
                        return [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }], [{
                            item: t[2]
                        }, {
                            item: t[3]
                        }, {
                            item: t[4]
                        }]];
                    if (6 == t.length)
                        return [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }], [{
                            item: t[2]
                        }, {
                            item: t[3]
                        }, {
                            item: t[4]
                        }, {
                            item: t[5]
                        }]];
                    if (7 == t.length)
                        return [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }, {
                            item: t[2]
                        }], [{
                            item: t[3]
                        }, {
                            item: t[4]
                        }, {
                            item: t[5]
                        }, {
                            item: t[6]
                        }]];
                    if (8 == t.length)
                        return [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }], [{
                            item: t[2]
                        }, {
                            item: t[3]
                        }, {
                            item: t[4]
                        }], [{
                            item: t[5]
                        }, {
                            item: t[6]
                        }, {
                            item: t[7]
                        }]];
                    if (t.length >= 9) {
                        let e = [[{
                            item: t[0]
                        }, {
                            item: t[1]
                        }]]
                          , i = Object(a["chunk"])(t.slice(2), 4);
                        return i.forEach(t=>{
                            t.forEach((e,i)=>{
                                t[i] = {
                                    item: e
                                }
                            }
                            )
                        }
                        ),
                        i[i.length - 1].length = 4,
                        e = e.concat(i),
                        e
                    }
                    return []
                }
            }
        }
          , gi = vi
          , fi = Object(p["a"])(gi, mi, pi, !1, null, null, null)
          , bi = fi.exports;
        g()(fi, {
            VCol: M["a"],
            VRow: A["a"]
        });
        var yi = {
            name: "zoezi-resource-booking-category-list",
            zoezi: {
                title: "Service category list",
                icon: "mdi-format-list-text"
            },
            props: {
                onlyShowCategories: {
                    title: "Categories",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getResourceBookingCategories(),
                        placeholder: "List all categories"
                    },
                    default: ()=>[]
                },
                onlyShowSites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all sites"
                    },
                    default: ()=>[]
                },
                sort: {
                    title: "Sort by default on",
                    type: String,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return [{
                                id: "admin",
                                name: "Administration's sorting"
                            }, {
                                id: "name",
                                name: "Category name"
                            }, {
                                id: "created",
                                name: "Newly added"
                            }].map(t=>({
                                ...t,
                                name: window.$translate(t.name)
                            }))
                        },
                        text: "name",
                        value: "id",
                        multiple: !1
                    },
                    default: ()=>"admin"
                },
                showSortFilter: {
                    title: "Show sorting filter for client",
                    type: Boolean,
                    default: !0
                },
                link: {
                    title: "Page showing service category",
                    type: String,
                    fulltype: "page"
                }
            },
            components: {
                ResourceBookingCategoryCard: hi,
                CardLayout: bi
            },
            data: ()=>({
                unsubscribe: null
            }),
            computed: {
                sortFn() {
                    return "name" == this.sort ? (t,e)=>t.name.localeCompare(e.name) : "created" == this.sort ? (t,e)=>Date.newFull(e.created) - Date.newFull(t.created) : null
                },
                categories() {
                    var t;
                    let e = null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.resourcebookingcategories;
                    if (!e)
                        return [];
                    let i = e.filter(t=>!this.onlyShowCategories || 0 == this.onlyShowCategories.length || this.onlyShowCategories.includes(t.id));
                    return this.sortFn && i.sort(this.sortFn),
                    i
                }
            },
            watch: {},
            methods: {
                gotoList(t) {
                    this.$root.followLink(this.link, t.id)
                }
            },
            mounted() {
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "resourcebookingcategory",
                    callback: ()=>this.$api.reloadSettings()
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , _i = yi
          , ki = Object(p["a"])(_i, oi, ni, !1, null, null, null)
          , wi = ki.exports
          , Ci = {
            name: "zoezi-resource-booking-start-page",
            zoezi: {
                title: "Resource booking start page",
                icon: "mdi-format-list-text",
                addon: "ResourceBooking"
            },
            components: {
                ResourceBookingCategory: ii,
                ResourceBookingCategoryList: wi
            },
            props: {
                categoryPage: {
                    title: "Page with category",
                    type: String,
                    fulltype: "page"
                }
            },
            data: ()=>({}),
            computed: {
                categories() {
                    var t, e;
                    return null !== (t = this.$store.state.settings) && void 0 !== t && t.resourcebookingcategories ? null === (e = this.$store.state.settings) || void 0 === e ? void 0 : e.resourcebookingcategories : []
                },
                oneCategory() {
                    return 1 == this.categories.length ? this.categories[0] : null
                }
            }
        }
          , xi = Ci
          , $i = Object(p["a"])(xi, si, ai, !1, null, null, null)
          , Si = $i.exports
          , Di = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("h1", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        prop: "countTo",
                        html: !1,
                        multiline: !1,
                        number: !0
                    },
                    expression: "{prop: 'countTo', html: false, multiline: false, number: true}"
                }]
            }, [t._v(t._s(t.value))])
        }
          , zi = []
          , Ti = {
            name: "zoezi-countup",
            zoezi: {
                title: "Counter",
                icon: "mdi-counter"
            },
            data: ()=>({
                value: 0,
                mountedAt: null
            }),
            props: {
                countTo: {
                    title: "Value",
                    type: Number,
                    default: 100
                },
                delay: {
                    title: "Time (ms)",
                    type: Number,
                    default: 3e3
                }
            },
            methods: {
                next() {
                    let t = new Date
                      , e = t.getTime() - this.mountedAt
                      , i = Number(this.countTo) / Number(this.delay);
                    this.value = Math.round(Math.min(this.countTo, Math.max(e * i, this.value))),
                    e < this.delay && setTimeout(this.next, 10)
                }
            },
            mounted() {
                this.mountedAt = new Date,
                this.next()
            }
        }
          , Ii = Ti
          , Pi = Object(p["a"])(Ii, Di, zi, !1, null, null, null)
          , Vi = Pi.exports
          , Bi = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-expansion-panels", {
                model: {
                    value: t.expandedPanel,
                    callback: function(e) {
                        t.expandedPanel = e
                    },
                    expression: "expandedPanel"
                }
            }, [i("v-expansion-panel", {
                staticClass: "no-elevation"
            }, [i("v-expansion-panel-header", [i("div", {
                staticClass: "zoezi-activity-section"
            }, [i("h3", [t._v(t._s(t.$translate("Receipts")))]), i("small", [t._v(t._s(t.$translate("Everything you've bought is listed here")))])]), i("v-badge", {
                attrs: {
                    color: "grey",
                    content: String(t.receipts.length)
                }
            })], 1), i("v-expansion-panel-content", [0 == t.receipts.length ? i("div", [t._v(" " + t._s(t.$translate("No receipts yet")) + " ")]) : t._e(), t._l(t.receipts, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "zoezi-card-default zoezi-card-horizontal"
                }, [i("div", {
                    staticClass: "z-card-image",
                    style: {
                        "background-image": "url(" + t.$api.getAssetUrl("/assets/img/cash.png") + ")"
                    }
                }, [i("div", {
                    staticClass: "z-card-image-time",
                    staticStyle: {
                        "background-color": "rgba(192,160,0,0.7)"
                    }
                }, [t._v(t._s(t._f("price")(e.amount)))]), i("div", {
                    staticClass: "z-card-image-small",
                    staticStyle: {
                        "background-color": "rgba(192,160,0,0.7)"
                    }
                }, [t._v(t._s(Date.formatFullShorter(e.date)))])]), i("div", {
                    staticClass: "z-card-content"
                }, [i("strong", [t._v(t._s(e.name))]), i("br"), i("div", [t._v(t._s(t.$translate(e.date.getWeekDayString())) + " " + t._s(e.date.getDate()) + " " + t._s(t.$translate(e.date.getMonthName())) + " " + t._s(e.date.getFullYear()))]), i("div", [t._v(t._s(t._f("price")(e.amount)))])]), i("div", {
                    staticClass: "z-card-action pt-2 px-2"
                }, [i("v-btn", {
                    staticClass: "primary my-2 zoezi-button-thin",
                    attrs: {
                        block: ""
                    },
                    on: {
                        click: function(i) {
                            return t.getPdf(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Receipt")))])], 1)])
            }
            ))], 2)], 1)], 1)], 1)
        }
          , Fi = []
          , Ei = {
            name: "zoezi-receiptlist",
            zoezi: {
                title: "Receipt list",
                icon: "mdi-receipt"
            },
            data: ()=>({
                receipts: [],
                unsubscribe: null,
                expandedPanel: 0
            }),
            props: {},
            methods: {
                fetchReceipts() {
                    this.$api.get("/api/memberapi/payments/get").then(t=>{
                        this.receipts = t.map(t=>({
                            ...t,
                            date: Date.newFull(t.date)
                        })).sort((t,e)=>e.date - t.date)
                    }
                    )
                },
                getPdf(t) {
                    Object(o["t"])() && window.ReactNativeWebView ? window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "openReceipt",
                        data: t
                    })) : this.$api.get("/api/memberapi/receipt/get", {
                        id: t.id
                    }, {
                        blob: !0
                    }).then(e=>{
                        Object(o["g"])({
                            filename: t.name + ".pdf",
                            blob: e,
                            type: "application/pdf"
                        })
                    }
                    )
                }
            },
            mounted() {
                this.fetchReceipts(),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "payment",
                    callback: ()=>this.fetchReceipts()
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , Oi = Ei
          , Mi = Object(p["a"])(Oi, Bi, Fi, !1, null, null, null)
          , Ai = Mi.exports;
        g()(Mi, {
            VBadge: Ue["a"],
            VBtn: O["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"]
        });
        var Ri = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.productsLoaded ? i("div", [t.hasMultiSites && t.showSiteFilter && !t.globalSiteSetting ? i("v-row", {
                on: {
                    click: function(e) {
                        t.sitesMenuOpen = !0
                    }
                }
            }, [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-sheet", {
                staticClass: "primarytext--text multisite-selection pa-2",
                attrs: {
                    color: "primary",
                    rounded: ""
                }
            }, [i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-map-marker-star-outline")]), i("span", [t._v("Visar utbud hos")])], 1), t.onlyShowOneSite ? i("div", [t._v(" " + t._s(t.$translate(t.$store.state.settings.sites.find((function(e) {
                return e.id == t.selectedSiteId
            }
            )).name)) + " ")]) : i("v-menu", {
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("div", t._g({
                            staticClass: "z-clickable"
                        }, s), [t._v(t._s(t.$translate(t.$store.state.settings.sites.find((function(e) {
                            return e.id == t.selectedSiteId
                        }
                        )).name)) + " "), i("v-icon", {
                            attrs: {
                                color: "primarytext"
                            }
                        }, [t._v("mdi-chevron-down")])], 1)]
                    }
                }], null, !1, 2043301867),
                model: {
                    value: t.sitesMenuOpen,
                    callback: function(e) {
                        t.sitesMenuOpen = e
                    },
                    expression: "sitesMenuOpen"
                }
            }, [i("v-list", t._l(t.selectableSites, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    staticClass: "z-clickable",
                    on: {
                        click: function(i) {
                            return t.setSite(e)
                        }
                    }
                }, [t._v(t._s(t.$translate(e.name)))])
            }
            )), 1)], 1)], 1)])], 1)], 1) : t._e(), t.$store.state.settings ? i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, t._l(t.categoryLevels, (function(e, s) {
                return i("webshop-categories-level", {
                    key: t.categoryLevelKey(e),
                    attrs: {
                        levelHasVisibleParent: s > 0,
                        categories: e
                    },
                    on: {
                        selected: function(e) {
                            return t.categorySelected(e)
                        }
                    }
                })
            }
            )), 1)], 1) : t._e(), i("v-row", [i("v-col", {
                staticClass: "text--secondary",
                attrs: {
                    cols: "12"
                }
            }, [t._v(" " + t._s(t.selectedText) + " - " + t._s(t.filteredProducts.length) + " " + t._s(t.$translate("pcs")) + " ")])], 1), i("v-row", t._l(t.filteredProducts, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        sm: "6",
                        md: "4",
                        lg: "3"
                    }
                }, [i("v-hover", {
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(s) {
                            var a = s.hover;
                            return [i("v-card", {
                                class: ["d-flex", "fill-height", "flex-column", a ? "elevation-16" : "elevation-2"],
                                staticStyle: {
                                    cursor: "pointer",
                                    height: "fit-content"
                                },
                                attrs: {
                                    ripple: !1
                                },
                                on: {
                                    click: function(i) {
                                        return t.productClick(e)
                                    }
                                }
                            }, [t.cropImages ? i("v-auto-img", {
                                attrs: {
                                    src: e.imagekey ? e.imagekey : void 0,
                                    position: "center center",
                                    ar: 1.5
                                }
                            }, [e.sites && e.sites.length > 1 ? i("v-avatar", {
                                staticClass: "ma-2",
                                staticStyle: {
                                    float: "right"
                                },
                                attrs: {
                                    color: "rgba(0,0,0,0.5)",
                                    size: "30"
                                }
                            }, [i("v-icon", {
                                attrs: {
                                    color: "white"
                                }
                            }, [t._v("mdi-map-marker-star-outline")])], 1) : t._e()], 1) : i("v-auto-img", {
                                staticClass: "blur-img py-2 align-center",
                                attrs: {
                                    src: e.imagekey ? e.imagekey : void 0,
                                    position: "center center",
                                    ar: 1.5,
                                    height: "50%"
                                }
                            }, [i("v-auto-img", {
                                attrs: {
                                    contain: "",
                                    src: e.imagekey ? e.imagekey : void 0,
                                    position: "center center",
                                    ar: 1.5
                                }
                            }, [e.sites && e.sites.length > 1 ? i("v-avatar", {
                                staticClass: "ma-2",
                                staticStyle: {
                                    float: "right"
                                },
                                attrs: {
                                    color: "rgba(0,0,0,0.5)",
                                    size: "30"
                                }
                            }, [i("v-icon", {
                                attrs: {
                                    color: "white"
                                }
                            }, [t._v("mdi-map-marker-star-outline")])], 1) : t._e()], 1)], 1), i("div", {
                                staticClass: "grow"
                            }, [i("v-card-title", {
                                staticClass: "card-limit-title"
                            }, [t._v(t._s(e.name))]), i("div", {
                                staticClass: "pt-0 d-flex px-2"
                            }, [i("div", {
                                staticClass: "flex-grow-1"
                            }, [e.trainingsessions ? [i("v-icon", {
                                attrs: {
                                    small: "",
                                    color: "primary"
                                }
                            }, [t._v("mdi-ticket")]), t._v(" " + t._s(e.trainingsessions) + " " + t._s(t.$translate("Punch tickets").toLowerCase()))] : e.validTime ? [e.membership ? [i("v-icon", {
                                attrs: {
                                    small: "",
                                    color: "primary"
                                }
                            }, [t._v(t._s(e.auto ? "mdi-update" : "mdi-calendar-clock"))]), e.validFromDate ? [[t._v(t._s(t.isMembershipFrom0101(e) ? t.$translate("for").capitalize() + " " + (new Date).getFullYear() : " " + t.$translate("To") + " " + t.calculateAndFormatEndDate(e.validFromDate)))]] : [t._v(" " + t._s(e.validTime) + " " + t._s(t.$translate(e.validType + (1 === e.validTime ? "" : "s")).toLowerCase()) + " ")]] : [i("v-icon", {
                                attrs: {
                                    small: "",
                                    color: "primary"
                                }
                            }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(e.validTime) + " " + t._s(t.$translate(e.validType + (1 === e.validTime ? "" : "s")).toLowerCase()) + " ")]] : t.needsToChooseVariant(e) ? [t._v(" " + t._s(e.variants.length) + " " + t._s(t.$translate("variants")) + " ")] : t._e()], 2), e.payWhatYouWant ? t._e() : i("div", [i("span", {
                                staticClass: "primary--text product-price"
                            }, [t._v(t._s(t._f("price")(e.price)))]), e.priceType && "OneTime" != e.priceType ? i("span", [t._v(" /" + t._s(t.$translate(e.priceType).toLowerCase()) + " ")]) : t._e()])])], 1), i("v-card-actions", [i("v-btn", {
                                staticClass: "zoezi-button-thin",
                                attrs: {
                                    block: "",
                                    color: "primary"
                                },
                                on: {
                                    click: function(i) {
                                        return i.stopPropagation(),
                                        t.buyClick(e)
                                    }
                                }
                            }, [t._v(t._s(t.$translate("Buy")))])], 1)], 1)]
                        }
                    }], null, !0)
                })], 1)
            }
            )), 1), t.showingProduct ? i("training-card-product-dialog", {
                attrs: {
                    product: t.showingProduct,
                    basket: t.checkoutItems,
                    "site-id": t.selectedSiteId,
                    cropImage: t.cropImages
                },
                on: {
                    buy: t.buyFromDialog
                },
                model: {
                    value: t.showingProduct,
                    callback: function(e) {
                        t.showingProduct = e
                    },
                    expression: "showingProduct"
                }
            }) : t._e(), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.switchSiteDialog.show,
                    callback: function(e) {
                        t.$set(t.switchSiteDialog, "show", e)
                    },
                    expression: "switchSiteDialog.show"
                }
            }, [t.switchSiteDialog.show ? i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Change store")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.switchSiteDialog.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "mt-2"
            }, [i("p", [t._v(t._s(t.$translate("You are currently shopping in the store for")) + " "), i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.switchSiteDialog.fromSite.name))]), t._v(". " + t._s(t.$translate("If you switch to")) + " "), i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.switchSiteDialog.site.name))]), t._v(" " + t._s(t.$translate("the following items will disappear from your shopping cart")) + ":")]), t._l(t.switchSiteDialog.missing, (function(e) {
                return i("div", {
                    key: e.product.id
                }, [i("v-icon", {
                    attrs: {
                        color: "error"
                    }
                }, [t._v("mdi-cancel")]), i("span", {
                    staticClass: "font-weight-bold ml-2"
                }, [t._v(t._s(e.product.name))])], 1)
            }
            ))], 2), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.forceSetSite(),
                        t.switchSiteDialog.show = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Change store")))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.switchSiteDialog.show = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Continue shopping")))])], 1)], 1) : t._e()], 1)], 1) : i("div", {
                staticClass: "text-center"
            }, [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1)
        }
          , Li = []
          , ji = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "mt-2"
            }, [t.levelHasVisibleParent && t.categories && t.categories.length ? i("div", {
                staticClass: "mb-1"
            }, [t._v("Filtrera på " + t._s(t.categories[0].parent.name))]) : t._e(), t._l(t.categories, (function(e) {
                return i("v-chip", {
                    key: e.id,
                    staticClass: "mr-2 mb-2",
                    attrs: {
                        outlined: !e.selected,
                        color: "primary",
                        close: e.selected,
                        ripple: !1,
                        label: ""
                    },
                    on: {
                        click: function(i) {
                            return t.select(e)
                        },
                        "click:close": function(i) {
                            return t.select(e)
                        }
                    }
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            ))], 2)
        }
          , Ni = []
          , Wi = {
            name: "zoezi-webshop-categories-level",
            props: {
                levelHasVisibleParent: {},
                categories: {}
            },
            methods: {
                select(t) {
                    this.$emit("selected", t)
                }
            }
        }
          , qi = Wi
          , Hi = Object(p["a"])(qi, ji, Ni, !1, null, null, null)
          , Ui = Hi.exports;
        g()(Hi, {
            VChip: st["a"]
        });
        var Yi = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500px",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [t.product ? i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "fill-width d-flex"
            }, [i("span", {
                staticStyle: {
                    "max-width": "calc(100% - 35px)",
                    overflow: "hidden",
                    "text-overflow": "ellipsis",
                    "white-space": "nowrap",
                    display: "block",
                    "margin-right": "auto"
                },
                domProps: {
                    textContent: t._s(t.product.name)
                }
            }), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-auto-img", {
                staticClass: "mb-2",
                attrs: {
                    src: t.product.imagekey,
                    height: t.imgHeight,
                    "max-height": t.imgMaxHeight
                }
            }), i("v-card-text", [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.product.name))]), i("div", {
                domProps: {
                    innerHTML: t._s(t.product.description)
                }
            }), t.product.auto ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-refresh")]), t._v(" " + t._s(t.$translate("Recurring, automatically extended")) + " ")], 1) : t.product.period ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(t.$translate("Valid from")) + " " + t._s(t.product.periodValidFrom) + " " + t._s(t.$translate("to")) + " " + t._s(t.product.periodValidTo) + " ")], 1) : t.product.validTime ? i("div", {
                staticClass: "my-1"
            }, [t.product.validFromDate ? i("div", [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(t.$translate("Valid until")) + " " + t._s(t.calculateAndFormatEndDate(t.product.validFromDate)) + " ")], 1) : i("div", [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(t.$translate("Valid for")) + " " + t._s(t.product.validTime) + " " + t._s(t.$translate(t.product.validType + (1 === t.product.validTime ? "" : "s")).toLowerCase()) + " " + t._s(t.$translate("from purchase")) + " ")], 1)]) : t._e(), t.product.boundTime ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(t.$translate("Bound for")) + " " + t._s(t.product.boundTime) + " " + t._s(t.$translate(t.product.boundType + (1 === t.product.boundTime ? "" : "s")).toLowerCase()) + " ")], 1) : t._e(), t.product.trainingsessions ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-ticket-confirmation-outline")]), t._v(" " + t._s(t.product.trainingsessions) + " " + t._s(t.$translate("Punch tickets").toLowerCase()) + " ")], 1) : t._e(), t.product.workout ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-ticket-confirmation-outline")]), t._v(" " + t._s(t.$translate("Workout booking included")) + " ")], 1) : t._e(), t.product.entry ? i("div", {
                staticClass: "my-1"
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-door-closed-lock")]), t._v(" " + t._s(t.$translate("Enables on-site access")) + " ")], 1) : t._e(), t.product.sites && t.product.sites.length > 1 ? i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0 text--secondary",
                staticStyle: {
                    "min-height": "20px !important"
                }
            }, [i("div", [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-map-marker-star-outline")]), t._v(" " + t._s(t.$translate("Valid in multiple locations")))], 1)]), i("v-expansion-panel-content", t._l(t.product.sites.map((function(e) {
                return t.$store.state.settings.sites.find((function(t) {
                    return t.id == e
                }
                ))
            }
            )).sort((function(t, e) {
                return t.name.localeCompare(e.name)
            }
            )), (function(e) {
                return i("div", {
                    key: e.id
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            )), 0)], 1)], 1) : t._e()], 1), i("v-card-actions", {
                staticClass: "d-flex flex-column"
            }, [i("div", {
                staticClass: "d-flex flex-row fill-width align-center"
            }, [t.hasVariants ? i("v-select", {
                staticClass: "flex-grow-1 mr-2",
                attrs: {
                    label: t.$translate("Choose variant"),
                    items: t.variants,
                    "item-text": "name",
                    "item-value": "name"
                },
                model: {
                    value: t.variant,
                    callback: function(e) {
                        t.variant = e
                    },
                    expression: "variant"
                }
            }) : t._e(), i("product-count", {
                staticClass: "flex-shrink-0",
                attrs: {
                    zero: !1
                },
                model: {
                    value: t.count,
                    callback: function(e) {
                        t.count = e
                    },
                    expression: "count"
                }
            })], 1), t.product.payWhatYouWant ? i("div", {
                staticClass: "d-flex flex-row fill-width align-center"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Enter amount")
                },
                model: {
                    value: t.amount,
                    callback: function(e) {
                        t.amount = e
                    },
                    expression: "amount"
                }
            })], 1) : t._e(), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: "",
                    disabled: !t.canBuy
                },
                on: {
                    click: t.buy
                }
            }, [t._v(t._s(t.$translate("Buy")) + ", " + t._s(t.priceString))])], 1)], 1) : t._e()], 1)
        }
          , Gi = []
          , Ki = i("ba48")
          , Qi = {
            name: "zoezi-trainingcard-product-dialog",
            props: {
                value: {
                    type: Boolean
                },
                product: {
                    type: Object
                },
                basket: {
                    type: Array
                },
                siteId: {
                    type: Number,
                    default: 1
                },
                cropImage: {
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                ProductCount: Ki["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t,
                        this.count = 1,
                        this.variant = null,
                        this.amount = 0
                    }
                },
                showDialog(t) {
                    this.$emit("input", t)
                }
            },
            computed: {
                imgHeight() {
                    return this.cropImage ? "335px" : "auto"
                },
                imgMaxHeight() {
                    return this.product.description ? this.product.name.length + this.product.description.length > 600 ? "30%" : "45%" : "55vh"
                },
                priceString() {
                    return this.product.payWhatYouWant ? Object(o["i"])(this.amount) : Object(o["l"])([{
                        product: this.product,
                        count: this.count
                    }])
                },
                hasVariants() {
                    return !(1 == this.variants.length && null === this.variants[0].name)
                },
                variants() {
                    return this.product.variants && 0 != this.product.variants.length ? this.product.variants : [{
                        name: null,
                        stock: this.product.stock
                    }]
                },
                canBuy() {
                    return (!this.hasVariants || !!this.variant) && (!this.product.payWhatYouWant || this.amount)
                },
                stock() {
                    var t;
                    let e = this.variants.find(t=>t.name == this.variant);
                    if (!e)
                        return 0;
                    let i = null === (t = e.stock_sites) || void 0 === t ? void 0 : t.find(t=>t.site_id == this.siteId)
                      , s = i ? i.stock : null;
                    if (null != s && this.basket) {
                        let t = this.basket.find(t=>t.product_id == this.product.id && e.name == t.variant);
                        return t && t.count && (s -= t.count),
                        Math.max(0, s)
                    }
                    return s
                }
            },
            data: ()=>({
                showDialog: !1,
                count: 1,
                variant: null,
                amount: 0
            }),
            methods: {
                buy() {
                    if (null != this.stock && this.stock < this.count) {
                        let t = this.stock > 0 ? this.$translate("There is only {0} of this product in stock").format(this.stock) : this.$translate("There are no products left in stock");
                        this.$store.commit("showSnackBar", {
                            text: t
                        })
                    } else {
                        let t = {
                            product: this.product,
                            variant: this.variant,
                            count: this.count
                        };
                        this.product.payWhatYouWant && (t.price = this.amount),
                        this.$emit("buy", t),
                        this.showDialog = !1
                    }
                },
                calculateAndFormatEndDate(t) {
                    let e = Date.newFull(t);
                    return e.setDate(e.getDate() - 1),
                    e.setFullYear((new Date).getFullYear() + 1),
                    "01" == t.split("-")[2] && "01" == t.split("-")[1] && e.setFullYear(e.getFullYear() - 1),
                    e.yyyymmdd()
                }
            }
        }
          , Ji = Qi
          , Xi = i("b974")
          , Zi = Object(p["a"])(Ji, Yi, Gi, !1, null, null, null)
          , ts = Zi.exports;
        g()(Zi, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VSelect: Xi["a"],
            VTextField: z["a"]
        });
        var es = {
            name: "zoezi-shop",
            zoezi: {
                title: "Shop",
                icon: "mdi-cart-outline",
                addon: "WebShop",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "p",
                        prop: "showProductTitle"
                    }]
                })
            },
            props: {
                onlyShowCategories: {
                    title: "Filter by categories",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.webshopcategories.filter(t=>!t.parent_id && !t.removed).sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0
                    },
                    default: ()=>[]
                },
                globalSiteSetting: {
                    title: "Filter by globally selected site",
                    type: Boolean,
                    default: !0
                },
                onlyShowSites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all sites",
                        visible: "!globalSiteSetting"
                    },
                    default: ()=>[]
                },
                showSiteFilter: {
                    title: "Show site filter",
                    type: Boolean,
                    default: !1,
                    visible: "!globalSiteSetting"
                },
                forceInfoDialog: {
                    title: "Always show product information dialog",
                    type: Boolean,
                    default: !1
                },
                cartName: {
                    title: "Name of shopping cart",
                    type: String,
                    default: "",
                    typeinfo: {
                        placeholder: "Use the standard shopping cart"
                    }
                },
                cropImages: {
                    title: "Crop images towards the center (3:2)",
                    type: Boolean,
                    default: !0
                },
                showProductId: {
                    title: "Show product - ID",
                    type: Number
                },
                showProductTitle: {
                    title: "Show product - name",
                    type: String
                },
                selectedCategoryId: {
                    title: "Selected category - ID",
                    type: Number
                },
                selectedCategoryTitle: {
                    title: "Selected category - name",
                    type: String
                }
            },
            components: {
                WebshopCategoriesLevel: Ui,
                TrainingCardProductDialog: ts
            },
            data: ()=>({
                unsubscribe: null,
                products: [],
                productsLoaded: !1,
                selectedSiteId: 1,
                showingProduct: null,
                showCheckout: !1,
                almostdone: !1,
                checkoutLoading: !1,
                sitesMenuOpen: !1,
                switchSiteDialog: {
                    show: !1,
                    site: null,
                    missing: []
                },
                selectedCategory: null
            }),
            watch: {
                "$store.state.selectedSiteId": {
                    immediate: !0,
                    handler() {
                        this.globalSiteSetting && (this.selectedSiteId = this.$store.state.selectedSiteId)
                    }
                },
                selectedSiteId() {
                    this.cart && (this.cart.site_id = this.selectedSiteId)
                },
                onlyShowSites: {
                    immediate: !0,
                    handler(t) {
                        this.globalSiteSetting || t && t.length && !t.includes(this.selectedSiteId) && (this.selectedSiteId = t[0])
                    }
                },
                showingProduct: {
                    immediate: !1,
                    handler(t) {
                        let e = t ? t.id : null;
                        e != this.showProductId && this.setProp("showProductId", e);
                        let i = t ? Object(o["A"])(t.name).substring(1) : null;
                        i != this.showProductTitle && this.setProp("showProductTitle", i)
                    }
                },
                productsLoaded(t) {
                    if (t)
                        if (this.showProductId ? this.showingProduct = this.products.find(t=>t.id == this.showProductId) : this.showProductTitle && (this.showingProduct = this.products.find(t=>Object(o["A"])(t.name).substring(1) == this.showProductTitle)),
                        this.selectedCategoryId) {
                            let t = this.allCategories.find(t=>t.id == this.selectedCategoryId);
                            t && (this.selectedCategory = t)
                        } else if (this.selectedCategoryTitle) {
                            let t = this.allCategories.find(t=>{
                                let e = Object(o["A"])(this.getCategoryPath(t)).substring(1);
                                if (e == this.selectedCategoryTitle)
                                    return !0
                            }
                            );
                            t && (this.selectedCategory = t)
                        }
                }
            },
            computed: {
                cart() {
                    return this.products && this.products.length && this.$store.state.carts && this.$store.state.carts[this.cartName] ? this.$store.state.carts[this.cartName] : null
                },
                cartItems() {
                    return this.cart ? this.cart.items.map(t=>{
                        let e = {};
                        return Object.assign(e, t),
                        e.product = this.products.find(e=>e.id == t.product_id),
                        e
                    }
                    ) : []
                },
                checkoutItems() {
                    let t = this.cartItems.map(t=>({
                        product_id: t.product.id,
                        count: t.count,
                        variant: t.variant,
                        price: t.price
                    }));
                    return t
                },
                hasMultiSites() {
                    var t, e;
                    return (null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.sites) || void 0 === e ? void 0 : e.length) > 1
                },
                selectedText() {
                    if (!this.selectedCategory || this.topCategory && this.selectedCategory.name === this.topCategory.name)
                        return this.$translate("Displaying the full range");
                    let t = this.selectedCategory;
                    const e = [t.name];
                    while (t.parent != this.topCategory)
                        t = t.parent,
                        e.push(t.name);
                    const i = e.reverse();
                    return i.join(", ")
                },
                categoryLevels() {
                    function t(t, e, i, s) {
                        const a = [];
                        let o = i || e
                          , n = null;
                        while (1) {
                            let i = t.filter(t=>!(!t.parent && s && s.length > 1 && !s.find(e=>e === t.id)) && t.parent == o);
                            if (i = i.map(t=>({
                                id: t.id,
                                name: t.name,
                                selected: t === n,
                                parent: t.parent
                            })),
                            i.length > 0) {
                                const t = i.sort((t,e)=>t.name < e.name ? -1 : 1);
                                a.push(t)
                            }
                            if (o == e)
                                break;
                            n = o,
                            o = o.parent
                        }
                        return a.reverse()
                    }
                    return this.allCategories && 0 !== this.allCategories.length ? t(this.allCategories, this.topCategory, this.selectedCategory, this.onlyShowCategories) : []
                },
                filteredProductsPerSite() {
                    return this.getProductsForSite(this.selectedSiteId)
                },
                filteredProductsOnTopCategory() {
                    const t = this.filteredProductsPerSite;
                    if (!this.onlyShowCategories || 0 === this.onlyShowCategories.length)
                        return t;
                    function e(t, e) {
                        return t ? t.find(t=>t.id === e) : null
                    }
                    function i(t, e) {
                        return t.parent ? i(t.parent, e) : e.find(e=>e === t.id)
                    }
                    function s(t, s, a) {
                        const o = e(s, t.product_webshop_category_id);
                        return !!o && i(o, a)
                    }
                    function a(t, e, i) {
                        return t.filter(t=>s(t, e, i))
                    }
                    const o = a(t, this.allCategories, this.onlyShowCategories);
                    return o
                },
                allCategories() {
                    var t;
                    return null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.webshopcategories.filter(t=>!t.removed)
                },
                topCategories() {
                    return this.allCategories.filter(t=>!t.parent_id)
                },
                filteredProducts() {
                    const t = this.filteredProductsOnTopCategory;
                    if (!this.selectedCategory)
                        return t;
                    function e(t, i) {
                        return !!t && (t.id === i.id || !!t.parent && e(t.parent, i))
                    }
                    function i(t, e) {
                        return t ? t.find(t=>t.id === e) : null
                    }
                    const s = t.filter(t=>{
                        if (t.product_webshop_category_id === this.selectedCategory.id)
                            return !0;
                        const s = i(this.allCategories, this.selectedCategory.id)
                          , a = i(this.allCategories, t.product_webshop_category_id);
                        return e(a, s)
                    }
                    );
                    return s
                },
                selectableSites() {
                    var t, e;
                    return null !== (t = this.$store.state) && void 0 !== t && null !== (e = t.settings) && void 0 !== e && e.sites ? this.$store.state.settings.sites.filter(t=>!this.onlyShowSites || 0 == this.onlyShowSites.length || this.onlyShowSites.includes(t.id)) : []
                },
                onlyShowOneSite() {
                    var t;
                    return 1 == (null === (t = this.onlyShowSites) || void 0 === t ? void 0 : t.length)
                },
                topCategory() {
                    return this.onlyShowCategories && 1 === this.onlyShowCategories.length ? this.allCategories.find(t=>t.id === this.onlyShowCategories[0]) : this.topCategories && 1 === this.topCategories.length ? this.topCategories[0] : null
                }
            },
            methods: {
                loadProducts() {
                    this.$api.get("/api/public/trainingcard/type/get", {
                        trial: !0
                    }).then(t=>{
                        this.products = t.filter(t=>!!t.customerCanBuy && ("course" != t.type || void 0)),
                        this.productsLoaded = !0
                    }
                    )
                },
                productDescription(t) {
                    return t && (t = t.replace(/(<([^>]+)>)/gi, ""),
                    t.length > 100 && (t = t.substr(0, 100).trim() + "…")),
                    t
                },
                needsToChooseVariant(t) {
                    return t.variants && t.variants.length && (t.variants.length > 1 || "Standard" != t.variants[0].name && t.variants[0].name)
                },
                buyClick(t) {
                    this.forceInfoDialog || this.needsToChooseVariant(t) || t.payWhatYouWant ? this.productClick(t) : this.buy(t)
                },
                productClick(t) {
                    this.showingProduct = t;
                    try {
                        let e = {
                            id: "p" + t.id,
                            name: t.name,
                            price: t.price,
                            vat: t.vat
                        };
                        this.$ecommercetracking.viewItem(e)
                    } catch (e) {
                        q["a"](e)
                    }
                },
                categorySelected(t) {
                    const e = this.allCategories.find(e=>e.id === t.id);
                    this.selectedCategory = t.selected ? e.parent ? e.parent : null : e,
                    this.setProp("selectedCategoryId", this.selectedCategory ? this.selectedCategory.id : null);
                    let i = this.selectedCategory ? Object(o["A"])(this.getCategoryPath(this.selectedCategory)).substring(1) : null;
                    this.setProp("selectedCategoryTitle", i)
                },
                categoryLevelKey(t) {
                    const e = t.map(t=>t.name);
                    return e.join(", ")
                },
                buy(t) {
                    this.addToCart({
                        product: t
                    })
                },
                addToCart({product: t, count: e, variant: i, price: s}) {
                    e = e || 1,
                    this.$store.dispatch("addToCart", {
                        cartName: this.cartName,
                        product_id: t.id,
                        count: e,
                        variant: i,
                        price: s,
                        site_id: this.selectedSiteId
                    }),
                    this.$store.dispatch("setCartVisibility", {
                        cartName: this.cartName,
                        showBottomBar: !0,
                        showCheckout: !1
                    })
                },
                changeNumberOfItems(t, e) {
                    this.$store.dispatch("changeItemCountInBasket", {
                        basketName: this.cartName,
                        product_id: t.product_id,
                        variant: t.variant,
                        count: e
                    })
                },
                buyFromDialog({product: t, count: e, variant: i, price: s}) {
                    this.addToCart({
                        product: t,
                        count: e,
                        variant: i,
                        price: s
                    }),
                    this.showingProduct = null
                },
                getProductsMissingFromSite(t) {
                    let e = this.getProductsForSite(t.id)
                      , i = this.cartItems.filter(i=>{
                        if (!e.find(t=>t.id == i.product.id))
                            return !0;
                        let s = Object(o["q"])(i.product, i.variant, t.id);
                        return void 0 === s || s < i.count
                    }
                    );
                    return i
                },
                getProductsForSite(t) {
                    let e = this.products;
                    return this.hasMultiSites ? e.filter(e=>{
                        let i = "trainingcard" == e.type || "membership" == e.type
                          , s = i ? "sites" : "visible_sites"
                          , a = e[s];
                        return !a || 0 == a.length || a.includes(t)
                    }
                    ) : e
                },
                setSite(t) {
                    let e = this.getProductsMissingFromSite(t);
                    e.length ? (this.switchSiteDialog.show = !0,
                    this.switchSiteDialog.fromSite = this.$store.state.settings.sites.find(t=>t.id == this.selectedSiteId),
                    this.switchSiteDialog.site = t,
                    this.switchSiteDialog.missing = e) : this.selectedSiteId = t.id
                },
                forceSetSite() {
                    this.$store.dispatch("removeCart", {
                        cartName: this.cartName
                    }),
                    this.switchSiteDialog.missing.forEach(t=>{
                        this.$store.dispatch("changeItemCountInCart", {
                            cartName: this.cartName,
                            product_id: t.product_id,
                            variant: t.variant,
                            count: 0
                        })
                    }
                    ),
                    this.cart.site_id = this.switchSiteDialog.site.id
                },
                clearCart() {
                    this.$store.dispatch("removeBasket", {
                        basketName: this.cartName
                    })
                },
                getCategoryPath(t) {
                    let e = "";
                    return t.parent && (e += this.getCategoryPath(t.parent) + "-"),
                    e + t.name
                },
                isMembershipFrom0101(t) {
                    return "01-01" == t.validFromDate.slice(5)
                },
                calculateAndFormatEndDate(t) {
                    let e = Date.newFull(t);
                    return e.setDate(e.getDate() - 1),
                    e.setFullYear((new Date).getFullYear() + 1),
                    Date.formatFullShorterYear(e)
                }
            },
            mounted() {
                var t;
                this.loadProducts(),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "trainingcardtype",
                    callback: ()=>this.loadProducts()
                });
                let e = null === (t = this.$store.state.carts) || void 0 === t ? void 0 : t[this.cartName];
                e && e.items.length && !e.showBottomBar && !e.showCheckout && this.$store.dispatch("setCartVisibility", {
                    cartName: this.cartName,
                    showBottomBar: !0,
                    showCheckout: !1
                })
            },
            destroyed() {
                var t, e, i;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this),
                (null !== (e = this.cart) && void 0 !== e && e.showBottomBar || null !== (i = this.cart) && void 0 !== i && i.showCheckout) && (this.cart.showBottomBar = !1,
                this.cart.showCheckout = !1)
            }
        }
          , is = es
          , ss = (i("e609"),
        i("ce87"))
          , as = Object(p["a"])(is, Ri, Li, !1, null, null, null)
          , os = as.exports;
        g()(as, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VHover: ss["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VMenu: D["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSheet: ue["a"],
            VSpacer: J["a"]
        });
        var ns = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("product-list", {
                attrs: {
                    cards: t.cards
                }
            })
        }
          , rs = []
          , ls = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-list", t._l(t.cards, (function(t, e) {
                return i("component-wrapper", {
                    key: e,
                    attrs: {
                        config: t
                    }
                })
            }
            )), 1)], 1)
        }
          , cs = []
          , ds = {
            name: "zoezi-product-list",
            zoezi: {
                title: "Product list",
                icon: "mdi-format-list-text"
            },
            props: {
                cards: {
                    title: "Product cards",
                    type: Array,
                    fulltype: "componentlist",
                    typeinfo: {
                        component: "zoezi-product-card"
                    },
                    default: ()=>[]
                },
                cardHeight: {
                    title: "Card height (px)",
                    type: Number,
                    default: 200
                }
            }
        }
          , us = ds
          , hs = Object(p["a"])(us, ls, cs, !1, null, null, null)
          , ms = hs.exports;
        g()(hs, {
            VList: S["a"]
        });
        var ps = {
            name: "zoezi-resourcebooking-service-list",
            zoezi: {
                title: "Resource booking services",
                icon: "mdi-format-list-text",
                addon: "ResourceBooking"
            },
            props: {
                categoryId: {
                    title: "Category",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getResourceBookingCategories(),
                        selectFirst: !0
                    }
                },
                serviceIds: {
                    title: "Services",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        filter: (t,e)=>(!e.categoryId || t.category_id == e.categoryId) && t.show,
                        getItems: ()=>window.$zoeziapi.get("/api/resourcebooking/service/get/all"),
                        selectFirst: !0
                    },
                    default: ()=>[]
                }
            },
            components: {
                ProductList: ms
            },
            data: ()=>({
                category: null,
                services: []
            }),
            computed: {
                cards() {
                    return this.services.map(t=>{
                        let e = t.name
                          , i = ""
                          , s = t.description
                          , a = Yx.makeEmptyConfig({
                            component: "zoezi-product-card",
                            props: {
                                title: e,
                                image: i,
                                shortDescription: s
                            }
                        });
                        return a
                    }
                    )
                }
            },
            watch: {
                categoryId: {
                    immediate: !0,
                    handler() {
                        this.$booking.getResourceBookingCategories().then(t=>{
                            this.category = t.find(t=>this.categoryId == t.id)
                        }
                        )
                    }
                },
                serviceIds: {
                    immediate: !0,
                    handler() {
                        this.$api.get("/api/public/resourcebooking/service/get", {
                            category: this.categoryId
                        }).then(t=>{
                            this.services = this.serviceIds ? this.serviceIds.map(e=>t.find(t=>t.id == e)).filter(t=>t) : []
                        }
                        )
                    }
                }
            }
        }
          , vs = ps
          , gs = Object(p["a"])(vs, ns, rs, !1, null, null, null)
          , fs = gs.exports
          , bs = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$root.edit && 0 == t.truncatedCourses.length ? i("v-card", {
                attrs: {
                    color: "zoezi-edit-color",
                    dark: "",
                    height: "100"
                }
            }, [i("v-card-title", [t._v(t._s(t.$translate("Course list: No courses to display")))])], 1) : t._e(), t.showCategoryTitle && t.categoryName ? i("div", {
                staticClass: "title primary--text text-center my-4",
                domProps: {
                    textContent: t._s(t.categoryName)
                }
            }) : t._e(), t.showCategoryTitle && t.showCategoryDescription && t.categoryDescription ? i("div", {
                staticClass: "text-center my-4",
                domProps: {
                    innerHTML: t._s(t.categoryDescription)
                }
            }) : t._e(), t.resources.length > 1 && t.showResourcesFilter ? i("div", {
                staticClass: "ml-2"
            }, t._l(t.resources, (function(e) {
                return i("v-chip", {
                    key: e.id,
                    staticClass: "mr-2 mb-2",
                    attrs: {
                        outlined: !t.resourcesFilter.find((function(t) {
                            return t == e.id
                        }
                        )),
                        close: !!t.resourcesFilter.find((function(t) {
                            return t == e.id
                        }
                        )),
                        color: "primary",
                        ripple: !1,
                        label: ""
                    },
                    on: {
                        click: function(i) {
                            t.setProp("resourcesFilter", t.resourcesFilter.find((function(t) {
                                return t == e.id
                            }
                            )) ? [] : [e.id])
                        },
                        "click:close": function(i) {
                            t.setProp("resourcesFilter", t.resourcesFilter.find((function(t) {
                                return t == e.id
                            }
                            )) ? [] : [e.id])
                        }
                    }
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            )), 1) : t._e(), i("card-layout", {
                attrs: {
                    items: t.truncatedCourses
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.item
                          , a = e.layout;
                        return [i("course-card", {
                            attrs: {
                                course: s,
                                "title-right": "wide" == a,
                                "show-price": t.showPrice
                            },
                            on: {
                                click: function(e) {
                                    t.courseDialog.course = s,
                                    t.courseDialog.show = !0
                                }
                            }
                        })]
                    }
                }])
            }), t.courseDialog.show ? i("v-dialog", {
                attrs: {
                    "max-width": "850"
                },
                model: {
                    value: t.courseDialog.show,
                    callback: function(e) {
                        t.$set(t.courseDialog, "show", e)
                    },
                    expression: "courseDialog.show"
                }
            }, [i("v-card", [i("course-booking", {
                attrs: {
                    forceLoading: t.courseDialog.loading,
                    courseId: t.courseDialog.course && t.courseDialog.course.id,
                    dialog: ""
                },
                on: {
                    close: function(e) {
                        t.courseDialog.show = !1
                    },
                    "course-loaded": function(e) {
                        t.courseDialog.course = e
                    }
                }
            }), i("v-card-actions", [i("v-spacer")], 1)], 1)], 1) : t._e()], 1)
        }
          , ys = []
          , _s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "ma-2 zoezi-list-card course align-stretch overflow-hidden",
                class: {
                    "full-width": t.titleRight
                },
                attrs: {
                    elevation: "4"
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [t.titleRight ? i("div", {
                staticClass: "d-flex align-stretch"
            }, [i("v-auto-img", {
                staticClass: "z-half inherit-border-left",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }, [t.weekDayTimeString ? i("v-chip", {
                staticClass: "float-left ma-2",
                domProps: {
                    textContent: t._s(t.weekDayTimeString)
                }
            }) : t._e(), i("booking-status", {
                staticClass: "float-right ma-2",
                attrs: {
                    space: t.course.space,
                    "space-left": t.course.spaceLeft
                }
            })], 1), i("v-auto-img", {
                staticClass: "card-image-blur",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }), i("div", {
                staticClass: "z-half px-4 pt-4 d-flex flex-column align-self-stretch"
            }, [i("div", {
                staticClass: "card-title"
            }, [i("div", {
                staticClass: "primary--text"
            }, [t._v(t._s(t.course.name))]), t.opensIn ? i("div", {
                staticClass: "description py-1"
            }, [t._v(t._s(t.$translate("You can book in {0}").format(t.opensIn)))]) : t._e(), i("div", {
                staticClass: "description",
                domProps: {
                    innerHTML: t._s(t.stripHtml(t.course.description))
                }
            })]), i("div", {
                staticClass: "spacer fill-height"
            }), i("div", {
                staticClass: "d-flex zoezi-card-details justify-space-between py-4"
            }, [t.course.occasions ? i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-account-details-outline")]), t._v(t._s(t.occasionsString) + " ")], 1) : t._e(), i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-month-outline")]), t._v(t._s(t.startDateString) + " ")], 1), t.showPrice ? i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-tag-multiple-outline")]), t._v(t._s(t._f("price")(t.course.price)) + " ")], 1) : t._e()])])], 1) : [i("v-auto-img", {
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }, [i("booking-status", {
                staticClass: "float-right ma-2",
                attrs: {
                    space: t.course.space,
                    "space-left": t.course.spaceLeft
                }
            }), t.opensIn ? i("div", {
                staticClass: "primarytext--text",
                staticStyle: {
                    width: "100%",
                    display: "block"
                }
            }, [i("div", {
                staticClass: "pa-2 countdown-container",
                style: t.background,
                domProps: {
                    innerHTML: t._s(t.opensInHtml)
                }
            })]) : t._e(), t.weekDayTimeString ? i("v-chip", {
                staticClass: "float-left ma-1",
                domProps: {
                    textContent: t._s(t.weekDayTimeString)
                }
            }) : t._e(), i("div", {
                staticClass: "primary card-title",
                style: t.background
            }, [i("div", {
                staticClass: "primarytext--text coursecard-shorten-text"
            }, [t._v(t._s(t.course.name))])])], 1), i("div", {
                staticClass: "pa-2 d-flex justify-space-between zoezi-card-details flex-wrap"
            }, [t.course.occasions ? i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-account-details-outline")]), t._v(t._s(t.occasionsString) + " ")], 1) : t._e(), i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-calendar-month-outline")]), t._v(t._s(t.startDateString) + " ")], 1), t.showPrice ? i("div", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-tag-multiple-outline")]), t._v(t._s(t._f("price")(t.course.price)) + " ")], 1) : t._e()])]], 2)
        }
          , ks = []
          , ws = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.text ? i("h3", [t._v(" " + t._s(t.bookingStatusText) + " "), i("img", {
                style: {
                    width: t.size,
                    height: t.size
                },
                attrs: {
                    src: t.image
                }
            })]) : i("img", {
                style: {
                    width: t.size,
                    height: t.size
                },
                attrs: {
                    src: t.image
                }
            })
        }
          , Cs = []
          , xs = {
            name: "zoezi-booking-status",
            props: {
                space: {
                    type: Number
                },
                spaceLeft: {
                    type: Number
                },
                firstBookingTime: {},
                lastBookingTime: {},
                size: {
                    type: String,
                    default: "30px"
                },
                text: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                key() {
                    let t = "available";
                    return this.firstBookingTime && this.firstBookingTime > this.$store.state.now30s ? t = "coming" : this.lastBookingTime && this.lastBookingTime < this.$store.state.now30s ? t = "cancelled" : 0 === this.spaceLeft ? t = "full" : this.spaceLeft && this.space && (this.spaceLeft / this.space < .2 || this.spaceLeft < 3) && (t = "few-spots"),
                    t
                },
                image() {
                    return this.$api.getImageUrl(`/assets/img/booking-status/booking-${this.key}.svg`)
                },
                bookingStatusText() {
                    if ("coming" == this.key) {
                        const t = "sv" == window.$store.state.language ? "den" : "";
                        return `${this.$translate("The booking opens")} ${this.firstBookingTime.isToday() || this.firstBookingTime.isTomorrow() ? "" : t} ${Date.formatTimeRelative(this.firstBookingTime)} ${this.firstBookingTime.getFullYear() == (new Date).getFullYear() ? "" : this.firstBookingTime.getFullYear()}`
                    }
                    if ("cancelled" == this.key)
                        return this.$translate("The booking is closed");
                    if ("full" == this.key)
                        return this.$translate("Fully booked");
                    let t = `${this.$translate("Booking closes")} ${Date.formatTimeRelative(this.lastBookingTime)}`;
                    return "few-spots" == this.key && (t += ", " + this.$translate("few places left")),
                    t
                }
            }
        }
          , $s = xs
          , Ss = Object(p["a"])($s, ws, Cs, !1, null, null, null)
          , Ds = Ss.exports
          , zs = {
            name: "zoezi-course-card",
            props: {
                course: {
                    type: Object
                },
                singleRow: {
                    type: Boolean
                },
                titleRight: {
                    type: Boolean
                },
                showPrice: {
                    type: Boolean
                }
            },
            components: {
                BookingStatus: Ds
            },
            methods: {
                stripHtml: o["H"]
            },
            computed: {
                opensInHtml() {
                    return this.$translate("You can book in {0}").format('<span style="white-space: nowrap;">' + this.opensIn + "</span>")
                },
                opensIn() {
                    const t = Math.max(Date.parse(this.course.firstBookingTime) - this.timeCounter, 0);
                    if (t <= 0)
                        return !1;
                    const e = Math.floor(t / 1e3)
                      , i = Math.floor(e / 60)
                      , s = Math.floor(i / 60)
                      , a = Math.floor(s / 24)
                      , o = Math.floor(a / 30.44)
                      , n = Math.floor(a / 365.25)
                      , r = this.$translate;
                    return n > 0 ? `${n} ${r("years")}` : 1 == o ? `${o} ${r("month")}` : o > 0 ? `${o} ${r("months")}` : 1 == a ? `${a} ${r("day")}` : a > 0 ? `${a} ${r("days")}` : 1 == s ? `${s} ${r("hour")}` : s > 0 ? `${s} ${r("hours")}` : 1 == i ? `${i} ${r("minute")}` : i > 0 ? `${i} ${r("minutes")}` : 1 == e ? `${e} ${r("second")}` : e > 0 ? `${e} ${r("seconds")}` : ""
                },
                image() {
                    var t, e, i;
                    return this.course.imagekey ? this.course.imagekey : null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.coursecategories) || void 0 === e || null === (i = e.find(t=>t.id == this.course.category_id)) || void 0 === i ? void 0 : i.imagekey
                },
                startDateString() {
                    return this.course ? Date.formatFullShort(this.course.startTime).capitalize() : null
                },
                background() {
                    return {
                        "background-color": this.$root.colorToHex("primary") + "b4 !important"
                    }
                },
                weekDayTimeString() {
                    if (!this.course || !this.course.weekDayTime)
                        return null;
                    let t = this.course.weekDayTime
                      , e = t[1]
                      , i = t[2];
                    return `${this.$translate(["Mondays", "Tuesdays", "Wednesdays", "Thursdays", "Fridays", "Saturdays", "Sundays"][t[0]])}, ${e}-${i}`
                },
                occasionsString() {
                    return 1 == this.course.occasions ? this.$translate("1 occasion") : this.$translate("{0} occasions").format(this.course.occasions)
                },
                timeCounter() {
                    return this.$store.state.now30s
                }
            }
        }
          , Ts = zs
          , Is = (i("8af4"),
        Object(p["a"])(Ts, _s, ks, !1, null, null, null))
          , Ps = Is.exports;
        g()(Is, {
            VCard: x["a"],
            VChip: st["a"],
            VIcon: y["a"]
        });
        var Vs = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.course ? i("div", [i("course-header", {
                staticClass: "mb-4",
                attrs: {
                    course: t.course,
                    "show-image": t.showImage,
                    "show-title": t.showTitle,
                    textClass: t.dialog ? "mx-4" : null,
                    showClose: t.dialog
                },
                on: {
                    close: function(e) {
                        return t.$emit("close")
                    }
                }
            }), i("div", {
                class: {
                    "mx-4": t.dialog
                }
            }, [i("div", {
                staticClass: "my-4"
            }, [i("div", {
                domProps: {
                    innerHTML: t._s(t.showLongDescription ? t.course.longdescription : t.course.description)
                }
            }), t._v(" "), t.course.longdescription ? i("a", {
                on: {
                    click: function(e) {
                        t.showLongDescription = !t.showLongDescription
                    }
                }
            }, [t._v(t._s(t.$translate(t.showLongDescription ? "Show less" : "Read more")))]) : t._e()]), t.bookings.length && !t.canOnlyBookSelfAndBooked ? i("v-alert", {
                staticClass: "mt-4",
                attrs: {
                    dense: "",
                    text: "",
                    type: "success",
                    border: "left"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Already booked participants")))]), t._l(t.bookings, (function(e) {
                return i("ul", {
                    key: e.booking.id,
                    staticClass: "hover-underline",
                    staticStyle: {
                        color: "#333"
                    }
                }, [t.$store.state.user && e.booking.user_id == t.$store.state.user.id ? i("li", [t.canCancel(e.booking) ? i("a", {
                    staticClass: "error--text float-right",
                    on: {
                        click: function(i) {
                            return t.cancel(e.booking)
                        }
                    }
                }, [t._v(t._s(t.$translate("CANCEL_BOOKING")))]) : t._e(), t._v(" " + t._s(t.$translate("You")) + " "), i("small", [i("em", [t._v("(" + t._s(e.user.name) + ")")])])]) : i("li", [t.canCancel(e.booking) ? i("a", {
                    staticClass: "error--text float-right",
                    on: {
                        click: function(i) {
                            return t.cancel(e.booking)
                        }
                    }
                }, [t._v(t._s(t.$translate("CANCEL_BOOKING")))]) : t._e(), t._v(" " + t._s(e.user.name) + " ")])])
            }
            ))], 2) : t._e(), i("v-row", [t.bookingStatusIsRelevant ? i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [null !== t.course.spaceLeft && t.course.spaceLeft > 5 ? i("v-alert", {
                attrs: {
                    text: "",
                    dense: "",
                    type: "info",
                    border: "left",
                    icon: "mdi-check-outline"
                }
            }, [i("strong", [t._v(t._s(t.$translate("{0} spots left").format(t.course.spaceLeft)))])]) : t._e(), null !== t.course.spaceLeft && t.course.spaceLeft > 1 && t.course.spaceLeft <= 5 ? i("v-alert", {
                attrs: {
                    text: "",
                    dense: "",
                    type: "warning",
                    border: "left",
                    icon: "mdi-alert-circle-outline"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Only {0} spots left").format(t.course.spaceLeft)))])]) : t._e(), null !== t.course.spaceLeft && 1 == t.course.spaceLeft ? i("v-alert", {
                attrs: {
                    text: "",
                    dense: "",
                    type: "warning",
                    border: "left",
                    icon: "mdi-alert-circle-outline"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Only 1 place left")))])]) : t._e(), null !== t.course.spaceLeft && 0 == t.course.spaceLeft ? i("v-alert", {
                attrs: {
                    text: "",
                    dense: "",
                    type: t.canOnlyBookSelfAndBooked ? "info" : "error",
                    border: "left",
                    icon: t.canOnlyBookSelfAndBooked ? "mdi-information-outline" : "mdi-alert-circle"
                }
            }, [t.canOnlyBookSelfAndBooked ? i("span", [t._v(t._s(t.$translate("Fully booked")))]) : i("strong", [t._v(t._s(t.$translate("Unfortunately, there are no vacancies")))])]) : t._e()], 1) : t._e(), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [t.canOnlyBookSelfAndBooked && t.canCancel(t.bookings[0].booking) ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "error",
                    outlined: "",
                    block: ""
                },
                on: {
                    click: function(e) {
                        return t.cancel(t.bookings[0].booking)
                    }
                }
            }, [t._v(" " + t._s(t.$translate("CANCEL_BOOKING")) + " ")]) : t.canOnlyBookSelfAndBooked && !t.canCancel(t.bookings[0].booking) ? i("v-alert", {
                attrs: {
                    dense: "",
                    text: "",
                    type: "success",
                    border: "left",
                    icon: "mdi-check-outline"
                }
            }, [i("strong", [t._v(t._s(t.$translate("You are booked")))])]) : t.canBook ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.book
                }
            }, [t._v(" " + t._s(t.$translate(t.bookings.length ? "Book for more" : "Book")) + " " + t._s(t._f("price")(t.course.price)) + " ")]) : t.isWatching ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    color: "orange",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.showWatchDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Watching")) + " ")]) : t.canWatch ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.showWatchDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Watching")) + " ")]) : t.isBlocked ? i("v-alert", {
                attrs: {
                    dense: "",
                    text: "",
                    type: "error",
                    border: "left",
                    icon: "mdi-alert-circle"
                }
            }, [t._v(" " + t._s(t.$translate("You are blocked and can not book")) + " ")]) : t._e()], 1)], 1), t.course.occasions ? i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                attrs: {
                    color: "#f0f0f0"
                }
            }, [i("div", {
                staticClass: "pa-2 d-flex"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "black"
                }
            }, [t._v("mdi-calendar-month-outline")])], 1), i("div", {
                staticClass: "ml-2 flex-grow-1"
            }, [i("div", [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Show included occasions")))])]), i("div", {
                staticClass: "text--secondary",
                staticStyle: {
                    "font-size": "smaller"
                }
            }, [t._v(t._s(t.occasionsString) + ", " + t._s(t.$translate("starting at")) + " " + t._s(t.startDateString))])])])]), i("v-expansion-panel-content", {
                staticClass: "pa-0"
            }, t._l(t.course.workouts, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "d-flex"
                }, [i("div", {
                    staticClass: "d-flex align-start mt-1"
                }, [i("v-icon", {
                    attrs: {
                        small: "",
                        color: "black"
                    }
                }, [t._v("mdi-calendar-today")])], 1), i("div", {
                    staticClass: "ml-2 flex-grow-1"
                }, [i("div", [t._v(t._s(e.workoutType.name))]), i("div", {
                    staticClass: "text--secondary",
                    staticStyle: {
                        "font-size": "12px"
                    }
                }, [t._v(t._s(Date.formatFullShort(e.startTime).capitalize()) + " " + t._s(Date.newFull(e.startTime).hhmm()) + " - " + t._s(Date.newFull(e.endTime).hhmm()) + " "), e.resources.length && t.resourcesDiffer(e) ? i("span", [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-map-marker-outline")]), t._v(t._s(e.resources.map((function(e) {
                    return t.getName(e)
                }
                )).join(", ")))], 1) : t._e()])])])
            }
            )), 0)], 1)], 1) : t._e(), t.includedProducts && t.includedProducts.length ? i("v-expansion-panels", {
                staticClass: "mt-4",
                attrs: {
                    accordion: "",
                    flat: ""
                },
                model: {
                    value: t.includedProductsExpandedPanel,
                    callback: function(e) {
                        t.includedProductsExpandedPanel = e
                    },
                    expression: "includedProductsExpandedPanel"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                attrs: {
                    color: "#f0f0f0"
                }
            }, [i("div", {
                staticClass: "pa-2 d-flex"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "black"
                }
            }, [t._v("mdi-cube-scan")])], 1), i("div", {
                staticClass: "ml-2 flex-grow-1"
            }, [i("div", [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Products included")))])]), i("div", {
                staticClass: "text--secondary",
                staticStyle: {
                    "font-size": "smaller"
                }
            }, [t._v(t._s(t.$translate("{0} products included at no additional cost")))])])])]), i("v-expansion-panel-content", {
                staticClass: "pa-0"
            }, [i("v-row", t._l(t.includedProducts, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "6"
                    }
                }, [i("v-card", {
                    staticClass: "z-no-focus d-flex",
                    attrs: {
                        height: "70px"
                    }
                }, [i("v-auto-img", {
                    staticStyle: {
                        "border-bottom-left-radius": "inherit",
                        "border-top-right-radius": "0"
                    },
                    attrs: {
                        src: e.imagekey,
                        width: "100px",
                        height: "70px",
                        "max-width": "100px",
                        "max-height": "70px"
                    }
                }), i("div", {
                    staticClass: "flex-grow-1 px-2",
                    staticStyle: {
                        overflow: "hidden"
                    }
                }, [i("div", {
                    staticStyle: {
                        overflow: "hidden",
                        "text-overflow": "ellipsis",
                        "white-space": "nowrap"
                    }
                }, [i("b", [t._v(t._s(e.name))])]), i("div", {
                    staticClass: "text--secondary",
                    staticStyle: {
                        height: "43px",
                        overflow: "hidden"
                    },
                    domProps: {
                        textContent: t._s(t.getProductSubtitle(e))
                    }
                })])], 1)], 1)
            }
            )), 1)], 1)], 1)], 1) : t._e(), t.course.tags && t.course.tags.length ? i("v-sheet", {
                staticClass: "py-2 d-flex flex-wrap mt-4",
                attrs: {
                    color: "#eff0f0"
                }
            }, t._l(t.course.tags, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "pa-2 mx-2 font-weight-bold"
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            )), 1) : t._e(), t.showCancelBooking ? i("cancel-course-booking-dialog", {
                attrs: {
                    "course-booking": t.courseBookingToCancel,
                    "cancel-enabled": !0
                },
                model: {
                    value: t.showCancelBooking,
                    callback: function(e) {
                        t.showCancelBooking = e
                    },
                    expression: "showCancelBooking"
                }
            }) : t._e()], 1), t.showBookingDialog ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile,
                    persistent: !t.almostdone
                },
                model: {
                    value: t.showBookingDialog,
                    callback: function(e) {
                        t.showBookingDialog = e
                    },
                    expression: "showBookingDialog"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t.almostdone ? t._e() : i("span", {
                domProps: {
                    textContent: t._s(t.course.name)
                }
            }), t.checkoutLoading ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showBookingDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll",
                class: {
                    "px-2": !this.almostdone && t.$vuetify.breakpoint.mobile,
                    "px-0": this.almostdone,
                    "pb-0": this.almostdone
                }
            }, [t.almostdone ? t._e() : [i("course-header", {
                staticClass: "pa-2",
                attrs: {
                    course: t.course,
                    "show-image": !1
                }
            })], i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    useCart: t.useCart,
                    items: t.checkoutItems,
                    "expand-first-item": !1,
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "cancel-rules": t.cancelRules,
                    "force-done": t.almostdone,
                    "user-read-only": !0,
                    "content-target": "checkoutcontent",
                    dialog: !0,
                    "new-style-done-dialog": !0
                },
                on: {
                    almostdone: function(e) {
                        t.almostdone = !0
                    },
                    loading: function(e) {
                        t.checkoutLoading = e
                    },
                    cost: function(e) {
                        t.cost = e
                    },
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    readyToPayExceptPaymentMethod: function(e) {
                        t.readyToPayExceptPaymentMethod = e
                    },
                    changeNumberOfItems: t.changeNumberOfItems,
                    done: function(e) {
                        t.showBookingDialog = !1
                    },
                    close: function(e) {
                        t.showBookingDialog = !1
                    },
                    "reservation-timeout": t.reservationTimeout
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "account",
                                fn: function() {
                                    return [i("div", [i("v-icon", [t._v("mdi-account-check-outline")]), i("span", {
                                        staticClass: "ml-2 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("Who are you who book?")))])], 1), t.$store.state.user ? i("div", [i("div", {
                                        staticClass: "pa-2 d-flex"
                                    }, [i("div", {
                                        staticClass: "d-flex align-center"
                                    }, [i("v-icon", {
                                        attrs: {
                                            color: "primary"
                                        }
                                    }, [t._v("mdi-account-star-outline")])], 1), i("div", {
                                        staticClass: "ml-2 flex-grow-1"
                                    }, [i("span", {
                                        staticClass: "font-weight-bold"
                                    }, [t._v(t._s(t.$store.state.user.name))]), i("span", {
                                        staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                                        on: {
                                            click: function(e) {
                                                return e.stopPropagation(),
                                                t.$store.dispatch("logout")
                                            }
                                        }
                                    }, [t._v(t._s(t.$translate("Not you?")))])])])]) : i("identification", {
                                        scopedSlots: t._u([{
                                            key: "header",
                                            fn: function() {
                                                return [t.canBookForOthers ? i("div", [t._v(" {{$translate('Log in with "), i("b", [t._v("your personal")]), t._v(" details here.')}}"), i("br"), t._v(" " + t._s(t.$translate("If you book for someone else, you add them in the next step.")) + " ")]) : i("div", [t._v(" " + t._s(t.$translate("Choose which method you want to use to identify yourself.")) + " ")])]
                                            },
                                            proxy: !0
                                        }], null, !1, 4076876080)
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "questions",
                                fn: function() {
                                    return [t.canBookForOthers ? [i("div", [i("v-icon", [t._v("mdi-account-question-outline")]), i("span", {
                                        staticClass: "ml-2 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("Who to book?")))])], 1), i("v-btn", {
                                        staticClass: "zoezi-button-thin",
                                        attrs: {
                                            color: "primary",
                                            outlined: !t.newUserPrimaryColor,
                                            block: ""
                                        },
                                        on: {
                                            click: t.showAdduserDialog
                                        }
                                    }, [i("v-icon", {
                                        attrs: {
                                            left: "",
                                            color: t.newUserPrimaryColor ? "primarytext" : "primary"
                                        }
                                    }, [t._v("mdi-account-plus")]), t._v(" " + t._s(t.$translate("Add participant")) + " ")], 1), i("v-form", {
                                        model: {
                                            value: t.questionsDone,
                                            callback: function(e) {
                                                t.questionsDone = e
                                            },
                                            expression: "questionsDone"
                                        }
                                    }, t._l(t.bookableUsers, (function(e) {
                                        return i("div", {
                                            key: e.id,
                                            staticClass: "z-rounded-box my-2"
                                        }, [i("div", {
                                            staticClass: "pa-2 d-flex"
                                        }, [i("div", {
                                            staticClass: "d-flex align-center"
                                        }, [i("v-simple-checkbox", {
                                            attrs: {
                                                color: "primary",
                                                ripple: !1,
                                                disabled: e.reserving || t.isBookedOrInCart(e) || e.isBlocked()
                                            },
                                            on: {
                                                input: function(i) {
                                                    return t.userSelectedClicked(e, i)
                                                }
                                            },
                                            model: {
                                                value: e.selected,
                                                callback: function(i) {
                                                    t.$set(e, "selected", i)
                                                },
                                                expression: "user.selected"
                                            }
                                        })], 1), i("div", {
                                            staticClass: "ml-2 flex-grow-1"
                                        }, [i("span", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(e.name) + " " + t._s(e.me ? "(" + t.$translate("You") + ")" : ""))]), t.isBooked(e) ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v(t._s(t.$translate("Already booked")))]) : t.isInCart(e) ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v(t._s(t.$translate("In the shopping cart")))]) : e.isBlocked() ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v(t._s(t.$translate("Blocked")))]) : t._e()]), e.me ? t._e() : i("div", {
                                            staticClass: "ml-2 align-end"
                                        }, [i("span", {
                                            staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                                            on: {
                                                click: function(i) {
                                                    return i.stopPropagation(),
                                                    t.showChangeUserDialog(e)
                                                }
                                            }
                                        }, [t._v(t._s(t.$translate("Change")))])]), e.selected && t.course.questions && t.course.questions.length ? i("div", {
                                            staticClass: "float-right",
                                            on: {
                                                click: function(t) {
                                                    e.expanded = !e.expanded
                                                }
                                            }
                                        }, [i("v-icon", [t._v(t._s(e.expanded ? "mdi-chevron-up" : "mdi-chevron-down"))])], 1) : t._e()]), t.course.questions && t.course.questions.length ? i("v-expand-transition", [e.selected ? i("div", {
                                            directives: [{
                                                name: "show",
                                                rawName: "v-show",
                                                value: e.expanded,
                                                expression: "user.expanded"
                                            }],
                                            staticClass: "px-2"
                                        }, [t._l(e.questions, (function(e) {
                                            return i("form-field", {
                                                key: e.name,
                                                attrs: {
                                                    field: e,
                                                    star: ""
                                                },
                                                model: {
                                                    value: e.value,
                                                    callback: function(i) {
                                                        t.$set(e, "value", i)
                                                    },
                                                    expression: "q.value"
                                                }
                                            })
                                        }
                                        )), i("div", {
                                            staticClass: "d-flex mb-1"
                                        }, [i("v-btn", {
                                            staticClass: "flex-grow-1 zoezi-button-thin mr-1",
                                            attrs: {
                                                color: "primary",
                                                outlined: ""
                                            },
                                            on: {
                                                click: t.showAdduserDialog
                                            }
                                        }, [i("v-icon", {
                                            attrs: {
                                                left: "",
                                                color: "primary"
                                            }
                                        }, [t._v("mdi-account-plus")]), t._v(" " + t._s(t.$translate("Additional participant")) + " ")], 1), i("v-btn", {
                                            staticClass: "zoezi-button-thin ml-1",
                                            attrs: {
                                                color: "primary"
                                            },
                                            on: {
                                                click: function(t) {
                                                    e.expanded = !1
                                                }
                                            }
                                        }, [t._v(t._s(t.$translate("Ready")))])], 1)], 2) : t._e()]) : t._e()], 1)
                                    }
                                    )), 0)] : [t.meUser ? i("v-form", {
                                        model: {
                                            value: t.questionsDone,
                                            callback: function(e) {
                                                t.questionsDone = e
                                            },
                                            expression: "questionsDone"
                                        }
                                    }, t._l(t.meUser.questions, (function(e) {
                                        return i("form-field", {
                                            key: e.name,
                                            attrs: {
                                                field: e,
                                                star: ""
                                            },
                                            model: {
                                                value: e.value,
                                                callback: function(i) {
                                                    t.$set(e, "value", i)
                                                },
                                                expression: "q.value"
                                            }
                                        })
                                    }
                                    )), 1) : t._e()]]
                                },
                                proxy: !0
                            }, {
                                key: "products",
                                fn: function() {
                                    return [i("v-expansion-panels", {
                                        attrs: {
                                            multiple: "",
                                            accordion: "",
                                            flat: ""
                                        },
                                        model: {
                                            value: t.expandedProductPanels,
                                            callback: function(e) {
                                                t.expandedProductPanels = e
                                            },
                                            expression: "expandedProductPanels"
                                        }
                                    }, [t.additionalProducts.length ? t._l(t.bookableUsers.filter((function(t) {
                                        return t.selected
                                    }
                                    )), (function(e) {
                                        return i("v-expansion-panel", {
                                            key: e.id,
                                            staticClass: "mt-2"
                                        }, [i("expansion-panel-header", {
                                            attrs: {
                                                icon: "mdi-tag-plus-outline",
                                                title: t.canBookForOthers ? t.$translate("Add-on for {0}").format(e.name) : t.$translate("Add-on"),
                                                subtitle: t.$translate("Buy the products you need")
                                            }
                                        }), i("v-expansion-panel-content", {
                                            staticClass: "z-dense"
                                        }, [i("additional-product-list", {
                                            attrs: {
                                                products: t.additionalProducts,
                                                basket: e.basket,
                                                "show-added-banner": !1,
                                                "total-basket": t.productsInBasket
                                            }
                                        })], 1)], 1)
                                    }
                                    )) : t._e(), t.includedProductsRequireVariant.length ? t._l(t.bookableUsers.filter((function(t) {
                                        return t.selected
                                    }
                                    )), (function(e) {
                                        return i("v-expansion-panel", {
                                            key: e.id,
                                            staticClass: "mt-2"
                                        }, [i("expansion-panel-header", {
                                            attrs: {
                                                icon: "mdi-tag-plus-outline",
                                                title: t.canBookForOthers ? t.$translate("Included products to {0}").format(e.name) : t.$translate("Included products"),
                                                subtitle: t.$translate("Choose variant for included products")
                                            }
                                        }), i("v-expansion-panel-content", {
                                            staticClass: "z-dense"
                                        }, t._l(t.includedProductsRequireVariant, (function(s) {
                                            return i("v-card", {
                                                key: s.id,
                                                staticClass: "d-flex mt-4 z-no-focus",
                                                attrs: {
                                                    height: "65px"
                                                },
                                                on: {
                                                    click: function(e) {
                                                        t.showIncludedProductDialog = !0,
                                                        t.showingProduct = s,
                                                        t.$nextTick((function() {
                                                            return t.$refs.includedProductDialog.show()
                                                        }
                                                        ))
                                                    }
                                                }
                                            }, [i("v-auto-img", {
                                                staticStyle: {
                                                    "border-bottom-left-radius": "inherit",
                                                    "border-top-right-radius": "0"
                                                },
                                                attrs: {
                                                    src: s.imagekey,
                                                    width: "100px",
                                                    height: "65px",
                                                    "max-width": "100px",
                                                    "max-height": "65px"
                                                }
                                            }), i("div", {
                                                staticClass: "flex-grow-1 px-2"
                                            }, [i("div", [i("b", [t._v(t._s(s.name))])]), i("div", {
                                                staticStyle: {
                                                    height: "43px",
                                                    overflow: "hidden"
                                                },
                                                domProps: {
                                                    innerHTML: t._s(t.stripHtml(s.description))
                                                }
                                            })]), s.variants && s.variants.length > 1 ? i("v-menu", {
                                                attrs: {
                                                    "offset-y": ""
                                                },
                                                scopedSlots: t._u([{
                                                    key: "activator",
                                                    fn: function(a) {
                                                        var o = a.on;
                                                        return [i("v-btn", t._g({
                                                            staticClass: "mr-2",
                                                            attrs: {
                                                                color: "primary",
                                                                outlined: !!e.variantsForIncludedProducts[s.id]
                                                            }
                                                        }, o), [t._v(" " + t._s(e.variantsForIncludedProducts[s.id] ? "Vald" : "Välj variant") + " "), i("v-icon", [t._v("mdi-chevron-down")])], 1)]
                                                    }
                                                }], null, !0)
                                            }, [i("v-list", [i("v-list-item-group", {
                                                model: {
                                                    value: e.variantsForIncludedProducts[s.id],
                                                    callback: function(i) {
                                                        t.$set(e.variantsForIncludedProducts, s.id, i)
                                                    },
                                                    expression: "user.variantsForIncludedProducts[product.id]"
                                                }
                                            }, t._l(s.variants, (function(e) {
                                                return i("v-list-item", {
                                                    key: e.name,
                                                    attrs: {
                                                        value: e.name
                                                    },
                                                    domProps: {
                                                        textContent: t._s(e.name)
                                                    }
                                                })
                                            }
                                            )), 1)], 1)], 1) : t._e()], 1)
                                        }
                                        )), 1)], 1)
                                    }
                                    )) : t._e(), t.includedProductsDontRequireVariant.length || t.course.occasions ? i("v-expansion-panel", [i("expansion-panel-header", {
                                        attrs: {
                                            icon: "mdi-calendar-month-outline",
                                            title: t.$translate("This is included"),
                                            subtitle: t.$translate("Products and occasions included")
                                        }
                                    }), i("v-expansion-panel-content", {
                                        staticClass: "z-dense"
                                    }, [t.includedProductsDontRequireVariant.length ? i("div", {
                                        staticClass: "mb-4"
                                    }, [i("div", {
                                        staticClass: "text-subtitle-1 font-weight-bold mb-n4"
                                    }, [t._v("Produkter")]), t._l(t.includedProductsDontRequireVariant, (function(e) {
                                        return i("v-card", {
                                            key: e.id,
                                            staticClass: "d-flex mt-4 z-no-focus",
                                            attrs: {
                                                height: "65px"
                                            },
                                            on: {
                                                click: function(i) {
                                                    t.showIncludedProductDialog = !0,
                                                    t.showingProduct = e,
                                                    t.$nextTick((function() {
                                                        return t.$refs.includedProductDialog.show()
                                                    }
                                                    ))
                                                }
                                            }
                                        }, [i("v-auto-img", {
                                            staticStyle: {
                                                "border-bottom-left-radius": "inherit",
                                                "border-top-right-radius": "0"
                                            },
                                            attrs: {
                                                src: e.imagekey,
                                                width: "100px",
                                                height: "65px",
                                                "max-width": "100px",
                                                "max-height": "65px"
                                            }
                                        }), i("div", {
                                            staticClass: "flex-grow-1 px-2"
                                        }, [i("div", [i("b", [t._v(t._s(e.name))])]), i("div", {
                                            staticStyle: {
                                                height: "43px",
                                                overflow: "hidden"
                                            },
                                            domProps: {
                                                innerHTML: t._s(t.stripHtml(e.description))
                                            }
                                        })]), i("div", {
                                            staticClass: "d-flex align-center px-2"
                                        }, [i("span", {
                                            staticClass: "primary--text font-weight-bold"
                                        }, [t._v(t._s(t.$translate("Included")))])])], 1)
                                    }
                                    ))], 2) : t._e(), t.course.occasions ? i("div", [i("div", {
                                        staticClass: "text-subtitle-1 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("Training sessions")))]), t._l(t.course.workouts, (function(e) {
                                        return i("div", {
                                            key: e.id,
                                            staticClass: "d-flex"
                                        }, [i("div", {
                                            staticClass: "d-flex align-center"
                                        }, [i("v-icon", {
                                            attrs: {
                                                small: "",
                                                color: "black"
                                            }
                                        }, [t._v("mdi-calendar-today")])], 1), i("div", {
                                            staticClass: "ml-2 flex-grow-1"
                                        }, [i("div", [t._v(t._s(e.workoutType.name))]), i("div", {
                                            staticClass: "text--secondary text-uppercase",
                                            staticStyle: {
                                                "font-size": "12px"
                                            }
                                        }, [t._v(t._s(Date.formatFullShort(e.startTime)) + " " + t._s(Date.newFull(e.startTime).hhmm()))])])])
                                    }
                                    ))], 2) : t._e()])], 1) : t._e()], 2)]
                                },
                                proxy: !0
                            }, {
                                key: "membership",
                                fn: function() {
                                    return [i("membership-checkout", {
                                        attrs: {
                                            items: t.checkoutItemsForMembershipCheckout
                                        },
                                        on: {
                                            buy: t.onBuyMembership
                                        }
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }], null, !1, 1801986108),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 3056205244)
            })], 2), t.almostdone ? t._e() : i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    show: !t.almostdone,
                    disabled: t.checkoutLoading
                },
                on: {
                    cancel: function(e) {
                        t.showBookingDialog = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e(), t.showWatchDialog ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "500px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showWatchDialog,
                    callback: function(e) {
                        t.showWatchDialog = e
                    },
                    expression: "showWatchDialog"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", {
                domProps: {
                    textContent: t._s(t.course.name)
                }
            }), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showWatchDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll",
                class: {
                    "px-2": t.$vuetify.breakpoint.mobile
                }
            }, [[i("course-header", {
                staticClass: "pa-2",
                attrs: {
                    course: t.course,
                    "show-image": !1
                }
            })], t.$store.state.isLoggedIn ? [i("div", {
                staticClass: "d-flex"
            }, [i("v-icon", [t._v("mdi-account-question")]), i("div", {
                staticClass: "ml-2 font-weight-bold"
            }, [t._v(t._s(t.$translate("How do you want to be notified?")))])], 1), t.hasSms ? [t._v(" " + t._s(t.$translate("You can fill in both email address and phone number, but mark the method you want to use by ticking the box next to it.")) + " ")] : t._e(), i("v-form", {
                model: {
                    value: t.watch.formValid,
                    callback: function(e) {
                        t.$set(t.watch, "formValid", e)
                    },
                    expression: "watch.formValid"
                }
            }, [i("form-field", {
                attrs: {
                    field: t.watch.firstname,
                    star: ""
                },
                model: {
                    value: t.watch.firstname.value,
                    callback: function(e) {
                        t.$set(t.watch.firstname, "value", e)
                    },
                    expression: "watch.firstname.value"
                }
            }), i("form-field", {
                attrs: {
                    field: t.watch.lastname,
                    star: ""
                },
                model: {
                    value: t.watch.lastname.value,
                    callback: function(e) {
                        t.$set(t.watch.lastname, "value", e)
                    },
                    expression: "watch.lastname.value"
                }
            }), t.hasSms ? [i("div", {
                staticClass: "d-flex"
            }, [i("v-simple-checkbox", {
                attrs: {
                    color: "primary",
                    ripple: !1
                },
                model: {
                    value: t.watch.sendMail,
                    callback: function(e) {
                        t.$set(t.watch, "sendMail", e)
                    },
                    expression: "watch.sendMail"
                }
            }), i("form-field", {
                staticClass: "ml-2",
                attrs: {
                    field: t.watch.mail,
                    star: ""
                },
                model: {
                    value: t.watch.mail.value,
                    callback: function(e) {
                        t.$set(t.watch.mail, "value", e)
                    },
                    expression: "watch.mail.value"
                }
            })], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-simple-checkbox", {
                attrs: {
                    color: "primary",
                    ripple: !1
                },
                model: {
                    value: t.watch.sendSms,
                    callback: function(e) {
                        t.$set(t.watch, "sendSms", e)
                    },
                    expression: "watch.sendSms"
                }
            }), i("form-field", {
                staticClass: "ml-2",
                attrs: {
                    field: t.watch.phone,
                    star: ""
                },
                model: {
                    value: t.watch.phone.value,
                    callback: function(e) {
                        t.$set(t.watch.phone, "value", e)
                    },
                    expression: "watch.phone.value"
                }
            })], 1)] : i("form-field", {
                attrs: {
                    field: t.watch.mail,
                    star: ""
                },
                model: {
                    value: t.watch.mail.value,
                    callback: function(e) {
                        t.$set(t.watch.mail, "value", e)
                    },
                    expression: "watch.mail.value"
                }
            })], 2)] : i("identification", {
                attrs: {
                    title: t.$translate("The activity is fully booked, but you can monitor available spots by identifying yourself below. If you don't have an account, one will be created automatically.")
                }
            })], 2), i("v-card-actions", [t.$store.state.isLoggedIn ? [t.isWatching ? [i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    outlined: "",
                    color: "error"
                },
                on: {
                    click: t.stopWatching
                }
            }, [t._v(" " + t._s(t.$translate("Stop watching")) + " ")]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    color: "primary",
                    disabled: !t.watch.formValid,
                    loading: t.watch.loading
                },
                on: {
                    click: t.startWatching
                }
            }, [t._v(" " + t._s(t.$translate("Save")) + " ")])] : [i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showWatchDialog = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    color: "primary",
                    disabled: !t.watch.formValid,
                    loading: t.watch.loading
                },
                on: {
                    click: t.startWatching
                }
            }, [t._v(" " + t._s(t.$translate("Watch")) + " ")])]] : i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showWatchDialog = !1
                    }
                }
            }, [i("div", {
                staticClass: "ma-1 fill-width text-center"
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")])])], 2)], 1)], 1) : t._e(), t.showWatchDialog ? i("watch-dialog", {
                attrs: {
                    entity: t.course,
                    type: "course",
                    infoComponentProps: {
                        course: t.course,
                        showImage: !1
                    },
                    infoComponent: t.CourseHeader
                },
                on: {
                    close: t.closeWatchDialog
                },
                model: {
                    value: t.showWatchDialog,
                    callback: function(e) {
                        t.showWatchDialog = e
                    },
                    expression: "showWatchDialog"
                }
            }) : t._e(), i("product-dialog", {
                ref: "includedProductDialog",
                attrs: {
                    product: t.showingProduct,
                    "show-count": !1,
                    "show-buy-button": !1
                },
                model: {
                    value: t.showIncludedProductDialog,
                    callback: function(e) {
                        t.showIncludedProductDialog = e
                    },
                    expression: "showIncludedProductDialog"
                }
            })], 1) : t.courseId && !t.courseLoadingFailed || t.forceLoading ? i("div", {
                staticClass: "d-flex align-center flex-column"
            }, [i("div", {
                staticClass: "flex-grow-1 text-center text-h5"
            }, [t._v(t._s(t.$translate("The course is loading...")))]), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : i("div", {
                staticClass: "d-flex align-center flex-column"
            }, [i("v-card", {
                attrs: {
                    flat: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline primarytext--text primary"
            }, [t._v(" " + t._s(t.$translate("Could not find the course")) + " "), i("v-spacer"), i("v-btn", {
                staticClass: "primarytext--text",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [t._v(" " + t._s(t.$translate("The course you are trying to find does not appear to exist, please try a different url, or go and check out our entire range to see if you can find something that suits you.")) + " ")])], 1)], 1)
        }
          , Bs = []
          , Fs = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.showImage ? i("dialog-header", {
                attrs: {
                    image: t.image,
                    title: t.showTitle ? t.course.name : "",
                    "show-close": t.showClose
                },
                on: {
                    close: function(e) {
                        return t.$emit("close")
                    }
                },
                scopedSlots: t._u([{
                    key: "pretitle",
                    fn: function() {
                        return [i("booking-status", {
                            attrs: {
                                space: t.course.space,
                                "space-left": t.course.spaceLeft,
                                "first-booking-time": t.course.firstBookingTime,
                                "last-booking-time": t.course.lastBookingTime,
                                size: "22px",
                                text: !0
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 4189566702)
            }) : t.showTitle ? i("h1", [t._v(t._s(t.course.name))]) : t._e(), i("div", {
                staticClass: "text--secondary",
                class: t.textClass
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [t.course.occasions ? i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-calendar-check")]), t._v(t._s(t.occasionsString) + " ")], 1)]) : t._e(), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-calendar-range")]), t._v(t._s(Date.formatFullShort(t.course.startTime).capitalize()) + " - " + t._s(Date.formatFullShort(t.course.endTime)) + " ")], 1)])], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [t.staffs ? i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-account-outline")]), t._l(t.staffs, (function(e, s) {
                return i("a", {
                    key: e.id,
                    staticClass: "primary--text z-no-underline",
                    attrs: {
                        href: ""
                    },
                    on: {
                        click: function(i) {
                            return i.preventDefault(),
                            t.doShowStaffInfoDialog(e)
                        }
                    }
                }, [t._v(t._s(t.getName(e)) + t._s(s != t.staffs.length - 1 ? ", " : ""))])
            }
            ))], 2)]) : t._e(), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-tag-outline")]), t._v(t._s(t._f("price")(t.course.price)) + " ")], 1)])], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-folder-multiple-outline")]), t._v(t._s(t.categoryName) + " ")], 1)]), t.sitesAndResourcesText ? i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", [i("v-icon", {
                staticClass: "mr-1",
                attrs: {
                    small: "",
                    color: "primary"
                }
            }, [t._v("mdi-map-marker")]), t._v(t._s(t.sitesAndResourcesText) + " ")], 1)]) : t._e()], 1)], 1), i("staff-info-dialog", {
                attrs: {
                    staff: t.showStaff
                },
                model: {
                    value: t.showStaffInfoDialog,
                    callback: function(e) {
                        t.showStaffInfoDialog = e
                    },
                    expression: "showStaffInfoDialog"
                }
            })], 1)
        }
          , Es = []
          , Os = i("0949")
          , Ms = {
            name: "zoezi-course-header",
            props: {
                course: {},
                showImage: {},
                showTitle: {},
                textClass: {},
                showClose: {}
            },
            components: {
                BookingStatus: Ds,
                DialogHeader: Os["a"],
                StaffInfoDialog: Xe["a"]
            },
            data: ()=>({
                showStaffInfoDialog: !1,
                showStaff: null
            }),
            computed: {
                staffs() {
                    if (!this.course)
                        return null;
                    if (this.course.staffs)
                        return this.course.staffs;
                    if (0 == this.course.workouts.length)
                        return null;
                    let t = [];
                    return this.course.workouts.forEach(e=>{
                        e.staffs.forEach(e=>{
                            t.find(t=>t.id == e.id) || t.push(e)
                        }
                        )
                    }
                    ),
                    t
                },
                resources() {
                    if (!this.course)
                        return [];
                    if (this.course.resources)
                        return this.course.resources.map(t=>t.name);
                    let t = [];
                    return this.course.workouts.forEach(e=>{
                        e.resources.forEach(e=>{
                            let i = Object(o["n"])(e);
                            -1 == t.indexOf(i) && t.push(i)
                        }
                        )
                    }
                    ),
                    t
                },
                category() {
                    var t, e;
                    return null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.coursecategories) || void 0 === e ? void 0 : e.find(t=>t.id == this.course.category_id)
                },
                image() {
                    var t;
                    return this.course.imagekey ? this.course.imagekey : null === (t = this.category) || void 0 === t ? void 0 : t.imagekey
                },
                categoryName() {
                    var t;
                    return null === (t = this.category) || void 0 === t ? void 0 : t.name
                },
                sites() {
                    return this.$store.state.settings && this.$store.state.settings.sites && 1 != this.$store.state.settings.sites.length ? this.course.sites.map(t=>this.$store.state.settings.sites.find(e=>e.id == t).name) : []
                },
                sitesAndResourcesText() {
                    return this.sites.concat(this.resources).join(", ")
                },
                occasionsString() {
                    return 1 == this.course.occasions ? this.$translate("1 occasion") : this.$translate("{0} occasions").format(this.course.occasions)
                }
            },
            methods: {
                doShowStaffInfoDialog(t) {
                    this.showStaffInfoDialog = !0,
                    this.showStaff = t
                },
                getName: o["n"]
            }
        }
          , As = Ms
          , Rs = Object(p["a"])(As, Fs, Es, !1, null, null, null)
          , Ls = Rs.exports;
        g()(Rs, {
            VCol: M["a"],
            VIcon: y["a"],
            VRow: A["a"]
        });
        var js = i("1a9e")
          , Ns = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.showDialog ? i("bottom-dialog", {
                attrs: {
                    "max-width": "550px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [t.done ? i("v-sheet", {
                staticClass: "primarytext--text",
                attrs: {
                    color: "primary"
                }
            }, [i("div", {
                staticClass: "fill-width d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("div", {
                staticClass: "d-flex justify-center pt-8"
            }, [i("v-icon", {
                staticClass: "primarytext--text",
                attrs: {
                    "x-large": ""
                }
            }, [t._v("mdi-checkbox-marked-circle-outline")])], 1), i("div", {
                staticClass: "d-flex justify-center"
            }, [i("span", {
                staticClass: "text-h4"
            }, [t._v(t._s(t.$translate("Done!")))])]), i("div", {
                staticClass: "d-flex justify-center mt-4 pb-10"
            }, [i("span", {
                staticClass: "text-h6"
            }, [t._v(t._s(t.$translate("Your cancellation is complete!")))])])]) : i("v-card", {
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("CANCEL_BOOKING")) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll"
            }, [i("stepper-content", {
                attrs: {
                    steps: t.steps
                },
                scopedSlots: t._u([{
                    key: "terms",
                    fn: function() {
                        return [t.courseBooking && t.cancelInfo ? [i("div", {
                            staticClass: "font-weight-bold mt-2"
                        }, [t._v(t._s(t.$translate("Cancellation of {0}").format(t.courseBooking.course_name)))]), t.cancelEnabled ? [i("p", {
                            staticClass: "mt-2"
                        }, [t._v(" " + t._s(t.$translate("If you proceed with the cancellation, the following terms and costs will apply.")) + " ")]), i("ul", [i("li", [t._v(t._s(t.$translate("Your cancellation is being processed today")) + ", " + t._s(t.date) + ", " + t._s(t.daysBeforeOrAfterStartString))]), t.products.length ? i("li", [t._v(t._s(t.$translate("Products purchased in conjunction with the booking are refunded in full price")))]) : t._e(), i("li", [t._v(t._s(t.$translate("You are reimbursed as follows")) + ":"), i("br"), i("br"), i("div", [i("div", {
                            staticClass: "d-flex"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Course amount")))]), i("div", [t._v(t._s(t._f("price")(t.cancelInfo.course_amount)))])]), t.products.length ? i("div", {
                            staticClass: "d-flex font-weight-bold"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Refund of supplementary products")))])]) : t._e(), t._l(t.products, (function(e) {
                            return i("div", {
                                key: e,
                                staticClass: "d-flex"
                            }, [i("div", {
                                staticClass: "flex-grow-1"
                            }, [t._v(t._s(e.name))]), i("div", [t._v(t._s(t._f("price")(e.amount)))])])
                        }
                        )), t.cancelInfo.paidAmount ? i("div", {
                            staticClass: "d-flex font-weight-bold"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Paid amount")))]), i("div", [t._v(t._s(t._f("price")(t.cancelInfo.paidAmount)))])]) : i("div", {
                            staticClass: "d-flex font-weight-bold"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("The paid amount will be on the payer's value card")))])]), t.cancelInfo.fee_fixed ? i("div", {
                            staticClass: "d-flex"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Administrative fee")))]), i("div", [t._v("-" + t._s(t._f("price")(t.cancelInfo.fee_fixed)))])]) : t._e(), t.cancelInfo.fee_by_percent ? i("div", {
                            staticClass: "d-flex"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Cost of cancellation")) + " " + t._s(t.cancelInfo.fee_percent) + "%")]), i("div", [t._v("-" + t._s(t._f("price")(t.cancelInfo.fee_by_percent)))])]) : t._e(), i("div", {
                            staticClass: "d-flex font-weight-bold"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate(t.cancelInfo.refundAmount > 0 ? "Amount to be refunded" : "Amount to pay")))]), i("div", [t._v(t._s(t._f("price")(Math.abs(t.cancelInfo.refundAmount))))])])], 2)])])] : i("p", {
                            staticClass: "mt-2"
                        }, [t._v(" " + t._s(t.$translate("Please contact us to cancel this activity")) + " ")]), i("div", {
                            staticClass: "elevation-2 pa-4"
                        }, [i("div", {
                            staticClass: "d-flex z-clickable",
                            on: {
                                click: function(e) {
                                    t.showCancelRules = !0
                                }
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: "error"
                            }
                        }, [t._v("mdi-sticker-alert-outline")]), i("div", {
                            staticClass: "ml-2 error--text flex-grow-1"
                        }, [t._v(" " + t._s(t.$translate("Cancellation policy"))), i("br"), i("span", {
                            staticClass: "z-small-font"
                        }, [t._v(t._s(t.$translate("Approved")) + " " + t._s(Date.newFull(t.courseBooking.created).yyyymmdd()))])]), i("v-icon", [t._v("mdi-chevron-right")])], 1), t.showCancelRules ? i("cancel-rules-dialog", {
                            attrs: {
                                "cancel-rules": t.courseBooking.cancelRules
                            },
                            model: {
                                value: t.showCancelRules,
                                callback: function(e) {
                                    t.showCancelRules = e
                                },
                                expression: "showCancelRules"
                            }
                        }) : t._e()], 1)] : t._e()]
                    },
                    proxy: !0
                }, {
                    key: "finish",
                    fn: function() {
                        return [i("div", {
                            staticClass: "font-weight-bold mt-4"
                        }, [t._v(t._s(t.$translate("Refund method")))]), i("p", [t._v(t._s(t.$translate("Choose how you would like the amount to be repaid to you.")))]), i("div", {
                            staticClass: "mx-2"
                        }, [i("v-form", {
                            attrs: {
                                disabled: t.loading
                            },
                            on: {
                                submit: function(t) {
                                    t.preventDefault()
                                }
                            },
                            model: {
                                value: t.formValid,
                                callback: function(e) {
                                    t.formValid = e
                                },
                                expression: "formValid"
                            }
                        }, [i("v-radio-group", {
                            model: {
                                value: t.selectedMethodId,
                                callback: function(e) {
                                    t.selectedMethodId = e
                                },
                                expression: "selectedMethodId"
                            }
                        }, t._l(t.sortedMethods, (function(e) {
                            return i("div", {
                                key: e.id,
                                staticClass: "zoezi-checkout-payment-method z-rounded-border my-1"
                            }, [i("div", {
                                staticClass: "d-flex ml-2"
                            }, [i("v-radio", {
                                staticClass: "flex-grow-1 mb-0",
                                attrs: {
                                    label: t.getMethodName(e),
                                    color: "primary",
                                    value: e.id
                                }
                            }), i("img", {
                                staticClass: "zoezi-checkout-payment-method-image ma-1",
                                staticStyle: {
                                    height: "32px",
                                    width: "32px"
                                },
                                attrs: {
                                    src: e.imagekey ? t.$api.getImageUrl(e.imagekey, 100) : t.$api.getAssetUrl(e.imageSrc)
                                }
                            })], 1), e.id == t.selectedMethodId ? i("div", {
                                staticClass: "mx-2"
                            }, ["bank" == e.id ? [i("span", {
                                staticClass: "font-weight-bold"
                            }, [t._v(t._s(t._f("price")(t.cancelInfo.refundAmount)))]), t._v(" " + t._s(t.$translate("refunded to the specified account")) + " "), i("v-text-field", {
                                attrs: {
                                    label: t.$translate("Clearing number"),
                                    autocomplete: "off",
                                    type: "text",
                                    inputmode: "numeric",
                                    min: "1000",
                                    max: "99999",
                                    rules: [t.clearingNumberOk]
                                },
                                scopedSlots: t._u([{
                                    key: "append-outer",
                                    fn: function() {
                                        return [t.bank && t.bank.image ? i("v-img", {
                                            attrs: {
                                                height: "50",
                                                width: "100",
                                                position: "top",
                                                src: t.$api.getAssetUrl("/assets/img/banks/" + t.bank.image),
                                                contain: ""
                                            }
                                        }) : t.bank ? i("span", [t._v(t._s(t.bank.name))]) : i("div", {
                                            staticStyle: {
                                                width: "20px"
                                            }
                                        })]
                                    },
                                    proxy: !0
                                }], null, !0),
                                model: {
                                    value: t.clearingNumber,
                                    callback: function(e) {
                                        t.clearingNumber = e
                                    },
                                    expression: "clearingNumber"
                                }
                            }), i("v-text-field", {
                                attrs: {
                                    type: "number",
                                    autocomplete: "off",
                                    inputmode: "numeric",
                                    min: "0",
                                    rules: [t.accountNumberOk]
                                },
                                scopedSlots: t._u([{
                                    key: "label",
                                    fn: function() {
                                        return [i("div", [t._v(" " + t._s(t.$translate("Bank account number")) + " "), i("small", [t._v("("), i("a", {
                                            staticStyle: {
                                                "pointer-events": "auto"
                                            },
                                            attrs: {
                                                target: "_blank",
                                                href: "https://zoezi.se/manualer/ekonomi/autogiro-servicebyra/#kontonummer"
                                            }
                                        }, [t._v(t._s(t.$translate("Read more about bank account numbers here")))]), t._v(")")])])]
                                    },
                                    proxy: !0
                                }], null, !0),
                                model: {
                                    value: t.bankAccountNumber,
                                    callback: function(e) {
                                        t.bankAccountNumber = e
                                    },
                                    expression: "bankAccountNumber"
                                }
                            })] : "swishi" == e.id ? [i("span", {
                                staticClass: "font-weight-bold"
                            }, [t._v(t._s(t._f("price")(t.cancelInfo.refundAmount)))]), t._v(" " + t._s(t.$translate("refunded to")) + " " + t._s(t.cancelInfo.swish_account) + " ")] : "valuecard" == e.id ? [i("span", {
                                staticClass: "font-weight-bold"
                            }, [t._v(t._s(t._f("price")(t.cancelInfo.refundAmount)))]), t._v(" " + t._s(t.$translate("be placed on a credit note which you can use to book similar courses. If you choose this option, you cannot have your money paid out.")) + " ")] : t._e()], 2) : t._e()])
                        }
                        )), 0)], 1)], 1)]
                    },
                    proxy: !0
                }], null, !1, 855118498),
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1), i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    showTitle: t.steps.length > 1
                },
                on: {
                    cancel: function(e) {
                        t.showDialog = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e()
        }
          , Ws = []
          , qs = i("9fc1")
          , Hs = i("9f44")
          , Us = {
            name: "zoezi-cancel-booking-dialog",
            props: {
                value: {},
                courseBooking: {},
                cancelEnabled: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                BottomDialog: $e["a"],
                Stepper: Se["a"],
                StepperContent: Oe["a"],
                CancelRulesDialog: qs["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t
                    }
                },
                showDialog(t) {
                    this.$emit("input", t)
                },
                courseBooking: {
                    immediate: !0,
                    handler(t) {
                        t && (this.getRefundInformation(),
                        this.getAccounts())
                    }
                }
            },
            computed: {
                steps() {
                    return this.cancelInfo ? this.cancelEnabled ? this.cancelInfo.refundAmount <= 0 ? [{
                        title: this.$translate("Terms"),
                        id: "terms",
                        nextTitle: this.$translate("CANCEL_BOOKING"),
                        nextLoading: this.loading,
                        nextClicked: this.cancel,
                        complete: !0
                    }] : [{
                        title: this.$translate("Terms"),
                        id: "terms",
                        complete: !0
                    }, {
                        title: this.$translate("Complete"),
                        id: "finish",
                        nextTitle: this.$translate("CANCEL_BOOKING"),
                        complete: this.formValid && this.selectedMethodId,
                        nextLoading: this.loading,
                        nextClicked: this.cancel
                    }] : [{
                        title: this.$translate("Terms"),
                        id: "terms",
                        nextTitle: this.$translate("Close"),
                        nextClicked: ()=>this.showDialog = !1,
                        complete: !0
                    }] : []
                },
                date() {
                    let t = this.$store.state.now30s
                      , e = window.$translate(t.getWeekDayString())
                      , i = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
                    return `${i(e)} ${t.getDate()} ${i(window.$translate(t.getMonthName()))}`
                },
                daysBeforeOrAfterStart() {
                    let t = this.$store.state.now30s
                      , e = Date.newFull(this.courseBooking.startTime)
                      , i = Math.abs(t.daysUntil(e));
                    return i
                },
                daysBeforeOrAfterStartString() {
                    let t = this.$store.state.now30s
                      , e = Date.newFull(this.courseBooking.startTime)
                      , i = t > e
                      , s = this.daysBeforeOrAfterStart;
                    return this.$translate(i ? "{0} days after start" : "{0} days before start").format(s)
                },
                sortedMethods() {
                    return this.cancelInfo ? [{
                        id: "swish",
                        name: "Swish",
                        imageSrc: "/assets/img/swish_logo_primary_idshape_RGB.png"
                    }, {
                        id: "swishi",
                        name: "Swish",
                        imageSrc: "/assets/img/swish_logo_primary_idshape_RGB.png"
                    }, {
                        id: "bank",
                        name: this.$translate("Bank account"),
                        imageSrc: "/assets/img/bank.jpg"
                    }, {
                        id: "valuecard",
                        name: this.$translate("Credit"),
                        imageSrc: "/assets/img/valuecard.png"
                    }, {
                        id: "stripe",
                        name: this.$translate("Card payment"),
                        imageSrc: "/assets/img/creditcard.png"
                    }, {
                        id: "adyen-card",
                        name: this.$translate("Card payment"),
                        imageSrc: "/assets/img/creditcard.png"
                    }].filter(t=>this.cancelInfo.methods.includes(t.id)) : []
                },
                bank() {
                    return Hs["a"].getBankFromClearingNumber(this.clearingNumber)
                }
            },
            data: ()=>({
                currentStep: 0,
                showDialog: !1,
                showCancelRules: !1,
                formValid: !1,
                bankAccountNumber: null,
                clearingNumber: null,
                selectedMethodId: null,
                loading: !1,
                done: !1,
                cancelInfo: null,
                products: []
            }),
            methods: {
                getMethodName(t) {
                    return "swishi" == t.id ? "Swish" : "stripe" == t.id ? this.$translate("Debit card") : this.$translate(t.name)
                },
                clearingNumberOk(t) {
                    let e = Hs["a"].getBankFromClearingNumber(t);
                    return !!e || this.$translate("No valid clearing number")
                },
                accountNumberOk() {
                    let t = Hs["a"].validateAccountNumber(this.clearingNumber, this.bankAccountNumber);
                    return !!t || this.$translate("No valid account number")
                },
                cancel() {
                    let t = {
                        booking_id: this.courseBooking.id,
                        method: this.selectedMethodId,
                        refundAmount: this.cancelInfo.refundAmount
                    };
                    "bank" == t.method && (t.account = {
                        clearingnumber: this.clearingNumber,
                        account: this.bankAccountNumber
                    }),
                    this.loading = !0,
                    this.$api.post("/api/memberapi/course/cancel", t).then(t=>{
                        this.loading = !1,
                        t.ok ? this.done = !0 : this.$store.commit("showErrorDialog", {
                            title: this.$translate("Cancellation error"),
                            text: this.$translate("The booking could not be cancelled")
                        })
                    }
                    )
                },
                getRefundInformation() {
                    this.$api.get("/api/memberapi/course/cancelinfo", {
                        booking_id: this.courseBooking.id
                    }).then(t=>{
                        let e = 0;
                        t.payments.forEach(t=>{
                            if (t.amount = -Number(t.amount),
                            t.amount)
                                if ("discount" == t.type)
                                    e += t.amount;
                                else {
                                    if ("course" == t.type)
                                        return;
                                    this.products.push(t)
                                }
                        }
                        ),
                        e && this.products.push({
                            name: this.$translate("Discount"),
                            amount: e
                        });
                        for (let i of ["fee", "fee_fixed", "fee_percent", "fee_by_percent", "paidAmount", "refundAmount", "course_amount"])
                            t[i] = Number(t[i]);
                        this.cancelInfo = t
                    }
                    )
                },
                getAccounts() {
                    this.$api.get("/api/memberapi/bankaccount/get").then(t=>{
                        let e = t.find(t=>"bankaccount" == t.type);
                        e && (this.clearingNumber = e.clearingnumber,
                        this.bankAccountNumber = e.account)
                    }
                    )
                }
            }
        }
          , Ys = Us
          , Gs = i("67b6")
          , Ks = i("43a6")
          , Qs = Object(p["a"])(Ys, Ns, Ws, !1, null, null, null)
          , Js = Qs.exports;
        g()(Qs, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VRadio: Gs["a"],
            VRadioGroup: Ks["a"],
            VSheet: ue["a"],
            VTextField: z["a"]
        });
        var Xs = i("307d")
          , Zs = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.showWatchDialog ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "500px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                on: {
                    "click:outside": t.closeDialog
                },
                model: {
                    value: t.showWatchDialog,
                    callback: function(e) {
                        t.showWatchDialog = e
                    },
                    expression: "showWatchDialog"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", {
                domProps: {
                    textContent: t._s(t.entity.name)
                }
            }), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: t.closeDialog
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll",
                class: {
                    "px-2": t.$vuetify.breakpoint.mobile
                }
            }, [[i("div", {
                staticClass: "mt-2 mb-2"
            }, [i("v-expansion-panels", [i("v-expansion-panel", [i("v-expansion-panel-header", [i("v-row", {
                attrs: {
                    "no-gutters": "",
                    align: "center"
                }
            }, [i("v-col", {
                attrs: {
                    cols: "auto"
                }
            }, [i("v-icon", [t._v("mdi-information")])], 1), i("v-col", {
                staticClass: "ml-2"
            }, [t._v(" " + t._s(t.$translate("How does watching work?")) + " ")])], 1)], 1), i("v-expansion-panel-content", [t._v(" " + t._s(t.watchInfoText) + " ")])], 1)], 1)], 1)], t.infoComponent ? [i(t.infoComponent, t._b({
                tag: "component",
                staticClass: "mb-2"
            }, "component", t.infoComponentProps, !1))] : t._e(), t.$store.state.isLoggedIn ? [i("div", {
                staticClass: "d-flex"
            }, [i("v-icon", [t._v("mdi-account-question")]), i("div", {
                staticClass: "ml-2 font-weight-bold"
            }, [t._v(t._s(t.$translate("How do you want to be notified?")))])], 1), t.hasSms ? [t._v(" " + t._s(t.$translate("You can fill in both email address and phone number, but indicate the method you want to use by ticking the box next to it.")) + " ")] : t._e(), i("v-form", {
                model: {
                    value: t.watch.formValid,
                    callback: function(e) {
                        t.$set(t.watch, "formValid", e)
                    },
                    expression: "watch.formValid"
                }
            }, [i("form-field", {
                attrs: {
                    field: t.watch.firstname,
                    star: ""
                },
                model: {
                    value: t.watch.firstname.value,
                    callback: function(e) {
                        t.$set(t.watch.firstname, "value", e)
                    },
                    expression: "watch.firstname.value"
                }
            }), i("form-field", {
                attrs: {
                    field: t.watch.lastname,
                    star: ""
                },
                model: {
                    value: t.watch.lastname.value,
                    callback: function(e) {
                        t.$set(t.watch.lastname, "value", e)
                    },
                    expression: "watch.lastname.value"
                }
            }), t.hasSms ? [i("div", {
                staticClass: "d-flex"
            }, [i("v-simple-checkbox", {
                attrs: {
                    color: "primary",
                    ripple: !1
                },
                model: {
                    value: t.watch.sendMail,
                    callback: function(e) {
                        t.$set(t.watch, "sendMail", e)
                    },
                    expression: "watch.sendMail"
                }
            }), i("form-field", {
                staticClass: "ml-2",
                attrs: {
                    field: t.watch.mail,
                    star: ""
                },
                model: {
                    value: t.watch.mail.value,
                    callback: function(e) {
                        t.$set(t.watch.mail, "value", e)
                    },
                    expression: "watch.mail.value"
                }
            })], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-simple-checkbox", {
                attrs: {
                    color: "primary",
                    ripple: !1
                },
                model: {
                    value: t.watch.sendSms,
                    callback: function(e) {
                        t.$set(t.watch, "sendSms", e)
                    },
                    expression: "watch.sendSms"
                }
            }), i("form-field", {
                staticClass: "ml-2",
                attrs: {
                    field: t.watch.phone,
                    star: ""
                },
                model: {
                    value: t.watch.phone.value,
                    callback: function(e) {
                        t.$set(t.watch.phone, "value", e)
                    },
                    expression: "watch.phone.value"
                }
            })], 1)] : i("form-field", {
                attrs: {
                    field: t.watch.mail,
                    star: ""
                },
                model: {
                    value: t.watch.mail.value,
                    callback: function(e) {
                        t.$set(t.watch.mail, "value", e)
                    },
                    expression: "watch.mail.value"
                }
            }), t.formChanged ? i("v-alert", {
                attrs: {
                    text: "",
                    dense: "",
                    border: "left",
                    icon: "mdi-alert-circle-outline",
                    type: "info"
                }
            }, [t._v(t._s(t.$translate("Your account will be updated with the changes made.")))]) : t._e()], 2)] : i("identification", {
                attrs: {
                    title: t.notLoggedInTitle
                }
            })], 2), i("v-card-actions", [t.$store.state.isLoggedIn ? [t.isWatching ? [i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    outlined: "",
                    color: "error"
                },
                on: {
                    click: t.stopWatching
                }
            }, [t._v(" " + t._s(t.$translate("Cancel watching")) + " ")]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    color: "primary",
                    disabled: !t.watch.formValid,
                    loading: t.watch.loading
                },
                on: {
                    click: t.startWatching
                }
            }, [t._v(" " + t._s(t.$translate("Save")) + " ")])] : [i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: t.closeDialog
                }
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    width: "50%"
                },
                attrs: {
                    color: "primary",
                    disabled: !t.watch.formValid,
                    loading: t.watch.loading
                },
                on: {
                    click: t.startWatching
                }
            }, [t._v(" " + t._s(t.$translate("Watch")) + " ")])]] : i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: t.closeDialog
                }
            }, [i("div", {
                staticClass: "ma-1 fill-width text-center"
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")])])], 2)], 1)], 1) : t._e()
        }
          , ta = []
          , ea = {
            name: "zoezi-watch-dialog",
            components: {
                BottomDialog: $e["a"],
                FormField: Ee["a"]
            },
            props: {
                value: {
                    type: Boolean
                },
                entity: {
                    type: Object,
                    required: !0
                },
                type: {
                    type: String,
                    required: !0
                },
                infoComponent: {
                    type: Object,
                    required: !1
                },
                infoComponentProps: {
                    type: Object,
                    required: !1
                }
            },
            data() {
                return {
                    showWatchDialog: !1,
                    watch: {
                        firstname: {
                            type: "text",
                            title: "First name",
                            required: !0,
                            readonly: !1,
                            value: ""
                        },
                        lastname: {
                            type: "text",
                            title: "Last name",
                            required: !0,
                            readonly: !1,
                            value: ""
                        },
                        phone: {
                            type: "phone",
                            title: "Mobile phone number",
                            icon: "mdi-cellphone-iphone",
                            required: !0,
                            readonly: !1,
                            value: ""
                        },
                        mail: {
                            type: "email",
                            title: "E-Mail",
                            required: !0,
                            icon: "mdi-email",
                            readonly: !1,
                            value: ""
                        },
                        sendMail: !0,
                        sendSms: !0,
                        loading: !1,
                        formValid: !1
                    },
                    formChanged: !1,
                    initialState: null
                }
            },
            mounted() {
                this.initialState = JSON.parse(JSON.stringify(this.watch))
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.updateWatch(),
                        this.showWatchDialog = t
                    }
                },
                "$store.state.isLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        t && this.$store.state.user && (this.watch.firstname.value = this.$store.state.user.firstname,
                        this.watch.lastname.value = this.$store.state.user.lastname,
                        this.watch.mail.value = this.$store.state.user.mail,
                        this.watch.phone.value = this.$store.state.user.phone,
                        this.watch.sendMail = !!this.$store.state.user.mail,
                        this.watch.sendSms = !!this.$store.state.user.phone)
                    }
                },
                "watch.sendMail"(t) {
                    this.watch.mail.required = t,
                    this.watch.mail.readonly = !t
                },
                "watch.sendSms"(t) {
                    this.watch.phone.required = t,
                    this.watch.phone.readonly = !t
                },
                watch: {
                    handler() {
                        this.formChanged = !this.isEqual(this.watch, this.initialState)
                    },
                    deep: !0
                }
            },
            methods: {
                isEqual(t, e) {
                    return JSON.stringify(t) === JSON.stringify(e)
                },
                startWatching() {
                    this.watch.loading = !0,
                    this.updateMemberInformationIfNeeded(()=>{
                        let t = {
                            [this.typeIdKey]: this.entity.id,
                            mail: this.watch.sendMail,
                            sms: this.hasSms && this.watch.sendSms
                        };
                        this.$api.post("/api/memberapi/watch/add", null, t).then(t=>{
                            t.json().then(e=>{
                                if (this.watch.loading = !1,
                                t.ok)
                                    this.closeDialog();
                                else {
                                    let t = this.$translate(e.message);
                                    this.$store.commit("showSnackBar", {
                                        text: t
                                    })
                                }
                            }
                            )
                        }
                        )
                    }
                    )
                },
                stopWatching() {
                    this.$api.post("/api/memberapi/watch/remove", null, {
                        [this.typeIdKey]: this.entity.id
                    }),
                    this.closeDialog()
                },
                updateWatch() {
                    let t = this.$store.state.user;
                    this.watch.firstname.value = null === t || void 0 === t ? void 0 : t.firstname,
                    this.watch.lastname.value = null === t || void 0 === t ? void 0 : t.lastname,
                    this.watch.mail.value = null === t || void 0 === t ? void 0 : t.mail,
                    this.watch.phone.value = null === t || void 0 === t ? void 0 : t.phone,
                    this.watchInfo ? (this.watch.sendMail = this.watchInfo.mail,
                    this.watch.sendSms = this.watchInfo.sms) : (this.watch.sendMail = !!this.watch.mail.value,
                    this.watch.sendSms = !!this.watch.phone.value)
                },
                updateMemberInformationIfNeeded(t) {
                    let e = this.$store.state.user
                      , i = {}
                      , s = ["firstname", "lastname", "mail"];
                    this.hasSms && s.push("phone");
                    let a = !1;
                    s.forEach(t=>{
                        this.watch[t].value != e[t] && (i[t] = this.watch[t].value,
                        a = !0)
                    }
                    ),
                    a ? this.$api.post("/api/memberapi/change", i).then(()=>{
                        this.formChanged = !1,
                        t()
                    }
                    ) : t()
                },
                closeDialog() {
                    this.showWatchDialog = !1,
                    this.$emit("close")
                }
            },
            computed: {
                hasSms() {
                    var t;
                    return null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.sms
                },
                isWatching() {
                    var t;
                    const e = this.entity && (null === (t = this.$store.state.bookings) || void 0 === t ? void 0 : t[this.type + "watches"]);
                    return null === e || void 0 === e ? void 0 : e.some(t=>{
                        var e;
                        return t[this.typeIdKey] == this.entity.id && t.user_id == (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id)
                    }
                    )
                },
                notLoggedInTitle() {
                    return this.$translate("The activity is fully booked, but you can watch for available spots by identifying yourself below. If you don't have an account, one will be created automatically.")
                },
                typeIdKey() {
                    return this.type + "_id"
                },
                watchInfoText() {
                    switch (this.type) {
                    case "course":
                        return this.$translate("COURSE_WATCH_INFO");
                    case "gameclass":
                        return this.$translate("TEAMSPORT_WATCH_INFO");
                    default:
                        return ""
                    }
                }
            }
        }
          , ia = ea
          , sa = i("9e88")
          , aa = Object(p["a"])(ia, Zs, ta, !1, null, null, null)
          , oa = aa.exports;
        g()(aa, {
            VAlert: He["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSimpleCheckbox: sa["a"]
        });
        var na = {
            name: "zoezi-coursebooking",
            zoezi: {
                title: "Course booking",
                icon: "mdi-book",
                addon: "Courses"
            },
            props: {
                courseId: {
                    title: "Course",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/course/get", {
                            compact: !0,
                            bookable: !0,
                            fields: "product.name,id"
                        }).then(t=>t.map(t=>({
                            id: t.id,
                            name: t.product.name
                        }))),
                        selectFirst: !0
                    }
                },
                showImage: {
                    title: "Show image",
                    type: Boolean,
                    default: !0
                },
                showTitle: {
                    title: "Show title",
                    type: Boolean,
                    default: !0
                },
                dialog: {
                    type: Boolean,
                    default: !1
                },
                forceLoading: {
                    type: Boolean,
                    default: !1
                },
                useCart: {
                    title: "Use shopping cart",
                    type: Boolean,
                    default: !0
                },
                cartName: {
                    title: "Name of shopping cart",
                    type: String,
                    default: ""
                }
            },
            components: {
                BottomDialog: $e["a"],
                FormField: Ee["a"],
                CourseHeader: Ls,
                Checkout: xe["a"],
                Stepper: Se["a"],
                StepperContent: Oe["a"],
                ExpansionPanelHeader: Fe["a"],
                ProductDialog: Te["a"],
                AdditionalProductList: Be,
                Identification: js["a"],
                CancelCourseBookingDialog: Js,
                MembershipCheckout: Xs["a"],
                WatchDialog: oa
            },
            data: ()=>({
                currentStep: 0,
                almostdone: !1,
                course: null,
                products: null,
                showBookingDialog: !1,
                questionsDone: !1,
                expandedQuestionPanels: [0],
                expandedProductPanels: [0, 1, 2],
                showingProduct: null,
                checkoutLoading: !1,
                cost: null,
                readyToPay: !1,
                readyToPayExceptPaymentMethod: !1,
                bookMe: !0,
                users: [],
                unsubscribe: null,
                showCancelBooking: !1,
                courseBookingToCancel: null,
                showWatchDialog: !1,
                watch: {
                    firstname: {
                        type: "text",
                        title: "First name",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    lastname: {
                        type: "text",
                        title: "Last name",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    phone: {
                        type: "phone",
                        title: "Mobile phone number",
                        icon: "mdi-cellphone-iphone",
                        required: !0,
                        readonly: !1,
                        value: ""
                    },
                    mail: {
                        type: "email",
                        title: "E-mail",
                        required: !0,
                        icon: "mdi-email",
                        readonly: !1,
                        value: ""
                    },
                    sendMail: !0,
                    sendSms: !0,
                    loading: !1,
                    formValid: !1
                },
                childRegisterFields: [],
                courseLoadingFailed: !1,
                showLongDescription: !1,
                includedProductsExpandedPanel: 0,
                showIncludedProductDialog: !1,
                bookingId: Object(o["p"])(8),
                CourseHeader: Ls
            }),
            watch: {
                courseId: {
                    immediate: !0,
                    handler(t) {
                        t && this.getCourse()
                    }
                },
                "watch.sendMail"(t) {
                    this.watch.mail.required = t,
                    this.watch.mail.readonly = !t
                },
                "watch.sendSms"(t) {
                    this.watch.phone.required = t,
                    this.watch.phone.readonly = !t
                },
                course() {
                    if (!this.course)
                        return;
                    if (this.updateUsers(),
                    this.products)
                        return;
                    try {
                        let t = {
                            id: "c" + this.course.id,
                            name: this.course.name,
                            price: this.course.price,
                            vat: this.course.vat
                        };
                        this.$ecommercetracking.viewItem(t)
                    } catch (i) {
                        q["a"](i)
                    }
                    let t = this.course.additional_products || [];
                    if (0 == t.length && 0 == (this.course.included_products || []).length)
                        return;
                    let e = String(t.concat(this.course.included_products));
                    this.$api.get("/api/public/trainingcard/type/get", {
                        ids: e
                    }).then(t=>{
                        this.products = t,
                        this.products.forEach(t=>{
                            t.variants = t.variants.sort((t,e)=>t.name.localeCompare(e.name))
                        }
                        ),
                        this.updateUsers()
                    }
                    )
                },
                showBookingDialog() {
                    if (this.showBookingDialog) {
                        this.almostdone = !1;
                        let t = this.users.find(t=>t.me);
                        !t || "self" != this.course.canBookFor && "self+others" != this.course.canBookFor || (t.selected = !0,
                        this.updateUsers())
                    } else
                        this.unreserveAll(),
                        this.clearAnswersAndBasket()
                },
                showWatchDialog() {
                    let t = this.$store.state.user;
                    this.watch.firstname.value = null === t || void 0 === t ? void 0 : t.firstname,
                    this.watch.lastname.value = null === t || void 0 === t ? void 0 : t.lastname,
                    this.watch.mail.value = null === t || void 0 === t ? void 0 : t.mail,
                    this.watch.phone.value = null === t || void 0 === t ? void 0 : t.phone,
                    this.watchInfo ? (this.watch.sendMail = this.watchInfo.mail,
                    this.watch.sendSms = this.watchInfo.sms) : (this.watch.sendMail = !!this.watch.mail.value,
                    this.watch.sendSms = !!this.watch.phone.value)
                },
                "$store.state.isLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        if (t && this.showBookingDialog) {
                            if (this.$store.state.user.isBlocked("block_course"))
                                return void (this.showBookingDialog = !1);
                            0 == this.currentStep && this.currentStep++
                        }
                        if (t && this.$store.state.user && this.$store.state.user.canBookFor) {
                            var e, i;
                            let t = "self" == (null === (e = this.course) || void 0 === e ? void 0 : e.canBookFor) || "self+others" == (null === (i = this.course) || void 0 === i ? void 0 : i.canBookFor);
                            this.users = this.$store.state.user.canBookFor.map((e,i)=>({
                                id: e.id,
                                name: e.name,
                                selected: this.$store.state.user.id == e.id && t,
                                me: this.$store.state.user.id == e.id,
                                reservation: null,
                                reserving: !1,
                                expanded: 0 == i,
                                membership: null,
                                isBlocked: ()=>{
                                    var t;
                                    return null === (t = this.$store.state.user.canBookFor.find(t=>t.id == e.id)) || void 0 === t ? void 0 : t.isBlocked("block_course")
                                }
                            })),
                            this.updateUsers()
                        }
                        t && this.$store.state.user && (this.watch.firstname.value = this.$store.state.user.firstname,
                        this.watch.lastname.value = this.$store.state.user.lastname,
                        this.watch.mail.value = this.$store.state.user.mail,
                        this.watch.phone.value = this.$store.state.user.phone,
                        this.watch.sendMail = !!this.$store.state.user.mail,
                        this.watch.sendSms = !!this.$store.state.user.phone)
                    }
                },
                bookings() {
                    this.updateUsers()
                }
            },
            computed: {
                startDateString() {
                    if (!this.course)
                        return null;
                    let t = Date.newFull(this.course.startTime)
                      , e = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
                    return e(this.$translate(t.getWeekDayString())) + " " + t.getDate() + " " + e(this.$translate(t.getMonthName())) + " " + t.getFullYear()
                },
                additionalProducts() {
                    if (!this.products || !this.course)
                        return [];
                    let t = this.course.additional_products || [];
                    return t.map(t=>this.products.find(e=>e.id == t)).filter(t=>t)
                },
                includedProducts() {
                    if (!this.products || !this.course)
                        return [];
                    let t = this.course.included_products || [];
                    return t.map(t=>this.products.find(e=>e.id == t)).filter(t=>t)
                },
                includedProductsDontRequireVariant() {
                    return this.includedProducts.filter(t=>!(t.variants && t.variants.length > 1))
                },
                includedProductsRequireVariant() {
                    return this.includedProducts.filter(t=>t.variants && t.variants.length > 1)
                },
                includedProductsHasVariantSet() {
                    return !this.includedProductsRequireVariant.find(t=>this.bookableUsers.filter(t=>t.selected).find(e=>!e.variantsForIncludedProducts[t.id]))
                },
                checkoutItems() {
                    if (!this.course)
                        return null;
                    let t = this.course.id
                      , e = [];
                    return this.users.filter(t=>t.selected && !this.isInCart(t)).forEach(i=>{
                        let s = {};
                        Object.values(i.questions).forEach(t=>s[t.name] = t.value);
                        let a = this.bookingId + "-" + i.id;
                        e.push({
                            count: 1,
                            course_id: t,
                            price: this.course.price,
                            product_id: this.course.product_id,
                            answers: s,
                            user_id: i.id,
                            tmp_id: a,
                            reservation: i.reservation,
                            variants_for_included_products: i.variantsForIncludedProducts
                        }),
                        this.additionalProducts.forEach(s=>{
                            let o = i.basket[s.id];
                            o.forEach(o=>{
                                o.count && e.push({
                                    count: o.count,
                                    course_id: t,
                                    price: s.price,
                                    product_id: s.id,
                                    variant: o.variant,
                                    user_id: i.id,
                                    tmp_id: a
                                })
                            }
                            )
                        }
                        ),
                        i.membership && e.push({
                            count: 1,
                            users: [i.id],
                            course_id: t,
                            product_id: i.membership.id,
                            product: i.membership
                        })
                    }
                    ),
                    e
                },
                checkoutItemsForMembershipCheckout() {
                    let t = this.users.filter(t=>t.selected && t.membership && !this.isInCart(t)).map(t=>({
                        count: 1,
                        users: [t.id],
                        course_id: this.course.id,
                        product: t.membership
                    }));
                    return [{
                        product: {
                            requireMembership: this.course.requireMembership
                        },
                        users: this.users.filter(t=>t.selected && !this.isInCart(t)).map(t=>t.id)
                    }].concat(t)
                },
                bookings() {
                    var t, e, i;
                    if (!this.$store.state.user)
                        return [];
                    let s = this.course && (null === (t = this.$store.state) || void 0 === t || null === (e = t.bookings) || void 0 === e || null === (i = e.coursebookings) || void 0 === i ? void 0 : i.filter(t=>t.course_id == this.course.id));
                    return s ? s.map(t=>{
                        let e = this.$store.state.user.canBookFor.find(e=>e.id == t.user_id);
                        return {
                            booking: t,
                            user: e
                        }
                    }
                    ).filter(t=>!!t.user) : []
                },
                steps() {
                    let t = this.course.questions && this.course.questions.length || this.canBookForOthers
                      , e = this.additionalProducts.length || this.includedProductsRequireVariant.length
                      , i = this.$booking.isMembershipRequired(this.checkoutItemsForMembershipCheckout)
                      , s = !this.$booking.isMembershipStillRequired(this.checkoutItemsForMembershipCheckout)
                      , a = !this.readyToPayExceptPaymentMethod
                      , n = this.useCart && {
                        label: this.$translate("Add to cart and continue shopping"),
                        clicked: this.addToCart,
                        disabled: a
                    };
                    const r = this.$translate("Pay");
                    return [{
                        title: this.$translate("Account"),
                        id: "account",
                        complete: this.$store.state.isLoggedIn
                    }, t && {
                        title: this.$translate("Questions"),
                        id: "questions",
                        complete: !!this.checkoutItems.length && this.questionsDone
                    }, e && {
                        title: this.$translate("Add-ons"),
                        id: "products",
                        complete: this.includedProductsHasVariantSet
                    }, i && {
                        title: this.$translate("Membership"),
                        id: "membership",
                        complete: s,
                        nextTitle: this.$translate(s ? "Continue" : "Choose membership")
                    }, {
                        title: this.$translate("Complete"),
                        id: "checkout",
                        nextTitle: this.cost > 0 ? `${r} ${Object(o["i"])(this.cost)}` : this.$translate("Confirm booking"),
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: this.readyToPay,
                        extraButton: n
                    }].filter(t=>t)
                },
                productsInBasket() {
                    let t = [];
                    return this.additionalProducts.forEach(e=>{
                        this.users.filter(t=>t.selected).forEach(i=>{
                            let s = i.basket[e.id];
                            s.forEach(i=>{
                                if (i.count) {
                                    let s = t.find(t=>t.product_id == e.id && t.variant == i.variant);
                                    s ? s.count += i.count : t.push({
                                        count: i.count,
                                        product_id: e.id,
                                        variant: i.variant
                                    })
                                }
                            }
                            )
                        }
                        )
                    }
                    ),
                    t
                },
                cancelRules() {
                    if (!this.course)
                        return null;
                    let t = this.course.canCancel && this.course.lastCancelTime ? new o["b"](this.course.lastCancelTime).getDate(this.course.startTime) : null;
                    return {
                        canCancel: this.course.canCancel,
                        lastCancelTime: t,
                        rules: this.course.cancelRules
                    }
                },
                meUser() {
                    return this.users.find(t=>t.me)
                },
                canOnlyBookSelfAndBooked() {
                    return this.course && "self" == this.course.canBookFor && this.$store.state.user && this.bookings.find(t=>t.user.id == this.$store.state.user.id) && 1 == this.bookings.length
                },
                bookingStatusIsRelevant() {
                    return this.course.lastBookingTime > this.$store.state.now30s
                },
                canBook() {
                    return this.course && this.course.firstBookingTime < this.$store.state.now30s && this.course.lastBookingTime > this.$store.state.now30s && 0 !== this.course.spaceLeft && !this.canOnlyBookSelfAndBooked && !this.isBlocked
                },
                isBlocked() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.isBlocked("block_course")
                },
                canWatch() {
                    return this.course && this.course.firstBookingTime < this.$store.state.now30s && this.course.lastBookingTime > this.$store.state.now30s && 0 == this.course.spaceLeft
                },
                hasSms() {
                    var t;
                    return null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.sms
                },
                watchInfo() {
                    var t;
                    let e = this.$store.state.bookings;
                    return this.course && (null === e || void 0 === e || null === (t = e.coursewatches) || void 0 === t ? void 0 : t.find(t=>t.course_id == this.course.id))
                },
                isWatching() {
                    return !!this.watchInfo
                },
                bookableUsers() {
                    return this.course ? this.course.canBookFor && !this.course.canBookFor.includes("self") ? this.users.filter(t=>!t.me) : this.users : []
                },
                newUserPrimaryColor() {
                    return 0 == this.bookableUsers.filter(t=>t.selected).length
                },
                canBookForOthers() {
                    var t, e;
                    return null === (t = this.course) || void 0 === t || null === (e = t.canBookFor) || void 0 === e ? void 0 : e.includes("others")
                },
                occasionsString() {
                    return 1 == this.course.occasions ? this.$translate("1 occasion") : this.$translate("{0} occasions").format(this.course.occasions)
                }
            },
            methods: {
                closeWatchDialog() {
                    this.showWatchDialog = !1
                },
                inc(t) {
                    this.basket[t] += 1
                },
                dec(t) {
                    this.basket[t] && (this.basket[t] -= 1)
                },
                stripHtml: o["H"],
                showAdditionalProduct(t) {
                    this.showingProduct = t,
                    s["default"].nextTick(()=>{
                        this.$refs.productDialog.show()
                    }
                    )
                },
                pay() {
                    this.$refs.checkout.completePurchase()
                },
                changeNumberOfItems(t, e) {
                    if (t.user_id) {
                        let i = this.users.filter(t=>t.selected).find(e=>e.id == t.user_id);
                        if (i) {
                            let s = i.basket[t.product_id]
                              , a = null === s || void 0 === s ? void 0 : s.find(e=>e.variant == t.variant);
                            a && (a.count = e)
                        }
                    } else if (t.users && 1 == t.users.length) {
                        let i = this.users.filter(t=>t.selected).find(e=>e.id == t.users[0]);
                        i && 0 == e && (i.membership = null,
                        this.$booking.isMembershipStillRequired(this.checkoutItemsForMembershipCheckout) && (this.currentStep = this.steps.findIndex(t=>"membership" == t.id)))
                    }
                },
                updateUsers() {
                    this.course && this.users.forEach(t=>{
                        if (!t.questions) {
                            var e;
                            let i = {};
                            null === (e = this.course.questions) || void 0 === e || e.forEach(t=>{
                                t = Object.assign({}, t),
                                t.title = t.name,
                                t.value = null,
                                i[t.name] = t
                            }
                            ),
                            this.$set(t, "questions", i)
                        }
                        if (!t.basket) {
                            this.$set(t, "basket", {});
                            let e = this.course.additional_products || [];
                            e.forEach(e=>this.$set(t.basket, e, []))
                        }
                        if (!t.variantsForIncludedProducts && this.products) {
                            let e = {};
                            this.includedProductsRequireVariant.forEach(t=>e[t.id] = null),
                            this.$set(t, "variantsForIncludedProducts", e)
                        }
                        t.selected && this.bookings.find(e=>e.booking.user_id == t.id) && (t.selected = !1),
                        !t.selected || t.reservation || t.reserving || this.reserve(t),
                        !t.selected && t.reservation && this.unreserve(t)
                    }
                    )
                },
                showAdduserDialog() {
                    this.$store.commit("showAddUserDialog", {
                        title: this.$translate("Add new participant"),
                        booking_fields: !0,
                        callback: t=>{
                            let e = {
                                id: t.id,
                                name: Object(o["n"])(t),
                                selected: !0,
                                me: !1,
                                reservation: null,
                                reserving: !1,
                                expanded: !0,
                                membership: null,
                                isBlocked: ()=>!1
                            };
                            this.users.push(e),
                            this.updateUsers()
                        }
                    })
                },
                showChangeUserDialog(t) {
                    this.$store.commit("showChangeUserDialog", {
                        user_id: t.id
                    })
                },
                reserve(t) {
                    if (t.reserving || !this.showBookingDialog)
                        return;
                    t.reserving = !0;
                    let e = {
                        course_id: this.course.id
                    };
                    this.$api.post("/api/resource/reservation/add", e).then(e=>{
                        t.reserving = !1,
                        e.ok ? e.json().then(e=>{
                            t.reservation = e.key
                        }
                        ) : (this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error during reservation"),
                            text: this.$translate("Something went wrong when the booking was to be reserved")
                        }),
                        t.selected = !1)
                    }
                    )
                },
                unreserve(t) {
                    !t.reserving && t.reservation && (t.reserving = !0,
                    this.$api.post("/api/resource/reservation/cancel", {
                        key: t.reservation
                    }).then(()=>{
                        t.reserving = !1,
                        t.reservation = null,
                        t.selected = !1
                    }
                    ))
                },
                unreserveAll() {
                    let t = this.users.filter(t=>t.reservation)
                      , e = t.map(t=>t.reservation);
                    e.length && (t.forEach(t=>{
                        t.reserving = !0
                    }
                    ),
                    t.forEach(t=>{
                        t.reserving = !1,
                        t.reservation = null,
                        t.selected = !1
                    }
                    ))
                },
                book() {
                    this.currentStep = this.$store.state.isLoggedIn ? 1 : 0,
                    this.showBookingDialog = !0,
                    this.updateUsers();
                    try {
                        let t = {
                            id: "c" + this.course.id,
                            name: this.course.name,
                            price: this.course.price,
                            vat: this.course.vat
                        };
                        this.$ecommercetracking.addToCart(t)
                    } catch (t) {
                        q["a"](t)
                    }
                },
                clearAnswersAndBasket() {
                    this.users.forEach(t=>{
                        t.questions = null,
                        t.basket = null
                    }
                    ),
                    this.bookingId = Object(o["p"])(8)
                },
                canCancel(t) {
                    if (!t.cancelRules || !t.cancelRules.canCancel || !t.cancelRules.lastCancelTime)
                        return !1;
                    let e = new o["b"](t.cancelRules.lastCancelTime).getDate(this.course.startTime);
                    return this.$store.state.now30s < e
                },
                cancel(t) {
                    this.courseBookingToCancel = t,
                    this.showCancelBooking = !0
                },
                updateMemberInformationIfNeeded(t) {
                    let e = this.$store.state.user
                      , i = {}
                      , s = ["firstname", "lastname", "mail"];
                    this.hasSms && s.push("phone");
                    let a = !1;
                    s.forEach(t=>{
                        this.watch[t].value != e[t] && (i[t] = this.watch[t].value,
                        a = !0)
                    }
                    ),
                    a ? this.$api.post("/api/memberapi/change", i).then(t) : t()
                },
                startWatching() {
                    this.watch.loading = !0,
                    this.updateMemberInformationIfNeeded(()=>{
                        this.$api.post("/api/memberapi/watch/add", null, {
                            course_id: this.course.id,
                            mail: this.watch.sendMail,
                            sms: this.hasSms && this.watch.sendSms
                        }).then(t=>{
                            t.json().then(e=>{
                                if (this.watch.loading = !1,
                                t.ok)
                                    this.showWatchDialog = !1;
                                else {
                                    let t = this.$translate(e.message);
                                    this.$store.commit("showSnackBar", {
                                        text: t
                                    })
                                }
                            }
                            )
                        }
                        )
                    }
                    )
                },
                stopWatching() {
                    this.$api.post("/api/memberapi/watch/remove", null, {
                        course_id: this.course.id
                    }),
                    this.showWatchDialog = !1
                },
                resourcesDiffer(t) {
                    let e = this.course.resources.map(t=>t.id).sort()
                      , i = t.resources.map(t=>t.id).sort();
                    if (e.length != i.length)
                        return !0;
                    for (let s = 0; s < e.length; ++s)
                        if (e[s] != i[s])
                            return !0;
                    return !1
                },
                getName: o["n"],
                getCourse() {
                    this.courseId && this.getCourseDebounce()
                },
                userSelectedClicked(t, e) {
                    t.expanded = e,
                    this.updateUsers()
                },
                getProductSubtitle(t) {
                    if (t.variants && t.variants.length > 1)
                        return this.$translate("Choose between {0} variants").format(t.variants.length);
                    if (t.trainingsessions) {
                        const e = this.$translate("Punch tickets").toLowerCase();
                        return `${t.trainingsessions} ${e}`
                    }
                    return t.auto ? this.$translate("Recurring, automatically extended") : t.period && t.periodValidFrom && t.periodValidTo ? `${this.$translate("Valid from")} ${Date.formatFullShort(t.periodValidFrom)} ${this.$translate("to")} ${Date.formatFullShort(t.periodValidTo)}` : t.validTime ? `${this.$translate("Valid for")} ${t.validTime} ${this.$translate(t.validType + (1 === t.validTime ? "" : "s")).toLowerCase()}` : void 0
                },
                onBuyMembership(t, e) {
                    let i = this.users.find(t=>t.id == e.id);
                    i.membership = t,
                    this.$booking.isMembershipStillRequired(this.checkoutItemsForMembershipCheckout) || (this.currentStep = this.steps.findIndex(t=>"checkout" == t.id))
                },
                addToCart() {
                    const t = this.cartName;
                    this.checkoutItems.forEach(e=>{
                        this.$store.dispatch("addToCart", {
                            cartName: t,
                            product_id: e.product_id,
                            course_id: e.course_id,
                            price: e.price,
                            count: e.count,
                            answers: e.answers,
                            reservation: e.reservation,
                            variants_for_included_products: e.variants_for_included_products,
                            user_id: e.user_id,
                            users: e.users,
                            tmp_id: e.tmp_id
                        })
                    }
                    ),
                    this.$store.dispatch("setCartVisibility", {
                        cartName: t,
                        showBottomBar: !0,
                        showCheckout: !1
                    }),
                    this.users.forEach(t=>{
                        t.reserving = !1,
                        t.reservation = null,
                        t.selected = !1
                    }
                    ),
                    this.showBookingDialog = !1
                },
                isBooked(t) {
                    return !!this.bookings.find(e=>e.booking.user_id == t.id)
                },
                isInCart(t) {
                    if (this.useCart) {
                        const e = Object(o["k"])(this.cartName);
                        return !!e.find(e=>e.course_id == this.course.id && e.users && e.users.find(e=>e == t.id))
                    }
                    return !1
                },
                isBookedOrInCart(t) {
                    return this.isBooked(t) || this.isInCart(t)
                },
                reservationTimeout() {
                    this.showBookingDialog = !1
                }
            },
            mounted() {
                window.addEventListener("beforeunload", this.unreserveAll),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "course",
                    callback: (t,e)=>{
                        let i = e.data.find(t=>t.id == this.courseId);
                        i && this.course && (this.course.spaceLeft = i.spaceLeft),
                        this.getCourse()
                    }
                })
            },
            beforeCreate() {
                this.getCourseDebounce = Object(a["debounce"])(()=>{
                    this.$api.get("/api/public/course/get", {
                        id: this.courseId
                    }).then(t=>{
                        if (t && 1 == t.length) {
                            let e = t[0];
                            e.startTime = Date.newFull(e.startTime),
                            e.endTime = Date.newFull(e.endTime),
                            e.firstBookingTime = Date.newFull(e.firstBookingTime),
                            e.lastBookingTime = Date.newFull(e.lastBookingTime),
                            this.course = e,
                            this.$emit("course-loaded", e)
                        } else
                            this.courseLoadingFailed = !0,
                            this.$emit("course-loaded", null)
                    }
                    ).catch(()=>{
                        this.courseLoadingFailed = !0,
                        this.$emit("course-loaded", null)
                    }
                    )
                }
                , 500)
            },
            destroyed() {
                this.unreserveAll(),
                window.removeEventListener("beforeunload", this.unreserveAll),
                this.unsubscribe && this.unsubscribe()
            }
        }
          , ra = na
          , la = i("0789")
          , ca = i("1baa")
          , da = Object(p["a"])(ra, Vs, Bs, !1, null, null, null)
          , ua = da.exports;
        g()(da, {
            VAlert: He["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpandTransition: la["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemGroup: ca["a"],
            VMenu: D["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSheet: ue["a"],
            VSimpleCheckbox: sa["a"],
            VSpacer: J["a"]
        });
        var ha = {
            name: "zoezi-course-list",
            zoezi: {
                title: "Course list",
                icon: "mdi-format-list-text",
                addon: "Courses",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "kurs",
                        prop: "currentCourseName"
                    }]
                })
            },
            props: {
                categoryId: {
                    title: "Category",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getCourseCategories()
                    }
                },
                width: {
                    title: "Width",
                    type: String,
                    fulltype: "csssize",
                    default: "200px"
                },
                link: {
                    title: "Page with course content",
                    type: String,
                    fulltype: "page"
                },
                maxNumberOfCourses: {
                    title: "Max number of courses displayed",
                    typeinfo: {
                        placeholder: "Show all courses"
                    },
                    type: Number
                },
                showCategoryTitle: {
                    title: "Show category names as headings",
                    type: Boolean,
                    default: !0
                },
                showCategoryDescription: {
                    title: "Show category description under the heading",
                    type: Boolean,
                    default: !0
                },
                showPrice: {
                    title: "Show price",
                    type: Boolean,
                    default: !0
                },
                globalSiteSetting: {
                    title: "Filter by globally selected site",
                    type: Boolean,
                    default: !0
                },
                sites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all sites",
                        visible: "!globalSiteSetting"
                    },
                    default: ()=>[]
                },
                showResourcesFilter: {
                    title: "Show resource filter",
                    type: Boolean,
                    default: !1
                },
                resourcesFilter: {
                    title: "Filter by resource",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/member/get/full").then(t=>t.filter(t=>"resource" == t.type && "location" == t.resourceType))
                        },
                        text: "lastname",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all resources"
                    },
                    default: ()=>[]
                },
                currentCourseId: {
                    title: "Show course - ID",
                    type: Number
                },
                currentCourseName: {
                    title: "Show course - name",
                    type: String
                }
            },
            components: {
                CourseCard: Ps,
                CourseBooking: ua,
                CardLayout: bi
            },
            data: ()=>({
                courses: [],
                courseDialog: {
                    course: null,
                    show: !1
                },
                unsubscribe: null
            }),
            computed: {
                cards() {
                    return this.courses.map(t=>{
                        let e = t.name
                          , i = t.imagekey
                          , s = t.description
                          , a = {
                            title: e,
                            image: i,
                            shortDescription: s,
                            course: t
                        };
                        return a
                    }
                    )
                },
                resources() {
                    let t = [];
                    return this.coursesOnFilteredSites.forEach(e=>{
                        e.resources.forEach(e=>{
                            t.find(t=>t.id == e.id) || t.push(e)
                        }
                        )
                    }
                    ),
                    t.sort((t,e)=>t.name.localeCompare(e.name))
                },
                filterOnSites() {
                    return this.globalSiteSetting ? [this.$store.state.selectedSiteId || 1] : this.sites && 0 != this.sites.length ? this.sites : null
                },
                coursesOnFilteredSites() {
                    return this.courses.filter(t=>!this.filterOnSites || Object(a["intersection"])(this.filterOnSites, t.sites).length > 0)
                },
                filteredCourses() {
                    return this.coursesOnFilteredSites.filter(t=>!(this.resourcesFilter && this.resourcesFilter.length && !Object(a["intersection"])(t.resources.map(t=>t.id), this.resourcesFilter).length))
                },
                truncatedCourses() {
                    return this.maxNumberOfCourses ? this.filteredCourses.slice(0, this.maxNumberOfCourses) : this.filteredCourses
                },
                category() {
                    var t;
                    let e = null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.coursecategories;
                    return null === e || void 0 === e ? void 0 : e.find(t=>t.id == this.categoryId)
                },
                categoryName() {
                    var t;
                    return null === (t = this.category) || void 0 === t ? void 0 : t.name
                },
                categoryDescription() {
                    var t;
                    return null === (t = this.category) || void 0 === t ? void 0 : t.description
                }
            },
            watch: {
                categoryId: {
                    immediate: !0,
                    handler() {
                        this.courses = [],
                        this.categoryId && this.getCourses()
                    }
                },
                filterOnSites() {
                    this.courses = [],
                    this.categoryId && this.getCourses()
                },
                "courseDialog.course": {
                    immediate: !1,
                    handler(t) {
                        let e = t ? t.id : null;
                        e != this.currentCourseId && this.setProp("currentCourseId", e);
                        let i = t ? Object(o["A"])(t.name).substring(1) : null;
                        i != this.currentCourseName && this.setProp("currentCourseName", i)
                    }
                },
                "courseDialog.show"(t) {
                    t || (this.courseDialog.course = null)
                }
            },
            mounted() {
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "course",
                    callback: ()=>this.getCourses()
                })
            },
            beforeCreate() {
                this.getCourses = Object(a["debounce"])(()=>{
                    let t = this.filterOnSites ? this.filterOnSites.join(",") : void 0;
                    this.$api.get("/api/public/course/get", {
                        category: this.categoryId,
                        bookable: !0,
                        sites: t
                    }).then(t=>{
                        if (this.courses = t,
                        this.courseDialog.loading = !0,
                        this.currentCourseId)
                            this.courseDialog.show = !0,
                            this.courseDialog.course = this.courses.find(t=>t.id == this.currentCourseId);
                        else if (this.currentCourseName) {
                            this.courseDialog.show = !0;
                            let t = this.courses.find(t=>Object(o["A"])(t.name).substring(1) == this.currentCourseName);
                            t && (this.courseDialog.course = t)
                        }
                        this.courseDialog.show && null == this.courseDialog.course ? this.currentCourseId ? (this.courseDialog.loading = !1,
                        this.courseDialog.course = {
                            id: this.currentCourseId
                        }) : this.currentCourseName && this.$api.get("/api/public/course/get", {
                            category: this.categoryId,
                            bookable: !0
                        }).then(t=>{
                            this.courseDialog.course = t.find(t=>Object(o["A"])(t.name).substring(1) == this.currentCourseName),
                            this.courseDialog.loading = !1
                        }
                        ) : this.courseDialog.loading = !1
                    }
                    )
                }
                , 500)
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , ma = ha
          , pa = Object(p["a"])(ma, bs, ys, !1, null, null, null)
          , va = pa.exports;
        g()(pa, {
            VCard: x["a"],
            VCardActions: G["a"],
            VCardTitle: G["c"],
            VChip: st["a"],
            VDialog: K["a"],
            VSpacer: J["a"]
        });
        var ga = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("card-layout", {
                attrs: {
                    items: t.categories
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.item
                          , a = e.layout;
                        return [i("category-card", {
                            attrs: {
                                category: s,
                                "title-right": "wide" == a
                            },
                            on: {
                                click: function(e) {
                                    return t.gotoCourseList(s)
                                }
                            }
                        })]
                    }
                }])
            })
        }
          , fa = []
          , ba = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "ma-2 zoezi-list-card course-category overflow-hidden",
                class: {
                    "full-width": t.titleRight
                },
                attrs: {
                    elevation: "4"
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [t.titleRight ? i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-auto-img", {
                staticClass: "card-image-blur",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }), i("v-auto-img", {
                staticClass: "z-half inherit-border-left",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }), i("div", {
                staticClass: "z-half inherit-border-right pa-4 fill-height"
            }, [i("div", {
                staticClass: "primary--text"
            }, [i("div", {
                staticClass: "card-title",
                class: {
                    "text-center text-large": !t.category.description
                }
            }, [t._v(t._s(t.category.name))]), i("div", {
                staticClass: "description black--text",
                domProps: {
                    innerHTML: t._s(t.category.description)
                }
            })])])], 1) : i("v-auto-img", {
                staticClass: "card-image",
                attrs: {
                    src: t.image,
                    ar: 1.5
                }
            }, [i("div", {
                staticClass: "primary card-title",
                style: t.background
            }, [i("div", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.category.name))])])])], 1)
        }
          , ya = []
          , _a = {
            name: "zoezi-category-card",
            zoezi: {
                title: "Kategori",
                icon: "mdi-format-list-text"
            },
            props: {
                category: {
                    type: Object
                },
                titleRight: {
                    type: Boolean
                },
                defaultImageKey: {
                    type: String
                }
            },
            computed: {
                image() {
                    return this.category.imagekey || this.defaultImageKey
                },
                background() {
                    return {
                        "background-color": this.$root.colorToHex("primary") + "b4 !important"
                    }
                }
            }
        }
          , ka = _a
          , wa = Object(p["a"])(ka, ba, ya, !1, null, null, null)
          , Ca = wa.exports;
        g()(wa, {
            VCard: x["a"]
        });
        var xa = {
            name: "zoezi-course-category-list",
            zoezi: {
                title: "Course categories",
                icon: "mdi-format-list-text",
                addon: "Courses"
            },
            props: {
                onlyShowCategories: {
                    title: "Categories",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getCourseCategories(),
                        placeholder: "List all categories"
                    },
                    default: ()=>[]
                },
                onlyShowSites: {
                    title: "Filter by site",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/public/settings/get").then(t=>t.sites.sort((t,e)=>t.name.localeCompare(e.name)))
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all sites"
                    },
                    default: ()=>[]
                },
                sort: {
                    title: "Sort by default on",
                    type: String,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return [{
                                id: "admin",
                                name: "Administration's sorting"
                            }, {
                                id: "name",
                                name: "Category name"
                            }, {
                                id: "created",
                                name: "Newly added"
                            }].map(t=>({
                                ...t,
                                name: window.$translate(t.name)
                            }))
                        },
                        text: "name",
                        value: "id",
                        multiple: !1
                    },
                    default: ()=>"admin"
                },
                showSortFilter: {
                    title: "Show sorting filter for customer",
                    type: Boolean,
                    default: !0
                },
                link: {
                    title: "Page with course list",
                    type: String,
                    fulltype: "page"
                }
            },
            components: {
                CategoryCard: Ca,
                CardLayout: bi
            },
            data: ()=>({
                unsubscribe: null
            }),
            computed: {
                sortFn() {
                    return "name" == this.sort ? (t,e)=>t.name.localeCompare(e.name) : "created" == this.sort ? (t,e)=>Date.newFull(e.created) - Date.newFull(t.created) : null
                },
                categories() {
                    var t;
                    let e = null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.coursecategories;
                    if (!e)
                        return [];
                    let i = e.filter(t=>!this.onlyShowCategories || 0 == this.onlyShowCategories.length || this.onlyShowCategories.includes(t.id));
                    return this.sortFn && i.sort(this.sortFn),
                    i
                }
            },
            watch: {},
            methods: {
                gotoCourseList(t) {
                    this.$root.followLink(this.link, t.id)
                }
            },
            mounted() {
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "coursecategory",
                    callback: ()=>this.$api.reloadSettings()
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , $a = xa
          , Sa = Object(p["a"])($a, ga, fa, !1, null, null, null)
          , Da = Sa.exports
          , za = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.oneCategory ? i("course-list", {
                attrs: {
                    categoryId: t.oneCategory.id
                }
            }) : i("course-category-list", {
                attrs: {
                    categories: t.categories,
                    link: t.coursesPage
                }
            })
        }
          , Ta = []
          , Ia = {
            name: "zoezi-course-start-page",
            zoezi: {
                title: "Courses start page",
                icon: "mdi-format-list-text",
                addon: "Courses"
            },
            components: {
                CourseList: va,
                CourseCategoryList: Da
            },
            props: {
                coursesPage: {
                    title: "Page with course list",
                    type: String,
                    fulltype: "page"
                }
            },
            data: ()=>({}),
            computed: {
                categories() {
                    var t, e;
                    return null !== (t = this.$store.state.settings) && void 0 !== t && t.coursecategories ? null === (e = this.$store.state.settings) || void 0 === e ? void 0 : e.coursecategories : []
                },
                oneCategory() {
                    return 1 == this.categories.length ? this.categories[0] : null
                }
            }
        }
          , Pa = Ia
          , Va = Object(p["a"])(Pa, za, Ta, !1, null, null, null)
          , Ba = Va.exports
          , Fa = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", ["keyvalue" == t.report.reporttype ? [i("h2", [t._v(t._s(t.report.name))]), i("h2", {
                style: {
                    color: t.report.color
                }
            }, [t._v(t._s(t.report.data))])] : "list" == t.report.reporttype ? [i("v-data-table", {
                attrs: {
                    headers: t.headers,
                    items: t.items,
                    "item-key": "name"
                },
                on: {
                    "click:row": t.rowClick
                },
                scopedSlots: t._u([{
                    key: "item.image",
                    fn: function(e) {
                        var s = e.item;
                        return [i("img", {
                            staticClass: "mt-2",
                            attrs: {
                                src: t.$api.getImageUrl(s.image, 50),
                                width: "50",
                                height: "50"
                            }
                        })]
                    }
                }])
            })] : t._e()], 2)
        }
          , Ea = []
          , Oa = {
            name: "zoezi-report",
            zoezi: {
                title: "Report",
                icon: "mdi-chart-line"
            },
            props: {
                reportId: {
                    title: "Report",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/stats/generic/reports/get").then(t=>(t.forEach(t=>t.name = window.$translate(t.data.name)),
                        t))
                    }
                },
                userClickLink: {
                    title: "Page to go to when clicking on user",
                    type: String,
                    fulltype: "page"
                }
            },
            data: ()=>({
                report: {},
                info: null
            }),
            computed: {
                headers() {
                    return this.report && "list" == this.report.reporttype && this.info ? this.report.properties.map(t=>({
                        text: this.getPropName(t, this.report.datatype),
                        value: t
                    })) : []
                },
                items() {
                    return this.report && "list" == this.report.reporttype && this.info ? this.report.data : []
                }
            },
            watch: {
                reportId: {
                    immediate: !0,
                    handler() {
                        this.getReport()
                    }
                }
            },
            methods: {
                getReport() {
                    if (!this.reportId)
                        return void (this.report = {});
                    let t = {
                        report_id: this.reportId
                    };
                    this.$api.post("/api/stats/generic", t).then(t=>t.json().then(t=>{
                        this.report = t
                    }
                    ))
                },
                getInfo() {
                    this.$api.get("/api/stats/generic/info").then(t=>{
                        this.info = t
                    }
                    )
                },
                getPropName(t, e) {
                    let i, s = "", a = t.split(".");
                    return a.forEach(t=>{
                        let a = this.info.properties[e];
                        i = a.find(e=>e.id == t),
                        s && (s += " > "),
                        s += this.$translate(i.name),
                        e = i.joinedproperty
                    }
                    ),
                    s
                },
                rowClick(t) {
                    this.$router.push({
                        path: `${this.userClickLink}/${t._user_id}`
                    })
                }
            },
            created() {
                this.getInfo()
            }
        }
          , Ma = Oa
          , Aa = i("8fea")
          , Ra = Object(p["a"])(Ma, Fa, Ea, !1, null, null, null)
          , La = Ra.exports;
        g()(Ra, {
            VDataTable: Aa["a"]
        });
        var ja = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user ? i("div", {
                style: t.style
            }, [t.$store.state.user.imagekey ? i("v-auto-img", {
                staticClass: "greeting-image",
                attrs: {
                    src: t.$store.state.user.imagekey
                }
            }) : t._e(), i("div", {
                staticClass: "greeting-text"
            }, [t._v(t._s(t.$translate("Hello")) + " " + t._s(t.name) + "!")])], 1) : i("div")
        }
          , Na = []
          , Wa = {
            name: "zoezi-mygreeting",
            zoezi: {
                title: "Greeting to customer",
                icon: "mdi-human-greeting"
            },
            computed: {
                name() {
                    return this.$store.state.user ? this.$store.state.user.firstname || this.$store.state.user.lastname : null
                },
                style() {
                    return {
                        "background-color": this.$root.siteconfig.appbar.props.backgroundColor,
                        color: this.$root.siteconfig.appbar.props.color
                    }
                }
            }
        }
          , qa = Wa
          , Ha = Object(p["a"])(qa, ja, Na, !1, null, null, null)
          , Ua = Ha.exports
          , Ya = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user ? i("div", {
                style: t.style
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [t.hasMembershipAddon ? i("v-col", {
                staticClass: "pl-4",
                attrs: {
                    cols: "6"
                }
            }, [i("div", {
                staticClass: "mt-2 text-caption"
            }, [i("v-icon", {
                style: t.style,
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-wallet-membership")]), i("span", {
                staticClass: "text-uppercase ml-1",
                domProps: {
                    textContent: t._s(t.$translate("Membership"))
                }
            })], 1), i("div"), t.membership ? i("div", {
                domProps: {
                    textContent: t._s(t.membership.cardtype_name)
                }
            }) : t._e()]) : t._e(), i("v-col", {
                staticClass: "pl-4",
                attrs: {
                    cols: t.hasMembershipAddon ? 6 : 12
                }
            }, [i("div", {
                staticClass: "text-uppercase text-caption mt-2"
            }, [i("v-icon", {
                staticClass: "mr-1 mt-n1",
                style: t.style,
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-ticket")]), t.validTrainingCards.length > 1 ? i("span", [t._v(t._s(t.validTrainingCards.length) + " ")]) : t._e(), i("span", {
                domProps: {
                    textContent: t._s(t.$translate("Training cards"))
                }
            })], 1), 1 == t.validTrainingCards.length ? i("div", {
                staticClass: "font-weight-bold text-truncate"
            }, [t._v(t._s(t.validTrainingCards[0].cardtype_name))]) : t.validTrainingCards.length > 1 ? i("v-menu", {
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("div", t._g({
                            staticClass: "z-clickable"
                        }, s), [t._v(" " + t._s(t.validTrainingCards[0].cardtype_name) + " + " + t._s(t.validTrainingCards.length - 1) + " till"), i("v-icon", {
                            style: t.style
                        }, [t._v("mdi-chevron-down")])], 1)]
                    }
                }], null, !1, 3525511672)
            }, [i("v-list", t._l(t.validTrainingCards, (function(e) {
                return i("v-list-item", {
                    key: e.id
                }, [t._v(" " + t._s(e.cardtype_name) + " ")])
            }
            )), 1)], 1) : t._e()], 1)], 1)], 1) : i("div")
        }
          , Ga = []
          , Ka = {
            name: "zoezi-mytrainingcards",
            zoezi: {
                title: "My training cards",
                icon: "mdi-card-bulleted-outline"
            },
            computed: {
                hasMembershipAddon() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.membership
                },
                membership() {
                    let t = this.$store.state.cards;
                    return t ? this.$store.state.cards.find(t=>t.membership && this.$booking.isCardValid(t, this.$store.state.now30s.clone().clearTime())) : null
                },
                validTrainingCards() {
                    let t = this.$store.state.cards;
                    return t ? this.$store.state.cards.filter(t=>!t.membership && this.$booking.isCardValid(t, this.$store.state.now30s.clone().clearTime())) : []
                },
                style() {
                    return {
                        "background-color": this.$root.siteconfig.appbar.props.backgroundColor,
                        color: this.$root.siteconfig.appbar.props.color
                    }
                }
            }
        }
          , Qa = Ka
          , Ja = Object(p["a"])(Qa, Ya, Ga, !1, null, null, null)
          , Xa = Ja.exports;
        g()(Ja, {
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VMenu: D["a"],
            VRow: A["a"]
        });
        var Za = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$store.state.user ? i("div", t._l(t.doors, (function(e) {
                return i("v-btn", {
                    key: e.id,
                    staticClass: "ma-1",
                    attrs: {
                        color: "primary",
                        loading: e.loading
                    },
                    on: {
                        click: function(i) {
                            return t.open(e)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-door-open")]), t._v(t._s(t.$translate("Open")) + " " + t._s(e.name))], 1)
            }
            )), 1) : i("div"), t.$root.edit && !t.doors.length ? i("div", [t._v(" " + t._s(t.$translate("It seems that there are no doors to open. But here will appear buttons to open doors.")) + " ")]) : t._e()])
        }
          , to = []
          , eo = {
            name: "zoezi-mydoors",
            zoezi: {
                title: "My doors",
                icon: "mdi-door-open"
            },
            data: ()=>({
                doors: []
            }),
            methods: {
                getDoors() {
                    this.$api.get("/api/door/get", {
                        site_id: this.$store.state.selectedSiteId
                    }).then(t=>{
                        this.doors = t.filter(t=>t.active),
                        this.doors.forEach(t=>t.loading = !1)
                    }
                    )
                },
                open(t) {
                    t.loading = !0,
                    this.$api.post("/api/door/open", null, {
                        id: t.id
                    }).then(e=>e.json().then(i=>{
                        t.loading = !1,
                        e.ok || this.$store.commit("showErrorDialog", {
                            title: this.$translate("Could not open the door"),
                            text: i.message
                        })
                    }
                    ))
                }
            },
            mounted() {
                this.getDoors()
            }
        }
          , io = eo
          , so = Object(p["a"])(io, Za, to, !1, null, null, null)
          , ao = so.exports;
        g()(so, {
            VBtn: O["a"],
            VIcon: y["a"]
        });
        var oo = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("account", {
                attrs: {
                    user: t.$store.state.user
                }
            })
        }
          , no = []
          , ro = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.user ? i("div", {
                staticClass: "x mt-4 mx-2"
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [t.user.id == t.$store.state.user.id ? [i("h3", [t._v(t._s(t.$translate("My account")))]), i("p", [t._v(t._s(t.$translate("Here you manage your tasks, payment information, and other things that concern you personally")))])] : t._e()], 2), i("v-col", {
                attrs: {
                    cols: "4"
                }
            }, [i("user-avatar", {
                attrs: {
                    user: t.user,
                    border: "",
                    size: 60,
                    change: ""
                },
                on: {
                    change: t.showChangeImageDialog
                }
            })], 1)], 1), i("v-subheader", [t._v(t._s(t.$translate("Personal information")))]), i("v-form", {
                ref: "form"
            }, t._l(t.fields, (function(e) {
                return i("form-field", {
                    key: e.name,
                    attrs: {
                        field: e
                    },
                    model: {
                        value: e.value,
                        callback: function(i) {
                            t.$set(e, "value", i)
                        },
                        expression: "field.value"
                    }
                })
            }
            )), 1), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showPasswordDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Change password")))]), i("set-password", {
                attrs: {
                    user: t.user
                },
                model: {
                    value: t.showPasswordDialog,
                    callback: function(e) {
                        t.showPasswordDialog = e
                    },
                    expression: "showPasswordDialog"
                }
            }), i("image-upload-dialog", {
                attrs: {
                    user: t.user
                },
                model: {
                    value: t.showImageUploadDialog,
                    callback: function(e) {
                        t.showImageUploadDialog = e
                    },
                    expression: "showImageUploadDialog"
                }
            }), i("div", {
                staticClass: "py-10"
            })], 1) : i("div")
        }
          , lo = []
          , co = i("808f")
          , uo = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "500px",
                    dialog: !0
                },
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [t.user ? i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Change password")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-text-field", {
                attrs: {
                    type: t.showPassword1 ? "text" : "password",
                    label: t.$translate("Password")
                },
                scopedSlots: t._u([{
                    key: "append",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                tabindex: "-1",
                                icon: ""
                            },
                            on: {
                                click: function(e) {
                                    t.showPassword1 = !t.showPassword1
                                }
                            }
                        }, [t.showPassword1 ? i("v-icon", [t._v("mdi-eye-off")]) : i("v-icon", [t._v("mdi-eye")])], 1)]
                    },
                    proxy: !0
                }], null, !1, 366207657),
                model: {
                    value: t.password1,
                    callback: function(e) {
                        t.password1 = e
                    },
                    expression: "password1"
                }
            }), i("v-text-field", {
                attrs: {
                    type: t.showPassword2 ? "text" : "password",
                    label: t.$translate("Verify password")
                },
                scopedSlots: t._u([{
                    key: "append",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                tabindex: "-1",
                                icon: ""
                            },
                            on: {
                                click: function(e) {
                                    t.showPassword2 = !t.showPassword2
                                }
                            }
                        }, [t.showPassword2 ? i("v-icon", [t._v("mdi-eye-off")]) : i("v-icon", [t._v("mdi-eye")])], 1)]
                    },
                    proxy: !0
                }], null, !1, 3850998058),
                model: {
                    value: t.password2,
                    callback: function(e) {
                        t.password2 = e
                    },
                    expression: "password2"
                }
            })], 1), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    loading: t.saving,
                    color: "primary",
                    disabled: !t.passwordOk
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save password")))])], 1)], 1) : t._e()], 1)
        }
          , ho = []
          , mo = {
            name: "zoezi-set-password",
            components: {
                BottomDialog: $e["a"]
            },
            props: {
                value: {
                    type: Boolean
                },
                user: {
                    type: Object
                }
            },
            watch: {
                show: {
                    immediate: !0,
                    handler(t, e) {
                        t && !e && (this.password1 = this.password2 = null),
                        this.$emit("input", t)
                    }
                },
                value: {
                    immediate: !0,
                    handler(t) {
                        this.show = t
                    }
                }
            },
            computed: {
                passwordOk() {
                    return this.password1 == this.password2 && this.password1 && this.password1.length >= 6
                }
            },
            data: ()=>({
                show: !1,
                showPassword1: !1,
                password1: null,
                showPassword2: !1,
                password2: null,
                saving: !1
            }),
            methods: {
                save() {
                    this.saving = !0,
                    this.$api.post("/api/memberapi/change", {
                        id: this.user.id,
                        password: this.password1
                    }).then(t=>{
                        this.saving = !1,
                        t.ok ? this.show = !1 : t.json().then(t=>{
                            let e = this.$translate(t.message);
                            this.$store.commit("showSnackBar", {
                                text: e
                            })
                        }
                        )
                    }
                    )
                }
            }
        }
          , po = mo
          , vo = Object(p["a"])(po, uo, ho, !1, null, null, null)
          , go = vo.exports;
        g()(vo, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VIcon: y["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var fo = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    fullscreen: t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Change image for")) + " " + t._s(t.user.name.split(" ")[0]) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-btn", {
                staticClass: "mt-2",
                attrs: {
                    color: "primary",
                    block: "",
                    outlined: !!t.image.src
                },
                on: {
                    click: function(e) {
                        return t.$refs.iuploader.click()
                    }
                }
            }, [i("input", {
                ref: "iuploader",
                staticClass: "d-none",
                attrs: {
                    type: "file",
                    accept: "image/*"
                },
                on: {
                    change: t.fileSelected
                }
            }), t._v(" " + t._s(t.$translate(t.image.src ? "Choose a different image" : "Choose image")) + " ")])], 1), t.image.src ? i("preview", {
                staticStyle: {
                    "border-radius": "50%",
                    margin: "auto",
                    "margin-bottom": "8px"
                },
                attrs: {
                    width: 120,
                    height: 120,
                    image: t.result.image,
                    coordinates: t.result.coordinates
                }
            }) : i("user-avatar", {
                attrs: {
                    size: 120,
                    user: t.user
                }
            }), i("cropper", {
                ref: "cropper",
                attrs: {
                    src: t.image.src,
                    "auto-zoom": !0,
                    "stencil-size": {
                        width: 280,
                        height: 280
                    },
                    "image-restriction": "stencil"
                },
                on: {
                    change: t.change
                }
            }), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    block: "",
                    loading: t.saving,
                    disabled: !t.image.src,
                    color: "primary"
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)
        }
          , bo = []
          , yo = (i("3c5d"),
        i("a2c1"));
        i("f7aa");
        function _o(t, e=null) {
            const i = new Uint8Array(t).subarray(0, 4);
            let s = "";
            for (let a = 0; a < i.length; a++)
                s += i[a].toString(16);
            switch (s) {
            case "89504e47":
                return "image/png";
            case "47494638":
                return "image/gif";
            case "ffd8ffe0":
            case "ffd8ffe1":
            case "ffd8ffe2":
            case "ffd8ffe3":
            case "ffd8ffe8":
                return "image/jpeg";
            default:
                return e
            }
        }
        var ko = {
            name: "zoezi-image-uploader",
            components: {
                Cropper: yo["a"],
                UserAvatar: co["a"],
                Preview: yo["b"]
            },
            props: ["value", "user"],
            watch: {
                show: {
                    immediate: !0,
                    handler(t) {
                        t || (URL.revokeObjectURL(this.image.src),
                        this.image.src = null,
                        this.image.type = null),
                        this.$emit("input", t)
                    }
                },
                value: {
                    immediate: !0,
                    handler(t) {
                        this.show = t
                    }
                }
            },
            data: ()=>({
                saving: !1,
                show: !1,
                image: {
                    src: null,
                    type: null
                },
                result: {
                    coordinates: null,
                    image: null
                }
            }),
            methods: {
                change({coordinates: t, image: e}) {
                    this.result = {
                        coordinates: t,
                        image: e
                    }
                },
                save() {
                    this.saving = !0;
                    const {canvas: t} = this.$refs.cropper.getResult();
                    if (t) {
                        const e = new FormData;
                        t.toBlob(t=>{
                            e.append("file", t),
                            this.$api.post("/api/memberapi/image/set", e, {
                                user_id: this.user.id
                            }).then(t=>{
                                this.saving = !1,
                                t.ok ? this.show = !1 : this.$store.commit("showSnackBar", {
                                    text: "Det gick inte att spara"
                                })
                            }
                            )
                        }
                        , this.image.type)
                    }
                },
                fileSelected(t) {
                    const {files: e} = t.target;
                    if (e && e[0]) {
                        this.image.src && URL.revokeObjectURL(this.image.src);
                        const t = URL.createObjectURL(e[0])
                          , i = new FileReader;
                        i.onload = i=>{
                            this.image = {
                                src: t,
                                type: _o(i.target.result, e[0].type)
                            }
                        }
                        ,
                        i.readAsArrayBuffer(e[0])
                    }
                }
            }
        }
          , wo = ko
          , Co = Object(p["a"])(wo, fo, bo, !1, null, null, null)
          , xo = Co.exports;
        g()(Co, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSpacer: J["a"]
        });
        var $o = {
            name: "zoezi-account",
            zoezi: {
                title: "Account",
                icon: "mdi-account-details"
            },
            props: {
                user: {
                    type: Object
                },
                debounceEmit: {
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                FormField: Ee["a"],
                UserAvatar: co["a"],
                SetPassword: go,
                ImageUploadDialog: xo
            },
            watch: {
                user: {
                    immediate: !0,
                    handler(t) {
                        t && this.setFields()
                    }
                },
                "$store.state.settings": {
                    immediate: !0,
                    handler(t) {
                        if (t) {
                            let e = [{
                                name: "mailingOptions",
                                title: "Offer and NewsLetter",
                                type: "multiselect",
                                data: [{
                                    id: "sms",
                                    name: "SMS"
                                }, {
                                    id: "mail",
                                    name: "E-mail"
                                }]
                            }, {
                                name: "hideforothers",
                                title: "Hide my information for other members",
                                type: "checkbox"
                            }];
                            t.hasLanguage && e.push({
                                name: "language",
                                title: "Language",
                                type: "language"
                            }),
                            e.forEach(t=>{
                                t.builtIn = !0,
                                t.changeable_by_member = !0
                            }
                            ),
                            this.settingsFields = t.fields.concat(e)
                        }
                    }
                },
                settingsFields: {
                    immediate: !0,
                    handler(t) {
                        t && this.setFields()
                    }
                },
                fields: {
                    deep: !0,
                    handler() {
                        console.log("Something changed..."),
                        this.debounceEmit ? this.debouncedSave() : this.save()
                    }
                }
            },
            data: ()=>({
                settingsFields: [],
                fields: [],
                debouncedSave: null,
                showPasswordDialog: !1,
                showImageUploadDialog: !1
            }),
            methods: {
                setFields() {
                    return this.user && this.settingsFields ? (this.fields = (this.settingsFields || []).filter(t=>{
                        if (t.builtIn) {
                            const e = ["firstname", "lastname", "homesite_id", "mail", "login_key", "birthdate", "gender", "invoiceMail", "personalCodeNumber", "phone", "oldphone", "address", "zipCode", "city", "mailingOptions", "position", "hideforothers", "allowPush", "language"];
                            return e.includes(t.name) && t.changeable_by_member
                        }
                        return t.required || t.changeable_by_member
                    }
                    ).map(t=>{
                        let e = Object.assign({}, t);
                        return e.builtIn || (e.name = "xf" + e.name),
                        e.data && (e.data = e.data.map(t=>"string" === typeof t ? {
                            value: t,
                            text: t
                        } : t.id ? {
                            value: t.id,
                            text: this.$translate(t.name)
                        } : {
                            value: t.value,
                            text: t.text
                        })),
                        e.readonly = !e.changeable_by_member,
                        "personalCodeNumber" == e.name && (this.user.personalCodeNumber ? e.readonly = !0 : e.probePersonalCodeNumber = !0),
                        e.value = this.user[e.name],
                        e
                    }
                    ),
                    this.fields) : []
                },
                getChangedFields() {
                    return this.user ? this.fields.filter(t=>this.user[t.name] != t.value) : []
                },
                save() {
                    if (!this.$refs.form.validate())
                        return;
                    let t = this.getChangedFields();
                    if (t.length > 0) {
                        let e = {};
                        t.forEach(t=>{
                            console.log(t.name + " was changed");
                            let i = void 0 == t.value ? null : t.value;
                            t.name.startsWith("xf") ? (e.xf || (e.xf = {}),
                            e.xf[t.name.substring(2)] = i) : e[t.name] = i
                        }
                        ),
                        this.$api.post("/api/memberapi/change", e)
                    }
                },
                showChangeImageDialog() {
                    this.showImageUploadDialog = !0
                }
            },
            mounted() {
                this.debouncedSave = Object(a["debounce"])(()=>this.save(), 1e3)
            },
            beforeDestroy() {
                this.debouncedSave && this.debouncedSave.cancel(),
                this.save()
            }
        }
          , So = $o
          , Do = i("e0c7")
          , zo = Object(p["a"])(So, ro, lo, !1, null, null, null)
          , To = zo.exports;
        g()(zo, {
            VBtn: O["a"],
            VCol: M["a"],
            VForm: Ye["a"],
            VRow: A["a"],
            VSubheader: Do["a"]
        });
        var Io = {
            name: "zoezi-myaccount",
            zoezi: {
                title: "My account",
                icon: "mdi-account-details"
            },
            components: {
                Account: To
            }
        }
          , Po = Io
          , Vo = Object(p["a"])(Po, oo, no, !1, null, null, null)
          , Bo = Vo.exports
          , Fo = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user ? i("div", [i("v-tabs", {
                staticClass: "z-no-arrows",
                attrs: {
                    color: t.$root.siteconfig.appbar.props.activeColor,
                    "background-color": "transparent"
                },
                model: {
                    value: t.selectedTab,
                    callback: function(e) {
                        t.selectedTab = e
                    },
                    expression: "selectedTab"
                }
            }, t._l(t.tabs, (function(e) {
                return i("v-tab", {
                    key: e.id,
                    attrs: {
                        tabValue: e.id
                    }
                }, [i("v-icon", {
                    attrs: {
                        small: ""
                    }
                }, [t._v(t._s(e.icon))]), i("span", {
                    staticClass: "tab-title"
                }, [t._v(t._s(e.title))]), e.badge ? i("v-badge", {
                    staticClass: "ml-2",
                    attrs: {
                        color: "error",
                        content: e.badge
                    }
                }) : t._e()], 1)
            }
            )), 1), i("v-tabs-items", {
                model: {
                    value: t.selectedTab,
                    callback: function(e) {
                        t.selectedTab = e
                    },
                    expression: "selectedTab"
                }
            }, [t.tabs.find((function(t) {
                return "start" == t.id
            }
            )) ? i("v-tab-item", {
                key: "start",
                attrs: {
                    value: "start"
                }
            }, [i("div", {
                staticClass: "x mt-4"
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, t._l(t.messageCards, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "zoezi-card-default",
                    attrs: {
                        color: e.color
                    }
                }, [i("v-card-title", [t._v(t._s(t.$translate(e.title)))]), i("v-card-text", {
                    domProps: {
                        innerHTML: t._s(e.text)
                    }
                })], 1)
            }
            )), 1)], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [0 == t.sections.length ? i("h3", [t._v(t._s(t.$translate("Here your bookings will be displayed")))]) : t._e(), i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                attrs: {
                    mandatory: ""
                }
            }, t._l(t.sections, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id,
                    staticClass: "no-elevation"
                }, [i("v-expansion-panel-header", [i("div", {
                    staticClass: "zoezi-activity-section"
                }, [i("h3", [t._v(t._s(e.title))]), i("small", [t._v(t._s(e.subtitle))])]), i("v-badge", {
                    attrs: {
                        color: "grey",
                        content: e.bookings.length
                    }
                })], 1), i("v-expansion-panel-content", ["historic" == e.id ? i("div", {
                    staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                    on: {
                        click: function(e) {
                            t.showHistoricalActivitiesDialog = !0
                        }
                    }
                }, [i("div", {
                    staticClass: "z-card-image"
                }, [i("div", {
                    staticClass: "z-card-image-time",
                    style: t.getBookingColorStyle({})
                }, [t._v(t._s(t.historicalActivitiesCount) + " st")]), i("div", {
                    staticClass: "z-card-image-small",
                    style: t.getBookingColorStyle({})
                }, [t._v("fr. " + t._s(t.historyFrom.substring(0, 7)))])]), i("div", {
                    staticClass: "z-card-content"
                }, [i("strong", [t._v(t._s(t.$translate("Show all past activities")))]), i("br"), i("v-icon", {
                    staticClass: "ml-n1",
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-calendar")]), t._v(" " + t._s(t.$translate("From")) + " " + t._s(Date.formatFullShorter(t.historyFrom)) + " " + t._s(Date.newFull(t.historyFrom).getFullYear()) + " ")], 1), i("div", {
                    staticClass: "z-card-action pt-2 px-2"
                }, [i("v-btn", {
                    staticClass: "zoezi-button-thin",
                    attrs: {
                        color: "primary"
                    },
                    on: {
                        click: t.showHistoricalActivitiesDialog
                    }
                }, [t._v(" " + t._s(t.$translate("History")) + " ")])], 1)]) : t._l(e.bookings, (function(e) {
                    return i("div", {
                        key: e.key,
                        staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                        style: {
                            background: e.background
                        },
                        on: {
                            click: function(i) {
                                return t.showActivity(e)
                            }
                        }
                    }, ["resourcebooking" == e.type ? i("MyPageRBCard", {
                        attrs: {
                            booking: e
                        }
                    }) : [i("div", {
                        staticClass: "z-card-image",
                        style: {
                            "background-image": "url(" + t.$api.getImageUrl(e.imagekey, 100) + ")"
                        }
                    }, [i("div", {
                        staticClass: "z-card-image-time",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(e.start.hhmm()))]), i("div", {
                        staticClass: "z-card-image-small",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(e.duration) + " min")])]), i("div", {
                        staticClass: "z-card-content"
                    }, [i("strong", [t._v(t._s(e.text))]), i("br"), e.start.isToday() || e.start.isTomorrow() ? t._e() : i("div", [i("v-icon", {
                        attrs: {
                            color: "primary"
                        }
                    }, [t._v("mdi-calendar")]), t._v(" " + t._s(Date.formatFullShort(e.start)))], 1), e.staffs && e.staffs.length ? i("div", {
                        staticClass: "d-flex flex-row"
                    }, t._l(e.staffs, (function(e) {
                        return i("div", {
                            key: e.id,
                            staticClass: "staff mr-2"
                        }, [e.imagekey ? i("img", {
                            staticStyle: {
                                width: "16px",
                                "border-radius": "50%"
                            },
                            attrs: {
                                src: t.$api.getImageUrl(e.imagekey, 100)
                            }
                        }) : t._e(), t._v(" " + t._s(e.name))])
                    }
                    )), 0) : t._e(), e.location || e.room ? i("div", {
                        staticClass: "location"
                    }, [i("v-icon", {
                        staticClass: "ml-n1",
                        attrs: {
                            color: "primary"
                        }
                    }, [t._v("mdi-map-marker")]), e.room ? i("span", [t._v(t._s(e.room.name) + t._s(e.location ? ", " : " "))]) : t._e(), e.location ? i("span", [t._v(t._s(e.location.name))]) : t._e()], 1) : t._e()]), i("div", {
                        staticClass: "z-card-action pt-2 px-2"
                    }, [e.workout ? i("workout-book-button", {
                        attrs: {
                            workout: e.workout,
                            "info-on-unbookable": !0,
                            showNumBooked: t.computedShowNumBooked
                        }
                    }) : "resourcebooking" == e.type ? i("v-btn", {
                        staticClass: "zoezi-button-thin",
                        attrs: {
                            color: "primary"
                        },
                        on: {
                            click: function(i) {
                                return t.showActivity(e)
                            }
                        }
                    }, [t._v(" Info ")]) : t._e()], 1), t.$store.state.user && e.workout ? i("div", {
                        staticClass: "zoezi-booked-list",
                        staticStyle: {
                            "flex-shrink": "0",
                            width: "100%"
                        },
                        attrs: {
                            "data-these-can-book-text": t.$translate("These can book")
                        }
                    }, t._l(t.$store.state.user.canBookFor.filter((function(t) {
                        return e.workout.isBooked(t)
                    }
                    )), (function(t) {
                        return i("workout-book-user-row", {
                            key: t.id,
                            staticClass: "zoezi-booked-person",
                            attrs: {
                                workout: e.workout,
                                user: t
                            }
                        })
                    }
                    )), 1) : t._e()]], 2)
                }
                ))], 2)], 1)
            }
            )), 1)], 1), t.showRefereePage ? i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                model: {
                    value: t.expandedRefereePanel,
                    callback: function(e) {
                        t.expandedRefereePanel = e
                    },
                    expression: "expandedRefereePanel"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("div", [i("h3", [t._v(t._s(t.$translate("Your coming referee assignments")))])])]), i("v-expansion-panel-content", [i("teamsport-coming-matches", {
                attrs: {
                    referee: !0
                }
            })], 1)], 1)], 1)], 1) : t._e(), i("v-col")], 1), t.displayEntries || t.displayGroupTraining ? i("div", {
                staticClass: "zoezi-training-overview"
            }, [i("h1", [t._v(t._s(t.$translate("My workout summary")))]), i("v-row", {
                staticClass: "mt-1 pa-1"
            }, [t.displayEntries && t.displayGroupTraining ? [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("my-entry-stats", {
                attrs: {
                    selectedDoors: t.filterByDoor,
                    minTimeToCount: t.timeBetweenCheckins
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("my-workout-stats")], 1)] : [t.displayEntries ? i("v-col", {
                attrs: {
                    cols: "12",
                    md: "12"
                }
            }, [i("my-entry-stats", {
                attrs: {
                    selectedDoors: t.filterByDoor,
                    minTimeToCount: t.timeBetweenCheckins
                }
            })], 1) : t._e(), t.displayGroupTraining ? i("v-col", {
                attrs: {
                    cols: "12",
                    md: "12"
                }
            }, [i("my-workout-stats")], 1) : t._e()]], 2)], 1) : t._e()], 1)]) : t._e(), t.tabs.find((function(t) {
                return "payments" == t.id
            }
            )) ? i("v-tab-item", {
                key: "payments",
                attrs: {
                    eager: "",
                    value: "payments"
                }
            }, [i("v-row", [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("coming-payments", {
                on: {
                    count: function(e) {
                        t.numComingPayments = e
                    }
                }
            }), i("receipt-list")], 1), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                model: {
                    value: t.expandedPaymentMethodsPanel,
                    callback: function(e) {
                        t.expandedPaymentMethodsPanel = e
                    },
                    expression: "expandedPaymentMethodsPanel"
                }
            }, [i("v-expansion-panel", {
                staticClass: "no-elevation"
            }, [i("v-expansion-panel-header", [i("div", {
                staticClass: "zoezi-activity-section"
            }, [i("h3", [t._v(t._s(t.$translate("Payment method")))]), i("small", [t._v(t._s(t.$translate("Here you can manage saved payment cards and direct debit mandates")))])])]), i("v-expansion-panel-content", [i("my-payment-methods")], 1)], 1)], 1)], 1)], 1)], 1) : t._e(), t.tabs.find((function(t) {
                return "courses" == t.id
            }
            )) ? i("v-tab-item", {
                key: "courses",
                attrs: {
                    value: "courses"
                }
            }, [i("div", {
                staticClass: "x mt-4"
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                attrs: {
                    mandatory: ""
                }
            }, t._l(t.courses, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id,
                    staticClass: "no-elevation"
                }, [i("v-expansion-panel-header", [i("div", {
                    staticClass: "zoezi-activity-section"
                }, [i("h3", [t._v(t._s(e.title))]), i("small", [t._v(t._s(e.subtitle))])]), i("v-badge", {
                    attrs: {
                        color: "grey",
                        content: e.bookings.length
                    }
                })], 1), i("v-expansion-panel-content", t._l(e.bookings, (function(e) {
                    return i("div", {
                        key: e.id,
                        staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                        on: {
                            click: function(i) {
                                return t.showCourseBooking(e)
                            }
                        }
                    }, [i("div", {
                        staticClass: "z-card-image",
                        style: {
                            "background-image": "url(" + t.$api.getImageUrl(e.imagekey, 100) + ")"
                        }
                    }, [i("div", {
                        staticClass: "z-card-image-time",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(Date.formatFullShorter(e.startTime)))]), i("div", {
                        staticClass: "z-card-image-small",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(Date.formatFullShorter(e.endTime)))])]), i("div", {
                        staticClass: "z-card-content"
                    }, [i("strong", [t._v(t._s(e.course_name))]), i("br"), e.occasions ? i("span", [i("v-icon", {
                        staticClass: "mr-2",
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-sync")]), t._v(t._s(t.occasionsString(e.occasions))), i("br")], 1) : t._e(), i("v-icon", {
                        staticClass: "mr-2",
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar")]), i("span", [t._v(t._s(Date.formatFullShort(e.startTime).capitalize()) + " - " + t._s(Date.formatFullShort(e.endTime)))])], 1), i("div", {
                        staticClass: "z-card-action pt-2 px-2"
                    }, [i("v-btn", {
                        staticClass: "primary",
                        attrs: {
                            block: ""
                        },
                        on: {
                            click: function(i) {
                                return t.showCourseBooking(e)
                            }
                        }
                    }, [t._v("Info")]), t.getChildName(e.user_id) ? i("div", {
                        staticClass: "z-card-action-text"
                    }, [t._v(t._s(t.getChildName(e.user_id)) + " ")]) : t._e()], 1)])
                }
                )), 0)], 1)
            }
            )), 1)], 1), i("v-col", {
                attrs: {
                    md: "6"
                }
            }, [i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                attrs: {
                    mandatory: ""
                }
            }, t._l(t.watching, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id,
                    staticClass: "no-elevation"
                }, [i("v-expansion-panel-header", [i("div", {
                    staticClass: "zoezi-activity-section"
                }, [i("h3", [t._v(t._s(e.title))]), i("small", [t._v(t._s(e.subtitle))])]), i("v-badge", {
                    attrs: {
                        color: "grey",
                        content: e.bookings.length
                    }
                })], 1), i("v-expansion-panel-content", t._l(e.bookings, (function(e) {
                    return i("div", {
                        key: e.id,
                        staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                        on: {
                            click: function(i) {
                                return t.showCourseBooking(e)
                            }
                        }
                    }, [i("div", {
                        staticClass: "z-card-image",
                        style: {
                            "background-image": "url(" + t.$api.getImageUrl(e.imagekey, 100) + ")"
                        }
                    }, [i("div", {
                        staticClass: "z-card-image-time",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(Date.formatFullShorter(e.startTime)))]), i("div", {
                        staticClass: "z-card-image-small",
                        style: t.getBookingColorStyle(e)
                    }, [t._v(t._s(Date.formatFullShorter(e.endTime)))])]), i("div", {
                        staticClass: "z-card-content"
                    }, [i("strong", [t._v(t._s(e.course_name))]), i("br"), i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar")]), e.occasions ? i("span", [t._v(t._s(1 == e.occasions ? t.$translate("1 occasion") : t.$translate("{0} occasions").format(e.occasions)) + ".")]) : t._e(), t._v(" " + t._s(Date.formatFullShort(e.startTime).capitalize()) + " - " + t._s(Date.formatFullShort(e.endTime))), i("br")], 1), i("div", {
                        staticClass: "z-card-action pt-2 px-2"
                    }, [i("v-btn", {
                        staticClass: "primary",
                        attrs: {
                            block: ""
                        },
                        on: {
                            click: function(i) {
                                return t.showCourseBooking(e)
                            }
                        }
                    }, [t._v(t._s(t.$translate("Info")))])], 1)])
                }
                )), 0)], 1)
            }
            )), 1)], 1)], 1)], 1)]) : t._e(), t.tabs.find((function(t) {
                return "cards" == t.id
            }
            )) ? i("v-tab-item", {
                key: "cards",
                attrs: {
                    value: "cards"
                }
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                attrs: {
                    accordion: "",
                    flat: "",
                    multiple: ""
                },
                model: {
                    value: t.expandedCardPanels,
                    callback: function(e) {
                        t.expandedCardPanels = e
                    },
                    expression: "expandedCardPanels"
                }
            }, t._l(t.hasMembership ? ["trainingcard", "membership"] : ["trainingcard"], (function(e) {
                return i("v-expansion-panel", {
                    key: e,
                    staticClass: "no-elevation"
                }, [i("v-expansion-panel-header", [i("div", {
                    staticClass: "zoezi-activity-section"
                }, ["trainingcard" == e ? i("h3", [t._v(t._s(t.$translate("Training card")))]) : t._e(), "membership" == e ? i("h3", [t._v(t._s(t.$translate("Membership")))]) : t._e()]), i("v-badge", {
                    attrs: {
                        color: "grey",
                        content: String((("trainingcard" == e ? t.validAndFrozenTrainingCards : t.validMemberships) || []).length)
                    }
                })], 1), i("v-expansion-panel-content", ["trainingcard" == e && t.validAndFrozenTrainingCards && 0 == t.validAndFrozenTrainingCards.length ? i("div", {
                    staticClass: "text--secondary"
                }, [t._v(" " + t._s(t.$translate("You don't have a training card")) + " ")]) : "membership" == e && t.validMemberships && 0 == t.validMemberships.length ? i("div", {
                    staticClass: "text--secondary"
                }, [t._v(" " + t._s(t.$translate("You have no membership")) + " ")]) : t._l("trainingcard" == e ? t.validAndFrozenTrainingCards : t.validMemberships, (function(e) {
                    return i("div", {
                        key: e.id,
                        staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                        on: {
                            click: function(i) {
                                return t.handleCardClick(e)
                            }
                        }
                    }, [e.chain && Date.newFull(e.validToDate).isFutureDate() ? i("div", {
                        staticClass: "pa-3"
                    }, [i("strong", [t._v(t._s(t.$translate("Membership in another association")))]), i("br"), i("span", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-clock")]), t._v(" " + t._s(t.$translate("Valid unil")) + " " + t._s(Date.formatFullShort(e.validToDate) + " " + Date.newFull(e.validToDate).getFullYear()))], 1)]) : [i("div", {
                        staticClass: "z-card-image",
                        style: {
                            "background-image": "url(" + t.$api.getImageUrl(e.cardtype.imagekey, 100) + ")"
                        }
                    }), i("div", {
                        staticClass: "z-card-content",
                        staticStyle: {
                            "white-space": "normal"
                        }
                    }, [i("strong", [t._v(t._s(e.cardtype_name) + " ")]), i("br"), e.user_id != t.$store.state.user.id && t.findManagedUserForCard(e) ? i("div", {
                        staticClass: "d-flex"
                    }, [i("user-avatar", {
                        attrs: {
                            user: t.findManagedUserForCard(e),
                            size: 32
                        }
                    }), i("div", {
                        staticClass: "ml-2"
                    }, [t._v(t._s(t.$translate("The card belongs to")) + " " + t._s(t.findManagedUserForCard(e).name))])], 1) : t._e(), t.findUserGroupsForCard(e).length > 0 ? i("div", [i("div", [t._v(t._s(t.$translate("Group card, can be used by all members of")) + " " + t._s(t.formatGroupNames(t.findUserGroupsForCard(e)))), e.user_id == t.$store.state.user.id ? i("span", [t._v(" (" + t._s(t.$translate("You are a cardholder")) + ")")]) : t._e()])]) : t._e(), t.$booking.getActiveFreeze(e, t.$store.state.now30s.clone()) ? i("div", [i("span", {
                        staticClass: "error--text"
                    }, [t._v(t._s(t.$translate("The card is frozen until {0}").format(Date.formatFullShort(t.$booking.getActiveFreeze(e, t.$store.state.now30s.clone()).toDate) + " " + Date.newFull(t.$booking.getActiveFreeze(e, t.$store.state.now30s.clone()).toDate).getFullYear())))])]) : t._e(), t.isExpiring(e) && !e.membership ? i("div", [i("v-icon", {
                        staticClass: "error--text",
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-alert")]), i("span", {
                        staticClass: "error--text"
                    }, [t._v(" " + t._s(t.$translate("The card is terminated")))])], 1) : t._e(), e.trainingsLeft || null != e.trainingsLeft && e.boundToDate ? i("div", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-ticket")]), t._v(" " + t._s(e.trainingsLeft) + " " + t._s(t.$translate("trainings left")) + " ")], 1) : t._e(), e.validFromDate && Date.newFull(e.validFromDate).isFutureDate() ? i("div", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Valid from")) + " " + t._s(Date.formatFullShort(e.validFromDate) + " " + Date.newFull(e.validFromDate).getFullYear()))])], 1) : t._e(), e.validToDate && !t.isExpiring(e) ? i("div", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Valid unil")) + " " + t._s(Date.formatFullShort(e.validToDate) + " " + Date.newFull(e.validToDate).getFullYear()))])], 1) : t.isExpiring(e) && !e.membership ? i("div", [i("v-icon", {
                        staticClass: "error--text",
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-clock")]), i("span", {
                        staticClass: "error--text"
                    }, [t._v(" " + t._s(t.$translate("Valid unil")) + " " + t._s(Date.formatFullShort(e.validToDate) + " " + Date.newFull(e.validToDate).getFullYear()))])], 1) : i("div", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-update")]), i("span", [t._v(" " + t._s(t.$translate("Recurring, automatically extended")))])], 1), e.boundToDate && Date.newFull(e.boundToDate).isFuture() ? i("div", [i("v-icon", {
                        attrs: {
                            small: ""
                        }
                    }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Bound until")) + " " + t._s(Date.formatFullShort(e.boundToDate) + " " + Date.newFull(e.boundToDate).getFullYear()))])], 1) : t._e()]), i("div", {
                        staticClass: "z-card-action pt-2 px-2"
                    }, [i("v-btn", {
                        staticClass: "primary my-2",
                        attrs: {
                            block: ""
                        },
                        on: {
                            click: function(i) {
                                t.showingCard = e
                            }
                        }
                    }, [t._v("Info")])], 1)]], 2)
                }
                ))], 2)], 1)
            }
            )), 1)], 1)], 1)], 1) : t._e(), t.tabs.find((function(t) {
                return "teamsport" == t.id
            }
            )) ? i("v-tab-item", {
                key: "teamsport",
                attrs: {
                    value: "teamsport"
                }
            }, [i("v-tabs", {
                attrs: {
                    centered: "",
                    "background-color": "transparent"
                },
                model: {
                    value: t.selectedTeamsportTab,
                    callback: function(e) {
                        t.selectedTeamsportTab = e
                    },
                    expression: "selectedTeamsportTab"
                }
            }, t._l(t.teamsportTabs, (function(e) {
                return i("v-tab", {
                    key: e.id,
                    attrs: {
                        value: e.id,
                        tabValue: e.id
                    }
                }, [t._v(t._s(e.title))])
            }
            )), 1), i("v-tabs-items", {
                staticClass: "mt-2",
                model: {
                    value: t.selectedTeamsportTab,
                    callback: function(e) {
                        t.selectedTeamsportTab = e
                    },
                    expression: "selectedTeamsportTab"
                }
            }, [t.teamsportTabs.find((function(t) {
                return "registrations" === t.id
            }
            )) ? i("v-tab-item", {
                key: "registrations",
                attrs: {
                    value: "registrations"
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: {
                        component: "zoezi-my-teamsport-registrations",
                        style: {
                            pageParams: [{
                                prop: "activeTeam",
                                id: "team"
                            }]
                        }
                    }
                }
            }), t._e()], 2) : t._e(), t.teamsportTabs.find((function(t) {
                return "referee" === t.id
            }
            )) ? i("v-tab-item", {
                key: "referee",
                staticClass: "ma-2",
                attrs: {
                    value: "referee"
                }
            }, [i("teamsport-matches", {
                attrs: {
                    referee: ""
                }
            })], 1) : t._e(), t.teamsportTabs.find((function(t) {
                return "playerpool" === t.id
            }
            )) ? i("v-tab-item", {
                key: "playerpool",
                staticClass: "ma-2",
                attrs: {
                    value: "playerpool"
                }
            }, [i("TeamsportPlayerPool")], 1) : t._e()], 1)], 1) : t._e(), t.tabs.find((function(t) {
                return "family" == t.id
            }
            )) ? i("v-tab-item", {
                key: "family",
                attrs: {
                    value: "family"
                }
            }, [i("family")], 1) : t._e(), t.tabs.find((function(t) {
                return "account" == t.id
            }
            )) ? i("v-tab-item", {
                key: "account",
                attrs: {
                    value: "account"
                }
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6",
                    lg: "7"
                }
            }, [i("my-account")], 1)], 1)], 1) : t._e()], 1), t.showWorkoutDialog ? i("workout-dialog", {
                attrs: {
                    workout: t.showingWorkout,
                    showNumBooked: t.computedShowNumBooked
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }) : t._e(), t.showResourceBookingDialog ? i("resource-booking-dialog", {
                attrs: {
                    booking: t.showingResourceBooking
                },
                model: {
                    value: t.showResourceBookingDialog,
                    callback: function(e) {
                        t.showResourceBookingDialog = e
                    },
                    expression: "showResourceBookingDialog"
                }
            }) : t._e(), t.showCourseBookingDialog ? i("course-booking-dialog", {
                attrs: {
                    booking: t.showingCourseBooking
                },
                model: {
                    value: t.showCourseBookingDialog,
                    callback: function(e) {
                        t.showCourseBookingDialog = e
                    },
                    expression: "showCourseBookingDialog"
                }
            }) : t._e(), t.showTrainingCardDialog ? i("training-card-dialog", {
                attrs: {
                    card: t.showingCard
                },
                model: {
                    value: t.showTrainingCardDialog,
                    callback: function(e) {
                        t.showTrainingCardDialog = e
                    },
                    expression: "showTrainingCardDialog"
                }
            }) : t._e(), i("v-dialog", {
                attrs: {
                    "max-width": "800",
                    scrollable: ""
                },
                model: {
                    value: t.showHistoricalActivitiesDialog,
                    callback: function(e) {
                        t.showHistoricalActivitiesDialog = e
                    },
                    expression: "showHistoricalActivitiesDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Earlier activities")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showHistoricalActivitiesDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("historical-bookings", {
                attrs: {
                    "from-date": t.historyFrom,
                    "to-date": Date.today().addDays(-1)
                }
            })], 1)], 1)], 1)], 1) : t._e()
        }
          , Eo = []
          , Oo = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "850"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("course-booking", {
                attrs: {
                    courseId: t.course.id,
                    dialog: ""
                },
                on: {
                    close: function(e) {
                        t.showDialog = !1
                    }
                }
            }), i("v-card-actions", [i("v-spacer")], 1)], 1)], 1)
        }
          , Mo = []
          , Ao = {
            name: "zoezi-coursebooking-dialog",
            props: ["value", "booking"],
            components: {
                CourseBooking: ua
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t
                    }
                },
                showDialog(t) {
                    this.$emit("input", t)
                },
                booking: {
                    immediate: !0,
                    handler() {
                        this.booking && this.course.id != this.booking.course_id && this.$api.get("/api/public/course/get", {
                            id: this.booking.course_id
                        }).then(t=>{
                            this.course = t[0]
                        }
                        )
                    }
                }
            },
            data: ()=>({
                showDialog: !1,
                course: {}
            })
        }
          , Ro = Ao
          , Lo = Object(p["a"])(Ro, Oo, Mo, !1, null, null, null)
          , jo = Lo.exports;
        g()(Lo, {
            VCard: x["a"],
            VCardActions: G["a"],
            VDialog: K["a"],
            VSpacer: J["a"]
        });
        var No = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [t.booking ? i("v-card", [i("v-card-title", {
                staticClass: "align-start flex-column",
                style: {
                    "background-color": t.$root.siteconfig.appbar.props.backgroundColor,
                    color: t.$root.siteconfig.appbar.props.color
                }
            }, [i("div", {
                staticClass: "fill-width font-weight-bold ml-3"
            }, [i("span", [t._v(t._s(t.booking.servicename))]), i("v-btn", {
                staticClass: "float-right mr-2",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                style: {
                    "background-color": t.$root.siteconfig.appbar.props.backgroundColor,
                    color: t.$root.siteconfig.appbar.props.color
                }
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("div", {
                staticClass: "zoezi-checkout-summary-resource-booking ma-2"
            }, [i("div", {
                staticClass: "zoezi-checkout-summary-resource-booking-resource d-flex"
            }, [i("div", {
                staticClass: "justify-end"
            }, [i("v-avatar", {
                attrs: {
                    size: "60"
                }
            }, [i("v-auto-img", {
                staticClass: "zoezi-staff-image",
                attrs: {
                    src: t.staffimagekey
                }
            })], 1)], 1), i("span", {
                staticClass: "ml-3 d-flex flex-column align-start justify-center"
            }, [i("div", {
                staticClass: "text-uppercase"
            }, [t._v("Utövare")]), i("div", {
                staticClass: "zoezi-resource-name font-weight-bold"
            }, [t._v(t._s(t.booking.staffname))])])]), i("div", {
                staticClass: "zoezi-checkout-summary-resource-booking-details pt-4",
                staticStyle: {
                    "margin-left": "72px"
                }
            }, [i("div", {
                staticClass: "mb-2"
            }, [i("v-icon", {
                staticClass: "mr-3",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-calendar-month-outline")]), t._v(t._s(Date.newFull(t.booking.time).hhmm()) + ", " + t._s(Date.formatFullShort(t.booking.time)))], 1), i("div", {
                staticClass: "mb-2"
            }, [i("v-icon", {
                staticClass: "mr-3",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-clock-outline")]), t._v(t._s(t.booking.duration) + " min")], 1), t.showPrice ? i("div", {
                staticClass: "mb-2"
            }, [i("v-icon", {
                staticClass: "mr-3",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-ticket-outline")]), t._v(t._s(t._f("price")(t.booking.price)))], 1) : t._e(), t._l(t.sortedOptionalResources, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "mb-2"
                }, [i("v-avatar", {
                    staticClass: "mr-2",
                    attrs: {
                        size: 32
                    }
                }, [i("v-auto-img", {
                    attrs: {
                        src: e.imagekey
                    }
                })], 1), t._v(" " + t._s(e.lastname) + " ")], 1)
            }
            )), i("div", {
                staticClass: "d-flex"
            }, [i("v-icon", {
                staticClass: "align-start mr-3 mt-1",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-map-marker-outline")]), i("span", [i("div", [t._v(t._s(t.contactinfo.visit_address))]), i("div", [t._v(t._s(t.contactinfo.visit_zipCode) + " " + t._s(t.contactinfo.visit_city))])])], 1)], 2)])]), i("v-card-actions", [t.booking.unbookable ? i("v-btn", {
                attrs: {
                    block: "",
                    text: "",
                    color: "error",
                    loading: t.loading
                },
                on: {
                    click: function(e) {
                        return t.cancelBooking()
                    }
                }
            }, [t._v(t._s(t.$translate("CANCEL_BOOKING")))]) : t._e()], 1)], 1) : t._e()], 1)
        }
          , Wo = []
          , qo = {
            name: "zoezi-resourcebooking-dialog",
            props: ["value", "booking"],
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showDialog = t
                    }
                },
                showDialog(t) {
                    this.$emit("input", t)
                }
            },
            data: ()=>({
                showDialog: !1,
                loading: !1
            }),
            computed: {
                staffimagekey() {
                    var t;
                    return null === (t = this.booking) || void 0 === t ? void 0 : t.staff_imagekey
                },
                contactinfo() {
                    return this.$store.state.settings ? this.$store.state.settings.contactinfo : {}
                },
                showPrice() {
                    var t, e;
                    return !(null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.modules) || void 0 === e || !e.Payment)
                },
                sortedOptionalResources() {
                    var t;
                    const e = (null === (t = this.booking) || void 0 === t ? void 0 : t.optional_resources) || [];
                    return e.sort((t,e)=>t.lastname.localeCompare(e.lastname))
                }
            },
            methods: {
                cancelBooking() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/resourcebooking/cancel", null, {
                        id: this.booking.id
                    }).then(t=>{
                        this.loading = !1,
                        t.ok || this.$store.commit("showErrorDialog", {
                            title: this.$translate("Cancellation error"),
                            text: this.$translate("The booking could not be cancelled")
                        }),
                        this.showDialog = !t.ok
                    }
                    )
                },
                formatTime(t) {
                    let e = Date.newFull(t);
                    var i = this.$store.state.now30s.clone().clearTime().daysUntil(e);
                    if (i > 6 || i < 0 || e.getWeekNumber() > (new Date).getWeekNumber())
                        return e.yyyymmdd();
                    {
                        let t = [];
                        return t = 0 == i ? ["Today"] : 1 == i ? ["Tomorrow", e.getWeekDayString()] : [e.getWeekDayString()],
                        t.push(e.hhmm()),
                        t.map(this.$translate).join(" ")
                    }
                }
            }
        }
          , Ho = qo
          , Uo = Object(p["a"])(Ho, No, Wo, !1, null, null, null)
          , Yo = Uo.exports;
        g()(Uo, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"]
        });
        var Go = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-expansion-panels", {
                model: {
                    value: t.expandedPanel,
                    callback: function(e) {
                        t.expandedPanel = e
                    },
                    expression: "expandedPanel"
                }
            }, [i("v-expansion-panel", {
                staticClass: "no-elevation"
            }, [i("v-expansion-panel-header", [i("div", {
                staticClass: "zoezi-activity-section"
            }, [i("h3", [t._v(t._s(t.$translate("Coming payments")))]), i("small", [t._v(t._s(t.$translate("Your debts are listed here")))])]), i("v-badge", {
                attrs: {
                    color: "grey",
                    content: String(t.debts.length)
                }
            })], 1), i("v-expansion-panel-content", [0 == t.debts.length ? i("div", [t._v(" " + t._s(t.$translate("No coming payments")) + " ")]) : t._e(), t._l(t.debts, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "zoezi-card-default zoezi-card-horizontal z-clickable",
                    class: Date.newFull(e.date).isPastDate() ? "animate__animated animate__pulse animate__infinite" : "",
                    on: {
                        click: function(i) {
                            return t.showPayment(e)
                        }
                    }
                }, [i("div", {
                    staticClass: "z-card-image",
                    style: {
                        "background-image": "url(" + t.$api.getAssetUrl("/assets/img/cash.png") + ")"
                    }
                }, [i("div", {
                    staticClass: "z-card-image-time",
                    staticStyle: {
                        "background-color": "rgba(192,160,0,0.7)"
                    }
                }, [t._v(t._s(t._f("price")(e.leftToPayWithFees || e.amount)))]), i("div", {
                    staticClass: "z-card-image-small",
                    staticStyle: {
                        "background-color": "rgba(192,160,0,0.7)"
                    }
                }, [t._v(t._s(Date.newFull(e.date).isPastDate() ? "Nu" : Date.formatFullShorter(e.date)))])]), i("div", {
                    staticClass: "z-card-content"
                }, [i("strong", [t._v(t._s(e.name))]), i("br"), e.dateInfo ? i("div", [t._v(t._s(e.dateInfo) + ": " + t._s(t.$translate(e.date.getWeekDayString())) + " " + t._s(e.date.getDate()) + " " + t._s(t.$translate(e.date.getMonthName())) + " " + t._s(e.date.getFullYear()))]) : t._e(), i("div", [t._v(t._s(t._f("price")(e.leftToPayWithFees || e.amount)))])]), i("div", {
                    staticClass: "z-card-action pt-2 px-2"
                }, [e.canPay ? i("v-btn", {
                    staticClass: "primary my-2 zoezi-button-thin",
                    attrs: {
                        block: ""
                    },
                    on: {
                        click: function(i) {
                            return i.stopPropagation(),
                            t.pay(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Pay")))]) : t._e(), i("v-btn", {
                    staticClass: "primary my-2 zoezi-button-thin",
                    attrs: {
                        block: ""
                    },
                    on: {
                        click: function(i) {
                            return i.stopPropagation(),
                            t.showPayment(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Info")))])], 1)])
            }
            ))], 2)], 1)], 1), t.showPayDialog ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    fullscreen: t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showPayDialog,
                    callback: function(e) {
                        t.showPayDialog = e
                    },
                    expression: "showPayDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showPayDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("zoezi-checkout", {
                staticClass: "zoezi-checkout",
                attrs: {
                    items: t.payments
                },
                on: {
                    almostdone: function(e) {
                        t.showPaymentDialog = !1
                    }
                },
                scopedSlots: t._u([{
                    key: "donetext",
                    fn: function() {
                        return [i("div", [i("span", {
                            staticClass: "font-weight-bold"
                        }, [t._v(t._s(t.$translate("Thank you for your payment!")))])])]
                    },
                    proxy: !0
                }, {
                    key: "donesummarytitle",
                    fn: function() {
                        return [i("div", {
                            staticClass: "d-flex font-weight-bold"
                        }, [i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("You have paid")))])])]
                    },
                    proxy: !0
                }], null, !1, 3199358803)
            })], 1)], 1) : t._e(), t.showPaymentDialog ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px"
                },
                model: {
                    value: t.showPaymentDialog,
                    callback: function(e) {
                        t.showPaymentDialog = e
                    },
                    expression: "showPaymentDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll zoezi-show-payment-dialog",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.getMethodName(t.showingPayment)) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showPaymentDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("table", {
                staticClass: "table-header"
            }, [i("tr", [i("td", [t._v(t._s(t._f("translate")("Payment method")))]), i("td", [t._v(t._s(t.getMethodName(t.showingPayment)))])]), i("tr", [i("td", [t._v(t._s(t._f("translate")("Status")))]), i("td", [t._v(t._s(t._f("translate")(t.showingPayment.status.capitalize())))])]), t.showingPayment.dateInfo ? i("tr", [i("td", [t._v(t._s(t._f("translate")(t.showingPayment.dateInfo)))]), i("td", [t._v(t._s(t.showingPayment.date.yyyymmdd()))])]) : t._e(), i("tr", {
                staticClass: "empty-row"
            }), t.showingPayment.bankgiroNumber ? i("tr", [i("td", [t._v(t._s(t._f("translate")("BG-account")))]), i("td", [t._v(t._s(t.formatBankgiroNumber(t.showingPayment.bankgiroNumber)))])]) : t._e(), t.showingPayment.referenceNumber ? i("tr", [i("td", [t._v(t._s(t._f("translate")("OCR-number")))]), i("td", [t._v(t._s(t.showingPayment.referenceNumber))])]) : t._e(), i("tr", [i("td", [t._v(t._s(t._f("translate")("Amount")))]), i("td", [t._v(t._s(t._f("price")(t.showingPayment.amount)))])]), t.showingPayment.reminderFee ? i("tr", [i("td", [t._v(t._s(t._f("translate")("Reminder fee")))]), i("td", [t._v(t._s(t._f("price")(t.showingPayment.reminderFee.amount)))])]) : t._e(), t.showingPayment.reminderRate ? i("tr", [i("td", [t._v(t._s(t._f("translate")("Reminder rate")))]), i("td", [t._v(t._s(t._f("price")(t.showingPayment.reminderRate.amount)))])]) : t._e(), t.showingPayment.alreadyPaidAmount ? i("tr", [i("td", [t._v(t._s(t.$translate("Already paid")))]), i("td", [t._v(t._s(t._f("price")(t.showingPayment.alreadyPaidAmount)))])]) : t._e(), t.showingPayment.leftToPayWithFees ? i("tr", [i("td", [t._v(t._s(t._f("translate")("To pay")))]), i("td", {
                staticClass: "bold"
            }, [t._v(t._s(t._f("price")(t.showingPayment.leftToPayWithFees)))])]) : t._e()])]), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("ul", {
                staticClass: "list-unstyled pl-0"
            }, ["failed" == t.showingPayment.status && t.showingPayment.message ? i("li", [i("p", [t._v(t._s(t.showingPayment.message))])]) : t._e(), i("li", [i("p", {
                staticClass: "bold"
            }, [t._v(t._s(t._f("translate")("This payment contains the following products")))])]), t._l(t.showingPayment.items, (function(e, s) {
                return i("li", {
                    key: s
                }, [t._v(t._s(e))])
            }
            ))], 2)])], 1)], 1), i("v-card-actions", [t.showingPayment.canPay ? i("v-btn", {
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        return t.pay(t.showingPayment)
                    }
                }
            }, [t._v(t._s(t.$translate("Pay")))]) : t._e(), t.showingPayment.invoice_hash || t.showingPayment.reminder_id ? i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.gettingInvoice
                },
                on: {
                    click: function(e) {
                        return t.getInvoice(t.showingPayment)
                    }
                }
            }, [t._v(t._s(t.$translate("Get invoice")))]) : t._e(), i("v-spacer")], 1)], 1)], 1) : t._e()], 1)
        }
          , Ko = []
          , Qo = {
            name: "zoezi-coming-payments",
            zoezi: {
                title: "Upcoming payments",
                icon: "mdi-credit-card-clock-outline"
            },
            data: ()=>({
                debts: [],
                unsubscribe: null,
                showPayDialog: !1,
                showPaymentDialog: !1,
                payments: [],
                expandedPanel: 0,
                showingPayment: null,
                gettingInvoice: !1
            }),
            props: {},
            methods: {
                fetchDebts() {
                    this.$api.get("/api/memberapi/debts/get").then(t=>{
                        this.debts = t.map(t=>({
                            ...t,
                            date: Date.newFull(t.date),
                            dateInfo: "directdebit" == t.method && "failed" != t.status ? this.$translate("To be deducted by direct debit") : "pending" == t.status ? "" : this.$translate("Due date"),
                            name: t.name ? t.name : t.items.join(", ")
                        })).sort((t,e)=>Date.newFull(t.date) - Date.newFull(e.date)),
                        this.$emit("count", this.debts.length)
                    }
                    )
                },
                getPaymentItems(t) {
                    let e = [];
                    return e.push({
                        name: t.name,
                        date: t.date,
                        amount: t.amount,
                        payments: t.payments
                    }),
                    t.leftToPay && (e[0].amount = +t.leftToPay),
                    t.reminderFee && e.push({
                        name: t.reminderFee.name,
                        amount: t.reminderFee.amount,
                        payments: t.reminderFee.payments,
                        date: t.reminderFee.date
                    }),
                    t.reminderRate && e.push({
                        name: t.reminderRate.name,
                        amount: t.reminderRate.amount,
                        payments: t.reminderRate.payments,
                        date: t.reminderRate.date
                    }),
                    e.map(t=>{
                        let e = t.name;
                        return {
                            name: e,
                            amount: t.amount,
                            payments: t.payments,
                            date: t.date
                        }
                    }
                    )
                },
                pay(t) {
                    this.payments = [{
                        payment: {
                            payments: this.getPaymentItems(t)
                        }
                    }],
                    this.showPayDialog = !0
                },
                showPayment(t) {
                    this.showingPayment = t,
                    this.showPaymentDialog = !0
                },
                getMethodName(t) {
                    if (t.method) {
                        let e = t.method;
                        return e = "unknown" == t.method ? "Pay on site" : t.method,
                        this.$translate(e).capitalize()
                    }
                },
                formatBankgiroNumber(t) {
                    return t && (t = String(t),
                    6 == t.length ? t = t.insertAt(3, "-") : t.length >= 6 && (t = t.insertAt(t.length - 4, "-"))),
                    t
                },
                getInvoice(t) {
                    let e, i;
                    if (this.gettingInvoice = !0,
                    t.reminder_id ? (e = "/api/memberapi/invoice/reminder/get",
                    i = {
                        id: t.reminder_id
                    }) : (e = "/api/memberapi/invoice/get",
                    i = {
                        hash: t.invoice_hash
                    }),
                    Object(o["t"])()) {
                        let t = {
                            api: {
                                url: "current",
                                path: e,
                                args: i
                            },
                            type: "pdf"
                        };
                        window.ReactNativeWebView.postMessage(JSON.stringify({
                            type: "openFile",
                            data: t
                        })),
                        this.gettingInvoice = !1
                    } else
                        this.$api.post(e, null, i).then(t=>{
                            t.ok && t.blob().then(t=>{
                                Object(o["g"])({
                                    filename: this.$translate("Invoice") + ".pdf",
                                    data: t,
                                    type: "application/pdf"
                                })
                            }
                            ),
                            this.gettingInvoice = !1
                        }
                        )
                }
            },
            mounted() {
                this.fetchDebts(),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "payment",
                    callback: ()=>this.fetchDebts()
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , Jo = Qo
          , Xo = (i("4a81"),
        Object(p["a"])(Jo, Go, Ko, !1, null, null, null))
          , Zo = Xo.exports;
        g()(Xo, {
            VBadge: Ue["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var tn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [t.card ? i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.card.cardtype_name) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "4"
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.card.cardtype.imagekey
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [i("div", {
                domProps: {
                    innerHTML: t._s(t.card.cardtype.description)
                }
            }), t.activeFreeze ? i("div", [i("span", {
                staticClass: "error--text"
            }, [t._v("Kortet är fryst till " + t._s(Date.formatFullShort(t.activeFreeze.toDate) + " " + Date.newFull(t.activeFreeze.toDate).getFullYear()))])]) : t._e(), t.isExpiring && !t.card.membership ? i("div", [i("v-icon", {
                staticClass: "error--text",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-alert")]), i("span", {
                staticClass: "error--text"
            }, [t._v(" " + t._s(t.$translate("The card is cancelled")))])], 1) : t._e(), t.card.trainingsLeft || null != t.card.trainingsLeft && Date.newFull(t.card.boundToDate).isFuture() ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-ticket")]), t._v(" " + t._s(t.card.trainingsLeft) + " " + t._s(t.$translate("trainings left")) + " ")], 1) : t._e(), t.card.validFromDate && Date.newFull(t.card.validFromDate).isFutureDate() ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Valid from")) + " " + t._s(Date.formatFullShort(t.card.validFromDate) + " " + Date.newFull(t.card.validFromDate).getFullYear()))])], 1) : t._e(), t.card.validToDate && !t.isExpiring ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Valid until")) + " " + t._s(Date.formatFullShort(t.card.validToDate) + " " + Date.newFull(t.card.validToDate).getFullYear()))])], 1) : t.card.validToDate && t.isExpiring && !t.card.membership ? i("div", [i("v-icon", {
                staticClass: "error--text",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-clock")]), i("span", {
                staticClass: "error--text"
            }, [t._v(" " + t._s(t.$translate("Valid until")) + " " + t._s(Date.formatFullShort(t.card.validToDate) + " " + Date.newFull(t.card.validToDate).getFullYear()))])], 1) : i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-update")]), i("span", [t._v(" " + t._s(t.$translate("Recurring, automatically extended")))])], 1), t.card.boundToDate && Date.newFull(t.card.boundToDate).isFuture() ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Bound until")) + " " + t._s(Date.formatFullShort(t.card.boundToDate) + " " + Date.newFull(t.card.boundToDate).getFullYear()))])], 1) : t._e()])], 1)], 1), i("v-card-actions", {
                staticClass: "d-flex flex-wrap"
            }, [t.canCancelCard ? i("v-btn", {
                staticStyle: {
                    "margin-right": "0.3em"
                },
                attrs: {
                    color: "error"
                },
                on: {
                    click: function(e) {
                        t.showCancelCardDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Cancel card")))]) : t._e(), t.showReceiptBtn ? i("zoezi-collection-receipt", {
                staticStyle: {
                    overflow: "hidden",
                    "min-width": "110px"
                },
                attrs: {
                    cards: [t.card]
                }
            }) : t._e()], 1)], 1) : t._e()], 1), i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showCancelCardDialog,
                    callback: function(e) {
                        t.showCancelCardDialog = e
                    },
                    expression: "showCancelCardDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Cancel {0}").format(t.card.cardtype_name)) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showCancelCardDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [t.card.validToDate ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-clock")]), i("span", [t._v(" " + t._s(t.$translate("Valid until")) + " " + t._s(Date.formatFullShort(t.card.validToDate) + " " + Date.newFull(t.card.validToDate).getFullYear()))])], 1) : t._e()])], 1)], 1), i("v-textarea", {
                staticClass: "ml-4 mr-4",
                attrs: {
                    label: t.$translate("Please tell us why you want to cancel the training card")
                },
                model: {
                    value: t.reason,
                    callback: function(e) {
                        t.reason = e
                    },
                    expression: "reason"
                }
            }), i("div", {
                staticStyle: {
                    "text-align": "center"
                }
            }, [i("v-btn", {
                staticClass: "ma-4",
                staticStyle: {
                    display: "inline-block",
                    width: "100px"
                },
                attrs: {
                    loading: t.loading,
                    color: "error"
                },
                on: {
                    click: function(e) {
                        return t.cancelTrainingCard(t.card)
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Cancel card")) + " ")]), i("v-btn", {
                staticClass: "ma-4",
                staticStyle: {
                    display: "inline-block",
                    width: "100px"
                },
                attrs: {
                    dark: ""
                },
                on: {
                    click: function(e) {
                        t.showCancelCardDialog = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")])], 1)], 1)], 1)], 1)
        }
          , en = []
          , sn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", t._g({}, t.events), [i("component-wrapper", {
                staticStyle: {
                    "max-width": "100%"
                },
                attrs: {
                    config: t.component
                }
            })], 1)
        }
          , an = []
          , on = {
            name: "zoezi-collection-receipt",
            zoezi: {
                title: "Collection receipt",
                icon: "mdi-receipt"
            },
            props: {
                component: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>Yx.makeEmptyConfig({
                        component: "zoezi-button",
                        props: {
                            text: window.$translate("Fetch annual collection receipt")
                        }
                    })
                },
                cards: {}
            },
            computed: {
                events() {
                    return this.$root.edit ? {} : {
                        click: ()=>{
                            this.getReceipt()
                        }
                    }
                }
            },
            methods: {
                getReceipt() {
                    let t = this.cards || this.$store.state.cards;
                    if (!t.length)
                        return void console.log("No cards");
                    const e = Date.today().getFullYear();
                    let i = {
                        id: t.map(t=>t.id).join(","),
                        fromDate: e + "-01-01",
                        toDate: e + "-12-31"
                    }
                      , s = this.$translate("Collection receipt") + ".pdf";
                    Object(o["t"])() ? window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "openFile",
                        data: {
                            api: {
                                url: "current",
                                path: "/api/memberapi/trainingcard/receipt/get",
                                args: i
                            },
                            type: "pdf"
                        }
                    })) : (this.gettingReceipt = !0,
                    this.$api.get("/api/memberapi/trainingcard/receipt/get", i, {
                        blob: !0
                    }).then(t=>{
                        Object(o["g"])({
                            filename: s,
                            blob: t,
                            type: "application/pdf"
                        }),
                        this.gettingReceipt = !1
                    }
                    ))
                }
            }
        }
          , nn = on
          , rn = (i("61c7"),
        Object(p["a"])(nn, sn, an, !1, null, null, null))
          , ln = rn.exports
          , cn = {
            name: "zoezi-training-card-dialog",
            props: ["value", "card"],
            components: {
                ZoeziCollectionReceipt: ln
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.show = t
                    }
                },
                show(t) {
                    this.$emit("input", t)
                }
            },
            data: ()=>({
                show: !1,
                showCancelCardDialog: !1,
                reason: null,
                loading: !1,
                gettingReceipt: !1
            }),
            computed: {
                activeFreeze() {
                    return this.$booking.getActiveFreeze(this.card, this.$store.state.now30s.clone())
                },
                isExpiring() {
                    return this.card.validToDate && this.card.cardtype.auto
                },
                canCancelCard() {
                    var t;
                    return (null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.canCancel) && this.card.boundToDate && !this.card.validToDate && (this.$store.state.user.id == this.card.user_id || this.$store.state.user.canManage.find(t=>t.id == this.card.user_id))
                },
                showReceiptBtn() {
                    return this.$store.state.user.id == this.card.user_id || this.$store.state.user.canManage.find(t=>t.id == this.card.user_id)
                }
            },
            methods: {
                cancelTrainingCard(t) {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/trainingcard/cancel", {
                        id: t.id,
                        reason: this.reason
                    }).then(()=>{
                        this.loading = !1,
                        this.showCancelCardDialog = !1
                    }
                    )
                }
            }
        }
          , dn = cn
          , un = i("a844")
          , hn = Object(p["a"])(dn, tn, en, !1, null, null, null)
          , mn = hn.exports;
        g()(hn, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTextarea: un["a"]
        });
        var pn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user && t.$store.state.settings ? i("div", [t.showValueCard && t.$store.state.user.money ? i("v-card", {
                staticClass: "d-flex pa-2 mb-2"
            }, [i("img", {
                staticStyle: {
                    width: "32px",
                    height: "32px"
                },
                attrs: {
                    src: t.$api.getAssetUrl("/assets/img/valuecard.png")
                }
            }), i("div", {
                staticClass: "font-weight-bold ma-1 mx-4"
            }, [t._v(t._s(t.$translate("Value card")))]), i("v-spacer"), i("div", {
                staticClass: "ma-1"
            }, [t._v(t._s(t.formatPrice(t.$store.state.user.money)))])], 1) : t._e(), i("v-spacer"), t.showCards && t.$store.state.settings.cardpaymentkey && !t.adyenActive ? i("v-card", {
                staticClass: "mb-2"
            }, [i("div", {
                staticClass: "d-flex pa-2"
            }, [i("img", {
                staticStyle: {
                    width: "32px",
                    height: "32px"
                },
                attrs: {
                    src: t.$api.getAssetUrl("/assets/img/creditcard.png")
                }
            }), i("div", {
                staticClass: "font-weight-bold ma-1 mx-4"
            }, [t._v(t._s(t.$translate("Credit card")))]), i("v-spacer"), t.loadingCard || t.removingCard ? i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            }) : t.savedCard ? i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "error",
                    loading: t.removingCard
                },
                on: {
                    click: t.removeCard
                }
            }, [t._v(t._s(t.$translate("Remove")) + " "), i("v-icon", {
                staticClass: "ml-1",
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-minus-circle")])], 1)], 1) : t.addCardMode ? t._e() : i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.addCardMode = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Add")) + " "), i("v-icon", {
                staticClass: "ml-1",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-plus-circle")])], 1)], 1)], 1), t.addCardMode ? i("div", {
                staticClass: "pa-2"
            }, [i("stripe-elements", {
                ref: "stripe",
                attrs: {
                    label: t.$translate("Card number"),
                    autofocus: ""
                },
                on: {
                    change: t.cardChanged
                }
            }), i("div", {
                staticClass: "d-flex"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.addCardMode = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Cancel")))]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    loading: t.savingCard,
                    disabled: !t.cardValid
                },
                on: {
                    click: t.saveCard
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1) : t.savedCard ? i("div", {
                staticClass: "pa-2"
            }, [i("table", {
                staticClass: "fill-width"
            }, [i("thead", {
                staticClass: "v-label theme--light primarytext"
            }, [i("tr", {
                staticStyle: {
                    "text-align": "left"
                }
            }, [i("th", {
                staticStyle: {
                    "font-weight": "normal"
                }
            }, [t._v(t._s(t.$translate("Card number")))]), i("th", {
                staticStyle: {
                    "font-weight": "normal"
                }
            }, [t._v(t._s(t.$translate("MM / YY")))]), i("th", {
                staticStyle: {
                    "font-weight": "normal"
                }
            }, [t._v(t._s(t.$translate("CVC")))])])]), i("tbody", [i("tr", [i("td", [t._v("**** **** **** " + t._s(t.savedCard.last4))]), i("td", [t._v(t._s(t.savedCardExpireText))]), i("td", [t._v("***")])])])])]) : t._e()]) : t._e(), i("v-spacer"), t.showCards && t.adyenActive ? i("v-card", {
                staticClass: "mb-2"
            }, [i("div", {
                staticClass: "d-flex pa-2"
            }, [i("img", {
                staticStyle: {
                    width: "32px",
                    height: "32px"
                },
                attrs: {
                    src: t.$api.getAssetUrl("/assets/img/creditcard.png")
                }
            }), i("div", {
                staticClass: "font-weight-bold ma-1 mx-4"
            }, [t._v(t._s(t.$translate("Credit card")))]), i("v-spacer"), t.loadingCard || t.removingCard ? i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            }) : t.addCardMode ? t._e() : i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.addCardMode = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Add")) + " "), i("v-icon", {
                staticClass: "ml-1",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-plus-circle")])], 1)], 1)], 1), t.addCardMode ? i("div", {
                staticClass: "pa-2"
            }, [i("AdyenPayment", {
                ref: "adyen",
                attrs: {
                    method: "adyen-card",
                    showInfo: !1
                },
                on: {
                    change: t.cardChanged
                }
            }), i("v-spacer", {
                staticStyle: {
                    "margin-top": "10px"
                }
            }), i("div", {
                staticClass: "d-flex"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.addCardMode = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Cancel")))]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    loading: t.savingCard,
                    disabled: !t.cardValid
                },
                on: {
                    click: t.saveAdyenCard
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1) : t._e(), t.savedCards.length ? i("div", {
                staticClass: "pa-2"
            }, [i("table", {
                staticClass: "fill-width"
            }, [i("thead", {
                staticClass: "v-label theme--light primarytext"
            }, [i("tr", {
                staticStyle: {
                    "text-align": "left"
                }
            }, [i("th", {
                staticStyle: {
                    "font-weight": "normal"
                }
            }, [t._v(t._s(t.$translate("Card Number - MM/YY")))]), i("th", {
                staticStyle: {
                    "font-weight": "normal"
                }
            }, [t._v(t._s(t.$translate("CVC")))]), i("th")])]), i("tbody", t._l(t.savedCards, (function(e) {
                return i("tr", {
                    key: e.ref
                }, [i("td", [t._v("**** **** **** " + t._s(e.info))]), i("td", [t._v("***")]), i("td", {
                    staticClass: "d-flex"
                }, [i("v-spacer"), i("v-btn", {
                    staticClass: "zoezi-button-thin",
                    attrs: {
                        text: "",
                        color: "error",
                        loading: t.removingCard
                    },
                    on: {
                        click: function(i) {
                            return t.removeAdyenCard(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Remove")) + " "), i("v-icon", {
                    staticClass: "ml-1",
                    attrs: {
                        color: "error"
                    }
                }, [t._v("mdi-minus-circle")])], 1)], 1)])
            }
            )), 0)])]) : t._e()]) : t._e(), i("v-spacer"), t.showDirectDebit && t.$store.state.settings.modules.Contract && t.$store.state.settings.modules.DirectDebit ? i("v-card", [i("div", {
                staticClass: "d-flex pa-2"
            }, [i("img", {
                staticStyle: {
                    width: "32px",
                    height: "32px"
                },
                attrs: {
                    src: t.$api.getAssetUrl("/assets/img/bgc.ico")
                }
            }), i("div", {
                staticClass: "font-weight-bold ma-1 mx-4"
            }, [t._v(t._s(t.$translate("Direct debit")))]), i("v-spacer"), t.removingConsent ? i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            }) : t.$store.state.user.consent ? i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "error",
                    loading: t.removingConsent
                },
                on: {
                    click: t.removeConsent
                }
            }, [t._v(t._s(t.$translate("Remove")) + " "), i("v-icon", {
                staticClass: "ml-1",
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-minus-circle")])], 1)], 1) : t.$store.state.user.consent || t.addConsentMode ? t._e() : i("div", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.addConsentMode = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Add")) + " "), i("v-icon", {
                staticClass: "ml-1",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-plus-circle")])], 1)], 1)], 1), t.$store.state.user.consent ? i("div", {
                staticClass: "v-label theme--light primarytext pa-2"
            }, [t._v(" " + t._s(t.$translate("You have an active direct debit consent.")) + " ")]) : t.addConsentMode ? i("v-expand-transition", [i("sign-direct-debit-consent", {
                staticClass: "pa-2",
                attrs: {
                    "show-cancel": ""
                },
                on: {
                    cancel: function(e) {
                        t.addConsentMode = !1
                    }
                }
            })], 1) : t._e()], 1) : t._e()], 1) : t._e()
        }
          , vn = []
          , gn = i("0382")
          , fn = i("8479")
          , bn = i("cb20")
          , yn = {
            name: "zoezi-my-payment-methods",
            props: {
                showValueCard: {
                    type: Boolean,
                    default: !0
                },
                showCards: {
                    type: Boolean,
                    default: !0
                },
                showDirectDebit: {
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                StripeElements: gn["a"],
                SignDirectDebitConsent: fn["a"],
                AdyenPayment: bn["a"]
            },
            data: ()=>({
                loadingCard: !0,
                savedCard: null,
                cardValid: !1,
                removingCard: !1,
                savingCard: !1,
                addCardMode: !1,
                addConsentMode: !1,
                removingConsent: !1
            }),
            methods: {
                cardChanged(t) {
                    this.cardValid = !!t
                },
                getCard() {
                    this.loadingCard = !0,
                    this.$api.get("/api/memberapi/paycard/get").then(t=>{
                        this.savedCard = t && t.last4 ? t : null,
                        this.loadingCard = !1
                    }
                    )
                },
                removeCard() {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove payment method"),
                        text: this.$translate("Are you sure you want to remove your payment card?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.removingCard = !0,
                            this.$api.post("/api/memberapi/paycard/remove").then(()=>{
                                this.getCard(),
                                this.removingCard = !1
                            }
                            )
                        }
                    })
                },
                saveCard() {
                    this.savingCard = !0,
                    this.$refs.stripe.saveCard().then(()=>{
                        this.getCard(),
                        this.savingCard = !1,
                        this.addCardMode = !1
                    }
                    ).catch(()=>{
                        this.$store.commit("showSnackBar", {
                            text: this.$translate("The card could not be saved")
                        }),
                        this.savingCard = !1
                    }
                    )
                },
                saveAdyenCard() {
                    this.savingCard = !0,
                    this.$refs.adyen.save().then(()=>{
                        this.savingCard = !1,
                        this.addCardMode = !1
                    }
                    ).catch(t=>{
                        this.$store.commit("showSnackBar", {
                            text: t || this.$translate("The card could not be saved")
                        }),
                        this.savingCard = !1
                    }
                    )
                },
                removeAdyenCard(t) {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove payment method"),
                        text: this.$translate("Are you sure you want to remove your payment card?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.removingCard = !0,
                            Object(bn["b"])(t.ref).catch(()=>{
                                this.$store.commit("showSnackBar", {
                                    text: this.$translate("The card could not be removed")
                                })
                            }
                            ).finally(()=>{
                                this.removingCard = !1
                            }
                            )
                        }
                    })
                },
                formatPrice: o["i"],
                removeConsent() {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove payment method"),
                        text: this.$translate("Are you sure you want to remove your direct debit consent?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.removingConsent = !0,
                            this.$api.post("/api/memberapi/directdebit/consent/remove").catch(()=>{
                                this.$store.commit("showSnackBar", {
                                    text: this.$translate("Failed to remove consents")
                                })
                            }
                            ).finally(()=>{
                                this.removingConsent = !1
                            }
                            )
                        }
                    })
                }
            },
            computed: {
                savedCardExpireText() {
                    if (!this.savedCard)
                        return null;
                    let t = String(this.savedCard.exp_year)
                      , e = String(this.savedCard.exp_month);
                    return 1 == e.length && (e = "0" + e),
                    `${e} / ${t}`
                },
                adyenActive() {
                    var t;
                    return null === (t = this.$store.state.user.adyen) || void 0 === t ? void 0 : t.active
                },
                savedCards() {
                    var t;
                    return (null === (t = this.$store.state.user.adyen) || void 0 === t ? void 0 : t.saved_cards) || []
                }
            },
            mounted() {
                this.getCard()
            }
        }
          , _n = yn
          , kn = Object(p["a"])(_n, pn, vn, !1, null, null, null)
          , wn = kn.exports;
        g()(kn, {
            VBtn: O["a"],
            VCard: x["a"],
            VExpandTransition: la["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"]
        });
        var Cn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-row", {
                staticClass: "mx-2"
            }, [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [t.requests.length ? i("div", [i("h2", [t._v(t._s(t.$translate("Applications")))]), t._l(t.requests, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "ma-4 pa-4",
                    on: {
                        click: function(i) {
                            return t.answer(e)
                        }
                    }
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("user-avatar", {
                    attrs: {
                        size: 50,
                        user: e.requester
                    }
                }), i("div", {
                    staticClass: "flex-grow-1 ml-2"
                }, [i("div", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(e.requester.name))]), t._v(" " + t._s(e.text) + " ")]), i("v-btn", {
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.answer(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Answer")))])], 1)])
            }
            ))], 2) : t._e(), t.sentRequests.length ? i("div", [i("h2", [t._v(t._s(t.$translate("Waiting for a reply")))]), t._l(t.sentRequests, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "ma-4 pa-4"
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("user-avatar", {
                    attrs: {
                        size: 50,
                        user: e.user
                    }
                }), i("div", {
                    staticClass: "flex-grow-1 ml-2"
                }, [i("div", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(e.user.name))]), t._v(" " + t._s(e.text) + " ")]), i("v-btn", {
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.cancelRequest(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Remove")))])], 1)])
            }
            ))], 2) : t._e(), i("h2", [t._v(t._s(t.$translate("Family")))]), i("div", {
                staticClass: "text--secondary"
            }, [t._v(t._s(t.$translate("Your family members")))]), t._l(t.users, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "ma-4 pa-4"
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("user-avatar", {
                    attrs: {
                        size: 50,
                        user: e
                    }
                }), i("div", {
                    staticClass: "flex-grow-1 ml-2"
                }, [i("div", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(e.name))]), t._v(" " + t._s(e.relationText) + " ")]), i("v-btn", {
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.change(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Change")))])], 1), e.manage ? t._l(e.blocks, (function(s) {
                    return i("div", {
                        key: s.id
                    }, [i("v-alert", {
                        staticClass: "mt-1",
                        attrs: {
                            dense: "",
                            text: "",
                            type: "error"
                        }
                    }, [i("span", {
                        domProps: {
                            innerHTML: t._s(t.getBlockMessage(s))
                        }
                    })]), "warning" == s.type ? i("v-btn", {
                        staticClass: "red--text ml-11",
                        attrs: {
                            text: "",
                            light: ""
                        },
                        on: {
                            click: function(i) {
                                t.showWarningsDialog = !0,
                                t.currentUser = e
                            }
                        }
                    }, [t._v(" " + t._s(t.$translate("Show warnings")) + " ")]) : t._e(), "warning" == s.type && t.$store.state.settings.blockFeeProductId ? i("v-btn", {
                        staticClass: "ml-4 red--text",
                        attrs: {
                            text: "",
                            light: ""
                        },
                        on: {
                            click: function(i) {
                                t.showBlockFeeDialog = !0,
                                t.currentUser = e
                            }
                        }
                    }, [t._v(" " + t._s(t.$translate("Lift the block")) + " ")]) : t._e()], 1)
                }
                )) : t._e(), t.userHasWarningsButIsNotBlocked(e) ? i("div", [e.manage && !e.warnedUntil && e.warnings ? i("div", {
                    attrs: {
                        icon: "mdi-sticker-alert-outline",
                        "icon-color": "error"
                    }
                }, [i("v-btn", {
                    staticClass: "ml-11",
                    attrs: {
                        text: "",
                        color: "red lighten-1",
                        light: ""
                    },
                    on: {
                        click: function(i) {
                            t.showWarningsDialog = !0,
                            t.currentUser = e
                        }
                    }
                }, [t._v(" " + t._s(t.$translate("Show warnings")) + " ")])], 1) : t._e()]) : t._e()], 2)
            }
            )), 0 == t.users.length ? i("div", {
                staticClass: "mt-4"
            }, [t._v(" " + t._s(t.$translate("Your family members will show up here. Add someone.")) + " ")]) : t._e()], 2), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("h2", [t._v(t._s(t.$translate("Add family members")))]), i("div", {
                staticClass: "text--secondary"
            }, [t._v(t._s(t.$translate("The more the merrier!")))]), i("v-btn", {
                staticClass: "mt-4",
                attrs: {
                    color: "primary",
                    large: ""
                },
                on: {
                    click: t.add
                }
            }, [t._v(t._s(t.$translate("Add family member")))])], 1), t.request ? i("v-dialog", {
                attrs: {
                    "max-width": "500px"
                },
                model: {
                    value: t.showRequestDialog,
                    callback: function(e) {
                        t.showRequestDialog = e
                    },
                    expression: "showRequestDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "fill-width"
            }, [t._v(" " + t._s(t.$translate("Application")) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showRequestDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "4"
                }
            }, [i("user-avatar", {
                attrs: {
                    size: 100,
                    user: t.request.requester
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Application from")) + " " + t._s(t.request.requester.name))]), i("div", [t._v(t._s(t.request.text))])])], 1)], 1), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    outlined: "",
                    loading: t.declining,
                    disabled: t.accepting
                },
                on: {
                    click: function(e) {
                        return t.declineRequest(t.request)
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Decline")) + " ")]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    loading: t.accepting,
                    disabled: t.declining
                },
                on: {
                    click: function(e) {
                        return t.acceptRequest(t.request)
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Approve")) + " ")])], 1)], 1)], 1) : t._e(), t.showBlockFeeDialog && t.canBuyBuyBlockFee ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    fullscreen: t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showBlockFeeDialog,
                    callback: function(e) {
                        t.showBlockFeeDialog = e
                    },
                    expression: "showBlockFeeDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showBlockFeeDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("zoezi-checkout", {
                staticClass: "zoezi-checkout",
                attrs: {
                    items: [{
                        product_id: t.$store.state.settings.blockFeeProductId,
                        user_id: t.currentUser.id
                    }]
                }
            })], 1)], 1) : t._e(), t.showWarningsDialog ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px"
                },
                model: {
                    value: t.showWarningsDialog,
                    callback: function(e) {
                        t.showWarningsDialog = e
                    },
                    expression: "showWarningsDialog"
                }
            }, [i("v-card", {
                staticClass: "z-no-x-scroll",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [i("v-icon", {
                staticClass: "primary primarytext--text mr-2"
            }, [t._v("mdi-sticker-alert-outline")]), t._v(" " + t._s(t.$translate("Warnings")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showWarningsDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("div", {
                staticClass: "font-weight-bold mt-4"
            }, [t._v(t._s(t.currentUser.name.split(" ")[0]) + " " + t._s(t.$translate("has been warned on the following occasions")))]), t.warnings ? i("ul", t._l(t.warnings, (function(e) {
                return i("li", {
                    key: e.id
                }, [i("span", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(Date.newFull(e.created).yyyymmdd()))]), i("span", {
                    staticClass: "ml-2"
                }, [t._v(t._s(e.reason))])])
            }
            )), 0) : t._e()]), i("v-card-actions", [t.canBuyBuyBlockFee ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: function(e) {
                        t.showBlockFeeDialog = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Lift the block")) + " ")]) : t._e()], 1)], 1)], 1) : t._e()], 1)
        }
          , xn = []
          , $n = {
            name: "zoezi-family",
            components: {
                UserAvatar: co["a"]
            },
            data: ()=>({
                showRequestDialog: !1,
                request: null,
                accepting: !1,
                declining: !1,
                showBlockFeeDialog: !1,
                showWarningsDialog: !1,
                warningsRaw: null,
                currentUser: null
            }),
            watch: {
                currentUser: {
                    immediate: !0,
                    handler(t) {
                        this.warningsRaw = null,
                        t && this.getWarnings()
                    }
                }
            },
            computed: {
                requests() {
                    let t = this.$store.state.user;
                    return t ? t.requests.map(t=>Object.assign({}, t, {
                        text: this.getRequestText(t)
                    })) : []
                },
                sentRequests() {
                    let t = this.$store.state.user;
                    return t ? t.requestssent.map(t=>Object.assign({}, t, {
                        text: this.getSentRequestText(t)
                    })) : []
                },
                users() {
                    let t = this.$store.state.user;
                    if (!t)
                        return [];
                    let e = []
                      , i = (i,s)=>{
                        (t[i] || []).forEach(t=>{
                            let i, a = e.find(e=>e.id == t.id);
                            a ? (i = a,
                            Object.assign(i, t)) : (i = Object.assign({}, t),
                            e.push(i)),
                            i[s] = !0
                        }
                        )
                    }
                    ;
                    return i("canBookFor", "book"),
                    i("canManage", "manage"),
                    i("managers", "manage_me"),
                    i("bookers", "book_me"),
                    i("paysFor", "pay"),
                    e = e.filter(e=>e.id != t.id).sort((t,e)=>t.name.localeCompare(e.name)),
                    e.forEach(t=>t.relationText = this.getRelationText(t)),
                    e
                },
                warnings() {
                    return this.currentUser && this.warningsRaw ? this.currentUser.warnedUntil ? this.warningsRaw : this.warningsRaw.filter(t=>null == t.deprecated) : []
                },
                canBuyBuyBlockFee() {
                    var t;
                    return (null === (t = this.currentUser) || void 0 === t ? void 0 : t.blocks.find(t=>"warning" == t.type)) && this.$store.state.settings.blockFeeProductId
                }
            },
            methods: {
                getWarnings() {
                    this.$api.get("/api/memberapi/warning/get", {
                        recent: !0,
                        user_id: this.currentUser.id
                    }).then(t=>{
                        this.warningsRaw = t
                    }
                    )
                },
                getRelationText(t) {
                    let e = t.name.split(" ")[0]
                      , i = ["s", "x", "z"].includes(e[e.length - 1]) ? e : e + "s";
                    return t.manage && t.manage_me ? this.$translate("You manage each other's accounts") : t.manage && t.book_me ? this.$translate("You manage {0} account and {1} can book for you").format(i, e) : t.manage ? this.$translate("You manage {0} account").format(i) : t.manage_me && t.book ? this.$translate("{0} manages your account and you can book for {1}").format(e, e) : t.manage_me ? this.$translate("{0} manages your account").format(e) : t.book && t.book_me ? this.$translate("You can book for each other") : t.book ? this.$translate("You can book for {0}").format(e) : t.book_me ? this.$translate("{0} can book for you").format(e) : void 0
                },
                getRequestText(t) {
                    let e = t.requester.name.split(" ")[0];
                    return t.book && t.manage ? this.$translate("{0} wants to be able to book for you and manage your account").format(e) : t.manage ? this.$translate("{0} wants to be able to manage your account").format(e) : t.book ? this.$translate("{0} wants to be able to book for you").format(e) : void 0
                },
                getSentRequestText(t) {
                    let e = t.user.name.split(" ")[0]
                      , i = ["s", "x", "z"].includes(e[e.length - 1]) ? e : e + "s";
                    return t.book && t.manage ? this.$translate("You want to be able to book for {0} and manage {1} account").format(e, i) : t.manage ? this.$translate("You want to be able to manage {0} account").format(i) : t.book ? this.$translate("You want to be able to book for {0}").format(e) : void 0
                },
                add() {
                    this.$store.commit("showAddUserDialog", {
                        title: this.$translate("Add family member")
                    })
                },
                change(t) {
                    this.$store.commit("showChangeUserDialog", {
                        user_id: t.id
                    })
                },
                answer(t) {
                    this.request = t,
                    this.showRequestDialog = !0
                },
                acceptRequest(t) {
                    this.accepting = !0,
                    this.$api.post("/api/memberapi/bookingrequest/answer", null, {
                        id: t.id,
                        answer: !0
                    }).then(()=>{
                        this.accepting = !1,
                        this.showRequestDialog = !1,
                        this.request = null
                    }
                    )
                },
                declineRequest(t) {
                    this.declining = !0,
                    this.$api.post("/api/memberapi/bookingrequest/answer", null, {
                        id: t.id,
                        answer: !1
                    }).then(()=>{
                        this.declining = !1,
                        this.showRequestDialog = !1,
                        this.request = null
                    }
                    )
                },
                cancelRequest(t) {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove application"),
                        text: this.$translate("Are you sure you want to remove the application?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.$api.post("/api/memberapi/bookingrequest/cancel", null, {
                                id: t.id
                            })
                        }
                    })
                },
                userHasWarningsButIsNotBlocked(t) {
                    var e;
                    if (null === (e = this.$store.state.settings) || void 0 === e || !e.wbswarningsenabled)
                        return !1;
                    if (!t.warnings)
                        return !1;
                    let i = !!t.blocks.find(t=>"warning" == t.type);
                    return !i
                },
                getBlockMessage(t) {
                    const e = [{
                        id: "block_entry",
                        name: "Entry"
                    }, {
                        id: "block_autogiro",
                        name: "Sign direct debit"
                    }, {
                        id: "block_grouptraining",
                        name: "Group workout"
                    }, {
                        id: "block_course",
                        name: "Course booking"
                    }, {
                        id: "block_resourcebooking",
                        name: "Resource booking"
                    }];
                    let i = e.filter(e=>t[e.id]).map(t=>this.$translate(t.name).toLowerCase()).join(", ")
                      , s = t.toDate ? this.$translate("until") + " <b>" + Date.formatFullShorter(t.toDate) + "</b>" : " " + this.$translate("until furhter notice");
                    return this.$translate("Blocked from {0} {1}").format(i, s)
                }
            },
            mounted() {
                let t = this.$route.query.accountrequest;
                if (t) {
                    let e = this.requests.find(e=>e.id == t);
                    e && (this.request = e,
                    this.showRequestDialog = !0)
                }
            }
        }
          , Sn = $n
          , Dn = Object(p["a"])(Sn, Cn, xn, !1, null, null, null)
          , zn = Dn.exports;
        g()(Dn, {
            VAlert: He["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var Tn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("h1", [t._v(t._s(t.$translate("Current participation")))]), t.registrations.length ? i("div", [i("v-expansion-panels", {
                model: {
                    value: t.expandedPanel,
                    callback: function(e) {
                        t.expandedPanel = e
                    },
                    expression: "expandedPanel"
                }
            }, t._l(t.registrations, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id,
                    staticClass: "my-2"
                }, [i("v-expansion-panel-header", {
                    staticClass: "primarytext--text",
                    attrs: {
                        color: "primary",
                        "expand-icon": ""
                    },
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(s) {
                            var a = s.open;
                            return [i("div", {
                                staticClass: "d-flex align-center justify-center"
                            }, [e.group ? [e.group ? i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: "40"
                                }
                            }, [i("img", {
                                staticStyle: {
                                    background: "white"
                                },
                                attrs: {
                                    src: t.$api.getImageUrl(e.group.imagekey, 200)
                                }
                            })]) : t._e(), i("div", {
                                staticClass: "flex-grow-1"
                            }, [t._v(t._s(e.group.name))]), i("div", {
                                staticClass: "d-flex flex-column"
                            }, [i("div", [t._v(t._s(e.competition.name) + " " + t._s(e.gameclass.name))]), i("div", t._l(e.divisions, (function(e) {
                                return i("a", {
                                    key: e.id,
                                    attrs: {
                                        href: ""
                                    },
                                    on: {
                                        click: function(i) {
                                            return i.preventDefault(),
                                            t.gotoDivision(e)
                                        }
                                    }
                                }, [t._v(" " + t._s(e.name) + " ")])
                            }
                            )), 0)])] : [i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: "40"
                                }
                            }, [i("img", {
                                attrs: {
                                    src: "/api/public/image/get?size=200x200&type=teamsport&id=" + e.teamsport.id
                                }
                            })]), i("div", {
                                staticClass: "d-flex flex-column flex-grow-1"
                            }, [i("div", {
                                staticClass: "d-flex flex-row"
                            }, [e.user_id != t.$store.state.user.id ? i("div", [t._v(", " + t._s(e.user.name))]) : t._e()]), e.competition.startDate == e.competition.endDate ? i("div", {
                                staticStyle: {
                                    "font-size": "smaller"
                                }
                            }, [t._v(" " + t._s(Date.formatFullShorter(e.competition.startDate).capitalize()) + " ")]) : t._e()]), i("div", {
                                staticClass: "d-flex flex-column"
                            }, [i("div", [t._v(t._s(e.competition.name) + " " + t._s(e.gameclass.name))]), i("div", t._l(e.divisions, (function(e) {
                                return i("a", {
                                    key: e.id,
                                    attrs: {
                                        href: ""
                                    },
                                    on: {
                                        click: function(i) {
                                            return i.preventDefault(),
                                            t.gotoDivision(e)
                                        }
                                    }
                                }, [t._v(" " + t._s(e.name) + " ")])
                            }
                            )), 0)])], i("v-icon", {
                                staticClass: "primarytext--text ml-8"
                            }, a ? [t._v("mdi-chevron-up")] : [t._v("mdi-chevron-down")])], 2)]
                        }
                    }], null, !0)
                }), i("v-expansion-panel-content", {
                    staticClass: "z-dense"
                }, [e.gameclass.one_match ? [i("teamsport-one-match", {
                    attrs: {
                        registration: e
                    }
                })] : i("v-row", [i("v-col", {
                    attrs: {
                        cols: "12",
                        md: "6"
                    }
                }, [i("teamsport-next-match", {
                    attrs: {
                        teamId: e.id
                    }
                }), i("teamsport-previous-match", {
                    staticClass: "mt-4",
                    attrs: {
                        teamId: e.id
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "12",
                        md: "6"
                    }
                }, [i("teamsport-coming-matches", {
                    attrs: {
                        teamId: e.id
                    }
                }), e.gameclass.individual ? t._e() : i("teamsport-team-management", {
                    staticClass: "mt-4",
                    attrs: {
                        registration: e
                    }
                })], 1)], 1)], 2)], 1)
            }
            )), 1)], 1) : i("div", [i("v-card", [i("v-card-text", [t._v(" " + t._s(t.$translate("You have no current participations")) + " ")])], 1)], 1), i("div", {
                staticClass: "mt-2"
            }, [!t.historicRegistrations || t.historicRegistrations.length || t.loading ? t.historicRegistrations && t.historicRegistrations.length ? i("div", [i("h1", [t._v(t._s(t.$translate("Historical participation")))]), i("v-expansion-panels", {
                model: {
                    value: t.expandedPanelHistoric,
                    callback: function(e) {
                        t.expandedPanelHistoric = e
                    },
                    expression: "expandedPanelHistoric"
                }
            }, t._l(t.historicRegistrations, (function(e) {
                return i("v-expansion-panel", {
                    key: e.id,
                    staticClass: "my-2"
                }, [i("v-expansion-panel-header", {
                    staticClass: "primarytext--text",
                    attrs: {
                        color: "primary",
                        "expand-icon": ""
                    },
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(s) {
                            var a = s.open;
                            return [i("div", {
                                staticClass: "d-flex align-center justify-center"
                            }, [e.group ? [e.group ? i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: "40"
                                }
                            }, [i("img", {
                                staticStyle: {
                                    background: "white"
                                },
                                attrs: {
                                    src: t.$api.getImageUrl(e.group.imagekey, 200)
                                }
                            })]) : t._e(), i("div", {
                                staticClass: "flex-grow-1"
                            }, [t._v(t._s(e.group.name))]), i("div", {
                                staticClass: "d-flex flex-column"
                            }, [i("div", [t._v(t._s(e.competition.name) + " " + t._s(e.gameclass.name))]), i("div", t._l(e.divisions, (function(e) {
                                return i("a", {
                                    key: e.id,
                                    attrs: {
                                        href: ""
                                    },
                                    on: {
                                        click: function(i) {
                                            return i.preventDefault(),
                                            t.gotoDivision(e)
                                        }
                                    }
                                }, [t._v(" " + t._s(e.name) + " ")])
                            }
                            )), 0)])] : [i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: "40"
                                }
                            }, [i("img", {
                                attrs: {
                                    src: "/api/public/image/get?size=200x200&type=teamsport&id=" + e.teamsport.id
                                }
                            })]), i("div", {
                                staticClass: "d-flex flex-column flex-grow-1"
                            }, [i("div", {
                                staticClass: "d-flex flex-row"
                            }, [e.user_id && e.user_id != t.$store.state.user.id ? i("div", [t._v(", " + t._s(e.user.name))]) : t._e()]), e.competition.startDate == e.competition.endDate ? i("div", {
                                staticStyle: {
                                    "font-size": "smaller"
                                }
                            }, [t._v(" " + t._s(Date.formatFullShorter(e.competition.startDate).capitalize()) + " ")]) : t._e()]), i("div", {
                                staticClass: "d-flex flex-column"
                            }, [i("div", [t._v(t._s(e.competition.name) + " " + t._s(e.gameclass.name))]), i("div", t._l(e.divisions, (function(e) {
                                return i("a", {
                                    key: e.id,
                                    attrs: {
                                        href: ""
                                    },
                                    on: {
                                        click: function(i) {
                                            return i.preventDefault(),
                                            t.gotoDivision(e)
                                        }
                                    }
                                }, [t._v(" " + t._s(e.name) + " ")])
                            }
                            )), 0)])], i("v-icon", {
                                staticClass: "primarytext--text ml-8"
                            }, a ? [t._v("mdi-chevron-up")] : [t._v("mdi-chevron-down")])], 2)]
                        }
                    }], null, !0)
                }), i("v-expansion-panel-content", {
                    staticClass: "z-dense"
                }, [e.gameclass.one_match ? [i("teamsport-one-match", {
                    attrs: {
                        registration: e
                    }
                })] : i("v-row", [i("v-col", [e.gameclass.individual ? t._e() : i("teamsport-team-management", {
                    staticClass: "mt-4",
                    attrs: {
                        registration: e
                    }
                })], 1)], 1)], 2)], 1)
            }
            )), 1)], 1) : i("div", [i("v-btn", {
                attrs: {
                    loading: t.loading,
                    outlined: ""
                },
                on: {
                    click: t.getHistoricRegistrations
                }
            }, [t._v(t._s(t.$translate("Get historic participation")))])], 1) : i("div", [i("h1", [t._v(t._s(t.$translate("Historical participation")))]), i("v-card", [i("v-card-text", [t._v(" " + t._s(t.$translate("You have no historic participations")) + " ")])], 1)], 1)])])
        }
          , In = []
          , Pn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", {
                staticClass: "title"
            }, [t._v(t._s(t.$translate("Next match")))]), t.match ? i("v-card", {
                staticClass: "pb-1"
            }, [i("div", {
                staticClass: "d-flex flex-row"
            }, [t.twoTeams && t.opponent ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("img", {
                staticClass: "ma-2 team-image",
                attrs: {
                    src: "/api/public/image/get?size=200x200&type=team&id=" + t.opponent.id
                }
            })]) : t._e(), i("div", {
                staticClass: "d-flex flex-column ma-3 flex-grow-1 center-part"
            }, [t.match.name ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.match.name))]) : t._e(), t.twoTeams && t.opponent ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.opponent.name))]) : t._e(), i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar")]), t._v(" " + t._s(Date.formatFullLong(t.match.activity.startTime, !t.$vuetify.breakpoint.mobile).capitalize()) + " ")], 1), t.location ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-map-marker")]), t._v(" " + t._s(t.location) + " ")], 1) : t._e(), i("a", {
                attrs: {
                    href: ""
                },
                on: {
                    click: function(e) {
                        return e.preventDefault(),
                        t.gotoMatch()
                    }
                }
            }, [t._v(t._s(t.$translate("Go to match page")))])]), t.ourTeam.group ? i("teamsport-book-match", {
                staticClass: "justify-center",
                class: t.$vuetify.breakpoint.mobile ? "mr-1" : "mr-4",
                attrs: {
                    match: t.match,
                    teamId: t.teamId
                }
            }) : t._e()], 1), i("v-divider"), t.ourTeam.group ? i("div", {
                staticClass: "ma-3 align-center d-flex"
            }, [i("img", {
                staticStyle: {
                    width: "40px",
                    height: "40px"
                },
                attrs: {
                    src: "/api/public/image/get?size=200x200&type=team&id=" + t.ourTeam.id
                }
            }), i("span", {
                staticClass: "font-weight-bold ml-2"
            }, [t._v(t._s(t.$translate("Our formation")))])]) : t._e(), t.ourTeam.group ? i("multi-column-list", {
                staticClass: "ma-3",
                attrs: {
                    items: t.ourPlayersInMatch
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "mr-2"
                        }, [s.declined ? i("v-icon", {
                            attrs: {
                                color: "error"
                            }
                        }, [t._v("mdi-close-circle")]) : s.booked && !s.shirt_number ? i("v-icon", {
                            attrs: {
                                color: "success"
                            }
                        }, [t._v("mdi-checkbox-marked-circle")]) : s.booked && s.shirt_number ? i("div", {
                            staticClass: "number-circle"
                        }, [t._v(t._s(s.shirt_number))]) : i("v-icon", {
                            attrs: {
                                color: "gray"
                            }
                        }, [t._v("mdi-help-circle")])], 1)]
                    }
                }, {
                    key: "content",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            class: {
                                "not-booked": !s.booked
                            }
                        }, [t._v(t._s(s.name))])]
                    }
                }, t.isTeamLeader ? {
                    key: "append",
                    fn: function() {
                        return [i("div", {
                            directives: [{
                                name: "ripple",
                                rawName: "v-ripple",
                                value: {
                                    center: !0
                                },
                                expression: "{center: true}"
                            }],
                            key: "add",
                            staticClass: "d-flex z-clickable",
                            on: {
                                click: t.addPlayer
                            }
                        }, [i("div", {
                            staticClass: "mr-2"
                        }, [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-plus-circle")])], 1), i("div", [i("div", [t._v(t._s(t.$translate("Add / call players")))])])]), i("teamsport-invite-players-dialog", {
                            attrs: {
                                match: t.match,
                                teamId: t.teamId,
                                group: t.ourGroup,
                                activity: t.match.team_activity
                            },
                            model: {
                                value: t.showInvitePlayersDialog,
                                callback: function(e) {
                                    t.showInvitePlayersDialog = e
                                },
                                expression: "showInvitePlayersDialog"
                            }
                        })]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : t._e()], 1) : t.match || t.loading ? t._e() : i("v-card", [i("v-card-text", [t._v(" " + t._s(t.$translate("No matches scheduled")) + " ")])], 1)], 1)
        }
          , Vn = []
          , Bn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "d-flex flex-column"
            }, [i("div", {
                staticClass: "d-flex flex-row justify-end"
            }, [t.booked ? i("v-icon", {
                attrs: {
                    color: "success"
                }
            }, [t._v("mdi-checkbox-marked-circle")]) : t.declined ? i("v-icon", {
                attrs: {
                    color: "error"
                }
            }, [t._v("mdi-close-circle")]) : i("v-icon", {
                attrs: {
                    color: "gray"
                }
            }, [t._v("mdi-help-circle")]), i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on
                          , a = e.attrs;
                        return [i("v-btn", t._g(t._b({
                            attrs: {
                                loading: t.loading,
                                icon: ""
                            }
                        }, "v-btn", a, !1), s), [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-dots-horizontal-circle-outline")])], 1)]
                    }
                }])
            }, [i("v-list", [t.booked ? t._e() : i("v-list-item", {
                attrs: {
                    disabled: t.missingMembership
                },
                on: {
                    click: t.book
                }
            }, [i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Book")))]), t.missingMembership ? i("v-list-item-subtitle", [t._v(t._s(t.$translate("Membership required")))]) : t._e()], 1)], 1), t.missingMembership ? i("v-list-item", {
                on: {
                    click: t.buyMembership
                }
            }, [i("v-list-item-title", [t._v(t._s(t.$translate("Buy membership")))])], 1) : t._e(), t.booked ? i("v-list-item", {
                on: {
                    click: t.cancel
                }
            }, [i("v-list-item-title", [t._v(t._s(t.$translate("CANCEL_BOOKING")))])], 1) : t._e(), t.booked || t.declined ? t._e() : i("v-list-item", {
                on: {
                    click: t.decline
                }
            }, [i("v-list-item-title", [t._v(t._s(t.$translate("Decline")))])], 1), t.declined ? i("v-list-item", {
                on: {
                    click: t.undoDecline
                }
            }, [i("v-list-item-title", [t._v(t._s(t.$translate("Undo answer")))])], 1) : t._e()], 1)], 1)], 1), t.booked ? i("div", {
                staticClass: "success--text"
            }, [t._v(t._s(t.$translate("Registered2")))]) : t.declined ? i("div", {
                staticClass: "error--text text-no-wrap"
            }, [t._v(t._s(t.$translate("Declined")))]) : i("div", {
                staticClass: "secondary--text text-no-wrap"
            }, [t._v(t._s(t.$translate("Not booked2")))]), i("buy-membership-dialog", {
                model: {
                    value: t.showBuyMembershipDialog,
                    callback: function(e) {
                        t.showBuyMembershipDialog = e
                    },
                    expression: "showBuyMembershipDialog"
                }
            })], 1)
        }
          , Fn = []
          , En = i("d04c")
          , On = {
            name: "zoezi-teamsport-book-match",
            props: ["match", "teamId"],
            components: {
                BuyMembershipDialog: En["a"]
            },
            computed: {
                booked() {
                    var t, e;
                    return !(null === (t = this.$store.state) || void 0 === t || null === (e = t.bookings) || void 0 === e || !e.workouts.find(t=>this.match.team_activities.includes(t.id)))
                },
                declined() {
                    var t, e;
                    return "declined" == (null === (t = this.formation) || void 0 === t || null === (e = t.find(t=>t.id == this.$store.state.user.id)) || void 0 === e ? void 0 : e.status)
                },
                ourActivityId() {
                    const t = this.match.teams.findIndex(t=>t.id == this.teamId)
                      , e = this.match.team_activities[t];
                    return e
                },
                membershipRequired() {
                    var t, e, i, s;
                    const a = null === (t = this.$store.state) || void 0 === t || null === (e = t.bookings) || void 0 === e || null === (i = e.teamsportbookings) || void 0 === i ? void 0 : i.find(t=>t.id == this.teamId);
                    return null === a || void 0 === a || null === (s = a.competition) || void 0 === s ? void 0 : s.require_membership
                },
                missingMembership() {
                    return this.$booking.isMembershipRequired([{
                        product: {
                            requireMembership: this.membershipRequired
                        },
                        users: [this.$store.state.user.id]
                    }])
                }
            },
            watch: {
                match: {
                    immediate: !0,
                    handler() {
                        this.match && this.getFormation()
                    }
                }
            },
            data: ()=>({
                loading: !1,
                formation: null,
                unsubscribe: [],
                showBuyMembershipDialog: !1
            }),
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: "Fel",
                            text: "Något gick fel. " + this.$translate(t.message)
                        })
                    }
                    )
                },
                buyMembership() {
                    this.showBuyMembershipDialog = !0
                },
                book() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/workoutBooking/add", null, {
                        workout: this.ourActivityId,
                        method: "trainingcard"
                    }).then(t=>{
                        this.loading = !1,
                        this.possiblyShowError(t)
                    }
                    )
                },
                cancel() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/workoutBooking/remove", null, {
                        workout: this.ourActivityId
                    }).then(t=>{
                        this.loading = !1,
                        this.possiblyShowError(t)
                    }
                    )
                },
                decline() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/workoutBooking/invites/preemptive_decline", null, {
                        workout: this.ourActivityId
                    }).then(t=>{
                        this.loading = !1,
                        this.possiblyShowError(t)
                    }
                    )
                },
                undoDecline() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/workoutBooking/invites/undo_decline", null, {
                        workout: this.ourActivityId
                    }).then(t=>{
                        this.loading = !1,
                        this.possiblyShowError(t)
                    }
                    )
                },
                getFormation() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/match/team/formation/status", {
                        match: this.match.id,
                        team_id: this.teamId
                    }).then(t=>{
                        this.formation = t,
                        this.loading = !1
                    }
                    )
                }
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        e.data.find(t=>t.workout == this.ourActivityId) && this.getFormation()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbookinginvite",
                    callback: (t,e)=>{
                        e.data.find(t=>t.workout_id == this.ourActivityId) && this.getFormation()
                    }
                }))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , Mn = On
          , An = Object(p["a"])(Mn, Bn, Fn, !1, null, null, null)
          , Rn = An.exports;
        g()(An, {
            VBtn: O["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemSubtitle: Ct["b"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"]
        });
        var Ln = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "400px",
                    scrollable: "",
                    "content-class": "z-full-width-dialog"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [t.loading.assignments ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.title))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t.referee ? t._e() : i("div", [t.allInvited ? i("v-alert", {
                attrs: {
                    type: "success"
                }
            }, [t._v(t._s(t.$translate("All players have been invited")))]) : i("v-btn", {
                attrs: {
                    block: "",
                    color: "primary"
                },
                on: {
                    click: t.beforeInviteAll,
                    loading: t.loadingInviteAll
                }
            }, [t._v(t._s(t.$translate("Invite all players")))]), i("teamsport-invite-all-dialog", {
                on: {
                    answer: t.handleInviteAllAnswer
                },
                model: {
                    value: t.showInviteAllDialog,
                    callback: function(e) {
                        t.showInviteAllDialog = e
                    },
                    expression: "showInviteAllDialog"
                }
            })], 1), t._l(t.players, (function(e) {
                return i("div", {
                    key: e.id
                }, [i("div", {
                    staticClass: "user-list-item"
                }, [i("v-avatar", {
                    attrs: {
                        size: "30"
                    }
                }, [i("img", {
                    attrs: {
                        src: "/api/memberapi/image/member/get?size=50x50&id=" + e.id
                    }
                })]), i("div", {
                    staticClass: "ml-2"
                }, [e.booked ? i("v-icon", {
                    attrs: {
                        color: "success"
                    }
                }, [t._v("mdi-check-circle")]) : e.declined ? i("v-icon", {
                    attrs: {
                        color: "error"
                    }
                }, [t._v("mdi-close-circle")]) : i("v-icon", {
                    attrs: {
                        color: "gray"
                    }
                }, [t._v("mdi-help-circle")])], 1), i("div", {
                    staticClass: "d-flex flex-column ml-2"
                }, [i("div", [t._v(t._s(e.name))]), t.membershipRequired && !e.membership ? i("div", [i("v-icon", {
                    attrs: {
                        small: "",
                        color: "error"
                    }
                }, [t._v("mdi-account-off")]), t._v(t._s(t.$translate("Missing membership")))], 1) : t._e()]), i("v-spacer"), t.loading[e.id] ? i("v-btn", {
                    attrs: {
                        icon: "",
                        loading: !0
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-plus-circle")])], 1) : [e.booked || t.membershipRequired && !e.membership ? t._e() : i("v-btn", {
                    attrs: {
                        icon: "",
                        loading: t.loading[e.id]
                    },
                    on: {
                        click: function(i) {
                            return t.book(e)
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-plus-circle")])], 1), e.booked ? i("v-btn", {
                    attrs: {
                        icon: "",
                        loading: t.loading[e.id]
                    },
                    on: {
                        click: function(i) {
                            return t.cancel(e)
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "error"
                    }
                }, [t._v("mdi-close")])], 1) : t._e(), t.referee ? t._e() : i("div", ["not invited" == e.status ? i("v-btn", {
                    attrs: {
                        icon: "",
                        loading: t.loading[e.id]
                    },
                    on: {
                        click: function(i) {
                            return t.invite(e)
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-email-outline")])], 1) : t._e(), e.invited || e.declined ? i("v-btn", {
                    attrs: {
                        icon: "",
                        loading: t.loading[e.id]
                    },
                    on: {
                        click: function(i) {
                            return t.invite(e)
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-email-sync-outline")])], 1) : t._e()], 1)]], 2)])
            }
            ))], 2), i("v-card-actions")], 1)], 1)
        }
          , jn = []
          , Nn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    persistent: "",
                    "max-width": "600px"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Do you always want to call everyone on the team to the matches?")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.emitAnswer("no")
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t._v(t._s(t.$translate("An email summon will then be sent within 3 days before the match to everyone on the team.")))]), i("div", {
                staticClass: "flex-column pa-4"
            }, [i("v-btn", {
                staticClass: "mb-2",
                attrs: {
                    color: "success",
                    block: ""
                },
                on: {
                    click: function(e) {
                        return t.emitAnswer("yes")
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-check")]), t._v(t._s(t.$translate("Yes please, always summon everyone automatically")))], 1), i("v-btn", {
                staticClass: "mb-2",
                attrs: {
                    color: "error",
                    block: ""
                },
                on: {
                    click: function(e) {
                        return t.emitAnswer("no")
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-close")]), t._v(t._s(t.$translate("No thanks")))], 1), i("v-btn", {
                attrs: {
                    color: "error",
                    block: ""
                },
                on: {
                    click: function(e) {
                        return t.emitAnswer("never")
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-information-outline")]), t._v(t._s(t.$translate("No thanks, do not ask me again")))], 1)], 1)], 1)], 1)
        }
          , Wn = []
          , qn = {
            name: "zoezi-teamsport-invite-all-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                }
            },
            methods: {
                emitAnswer(t) {
                    this.$emit("answer", t)
                }
            }
        }
          , Hn = qn
          , Un = Object(p["a"])(Hn, Nn, Wn, !1, null, null, null)
          , Yn = Un.exports;
        g()(Un, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"]
        });
        var Gn = {
            name: "zoezi-teamsport-invite-players-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                match: {
                    type: Object
                },
                teamId: {
                    type: Number
                },
                group: {
                    type: Object
                },
                activity: {
                    type: Object
                },
                referee: {
                    type: Boolean
                }
            },
            components: {
                TeamsportInviteAllDialog: Yn
            },
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                allInvited() {
                    return this.players.every(t=>"not invited" != t.status)
                },
                hasMembership() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.membership
                },
                membershipRequired() {
                    if (this.referee) {
                        const t = this.refereeAssignments.find(t=>t.division.id == this.match.division_id);
                        return this.hasMembership && (null === t || void 0 === t ? void 0 : t.competition.require_membership)
                    }
                    {
                        var t, e, i, s;
                        const a = null === (t = this.$store.state) || void 0 === t || null === (e = t.bookings) || void 0 === e || null === (i = e.teamsportbookings) || void 0 === i ? void 0 : i.find(t=>t.id == this.teamId);
                        return this.hasMembership && (null === a || void 0 === a || null === (s = a.competition) || void 0 === s ? void 0 : s.require_membership)
                    }
                },
                title() {
                    return this.referee ? this.$translate("Manage formation") : this.$translate("Add / call players")
                },
                team() {
                    return this.match.teams.find(t=>t.id == this.teamId)
                },
                players() {
                    return this.team && this.formation ? this.team.group.users.map(t=>{
                        var e, i;
                        const s = this.formation.find(e=>e.id == t);
                        return s ? {
                            name: s.name,
                            id: t,
                            shirt_number: null === (e = this.match.shirt_numbers) || void 0 === e || null === (i = e.find(e=>e.user == t)) || void 0 === i ? void 0 : i.shirt,
                            status: s.status,
                            booked: "booked" == s.status,
                            invited: "invited" == s.status,
                            declined: "declined" == s.status,
                            membership: s.membership
                        } : null
                    }
                    ).filter(t=>t).sort((t,e)=>t.name.localeCompare(e.name)) : []
                }
            },
            data: ()=>({
                loading: {},
                loadingInviteAll: !1,
                showInviteAllDialog: !1,
                unsubscribe: [],
                refereeAssignments: [],
                formation: []
            }),
            watch: {
                players: {
                    immediate: !0,
                    handler() {
                        this.players.forEach(t=>{
                            this.$set(this.loading, t.id, !1)
                        }
                        )
                    }
                },
                "$store.state.user.showRefereeSchedule": {
                    immediate: !0,
                    handler(t) {
                        t && this.getAssignments()
                    }
                },
                group: {
                    immediate: !0,
                    handler() {
                        this.getFormation()
                    }
                }
            },
            methods: {
                getFormation() {
                    this.group.id && (this.loading.formation = !0,
                    this.$api.get("/api/teamsport/match/team/formation/status", {
                        match: this.match.id,
                        group: this.group.id
                    }).then(t=>{
                        this.formation = t,
                        this.loading.formation = !1
                    }
                    ))
                },
                getAssignments() {
                    this.loading.assignments = !0,
                    this.$api.get("/api/memberapi/teamsport/referee/assignments").then(t=>{
                        this.refereeAssignments = t,
                        this.loading.assignments = !1
                    }
                    )
                },
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: "Fel",
                            text: "Något gick fel. " + this.$translate(t.message)
                        })
                    }
                    )
                },
                book(t) {
                    this.loading[t.id] = !0,
                    this.$api.post("/api/memberapi/teamsport/match/bookings/set", {
                        id: t.id,
                        match_id: this.match.id,
                        group_id: this.group.id
                    }).then(e=>{
                        this.loading[t.id] = !1,
                        this.possiblyShowError(e)
                    }
                    )
                },
                cancel(t) {
                    this.loading[t.id] = !0,
                    this.$api.post("/api/memberapi/teamsport/match/bookings/remove", {
                        id: t.id,
                        match_id: this.match.id,
                        group_id: this.group.id
                    }).then(e=>{
                        this.loading[t.id] = !1,
                        this.possiblyShowError(e)
                    }
                    )
                },
                invite(t, e) {
                    Array.isArray(t) || (t = [t]),
                    t = t.map(t=>t.id),
                    e = e || {},
                    e.match_id = this.match.id,
                    e.group_id = this.group.id,
                    e.team_activity = !0;
                    const i = {
                        sendtype: "mail",
                        workout_id: this.activity.id,
                        recipients: t,
                        option: e
                    };
                    return t.forEach(t=>{
                        this.loading[t] = !0
                    }
                    ),
                    this.$api.post("/api/workoutBooking/invites/add", i).then(e=>{
                        t.forEach(t=>{
                            this.loading[t] = !1
                        }
                        ),
                        this.possiblyShowError(e)
                    }
                    )
                },
                inviteAll(t) {
                    let e = this.players.filter(t=>"not invited" == t.status);
                    this.loadingInviteAll = !0,
                    this.invite(e, t).then(()=>{
                        this.loadingInviteAll = !1
                    }
                    )
                },
                beforeInviteAll() {
                    this.group.autoinvite_dont_ask_again ? this.inviteAll() : this.showInviteAllDialog = !0
                },
                handleInviteAllAnswer(t) {
                    this.showInviteAllDialog = !1,
                    this.inviteAll({
                        automatic_invite: t
                    })
                }
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        var i, s;
                        null !== (i = e.data) && void 0 !== i && null !== (s = i.referees_id) && void 0 !== s && s.includes(this.$store.state.user.id) && this.getAssignments()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            const e = this.match.team_activities.every(t=>"object" === typeof t && null !== t);
                            return e ? this.match.team_activities.map(t=>t.id).includes(t.workout) : this.match.team_activities.includes(t.workout)
                        }
                        ) && this.getFormation()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbookinginvite",
                    callback: (t,e)=>{
                        e.data.find(t=>this.match.team_activities.map(t=>t.id).includes(t.workout_id)) && this.getFormation()
                    }
                }))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , Kn = Gn
          , Qn = (i("baef"),
        Object(p["a"])(Kn, Ln, jn, !1, null, "2c053364", null))
          , Jn = Qn.exports;
        g()(Qn, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"]
        });
        var Xn = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                ref: "c",
                staticClass: "list-item-group",
                style: t.gridStyle
            }, [t._l(t.displayItems, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "list-item",
                    class: {
                        "z-clickable": t.clickable
                    },
                    on: {
                        click: function(i) {
                            return t.$emit("click", {
                                item: e,
                                $event: i
                            })
                        }
                    }
                }, [i("div", {
                    staticClass: "list-item-icon mr-2"
                }, [t.$scopedSlots.icon ? t._t("icon", null, {
                    item: e
                }) : t._e()], 2), i("div", {
                    staticClass: "list-item-content"
                }, [t.$scopedSlots.content ? t._t("content", null, {
                    item: e
                }) : i("div", [t._v(t._s(e.name))])], 2)])
            }
            )), t.$scopedSlots["no-items"] && 0 == t.displayItems.length ? i("div", {
                staticClass: "list-item"
            }, [t.$scopedSlots["no-items"] ? t._t("no-items") : t._e()], 2) : t._e(), t.$scopedSlots.append ? i("div", {
                staticClass: "list-item"
            }, [t.$scopedSlots.append ? t._t("append") : t._e()], 2) : t._e()], 2)
        }
          , Zn = []
          , tr = {
            name: "zoezi-multi-column-list",
            props: {
                items: {
                    type: Array,
                    required: !0
                },
                minColumnWidth: {
                    type: Number,
                    default: 250
                },
                clickable: {
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                width: 0,
                resizeObserver: null
            }),
            computed: {
                columnCount() {
                    let t = Math.floor(this.width / this.minColumnWidth);
                    return t = Math.max(t, 1),
                    t
                },
                displayItems() {
                    return this.columnCount > 1 ? this.columnSortedItems() : this.items
                },
                gridStyle() {
                    return {
                        gridTemplateColumns: `repeat(auto-fit, minmax(${this.minColumnWidth}px, 1fr))`
                    }
                }
            },
            methods: {
                columnSortedItems() {
                    let t = []
                      , e = this.columnCount
                      , i = Math.ceil(this.items.length / e);
                    for (let s = 0; s < i; s++)
                        for (let a = 0; a < e; a++) {
                            let e = this.items[s + a * i];
                            e && t.push(e)
                        }
                    return t
                }
            },
            mounted() {
                this.resizeObserver = new ResizeObserver(t=>{
                    for (let e of t)
                        this.width = e.contentRect.width
                }
                ),
                this.$refs.c && this.resizeObserver.observe(this.$refs.c)
            },
            beforeDestroy() {
                this.resizeObserver && this.$refs.c && this.resizeObserver.unobserve(this.$refs.c)
            }
        }
          , er = tr
          , ir = (i("0c99"),
        Object(p["a"])(er, Xn, Zn, !1, null, "0b864f42", null))
          , sr = ir.exports
          , ar = {
            name: "zoezi-teamsport-next-match",
            zoezi: {
                title: "Next match",
                icon: "mdi-calendar-clock",
                addon: "TeamSports"
            },
            props: {
                teamId: {
                    title: "Registration ID",
                    type: Number
                }
            },
            components: {
                TeamsportBookMatch: Rn,
                TeamsportInvitePlayersDialog: Jn,
                MultiColumnList: sr
            },
            data: ()=>({
                match: null,
                formation: null,
                loading: !1,
                groupId: null,
                unsubscribe: [],
                showInvitePlayersDialog: !1
            }),
            watch: {
                teamId: {
                    immediate: !0,
                    handler() {
                        this.getNextMatch()
                    }
                }
            },
            computed: {
                ourTeam() {
                    return this.match ? this.match.teams.find(t=>t.id == this.teamId) : null
                },
                ourPlayers() {
                    return this.ourTeam && this.formation ? this.ourTeam.group.users.map(t=>{
                        var e, i;
                        const s = this.formation.find(e=>e.id == t);
                        return s ? {
                            name: s.name,
                            id: t,
                            shirt_number: null === (e = this.match.shirt_numbers) || void 0 === e || null === (i = e.find(e=>e.user == t)) || void 0 === i ? void 0 : i.shirt,
                            status: s.status,
                            booked: "booked" == s.status,
                            invited: "invited" == s.status,
                            declined: "declined" == s.status,
                            membership: s.membership
                        } : null
                    }
                    ).filter(t=>t).sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                ourPlayersInMatch() {
                    return this.ourPlayers.filter(t=>"not invited" != t.status)
                },
                opponents() {
                    return this.match ? this.match.teams.filter(t=>t.id != this.teamId) : []
                },
                opponent() {
                    return 0 == this.opponents.length ? null : this.opponents[0]
                },
                location() {
                    if (!this.match)
                        return null;
                    let t = this.match.activity;
                    return t.location || t.room ? (t.room ? t.room.name : "") + (t.location ? ", " + t.location.name : "") : null
                },
                ourGroup() {
                    return this.$store.state.user.groups.find(t=>t.id == this.groupId)
                },
                isTeamLeader() {
                    var t, e;
                    return null === (t = this.ourGroup) || void 0 === t || null === (e = t.responsible) || void 0 === e ? void 0 : e.includes(this.$store.state.user.id)
                },
                workoutIds() {
                    return this.match ? this.match.team_activities : []
                },
                twoTeams() {
                    var t, e;
                    return 2 == (null === (t = this.match) || void 0 === t || null === (e = t.teams) || void 0 === e ? void 0 : e.length)
                }
            },
            methods: {
                getFormation() {
                    this.groupId && (this.loading = !0,
                    this.$api.get("/api/teamsport/match/team/formation/status", {
                        match: this.match.id,
                        group: this.groupId
                    }).then(t=>{
                        this.formation = t,
                        this.loading = !1
                    }
                    ))
                },
                getNextMatch() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/teamsport/match/next", {
                        team_id: this.teamId
                    }).then(t=>{
                        var e, i, s, a;
                        let o = null;
                        t && t.matches && t.matches.length > 0 && (o = t.matches[0]),
                        this.groupId = null === (e = o) || void 0 === e || null === (i = e.teams.find(t=>t.id == this.teamId)) || void 0 === i || null === (s = i.group) || void 0 === s ? void 0 : s.id,
                        this.match = o,
                        null !== (a = o) && void 0 !== a && a.activity && this.$booking.transformWorkout(this.match.activity),
                        this.groupId ? this.getFormation() : this.loading = !1
                    }
                    )
                },
                addPlayer() {
                    this.showInvitePlayersDialog = !0
                },
                gotoMatch() {
                    var t, e;
                    const i = null === (t = this.$root.siteconfig) || void 0 === t || null === (e = t.pages) || void 0 === e ? void 0 : e.match;
                    this.$root.followLink(i, this.match.id)
                }
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        e.data.find(t=>this.workoutIds.includes(t.workout)) && this.getFormation()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbookinginvite",
                    callback: (t,e)=>{
                        e.data.find(t=>this.workoutIds.includes(t.workout_id)) && this.getFormation()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        this.match && e.data.find(t=>t.id == this.match.id) && this.getNextMatch()
                    }
                }))
            }
        }
          , or = ar
          , nr = (i("3f4f"),
        i("269a"))
          , rr = i.n(nr)
          , lr = i("5607")
          , cr = Object(p["a"])(or, Pn, Vn, !1, null, "b9c609d4", null)
          , dr = cr.exports;
        g()(cr, {
            VCard: x["a"],
            VCardText: G["b"],
            VDivider: $["a"],
            VIcon: y["a"]
        }),
        rr()(cr, {
            Ripple: lr["a"]
        });
        var ur = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", {
                staticClass: "title"
            }, [t._v(t._s(t.$translate("Previous match")))]), t.loading ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("div", {
                staticStyle: {
                    cursor: "pointer"
                },
                on: {
                    click: function(e) {
                        return t.goToMatch()
                    }
                }
            }, [i("teamsport-match-result", {
                staticClass: "z-clickable",
                attrs: {
                    match: t.match,
                    teamId: t.teamId,
                    showTeamNames: !1,
                    showHomeAway: !1
                }
            })], 1)])
        }
          , hr = []
          , mr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.match ? t.loading ? i("div", [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.twoTeams ? i("v-card", {
                ref: "vcard",
                attrs: {
                    flat: t.flat
                }
            }, [t.match.name ? i("div", {
                staticClass: "align-center justify-center name d-flex"
            }, [t._v(t._s(t.match.name))]) : t._e(), i("div", {
                staticClass: "mycontainer"
            }, [i("div", {
                staticClass: "sidesection"
            }, [i("img", {
                staticClass: "team-image",
                attrs: {
                    src: "/api/public/image/get?size=200x200&type=team&id=" + t.match.teams[0].id
                }
            }), t.showTeamNames ? i("div", {
                staticClass: "team-name"
            }, [t._v(t._s(t.match.teams[0].name))]) : t._e(), t.showHomeAway ? i("div", [t._v(t._s(t.$translate("Home")))]) : t._e()]), i("div", {
                staticClass: "midsection"
            }, [t.match.finished || t.showLiveResult ? i("div", {
                class: "result " + t.resultSizeClass
            }, [t._v(t._s(t.result))]) : i("div", {
                staticClass: "missing-result"
            }, [t._v(t._s(t.$translate("Missing result")))]), t.match.activity ? i("div", [t._v(t._s(Date.formatFullLong(t.match.activity.startTime).capitalize()))]) : t._e(), t.showLocation && t.location ? i("div", [t._v(t._s(t.location))]) : t._e(), t._t("append-center-content")], 2), i("div", {
                staticClass: "sidesection"
            }, [i("img", {
                staticClass: "team-image",
                attrs: {
                    src: "/api/public/image/get?size=200x200&type=team&id=" + t.match.teams[1].id
                }
            }), t.showTeamNames ? i("div", {
                staticClass: "team-name"
            }, [t._v(t._s(t.match.teams[1].name))]) : t._e(), t.showHomeAway ? i("div", [t._v(t._s(t.$translate("Away")))]) : t._e()])])]) : i("v-card", {
                staticClass: "d-flex flex-column text-center",
                attrs: {
                    flat: t.flat
                }
            }, [t.match.name ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.match.name))]) : t._e(), t.ourResult ? i("div", {
                staticClass: "result"
            }, [t._v(t._s(t.ourResult.result))]) : t._e(), i("div", [t._v(t._s(Date.formatFullLong(t.match.activity.startTime).capitalize()))])]) : i("v-card", {
                attrs: {
                    flat: t.flat
                }
            }, [i("v-card-text", [t._v(" " + t._s(t.$translate(t.noMatchText)) + " ")])], 1)
        }
          , pr = []
          , vr = {
            name: "zoezi-teamsport-match-result",
            props: {
                match: {
                    type: Object
                },
                teamId: {
                    type: Number
                },
                noMatchText: {
                    type: String,
                    default: "No match found"
                },
                flat: {
                    type: Boolean,
                    default: !1
                },
                showTeamNames: {
                    type: Boolean,
                    default: !0
                },
                showHomeAway: {
                    type: Boolean,
                    default: !0
                },
                showLiveResult: {
                    type: Boolean,
                    default: !1
                },
                showLocation: {
                    type: Boolean,
                    default: !1
                }
            },
            data() {
                return {
                    loading: !1,
                    invalidResults: [],
                    unsubscribe: null,
                    cardSize: "medium"
                }
            },
            computed: {
                result() {
                    if (!this.match)
                        return "";
                    var t, e, i;
                    if ("padel" === this.match.result_type)
                        return null !== (t = null === (e = this.match.result) || void 0 === e || null === (i = e[0]) || void 0 === i ? void 0 : i.result) && void 0 !== t ? t : "-";
                    const s = t=>{
                        var e;
                        const i = null === (e = this.match.result) || void 0 === e ? void 0 : e.find(e=>e.team_id === t);
                        if (i) {
                            if (i.invalid_id) {
                                var s;
                                const t = null === (s = this.invalidResults) || void 0 === s ? void 0 : s.find(t=>t.id === i.invalid_id);
                                return t ? t.name : "0"
                            }
                            return i.result || "0"
                        }
                        return "0"
                    }
                      , [a,o] = this.match.teams.map(t=>t.id)
                      , n = s(a)
                      , r = s(o);
                    return `${n} - ${r}`
                },
                ourResult() {
                    var t, e;
                    return null === (t = this.match) || void 0 === t || null === (e = t.result) || void 0 === e ? void 0 : e.find(t=>t.team_id == this.teamId)
                },
                twoTeams() {
                    var t, e;
                    return 2 == (null === (t = this.match) || void 0 === t || null === (e = t.teams) || void 0 === e ? void 0 : e.length)
                },
                location() {
                    if (!this.match || !this.match.activity)
                        return null;
                    let t = this.match.activity;
                    return t.location || t.room ? (t.room ? t.room.name : "") + (t.location ? ", " + t.location.name : "") : null
                },
                resultSizeClass() {
                    return "result-" + this.cardSize
                }
            },
            methods: {
                getInvaldResults() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/resultinvalid/get").then(t=>{
                        this.invalidResults = t,
                        this.loading = !1
                    }
                    )
                },
                updateCardSize() {
                    this.$nextTick(()=>{
                        var t, e;
                        if (null !== (t = this.$refs.vcard) && void 0 !== t && null !== (e = t.$el) && void 0 !== e && e.offsetWidth) {
                            var i, s;
                            const t = null === (i = this.$refs.vcard) || void 0 === i || null === (s = i.$el) || void 0 === s ? void 0 : s.offsetWidth;
                            this.cardSize = t < 300 ? "small" : t >= 300 && t < 600 ? "medium" : "large"
                        }
                    }
                    )
                }
            },
            mounted() {
                this.getInvaldResults(),
                this.unsubscribe = this.$api.subscribe({
                    type: "teamsportresultinvalid",
                    callback: ()=>this.getInvalidResults()
                }),
                this.updateCardSize(),
                window.addEventListener("resize", this.updateCardSize)
            },
            destroyed() {
                this.unsubscribe(),
                window.removeEventListener("resize", this.updateCardSize)
            }
        }
          , gr = vr
          , fr = (i("48de"),
        Object(p["a"])(gr, mr, pr, !1, null, "4d5c0a23", null))
          , br = fr.exports;
        g()(fr, {
            VCard: x["a"],
            VCardText: G["b"],
            VProgressCircular: Q["a"]
        });
        var yr = {
            name: "zoezi-teamsport-previous-match",
            zoezi: {
                title: "Previous match",
                icon: "mdi-calendar-clock",
                addon: "TeamSports"
            },
            props: {
                teamId: {
                    title: "Registration ID",
                    type: Number
                }
            },
            components: {
                TeamsportMatchResult: br
            },
            data: ()=>({
                match: null,
                loading: !1,
                unsubscribe: []
            }),
            watch: {
                groupId: {
                    immediate: !0,
                    handler() {
                        this.getPreviousMatch()
                    }
                },
                "$store.state.user"() {
                    this.getPreviousMatch()
                }
            },
            methods: {
                goToMatch() {
                    var t, e;
                    const i = null === (t = this.$root.siteconfig) || void 0 === t || null === (e = t.pages) || void 0 === e ? void 0 : e.match;
                    this.$root.followLink(i, this.match.id)
                },
                getPreviousMatch() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/teamsport/match/previous", {
                        team_id: this.teamId
                    }).then(t=>{
                        var e;
                        0 == (null === (e = t) || void 0 === e ? void 0 : e.length) && (t = null),
                        this.match = t,
                        this.loading = !1
                    }
                    )
                }
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        this.match && e.data.find(t=>t.id == this.match.id) && this.getPreviousMatch()
                    }
                }))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , _r = yr
          , kr = Object(p["a"])(_r, ur, hr, !1, null, null, null)
          , wr = kr.exports;
        g()(kr, {
            VProgressCircular: Q["a"]
        });
        var Cr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", {
                staticClass: "d-flex align-center"
            }, [t.referee ? i("div", {
                staticClass: "title flex-grow-1"
            }) : i("div", {
                staticClass: "title flex-grow-1"
            }, [t._v(t._s(t.$translate("Coming matches")))]), t.matches.length ? [t.loading ? i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            }) : t.numMatches ? i("a", {
                attrs: {
                    href: ""
                },
                on: {
                    click: function(e) {
                        return e.preventDefault(),
                        t.getAllComingMatches.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Show all")))]) : i("span", {
                staticStyle: {
                    opacity: "0.5"
                }
            }, [t._v(t._s(t.$translate("Showing all")))])] : t._e()], 2), t.loading && !t.matches.length ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.matches.length ? [t.referee ? i("div", t._l(t.matches, (function(t) {
                return i("teamsport-referee-coming-match", {
                    key: t.id,
                    staticClass: "mb-4",
                    attrs: {
                        match: t
                    }
                })
            }
            )), 1) : i("div", t._l(t.matches, (function(e) {
                return i("teamsport-coming-match", {
                    key: e.id,
                    staticClass: "mb-4",
                    attrs: {
                        match: e,
                        teamId: t.teamId
                    }
                })
            }
            )), 1), null != t.numMatches ? i("v-btn", {
                attrs: {
                    block: "",
                    outlined: "",
                    color: "primary",
                    loading: t.loading
                },
                on: {
                    click: t.getMoreMatches
                }
            }, [t._v(t._s(t.$translate("Load more matches")))]) : t._e()] : [i("v-card", [i("v-card-text", [t._v(" " + t._s(t.$translate("No matches scheduled")) + " ")])], 1)]], 2)
        }
          , xr = []
          , $r = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "d-flex align-center",
                on: {
                    click: function(e) {
                        return t.goToMatch()
                    }
                }
            }, [t.opponent ? i("div", {
                staticClass: "ml-2"
            }, [i("img", {
                staticClass: "team-image",
                attrs: {
                    src: "/api/public/image/get?size=200x200&type=team&id=" + t.opponent.id
                }
            })]) : t._e(), i("div", {
                staticClass: "flex-grow-1 d-flex flex-column justify-center ml-2 center-part"
            }, [t.match.name ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.match.name))]) : t._e(), t.opponent ? i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.opponent.name))]) : t._e(), i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar")]), t._v(" " + t._s(Date.formatFullLong(t.match.activity.startTime, !t.$vuetify.breakpoint.mobile).capitalize()) + " ")], 1)]), t.ourTeam && t.ourTeam.group ? i("teamsport-book-match", {
                staticClass: "mr-1",
                attrs: {
                    match: t.match,
                    teamId: t.teamId
                }
            }) : t._e()], 1)
        }
          , Sr = []
          , Dr = {
            name: "zoezi-teamsport-coming-match",
            props: ["match", "teamId"],
            components: {
                TeamsportBookMatch: Rn
            },
            computed: {
                opponents() {
                    return this.match ? this.match.teams.filter(t=>t.id != this.teamId) : []
                },
                opponent() {
                    return 0 == this.opponents.length ? null : this.opponents[0]
                },
                ourTeam() {
                    return this.match ? this.match.teams.find(t=>t.id == this.teamId) : null
                }
            },
            methods: {
                goToMatch() {
                    var t, e;
                    const i = null === (t = this.$root.siteconfig) || void 0 === t || null === (e = t.pages) || void 0 === e ? void 0 : e.match;
                    this.$root.followLink(i, this.match.id)
                }
            }
        }
          , zr = Dr
          , Tr = (i("9758"),
        Object(p["a"])(zr, $r, Sr, !1, null, "6ac44477", null))
          , Ir = Tr.exports;
        g()(Tr, {
            VCard: x["a"],
            VIcon: y["a"]
        });
        var Pr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "d-flex flex-row justify-space-between",
                on: {
                    click: function(e) {
                        return t.goToMatch()
                    }
                }
            }, [t.homeTeam ? i("div", {
                staticClass: "team-section"
            }, [t.homeTeam.id ? i("img", {
                staticClass: "team-image",
                attrs: {
                    src: t.getTeamImageUrl(t.homeTeam.id)
                }
            }) : t._e(), i("div", {
                staticClass: "font-weight-bold team-name"
            }, [t._v(t._s(t.homeTeam.name))])]) : t._e(), i("div", {
                staticClass: "flex-grow-1 d-flex flex-column justify-center center-part"
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.match.name))]), i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar")]), t._v(" " + t._s(Date.formatFullLong(t.match.activity.startTime, !t.$vuetify.breakpoint.mobile).capitalize()) + " ")], 1), t.location ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-map-marker")]), t._v(" " + t._s(t.location) + " ")], 1) : t._e()]), t.awayTeam ? i("div", {
                staticClass: "team-section"
            }, [t.awayTeam.id ? i("img", {
                staticClass: "team-image",
                attrs: {
                    src: t.getTeamImageUrl(t.awayTeam.id)
                }
            }) : t._e(), i("div", {
                staticClass: "font-weight-bold team-name"
            }, [t._v(t._s(t.awayTeam.name))])]) : t._e()])
        }
          , Vr = []
          , Br = {
            name: "zoezi-teamsport-referee-coming-match",
            props: ["match"],
            computed: {
                homeTeam() {
                    var t;
                    return null === (t = this.match) || void 0 === t ? void 0 : t.teams[0]
                },
                awayTeam() {
                    var t;
                    return null === (t = this.match) || void 0 === t ? void 0 : t.teams[1]
                },
                location() {
                    if (!this.match)
                        return null;
                    let t = this.match.activity;
                    return t.location || t.room ? (t.room ? t.room.name : "") + (t.location ? ", " + t.location.name : "") : null
                }
            },
            methods: {
                goToMatch() {
                    var t, e;
                    const i = null === (t = this.$root.siteconfig) || void 0 === t || null === (e = t.pages) || void 0 === e ? void 0 : e.match;
                    this.$root.followLink(i, this.match.id)
                },
                getTeamImageUrl(t) {
                    return "/api/public/image/get?size=50x50&type=team&id=" + t
                }
            }
        }
          , Fr = Br
          , Er = (i("ee09"),
        Object(p["a"])(Fr, Pr, Vr, !1, null, "65b700aa", null))
          , Or = Er.exports;
        g()(Er, {
            VCard: x["a"],
            VIcon: y["a"]
        });
        var Mr = {
            name: "zoezi-teamsport-coming-matches",
            zoezi: {
                title: "Coming matches",
                icon: "mdi-calendar-clock",
                addon: "TeamSports"
            },
            props: {
                teamId: {
                    title: "Registration ID",
                    type: Number
                },
                referee: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                TeamsportComingMatch: Ir,
                TeamsportRefereeComingMatch: Or
            },
            data: ()=>({
                matches: [],
                numMatches: 4,
                loading: !1,
                unsubscribe: []
            }),
            watch: {
                teamId: {
                    immediate: !0,
                    handler() {
                        this.getComingMatches()
                    }
                }
            },
            methods: {
                getComingMatches() {
                    this.loading = !0;
                    let t = ""
                      , e = {};
                    this.teamId ? (t = "/api/memberapi/teamsport/match/next",
                    e = {
                        team_id: this.teamId,
                        limit: this.numMatches
                    }) : this.referee && (t = "/api/memberapi/teamsport/referee/coming/matches",
                    e = {
                        limit: this.numMatches
                    }),
                    this.$api.get(t, e).then(t=>{
                        this.referee ? this.matches = t.matches : this.matches = t.matches.slice(1),
                        this.matches.forEach(t=>{
                            this.$booking.transformWorkout(t.activity)
                        }
                        ),
                        this.loading = !1,
                        t.count <= this.numMatches && (this.numMatches = null)
                    }
                    )
                },
                getAllComingMatches() {
                    this.numMatches = null,
                    this.getComingMatches()
                },
                getMoreMatches() {
                    this.numMatches += 4,
                    this.getComingMatches()
                }
            },
            mounted() {
                this.referee && this.getComingMatches(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        e.data.find(t=>t.teams && t.teams.find(t=>t.id == this.teamId)) && this.getComingMatches()
                    }
                }))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , Ar = Mr
          , Rr = Object(p["a"])(Ar, Cr, xr, !1, null, null, null)
          , Lr = Rr.exports;
        g()(Rr, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VProgressCircular: Q["a"]
        });
        var jr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", {
                staticClass: "d-flex align-center"
            }, [i("div", {
                staticClass: "title flex-grow-1"
            }, [t._v(t._s(t.$translate("Team members")))])]), t.loading && !t.group ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("v-card", {
                staticClass: "px-4 py-1"
            }, [i("div", {
                staticClass: "d-flex flex-row mt-1"
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Leaders")))]), i("v-spacer"), t.isTeamLeader ? i("v-btn", {
                attrs: {
                    small: "",
                    icon: ""
                },
                on: {
                    click: t.showSettings
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-cog")])], 1) : t._e(), t.showSettingsDialog ? i("teamsport-team-settings-dialog", {
                attrs: {
                    group: t.group
                },
                model: {
                    value: t.showSettingsDialog,
                    callback: function(e) {
                        t.showSettingsDialog = e
                    },
                    expression: "showSettingsDialog"
                }
            }) : t._e()], 1), i("multi-column-list", {
                staticClass: "ma-3",
                attrs: {
                    items: t.sortedLeaders
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticStyle: {
                                position: "relative",
                                display: "inline-flex"
                            }
                        }, [i("v-avatar", {
                            attrs: {
                                size: 20
                            }
                        }, [i("img", {
                            staticClass: "user-image",
                            attrs: {
                                src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                            }
                        })]), "mainLeader" == s.user_type ? i("v-icon", {
                            staticStyle: {
                                position: "absolute",
                                top: "0",
                                left: "0",
                                transform: "translate(-50%, -50%)"
                            },
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v(" mdi-star ")]) : t._e()], 1)]
                    }
                }])
            }), i("v-divider", {
                staticClass: "my-2"
            }), i("div", {
                staticClass: "d-flex flex-row"
            }, [i("div", {
                staticClass: "font-weight-bold flex-grow-1"
            }, [t._v(t._s(t.$translate("Players")))]), t.isTeamLeader ? i("a", {
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple",
                    value: {
                        center: !0
                    },
                    expression: "{center: true}"
                }],
                attrs: {
                    href: ""
                },
                on: {
                    click: function(e) {
                        return e.preventDefault(),
                        t.setShirtNumbers.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Set shirt numbers")))]) : t._e(), t.showSetShirtNumbersDialog ? i("teamsport-set-shirt-numbers-dialog", {
                attrs: {
                    groupId: t.groupId
                },
                model: {
                    value: t.showSetShirtNumbersDialog,
                    callback: function(e) {
                        t.showSetShirtNumbersDialog = e
                    },
                    expression: "showSetShirtNumbersDialog"
                }
            }) : t._e()], 1), i("multi-column-list", {
                staticClass: "ma-3",
                attrs: {
                    items: t.sortedPlayers,
                    clickable: t.isTeamLeader
                },
                on: {
                    click: t.showPlayerDetails
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex"
                        }, [i("v-avatar", {
                            attrs: {
                                size: 20
                            }
                        }, [i("img", {
                            staticClass: "user-image",
                            attrs: {
                                src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                            }
                        })]), i("div", {
                            staticClass: "number-circle ml-2",
                            style: {
                                opacity: s.shirt_number ? 1 : 0
                            }
                        }, [t._v(t._s(s.shirt_number))])], 1)]
                    }
                }, {
                    key: "content",
                    fn: function(e) {
                        var s = e.item;
                        return [t._v(" " + t._s(s.name) + " "), t.membershipRequired ? i("div", [s.membership ? s.membership ? i("div", [t._v(t._s(t.$translate("Valid to")) + " " + t._s(s.membershipToDate))]) : t._e() : i("div", [i("v-icon", {
                            attrs: {
                                small: "",
                                color: "error"
                            }
                        }, [t._v("mdi-account-off")]), t._v(t._s(t.$translate("Missing membership")))], 1)]) : t._e()]
                    }
                }, t.canInvitePlayers ? {
                    key: "append",
                    fn: function() {
                        return [i("div", {
                            directives: [{
                                name: "ripple",
                                rawName: "v-ripple",
                                value: {
                                    center: !0
                                },
                                expression: "{center: true}"
                            }],
                            key: "add",
                            staticClass: "d-flex z-clickable",
                            on: {
                                click: t.invitePlayer
                            }
                        }, [i("div", {
                            staticClass: "mr-2"
                        }, [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-plus-circle")])], 1), i("div", [i("div", [t._v(t._s(t.$translate("Invite players")))])])])]
                    },
                    proxy: !0
                } : null], null, !0)
            }), t.showMinNumberOfPlayersHint ? i("v-alert", {
                staticClass: "mt-4",
                attrs: {
                    type: "warning",
                    dense: "",
                    text: "",
                    border: "left"
                }
            }, [t._v(" " + t._s(t.minNumberOfPlayersHint) + " ")]) : t._e()], 1), t.showInvitePlayersDialog ? i("teamsport-invite-new-players-dialog", {
                attrs: {
                    group: t.group
                },
                model: {
                    value: t.showInvitePlayersDialog,
                    callback: function(e) {
                        t.showInvitePlayersDialog = e
                    },
                    expression: "showInvitePlayersDialog"
                }
            }) : t._e(), t.playerDetails.show ? i("TeamsportPlayerDetailsDialog", {
                attrs: {
                    user: t.playerDetails.user,
                    showAtX: 750,
                    showAtY: 500
                },
                model: {
                    value: t.playerDetails.show,
                    callback: function(e) {
                        t.$set(t.playerDetails, "show", e)
                    },
                    expression: "playerDetails.show"
                }
            }) : t._e()], 1)
        }
          , Nr = []
          , Wr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "400px",
                    scrollable: "",
                    "content-class": "z-full-width-dialog"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Set shirt numbers")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t.loading ? i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            }) : t._l(t.groupMembers, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "user-list-item"
                }, [i("v-avatar", {
                    staticClass: "mr-2",
                    attrs: {
                        size: 30
                    }
                }, [i("img", {
                    staticClass: "user-image",
                    attrs: {
                        src: "/api/memberapi/image/member/get?size=50x50&id=" + e.id
                    }
                })]), i("v-text-field", {
                    attrs: {
                        type: "number",
                        label: e.name,
                        min: 0
                    },
                    model: {
                        value: t.shirtNumbers[e.id],
                        callback: function(i) {
                            t.$set(t.shirtNumbers, e.id, i)
                        },
                        expression: "shirtNumbers[user.id]"
                    }
                })], 1)
            }
            ))], 2), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: !t.changed
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)
        }
          , qr = []
          , Hr = {
            name: "zoezi-teamsport-set-shirt-numbers-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                groupId: {
                    type: Number
                }
            },
            data: ()=>({
                loading: !1,
                group: null,
                shirtNumbers: {},
                saving: !1
            }),
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                groupMembers() {
                    return this.group ? this.group.users.concat().sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                changed() {
                    return !!this.group && this.group.users.some(t=>this.shirtNumbers[t.id] != this.getShirtNumber(t.id))
                }
            },
            watch: {
                groupId: {
                    immediate: !0,
                    handler() {
                        this.saving || this.getGroup()
                    }
                }
            },
            methods: {
                getGroup() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/group/get", {
                        id: this.groupId
                    }).then(t=>{
                        this.group = t;
                        let e = {};
                        t.users.forEach(t=>{
                            e[t.id] = this.getShirtNumber(t.id)
                        }
                        ),
                        this.shirtNumbers = e,
                        this.loading = !1
                    }
                    )
                },
                getShirtNumber(t) {
                    var e, i;
                    return null === (e = this.group.shirt_numbers) || void 0 === e || null === (i = e.find(e=>e.user_id === t)) || void 0 === i ? void 0 : i.shirt
                },
                save() {
                    let t = this.group.users.map(t=>({
                        user_id: t.id,
                        shirt: this.shirtNumbers[t.id]
                    }));
                    this.saving = !0,
                    this.$api.post("/api/memberapi/set_shirt_numbers", {
                        group_id: this.groupId,
                        shirts: t
                    }).then(()=>{
                        this.dialog = !1,
                        this.saving = !1
                    }
                    )
                }
            }
        }
          , Ur = Hr
          , Yr = (i("570d"),
        Object(p["a"])(Ur, Wr, qr, !1, null, "225018c4", null))
          , Gr = Yr.exports;
        g()(Yr, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var Kr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "600px",
                    scrollable: "",
                    "content-class": "z-full-width-dialog"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Manage team settings")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    md: "3",
                    cols: "12"
                }
            }, [i("div", {
                staticClass: "d-flex flex-column align-center"
            }, [i("img", {
                staticStyle: {
                    background: "white",
                    width: "100px",
                    height: "100px"
                },
                attrs: {
                    src: t.$api.getImageUrl(t.group.imagekey, 400)
                }
            }), i("a", {
                attrs: {
                    href: "#"
                },
                on: {
                    click: function(e) {
                        e.preventDefault(),
                        t.showChangeLogoDialog = !0
                    }
                }
            }, [t._v("Ändra bild")])])]), i("v-col", {
                attrs: {
                    md: "9",
                    cols: "12"
                }
            }, [i("div", {
                staticClass: "font-weight-bold",
                staticStyle: {
                    "padding-left": "24px"
                }
            }, [t._v(t._s(t.$translate("Leaders")))]), i("multi-column-list", {
                attrs: {
                    items: t.changeTeamLeaders ? t.sortedTeamMembersNotRemoved : t.sortedLeadersNotRemoved
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex align-items-center"
                        }, [i("div", {
                            staticStyle: {
                                width: "24px",
                                height: "24px"
                            }
                        }, [t.values.responsible[s.id] && t.changeTeamLeaders ? i("v-icon", {
                            attrs: {
                                color: "mainLeader" === t.values.user_types[s.id] ? "primary" : "grey"
                            },
                            on: {
                                click: function(e) {
                                    return e.stopPropagation(),
                                    t.assignLeaderType(s.id)
                                }
                            }
                        }, [t._v(" " + t._s("mainLeader" === t.values.user_types[s.id] ? "mdi-star" : "mdi-star-outline") + " ")]) : t._e()], 1), t.changeTeamLeaders ? i("v-simple-checkbox", {
                            attrs: {
                                color: "primary"
                            },
                            model: {
                                value: t.values.responsible[s.id],
                                callback: function(e) {
                                    t.$set(t.values.responsible, s.id, e)
                                },
                                expression: "values.responsible[user.id]"
                            }
                        }) : t._e(), i("div", {
                            staticStyle: {
                                position: "relative",
                                display: "inline-flex"
                            }
                        }, [i("v-avatar", {
                            attrs: {
                                size: 20
                            }
                        }, [i("img", {
                            staticClass: "user-image",
                            attrs: {
                                src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                            }
                        })]), "mainLeader" === t.values.user_types[s.id] ? i("v-icon", {
                            staticStyle: {
                                position: "absolute",
                                top: "0",
                                left: "0",
                                transform: "translate(-50%, -50%)"
                            },
                            attrs: {
                                small: "",
                                color: "primary"
                            }
                        }, [t._v(" mdi-star ")]) : t._e()], 1)], 1)]
                    }
                }, t.changeTeamLeaders ? null : {
                    key: "append",
                    fn: function() {
                        return [i("div", {
                            directives: [{
                                name: "ripple",
                                rawName: "v-ripple",
                                value: {
                                    center: !0
                                },
                                expression: "{center: true}"
                            }],
                            key: "add",
                            staticClass: "d-flex z-clickable",
                            staticStyle: {
                                "margin-left": "24px"
                            },
                            on: {
                                click: function(e) {
                                    t.changeTeamLeaders = !0
                                }
                            }
                        }, [i("div", {
                            staticClass: "mr-2"
                        }, [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-pencil")])], 1), i("div", [i("div", [t._v(t._s(t.$translate("Change team leaders")))])])])]
                    },
                    proxy: !0
                }], null, !0)
            }), t.changeTeamLeaders ? i("v-alert", {
                staticClass: "ma-2",
                attrs: {
                    dense: "",
                    outlined: "",
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate("Assigning a star to a team leader makes them the primary contact person")) + " ")]) : t._e()], 1), i("v-col", {
                staticClass: "mt-4",
                attrs: {
                    md: "9",
                    cols: "12"
                }
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Team members")))]), i("multi-column-list", {
                attrs: {
                    items: t.sortedTeamMembersNotRemoved
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex"
                        }, [t.removeTeamMembers ? i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: "",
                                color: "primary"
                            },
                            on: {
                                click: function(e) {
                                    return t.addUserToRemoveList(s)
                                }
                            }
                        }, [t._v(" mdi-trash-can-outline ")]) : t._e(), i("v-avatar", {
                            attrs: {
                                size: 20
                            }
                        }, [i("img", {
                            staticClass: "user-image",
                            attrs: {
                                src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                            }
                        })])], 1)]
                    }
                }, t.removeTeamMembers ? null : {
                    key: "append",
                    fn: function() {
                        return [i("div", {
                            directives: [{
                                name: "ripple",
                                rawName: "v-ripple",
                                value: {
                                    center: !0
                                },
                                expression: "{center: true}"
                            }],
                            key: "add",
                            staticClass: "d-flex z-clickable",
                            on: {
                                click: function(e) {
                                    t.removeTeamMembers = !0
                                }
                            }
                        }, [i("div", {
                            staticClass: "mr-2"
                        }, [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-trash-can")])], 1), i("div", [i("div", [t._v(t._s(t.$translate("Remove team members")))])])])]
                    },
                    proxy: !0
                }], null, !0)
            }), t.sortedRemovedTeamMembers.length > 0 ? i("div", {
                staticClass: "mt-4"
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Team members who will be removed")))]), i("multi-column-list", {
                attrs: {
                    items: t.sortedRemovedTeamMembers
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function(e) {
                        var s = e.item;
                        return [t._v(" " + t._s(s.name) + " "), t.sortedLeaders.find((function(t) {
                            return t.id === s.id
                        }
                        )) ? i("span", {
                            staticClass: "ml-2"
                        }, [t._v("(" + t._s(t.$translate("will also be removed as leader")) + ")")]) : t._e()]
                    }
                }, {
                    key: "icon",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex"
                        }, [i("v-icon", {
                            staticClass: "mr-1",
                            attrs: {
                                small: "",
                                color: "primary"
                            },
                            on: {
                                click: function(e) {
                                    return t.removeFromRemoveList(s)
                                }
                            }
                        }, [t._v(" mdi-undo ")]), i("v-avatar", {
                            attrs: {
                                size: 20
                            }
                        }, [i("img", {
                            staticClass: "user-image",
                            attrs: {
                                src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                            }
                        })])], 1)]
                    }
                }], null, !1, 503298241)
            })], 1) : t._e(), i("v-form", {
                on: {
                    submit: function(e) {
                        return e.preventDefault(),
                        t.save.apply(null, arguments)
                    }
                },
                model: {
                    value: t.settingsModel,
                    callback: function(e) {
                        t.settingsModel = e
                    },
                    expression: "settingsModel"
                }
            }, t._l(t.fields, (function(e) {
                return i("form-field", {
                    key: e.name,
                    attrs: {
                        field: e,
                        star: ""
                    },
                    model: {
                        value: t.values[e.name],
                        callback: function(i) {
                            t.$set(t.values, e.name, i)
                        },
                        expression: "values[field.name]"
                    }
                })
            }
            )), 1)], 1)], 1)], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: !t.changed
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1), t.showChangeLogoDialog ? i("teamsport-team-logo-form", {
                attrs: {
                    group: t.group
                },
                model: {
                    value: t.showChangeLogoDialog,
                    callback: function(e) {
                        t.showChangeLogoDialog = e
                    },
                    expression: "showChangeLogoDialog"
                }
            }) : t._e()], 1)
        }
          , Qr = []
          , Jr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "600px",
                    scrollable: "",
                    "content-class": "z-full-width-dialog"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Change image")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "4"
                }
            }, [i("teamsport-team-logo", {
                attrs: {
                    "upper-color": t.newTeam.shirtColor,
                    "lower-color": t.newTeam.shortsColor,
                    name: t.newTeam.shortName
                },
                on: {
                    "image-created": function(e) {
                        t.newTeam.image = e
                    }
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "8"
                }
            }, [i("v-form", {
                on: {
                    submit: function(e) {
                        return e.preventDefault(),
                        t.submit.apply(null, arguments)
                    }
                },
                model: {
                    value: t.newTeamDone,
                    callback: function(e) {
                        t.newTeamDone = e
                    },
                    expression: "newTeamDone"
                }
            }, t._l(t.newTeamFields, (function(e) {
                return i("form-field", {
                    key: e.name,
                    attrs: {
                        field: e,
                        star: ""
                    },
                    model: {
                        value: t.newTeam[e.name],
                        callback: function(i) {
                            t.$set(t.newTeam, e.name, i)
                        },
                        expression: "newTeam[field.name]"
                    }
                })
            }
            )), 1)], 1)], 1)], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: !t.newTeamDone
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)
        }
          , Xr = []
          , Zr = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "canvas-container"
            }, [i("canvas", {
                ref: "canvas",
                attrs: {
                    width: "220",
                    height: "220"
                }
            })])
        }
          , tl = []
          , el = {
            name: "zoezi-teamsport-team-logo",
            props: {
                upperColor: {
                    type: String
                },
                lowerColor: {
                    type: String
                },
                name: {
                    type: String
                }
            },
            watch: {
                upperColor: {
                    immediate: !0,
                    handler() {
                        this.createLogo()
                    }
                },
                lowerColor: {
                    immediate: !0,
                    handler() {
                        this.createLogo()
                    }
                },
                name: {
                    immediate: !0,
                    handler() {
                        this.createLogo()
                    }
                }
            },
            methods: {
                createLogo() {
                    const t = this.$refs.canvas;
                    if (!t)
                        return;
                    var e = t.getContext("2d");
                    const i = 10;
                    document.fonts.load("bold 48px Lato").then(()=>{
                        if (e.setTransform(1, 0, 0, 1, 0, 0),
                        e.clearRect(0, 0, 220, 220),
                        e.translate(i, i),
                        !this.upperColor || !this.lowerColor)
                            return;
                        e.beginPath(),
                        e.arc(100, 100, 95, 0, 2 * Math.PI),
                        e.fillStyle = "white",
                        e.shadowColor = "#999",
                        e.shadowBlur = 10,
                        e.shadowOffsetX = 5,
                        e.shadowOffsetY = 5,
                        e.fill(),
                        e.strokeStyle = "#DDD",
                        e.lineWidth = 2,
                        e.stroke(),
                        e.shadowColor = "transparent",
                        e.beginPath(),
                        e.arc(100, 100, 80, Math.PI, 2 * Math.PI),
                        e.fillStyle = this.upperColor,
                        e.fill(),
                        e.beginPath(),
                        e.arc(100, 100, 80, 0, Math.PI),
                        e.fillStyle = this.lowerColor,
                        e.fill(),
                        e.save(),
                        e.beginPath(),
                        e.arc(100, 100, 85, 0, 2 * Math.PI),
                        e.clip(),
                        e.fillStyle = "white",
                        e.fillRect(0, 68, 220, 64),
                        e.restore(),
                        e.font = "bold 48px Lato",
                        e.fillStyle = "black",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        this.name && e.fillText(this.name, 100, 104),
                        e.setTransform(1, 0, 0, 1, 0, 0);
                        const s = t.toDataURL("image/png");
                        this.$emit("image-created", s)
                    }
                    )
                }
            },
            mounted() {
                this.$root.loadFont("Lato", "Lato", ()=>this.createLogo())
            }
        }
          , il = el
          , sl = (i("327f"),
        Object(p["a"])(il, Zr, tl, !1, null, "629c2352", null))
          , al = sl.exports;
        const ol = [{
            value: "#F8F8F8",
            text: "White"
        }, {
            value: "#000000",
            text: "Black"
        }, {
            value: "#ff0000",
            text: "Red"
        }, {
            value: "#00ff00",
            text: "Green"
        }, {
            value: "#0000ff",
            text: "Blue"
        }, {
            value: "#ffff00",
            text: "Yellow"
        }, {
            value: "#ff00ff",
            text: "Purple"
        }, {
            value: "#00ffff",
            text: "Cyan"
        }, {
            value: "#ff8000",
            text: "Orange"
        }];
        var nl = {
            name: "zoezi-teamsport-team-logo-form",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                group: {
                    type: Object
                }
            },
            components: {
                FormField: Ee["a"],
                TeamsportTeamLogo: al
            },
            data: ()=>({
                newTeamDone: !1,
                newTeam: {
                    shortName: "",
                    shirtColor: null,
                    shortsColor: null,
                    image: null
                },
                newTeamFields: [{
                    name: "shortName",
                    type: "text",
                    title: "Abbreviation (max 4 characters)",
                    max: 4,
                    required: !0
                }, {
                    name: "shirtColor",
                    type: "color",
                    title: "Team color upper half",
                    required: !0,
                    colors: ol
                }, {
                    name: "shortsColor",
                    type: "color",
                    title: "Team color lower half",
                    required: !0,
                    colors: ol
                }],
                saving: !1
            }),
            watch: {
                dialog: {
                    immediate: !0,
                    handler() {
                        this.dialog && this.extractSpecificColorsFromImageUrl(this.$api.getImageUrl(this.group.imagekey, 400))
                    }
                }
            },
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                }
            },
            methods: {
                save() {
                    this.saving = !0,
                    this.$api.post("/api/memberapi/usergroup/change", {
                        id: this.group.id,
                        image: this.newTeam.image
                    }).then(()=>{
                        this.dialog = !1,
                        this.saving = !1
                    }
                    )
                },
                rgbToHex(t, e, i) {
                    return "#" + [t, e, i].map(t=>{
                        const e = t.toString(16);
                        return 1 === e.length ? "0" + e : e
                    }
                    ).join("")
                },
                extractSpecificColorsFromImageUrl(t) {
                    const e = new Image;
                    e.crossOrigin = "Anonymous",
                    e.src = t;
                    const i = {
                        x: 100,
                        y: 50
                    }
                      , s = {
                        x: 100,
                        y: 150
                    };
                    e.onload = ()=>{
                        const t = document.createElement("canvas")
                          , a = t.getContext("2d", {
                            willReadFrequently: !0
                        });
                        t.width = e.width,
                        t.height = e.height,
                        a.drawImage(e, 0, 0);
                        const o = a.getImageData(i.x, i.y, 1, 1).data
                          , n = a.getImageData(s.x, s.y, 1, 1).data
                          , r = this.rgbToHex(o[0], o[1], o[2])
                          , l = this.rgbToHex(n[0], n[1], n[2]);
                        this.newTeam.shirtColor = r,
                        this.newTeam.shortsColor = l
                    }
                }
            }
        }
          , rl = nl
          , ll = Object(p["a"])(rl, Jr, Xr, !1, null, null, null)
          , cl = ll.exports;
        g()(ll, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var dl = {
            name: "zoezi-teamsport-team-settings-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                group: {
                    type: Object
                }
            },
            components: {
                FormField: Ee["a"],
                TeamsportTeamLogoForm: cl,
                MultiColumnList: sr
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t && (this.values = Object.assign({}, this.originalValues),
                        this.values.responsible = Object.assign({}, this.originalValues.responsible),
                        this.values.user_types = Object.assign({}, this.originalValues.user_types),
                        this.values.users = Object.assign({}, this.originalValues.users))
                    }
                },
                "values.responsible": {
                    deep: !0,
                    handler(t) {
                        for (const e in t)
                            !1 === t[e] ? this.$delete(this.values.user_types, e) : this.values.user_types[e] || this.$set(this.values.user_types, e, "viceLeader")
                    }
                }
            },
            data: ()=>({
                settingsModel: !1,
                values: {
                    name: "",
                    memberCanInvite: !1,
                    bookingOption: "standard",
                    responsible: {},
                    user_types: {},
                    users: {}
                },
                showChangeLogoDialog: !1,
                saving: !1,
                changeTeamLeaders: !1,
                removeTeamMembers: !1
            }),
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                changed() {
                    return Object.keys(this.values).some(t=>!Object(a["isEqual"])(this.values[t], this.originalValues[t]))
                },
                originalValues() {
                    let t = {};
                    return this.fields.map(t=>t.name).forEach(e=>t[e] = this.group[e]),
                    t.responsible = {},
                    this.group.users.forEach(e=>{
                        t.responsible[e.id] = this.isTeamLeader(e)
                    }
                    ),
                    t.users = {},
                    this.group.users.forEach(e=>{
                        t.users[e.id] = !0
                    }
                    ),
                    t.user_types = this.group.user_types ? {
                        ...this.group.user_types
                    } : {},
                    t
                },
                fields() {
                    return [{
                        name: "memberCanInvite",
                        title: "Members can invite to group",
                        type: "checkbox",
                        required: !1
                    }, {
                        name: "bookingOption",
                        title: "Invitation options",
                        type: "select",
                        data: [{
                            value: "standard",
                            text: this.$translate("Manual invitation from leader")
                        }, {
                            value: "autoInvite",
                            text: this.$translate("Automatic invitation")
                        }],
                        required: !0
                    }]
                },
                sortedLeaders() {
                    return this.group.responsible.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                sortedLeadersNotRemoved() {
                    return this.sortedLeaders.filter(t=>this.values.users[t.id])
                },
                sortedTeamMembers() {
                    return this.group.users.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                sortedTeamMembersNotRemoved() {
                    return this.sortedTeamMembers.filter(t=>this.values.users[t.id])
                },
                sortedRemovedTeamMembers() {
                    return this.sortedTeamMembers.filter(t=>!this.values.users[t.id])
                }
            },
            methods: {
                assignLeaderType(t) {
                    let e = this.values.user_types[t]
                      , i = "mainLeader" === e ? "viceLeader" : "mainLeader";
                    this.$set(this.values.user_types, t, i)
                },
                save() {
                    let t = Object.assign({
                        id: this.group.id
                    }, this.values);
                    t.responsible = Object.keys(this.values.responsible).filter(t=>this.values.responsible[t] && this.values.users[t]).map(t=>parseInt(t)),
                    t.users = Object.keys(this.values.users).filter(t=>this.values.users[t]).map(t=>parseInt(t)),
                    this.saving = !0,
                    this.$api.post("/api/memberapi/usergroup/change", t).then(()=>{
                        this.dialog = !1,
                        this.saving = !1
                    }
                    )
                },
                isTeamLeader(t) {
                    return this.group.responsible.some(e=>e.id == t.id)
                },
                addUserToRemoveList(t) {
                    this.values.users[t.id] = !1
                },
                removeFromRemoveList(t) {
                    this.values.users[t.id] = !0
                }
            }
        }
          , ul = dl
          , hl = Object(p["a"])(ul, Kr, Qr, !1, null, null, null)
          , ml = hl.exports;
        g()(hl, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSimpleCheckbox: sa["a"],
            VSpacer: J["a"]
        }),
        rr()(hl, {
            Ripple: lr["a"]
        });
        var pl = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "600px",
                    scrollable: "",
                    "content-class": "z-full-width-dialog"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Invite players")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t.loadingStatus.loading ? i("div", [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.invitelink ? i("div", ["family" !== t.group.type ? i("p", [t._v(t._s(t.$translate("Share the following link to those who you wish to invite to the team")))]) : i("p", [t._v(t._s(t.$translate("Share the following link to those who you wish to invite to the group")))]), i("div", [i("v-text-field", {
                ref: "inviteLinkField",
                attrs: {
                    label: t.$translate("Invitation link"),
                    readonly: "",
                    outlined: "",
                    "append-outer-icon": t.copied ? "mdi-check" : "mdi-content-copy",
                    color: t.copied ? "success" : "primary"
                },
                on: {
                    "click:append-outer": t.copyInviteLink,
                    focus: t.selectInviteLink
                },
                scopedSlots: t._u([{
                    key: "append-outer",
                    fn: function() {
                        return [t.copied ? i("v-tooltip", {
                            attrs: {
                                bottom: ""
                            },
                            scopedSlots: t._u([{
                                key: "activator",
                                fn: function(e) {
                                    var s = e.on
                                      , a = e.attrs;
                                    return [i("v-icon", t._g(t._b({
                                        attrs: {
                                            color: "success"
                                        }
                                    }, "v-icon", a, !1), s), [t._v(" mdi-check ")])]
                                }
                            }], null, !1, 3202891948)
                        }, [t._v(" " + t._s(t.$translate("Copied!")) + " ")]) : i("v-icon", {
                            attrs: {
                                color: "primary"
                            },
                            on: {
                                click: t.copyInviteLink
                            }
                        }, [t._v(" mdi-content-copy ")])]
                    },
                    proxy: !0
                }]),
                model: {
                    value: t.invitelink,
                    callback: function(e) {
                        t.invitelink = e
                    },
                    expression: "invitelink"
                }
            })], 1), i("v-btn", {
                attrs: {
                    color: "error",
                    outlined: "",
                    loading: t.loadingStatus.removing
                },
                on: {
                    click: t.removeInviteLink
                }
            }, [t._v(t._s(t.$translate("Remove invitation link")))]), i("br"), i("br"), i("div", [t._v(t._s(t.$translate("You can send an invitation with e-mail")))]), i("v-form", {
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, [i("form-field", {
                attrs: {
                    field: t.recipientsField,
                    star: ""
                },
                model: {
                    value: t.recipients,
                    callback: function(e) {
                        t.recipients = e
                    },
                    expression: "recipients"
                }
            })], 1)], 1) : i("div", ["family" !== t.group.type ? i("div", [t._v(t._s(t.$translate("In order to invite someone to the team, create an invitation link")))]) : i("div", [t._v(t._s(t.$translate("In order to invite someone to the group, create an invitation link")))]), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.loadingStatus.creating
                },
                on: {
                    click: t.createInviteLink
                }
            }, [t._v(t._s(t.$translate("Create invitation link")))])], 1)]), i("v-card-actions", [i("v-spacer"), t.invitelink ? i("v-btn", {
                attrs: {
                    color: "primary",
                    disabled: !t.canSubmit(),
                    loading: t.loadingStatus.inviting
                },
                on: {
                    click: t.submit
                }
            }, [t._v(t._s(t.$translate("Invite")))]) : t._e()], 1)], 1)], 1)
        }
          , vl = []
          , gl = {
            name: "zoezi-teamsport-invite-new-players-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                group: {
                    type: Object
                }
            },
            components: {
                FormField: Ee["a"]
            },
            data: ()=>({
                invitelink: null,
                loadingStatus: {
                    loading: !1,
                    creating: !1,
                    removing: !1,
                    inviting: !1
                },
                formValid: !1,
                recipientsField: {
                    type: "textarea",
                    title: "E-mail addresses",
                    required: !0,
                    rules: []
                },
                recipients: "",
                copied: !1
            }),
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                hasClipboard() {
                    return navigator.clipboard && window.isSecureContext
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: "Fel",
                            text: "Något gick fel. " + this.$translate(t.message)
                        })
                    }
                    )
                },
                selectInviteLink() {
                    this.$nextTick(()=>{
                        const t = this.$refs.inviteLinkField.$el.querySelector("input");
                        t && t.select && t.select()
                    }
                    )
                },
                copyInviteLink() {
                    this.hasClipboard && navigator.clipboard.writeText(this.invitelink).then(()=>{
                        this.copied = !0,
                        setTimeout(()=>this.copied = !1, 3e3)
                    }
                    , ()=>{
                        this.$store.commit("showSnackBar", {
                            text: this.$translate("Failed to copy")
                        })
                    }
                    )
                },
                getInviteLink() {
                    this.loadingStatus.loading = !0,
                    this.$api.get("/api/memberapi/group/get_invite_link", {
                        group_id: this.group.id
                    }).then(t=>{
                        if (t.key) {
                            const e = this.$root.siteconfig.pages.mypages || "/"
                              , i = this.$root.siteconfig.pages.mypagesTab || "tab"
                              , s = this.$root.siteconfig.pages.mypagesGroupInvite || "groupinvite"
                              , a = window.location.host;
                            this.invitelink = `https://${a}${e}?${i}=teamsport&${s}=${t.key}`
                        } else
                            this.invitelink = null;
                        this.loadingStatus.loading = !1
                    }
                    ).catch(()=>{
                        this.invitelink = null,
                        this.loadingStatus.loading = !1
                    }
                    )
                },
                createInviteLink() {
                    this.loadingStatus.creating = !0,
                    this.$api.post("/api/memberapi/group/create_invite_link", null, {
                        group_id: this.group.id
                    }).then(t=>{
                        this.loadingStatus.creating = !1,
                        this.getInviteLink(),
                        this.possiblyShowError(t)
                    }
                    )
                },
                removeInviteLink() {
                    this.loadingStatus.removing = !0,
                    this.$api.post("/api/memberapi/group/remove_invite_link", null, {
                        group_id: this.group.id
                    }).then(t=>{
                        this.loadingStatus.removing = !1,
                        t.ok && (this.invitelink = null),
                        this.possiblyShowError(t)
                    }
                    )
                },
                mailRule(t) {
                    return !(!t || !t.split(/[\s,]+/).every(o["w"])) || this.$translate("Invalid e-mail list")
                },
                canSubmit() {
                    return this.formValid
                },
                submit() {
                    let t = {
                        group_id: this.group.id,
                        recipients: this.recipients
                    };
                    this.loadingStatus.inviting = !0,
                    this.$api.post("/api/memberapi/group/invite", t).then(t=>{
                        this.loadingStatus.inviting = !1,
                        this.dialog = !1,
                        this.possiblyShowError(t)
                    }
                    )
                }
            },
            mounted() {
                this.getInviteLink(),
                this.recipientsField.rules = [this.mailRule]
            }
        }
          , fl = gl
          , bl = i("3a2f")
          , yl = Object(p["a"])(fl, pl, vl, !1, null, null, null)
          , _l = yl.exports;
        g()(yl, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"],
            VTextField: z["a"],
            VTooltip: bl["a"]
        });
        var kl = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("ToolboxWindow", {
                attrs: {
                    close: !0,
                    initialX: t.showAtX,
                    initialY: t.showAtY,
                    persistent: !0,
                    maxWidth: "275px"
                },
                on: {
                    close: function(e) {
                        t.dialog = !1
                    }
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [t.user ? i("v-card", {
                staticClass: "pa-4"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-avatar", {
                attrs: {
                    size: 40
                }
            }, [i("img", {
                staticClass: "user-image",
                attrs: {
                    src: "/api/memberapi/image/member/get?size=50x50&id=" + t.user.id
                }
            })]), i("div", {
                staticClass: "font-weight-bold ml-4"
            }, [t._v(t._s(t.user.name))])], 1), i("hr", {
                staticClass: "mt-2"
            }), i("div", {
                staticClass: "d-flex flex-column"
            }, [t.user.mail ? i("div", {
                staticClass: "my-2 d-flex flex-row"
            }, [i("v-icon", [t._v("mdi-email-edit-outline")]), i("div", {
                staticClass: "ml-2 text-truncate"
            }, [i("a", {
                attrs: {
                    href: "mailto:" + t.user.mail
                }
            }, [t._v(t._s(t.user.mail))])])], 1) : t._e(), t.user.phone ? i("div", {
                staticClass: "my-2 d-flex flex-row"
            }, [i("v-icon", [t._v("mdi-phone-forward-outline")]), i("div", {
                staticClass: "ml-2 text-truncate"
            }, [i("a", {
                attrs: {
                    href: "tel:" + t.user.phone
                }
            }, [t._v(t._s(t.user.phone))])])], 1) : t._e()]), t.match ? [i("hr", {
                staticClass: "mb-2"
            }), t._v(" " + t._s(t.$translate("Match status")) + " "), i("v-row", [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.settingPresence
                },
                on: {
                    click: t.togglePresence
                }
            }, [i("v-icon", [t._v(t._s(t.isPresent ? "mdi-checkbox-marked-outline" : "mdi-checkbox-blank-outline"))]), t._v(" " + t._s(t.$translate(t.isPresent ? "Present" : "Not present")) + " ")], 1)], 1), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Shirt number"),
                    "hide-details": "",
                    "single-line": "",
                    dense: "",
                    "append-icon": t.savedShirtNumber ? "mdi-check" : void 0,
                    "icon-color": t.savedShirtNumber ? "success" : "primary"
                },
                on: {
                    input: t.updateShirtNumber
                },
                model: {
                    value: t.shirtNumber,
                    callback: function(e) {
                        t.shirtNumber = t._n(e)
                    },
                    expression: "shirtNumber"
                }
            })], 1)], 1)] : t._e()], 2) : t._e()], 1)
        }
          , wl = []
          , Cl = i("505b")
          , xl = {
            name: "zoezi-teamsport-player-details-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                user: {
                    type: Object
                },
                showAtX: {
                    type: Number
                },
                showAtY: {
                    type: Number
                },
                match: {
                    type: Object
                },
                teamId: {
                    type: Number
                },
                attendance: {
                    type: Array
                }
            },
            watch: {
                user: {
                    immediate: !0,
                    handler() {
                        var t;
                        this.shirtNumber = null === (t = this.user) || void 0 === t ? void 0 : t.shirt_number
                    }
                }
            },
            components: {
                ToolboxWindow: Cl["a"]
            },
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                isPresent() {
                    var t, e;
                    return null === (t = this.attendance) || void 0 === t || null === (e = t.find(t=>t.user.id == this.user.id)) || void 0 === e ? void 0 : e.present
                }
            },
            data: ()=>({
                shirtNumber: "",
                savedShirtNumber: !1,
                debounceTimeout: null,
                settingPresence: !1
            }),
            methods: {
                updateShirtNumber() {
                    clearTimeout(this.debounceTimeout),
                    this.iconColor = "",
                    this.debounceTimeout = setTimeout(()=>{
                        this.setShirtNumber()
                    }
                    , 500)
                },
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                togglePresence() {
                    var t;
                    const e = null === (t = this.attendance) || void 0 === t ? void 0 : t.find(t=>t.user.id == this.user.id)
                      , i = {
                        id: e.id,
                        present: !e.present
                    };
                    this.settingPresence = !0,
                    this.$api.post("/api/memberapi/teamsport/attendance/set", i).then(t=>{
                        t.ok && this.$emit("updateAttendance", this.teamId, i),
                        this.possiblyShowError(t),
                        this.settingPresence = !1
                    }
                    )
                },
                setShirtNumber() {
                    var t;
                    const e = (null === (t = this.match.shirt_numbers) || void 0 === t ? void 0 : t.filter(t=>t.team == this.teamId && t.user != this.user.id).map(t=>({
                        shirt: t.shirt,
                        user_id: t.user
                    }))) || []
                      , i = {
                        match_id: this.match.id,
                        team_id: this.teamId,
                        shirts: [...e, {
                            shirt: this.shirtNumber,
                            user_id: this.user.id
                        }]
                    };
                    this.$api.post("/api/teamsport/match/set_shirt_numbers", i).then(t=>{
                        t.ok && (this.savedShirtNumber = !0,
                        setTimeout(()=>this.savedShirtNumber = !1, 3e3)),
                        this.possiblyShowError(t)
                    }
                    )
                }
            }
        }
          , $l = xl
          , Sl = (i("d6d8"),
        Object(p["a"])($l, kl, wl, !1, null, "7da10356", null))
          , Dl = Sl.exports;
        g()(Sl, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var zl = {
            name: "zoezi-teamsport-team-management",
            zoezi: {
                title: "Manage team",
                icon: "mdi-account-group",
                addon: "TeamSports"
            },
            props: {
                registration: {
                    title: "Registration",
                    type: Object
                }
            },
            components: {
                MultiColumnList: sr,
                TeamsportTeamSettingsDialog: ml,
                TeamsportSetShirtNumbersDialog: Gr,
                TeamsportInviteNewPlayersDialog: _l,
                TeamsportPlayerDetailsDialog: Dl
            },
            data: ()=>({
                loading: !0,
                group: null,
                unsubscribe: [],
                showSettingsDialog: !1,
                playerDetails: {
                    show: !1,
                    user: null
                },
                showSetShirtNumbersDialog: !1,
                showInvitePlayersDialog: !1
            }),
            watch: {
                registration: {
                    immediate: !0,
                    handler() {
                        this.getGroup()
                    }
                },
                "$store.state.user"() {
                    this.getGroup()
                }
            },
            computed: {
                groupId() {
                    var t;
                    return null === (t = this.group) || void 0 === t ? void 0 : t.id
                },
                minNumberOfPlayersRequired() {
                    var t, e;
                    return null === (t = this.registration) || void 0 === t || null === (e = t.competition) || void 0 === e ? void 0 : e.min_number_of_players
                },
                membershipRequired() {
                    var t, e;
                    return null === (t = this.registration) || void 0 === t || null === (e = t.competition) || void 0 === e ? void 0 : e.require_membership
                },
                showMinNumberOfPlayersHint() {
                    var t, e;
                    return this.minNumberOfPlayers && this.minNumberOfPlayers > (null === (t = this.group) || void 0 === t || null === (e = t.users) || void 0 === e ? void 0 : e.length) && this.canInvitePlayers
                },
                minNumberOfPlayersHint() {
                    var t, e;
                    return this.$translate("You need to invite atleast {0} more players to form a team").format(this.minNumberOfPlayers - (null === (t = this.group) || void 0 === t || null === (e = t.users) || void 0 === e ? void 0 : e.length))
                },
                sortedLeaders() {
                    return this.group ? this.group.responsible.concat().sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                sortedPlayers() {
                    return this.group ? this.group.users.concat().sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                isTeamLeader() {
                    var t, e;
                    return !(null === (t = this.group) || void 0 === t || null === (e = t.responsible) || void 0 === e || !e.find(t=>{
                        var e;
                        return t.id == (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id)
                    }
                    ))
                },
                hasMembership() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.membership
                },
                canInvitePlayers() {
                    var t;
                    return this.isTeamLeader || (null === (t = this.group) || void 0 === t ? void 0 : t.memberCanInvite)
                }
            },
            methods: {
                getGroup() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/group/get", {
                        id: this.registration.group.id
                    }).then(t=>{
                        t.users.forEach(e=>{
                            var i, s;
                            e.shirt_number = (null === t || void 0 === t || null === (i = t.shirt_numbers) || void 0 === i || null === (s = i.find(t=>t.user_id == e.id)) || void 0 === s ? void 0 : s.shirt) || null
                        }
                        ),
                        t.responsible.forEach(e=>{
                            var i;
                            e.user_type = null === t || void 0 === t || null === (i = t.user_types) || void 0 === i ? void 0 : i[e.id]
                        }
                        ),
                        this.group = t,
                        this.loading = !1
                    }
                    )
                },
                invitePlayer() {
                    this.showInvitePlayersDialog = !0
                },
                setShirtNumbers() {
                    this.showSetShirtNumbersDialog = !0
                },
                showSettings() {
                    this.showSettingsDialog = !0
                },
                showPlayerDetails({item: t}) {
                    this.isTeamLeader && (this.playerDetails.show = !0,
                    this.playerDetails.user = this.playerDetails.show ? t : null)
                }
            }
        }
          , Tl = zl
          , Il = (i("28ae"),
        Object(p["a"])(Tl, jr, Nr, !1, null, "6fef61cd", null))
          , Pl = Il.exports;
        g()(Il, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"]
        }),
        rr()(Il, {
            Ripple: lr["a"]
        });
        var Vl = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [(t.loadingMatch || t.loadingResults || t.loadingMembers) && !t.match ? i("div", [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.match ? i("div", [i("v-card", {
                staticClass: "info-card mt-2",
                attrs: {
                    outlined: ""
                }
            }, [i("v-card-title", {
                staticClass: "title"
            }, [i("v-icon", {
                staticClass: "title-icon"
            }, [t._v("mdi-trophy")]), t._v(" " + t._s(t.match.name) + " ")], 1), i("v-card-text", [i("v-row", {
                staticClass: "mt-2"
            }, [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("div", {
                staticClass: "detail"
            }, [i("v-icon", {
                staticClass: "detail-icon",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-account-multiple")]), i("span", {
                staticClass: "label"
            }, [t._v(t._s(t.$translate("Number of competitors")) + ":")]), i("span", [t._v(t._s(t.match.teams.length))])], 1), t.referees ? i("div", {
                staticClass: "detail"
            }, [i("span", {
                staticClass: "label"
            }, [i("v-icon", {
                staticClass: "detail-icon",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-whistle")]), t._v(t._s(t.$translate("Referees")) + ":")], 1), i("div", {
                staticClass: "referees-container"
            }, t._l(t.referees, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "referee-details"
                }, [i("div", {
                    staticClass: "referee-info"
                }, [i("div", {
                    staticClass: "referee-name"
                }, [t._v(t._s(e.name))]), e.mail ? i("a", {
                    staticClass: "icon-link",
                    attrs: {
                        href: "mailto:" + e.mail
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-email-outline")])], 1) : t._e(), e.phone ? i("a", {
                    staticClass: "icon-link",
                    attrs: {
                        href: "tel:" + e.phone
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-phone-outline")])], 1) : t._e()])])
            }
            )), 0)]) : t._e()]), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("div", {
                staticClass: "detail"
            }, [i("v-icon", {
                staticClass: "detail-icon",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-timer")]), i("span", {
                staticClass: "label"
            }, [t._v(t._s(t.$translate("Start time")) + ":")]), i("span", [t._v(t._s(t.startTime))])], 1), i("div", {
                staticClass: "detail"
            }, [i("v-icon", {
                staticClass: "detail-icon",
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-timer-off")]), i("span", {
                staticClass: "label"
            }, [t._v(" " + t._s(t.$translate("End time")) + ":")]), i("span", [t._v(" " + t._s(t.endTime))])], 1)])], 1), t.canReportResult ? i("v-row", [i("v-col", [i("v-btn", {
                staticClass: "zoezi-button-thin mb-2 primarytext--text",
                attrs: {
                    block: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showFinishDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Mark as finished")))])], 1)], 1) : t._e()], 1)], 1), i("v-card", {
                staticClass: "mt-2"
            }, [i("div", {
                staticClass: "list-header"
            }, [i("div", {
                staticClass: "header-item"
            }), i("div", {
                staticClass: "header-item"
            }, [i("strong", [t._v(t._s(t.$translate("Competitors")))])]), i("div", {
                staticClass: "header-item"
            }, [i("strong", [t._v(t._s(t.$translate("Rank")))])]), i("div", {
                staticClass: "header-item"
            }, [i("strong", [t._v(t._s(t.$translate("Result")))])]), t.canReportResult ? i("div", {
                staticClass: "header-item"
            }) : t._e()]), i("div", {
                staticClass: "list-content"
            }, t._l(t.computedTeams, (function(e, s) {
                return i("div", {
                    key: e.id,
                    staticClass: "list-row"
                }, [i("v-avatar", {
                    staticClass: "row-item",
                    attrs: {
                        size: 40
                    }
                }, [e.user_id ? i("img", {
                    staticClass: "user-image",
                    attrs: {
                        src: "/api/memberapi/image/member/get?size=50x50&id=" + e.user_id
                    }
                }) : i("img", {
                    staticClass: "user-image",
                    attrs: {
                        src: "/api/public/image/get?size=50x50&type=team&id=" + e.id
                    }
                })]), i("div", {
                    staticClass: "row-item"
                }, [t._v(t._s(e.name))]), i("div", {
                    staticClass: "row-item"
                }, [t._v(t._s(s + 1))]), i("div", {
                    staticClass: "row-item"
                }, [t._v(t._s(e.formattedResult || "-"))]), t.canReportResult ? i("div", {
                    staticClass: "row-item"
                }, [e.formattedResult ? i("div", [i("v-btn", {
                    attrs: {
                        small: "",
                        rounded: "",
                        fab: "",
                        color: "secondary"
                    },
                    on: {
                        click: function(i) {
                            return t.addResult(e)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-pencil")])], 1)], 1) : i("div", [i("v-btn", {
                    attrs: {
                        small: "",
                        rounded: "",
                        fab: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.addResult(e)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1)]) : t._e()], 1)
            }
            )), 0)]), t.showEventDialog ? i("TeamsportEventDialog", {
                attrs: {
                    match: t.match,
                    teamId: t.selectedTeam.id,
                    oneMatch: ""
                },
                model: {
                    value: t.showEventDialog,
                    callback: function(e) {
                        t.showEventDialog = e
                    },
                    expression: "showEventDialog"
                }
            }) : t._e(), t.showFinishDialog ? i("TeamsportSetResultDialog", {
                attrs: {
                    match: t.match,
                    teams: t.computedTeams,
                    oneMatch: ""
                },
                model: {
                    value: t.showFinishDialog,
                    callback: function(e) {
                        t.showFinishDialog = e
                    },
                    expression: "showFinishDialog"
                }
            }) : t._e()], 1) : i("div", [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(t._s(t.$translate("No match found")))])], 1)])
        }
          , Bl = []
          , Fl = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.title))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: t.closeDialog
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), t.loading ? i("v-card-text", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    size: "32"
                }
            })], 1) : [i("v-card-text", [i("v-form", {
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, [i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("form-field", {
                attrs: {
                    field: t.eventTypeField,
                    star: ""
                },
                model: {
                    value: t.eventTypeField.value,
                    callback: function(e) {
                        t.$set(t.eventTypeField, "value", e)
                    },
                    expression: "eventTypeField.value"
                }
            }), t.timePeriods && !t.oneMatch ? i("div", [i("v-divider"), i("form-field", {
                attrs: {
                    field: t.timePeriodField
                },
                model: {
                    value: t.timePeriodField.value,
                    callback: function(e) {
                        t.$set(t.timePeriodField, "value", e)
                    },
                    expression: "timePeriodField.value"
                }
            })], 1) : t._e(), t.oneMatch ? i("div", [i("v-divider"), i("form-field", {
                attrs: {
                    field: t.resultTypeField,
                    star: ""
                },
                model: {
                    value: t.resultTypeField.value,
                    callback: function(e) {
                        t.$set(t.resultTypeField, "value", e)
                    },
                    expression: "resultTypeField.value"
                }
            })], 1) : t._e()], 1), i("v-divider", {
                staticClass: "hidden-sm-and-down",
                attrs: {
                    vertical: ""
                }
            }), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [t.oneMatch ? i("div", [i("form-field", {
                attrs: {
                    field: t.resultField
                },
                model: {
                    value: t.resultField.value,
                    callback: function(e) {
                        t.$set(t.resultField, "value", e)
                    },
                    expression: "resultField.value"
                }
            })], 1) : i("div", [i("form-field", {
                attrs: {
                    field: t.teamField,
                    star: ""
                },
                model: {
                    value: t.teamField.value,
                    callback: function(e) {
                        t.$set(t.teamField, "value", e)
                    },
                    expression: "teamField.value"
                }
            }), t.isIndividualCompetition ? t._e() : i("form-field", {
                attrs: {
                    field: t.playerField
                },
                model: {
                    value: t.playerField.value,
                    callback: function(e) {
                        t.$set(t.playerField, "value", e)
                    },
                    expression: "playerField.value"
                }
            }), i("form-field", {
                attrs: {
                    field: t.matchTimeField
                },
                model: {
                    value: t.matchTimeField.value,
                    callback: function(e) {
                        t.$set(t.matchTimeField, "value", e)
                    },
                    expression: "matchTimeField.value"
                }
            }), i("form-field", {
                attrs: {
                    field: t.commentField
                },
                model: {
                    value: t.commentField.value,
                    callback: function(e) {
                        t.$set(t.commentField, "value", e)
                    },
                    expression: "commentField.value"
                }
            }), t.showUpdateResultCheckbox ? i("form-field", {
                attrs: {
                    field: t.updateResultField
                },
                model: {
                    value: t.updateResultField.value,
                    callback: function(e) {
                        t.$set(t.updateResultField, "value", e)
                    },
                    expression: "updateResultField.value"
                }
            }) : t._e()], 1)])], 1)], 1)], 1), i("v-divider"), i("v-card-actions", {
                staticClass: "justify-end"
            }, [t.eventId && !t.oneMatch ? i("v-btn", {
                staticClass: "zoezi-button-thin mb-2",
                attrs: {
                    color: "error"
                },
                on: {
                    click: t.remove
                }
            }, [t._v(t._s(t.$translate("Remove")))]) : t._e(), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin mb-2",
                on: {
                    click: t.closeDialog
                }
            }, [t._v(t._s(t.$translate("Cancel")))]), !t.eventId || t.oneMatch ? i("v-btn", {
                staticClass: "zoezi-button-thin mb-2 mr-2 primarytext--text",
                attrs: {
                    color: "primary",
                    disabled: !t.formValid,
                    loading: t.saving
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))]) : i("v-btn", {
                staticClass: "zoezi-button-thin mb-2 primarytext--text",
                attrs: {
                    color: "primary",
                    disabled: !t.formValid,
                    loading: t.changing
                },
                on: {
                    click: t.change
                }
            }, [t._v(t._s(t.$translate("Change")))])], 1)]], 2)], 1)
        }
          , El = []
          , Ol = {
            name: "zoezi-teamsport-event-dialog",
            components: {
                FormField: Ee["a"]
            },
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                match: {
                    type: Object,
                    required: !0
                },
                teamId: {
                    type: Number
                },
                eventId: {
                    type: Number
                },
                eventTypeId: {
                    type: Number
                },
                oneMatch: {
                    type: Boolean,
                    default: !1
                }
            },
            data() {
                return {
                    loadingInvalidResults: !1,
                    loadingEvents: !1,
                    loadingMembers: !1,
                    loadingTeamsportAndEventTypes: !1,
                    formValid: !1,
                    saving: !1,
                    changing: !1,
                    events: [],
                    invalidResults: [],
                    eventTypes: [],
                    unsubscribe: [],
                    teamsport: null,
                    members: [],
                    teamField: {
                        name: "team",
                        title: "Team",
                        type: "select",
                        required: !0,
                        data: [],
                        value: ""
                    },
                    eventTypeField: {
                        name: "eventType",
                        title: "Event type",
                        type: "radiogroup",
                        required: !0,
                        value: null
                    },
                    resultTypeField: {
                        name: "resultType",
                        title: "Result type",
                        type: "radiogroup",
                        required: !0,
                        value: null
                    },
                    resultField: {
                        name: "result",
                        title: "Result",
                        type: "text",
                        value: ""
                    },
                    updateResultField: {
                        name: "updateResult",
                        title: "Update result",
                        type: "checkbox",
                        value: !1
                    },
                    matchTimeField: {
                        name: "matchTime",
                        title: "Match time",
                        type: "text",
                        value: ""
                    },
                    timePeriodField: {
                        name: "timePeriod",
                        title: "Time period",
                        type: "radiogroup",
                        value: ""
                    },
                    playerField: {
                        name: "player",
                        title: "Player",
                        type: "select",
                        value: "",
                        data: []
                    },
                    commentField: {
                        name: "comment",
                        title: "Comment",
                        type: "text",
                        value: ""
                    }
                }
            },
            watch: {
                eventId: {
                    handler(t) {
                        t && this.setEvent(t)
                    }
                },
                eventTypeId: {
                    immediate: !0,
                    handler(t) {
                        t && (this.eventTypeField.value = t)
                    }
                },
                teamId: {
                    immediate: !0,
                    handler(t) {
                        t && (this.teamField.value = t)
                    }
                },
                match: {
                    immediate: !0,
                    handler(t) {
                        t && (this.getMembersInMatch(),
                        this.teamField.data = this.match.teams.map(t=>({
                            value: t.id,
                            text: t.name
                        })),
                        this.teamField.title = this.isIndividualCompetition ? "Player" : "Team")
                    }
                },
                "teamField.value": {
                    immediate: !0,
                    handler() {
                        this.playerField.data = this.getAvailablePlayers()
                    }
                }
            },
            computed: {
                showDialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                teamsportAndEventTypes() {
                    return {
                        teamsport: this.teamsport,
                        eventTypes: this.eventTypes
                    }
                },
                timePeriods() {
                    var t, e;
                    return null === (t = this.teamsport) || void 0 === t || null === (e = t.timeperiods) || void 0 === e ? void 0 : e.split(",").map(t=>t.trim())
                },
                eventTypesForSport() {
                    var t;
                    return null === (t = this.eventTypes) || void 0 === t ? void 0 : t.filter(t=>{
                        var e, i;
                        return null === (e = this.teamsport) || void 0 === e || null === (i = e.eventtypes) || void 0 === i ? void 0 : i.find(e=>e == t.id)
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name))
                },
                showUpdateResultCheckbox() {
                    var t, e;
                    return (null === (t = this.eventTypesForSport) || void 0 === t || null === (e = t.find(t=>{
                        var e;
                        return (null === (e = this.eventTypeField) || void 0 === e ? void 0 : e.value) == t.id
                    }
                    )) || void 0 === e ? void 0 : e.points) > 0
                },
                invalidResultsData() {
                    return this.invalidResults.map(t=>({
                        value: t.id,
                        text: t.name
                    }))
                },
                title() {
                    if (this.oneMatch) {
                        var t, e, i, s;
                        const a = null === (t = this.match) || void 0 === t ? void 0 : t.teams.find(t=>t.id == this.teamId)
                          , o = null === (e = this.match) || void 0 === e || null === (i = e.result) || void 0 === i || null === (s = i.find(t=>t.team_id == this.teamId)) || void 0 === s ? void 0 : s.result;
                        return a ? o ? this.$translate("Change result for {0}").format(a.name) : this.$translate("Add result for {0}").format(a.name) : this.$translate("Add result")
                    }
                    return this.$translate(this.eventId ? "Change event" : "Add event")
                },
                loading() {
                    return this.loadingInvalidResults || this.loadingEvents || this.loadingTeamsportAndEventTypes || this.loadingMembers
                },
                isIndividualCompetition() {
                    return this.match.division.competitionstep.gameclass.individual
                }
            },
            methods: {
                getTeamsportAndEventTypes() {
                    this.loadingTeamsportAndEventTypes = !0,
                    Promise.all([this.getTeamsport(), this.getEventTypes()]).then(()=>{
                        var t, e;
                        const i = this.eventTypes.filter(t=>this.teamsport.eventtypes.includes(t.id))
                          , s = i.sort((t,e)=>t.name.localeCompare(e.name));
                        this.eventTypeField.data = s.map(t=>({
                            value: t.id,
                            text: t.name
                        })),
                        this.timePeriodField.data = null === (t = this.teamsport) || void 0 === t || null === (e = t.timeperiods) || void 0 === e ? void 0 : e.split(",").map(t=>({
                            value: t,
                            text: t
                        })),
                        this.loadingTeamsportAndEventTypes = !1
                    }
                    )
                },
                getAvailablePlayers() {
                    if (this.oneMatch)
                        return [];
                    if (!this.match || !this.teamField.value)
                        return [];
                    const t = this.match.teams.findIndex(t=>t.id == this.teamField.value);
                    return -1 == t ? [] : this.getUsers(t).map(t=>({
                        value: t.id,
                        text: t.name
                    }))
                },
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                setEvent() {
                    this.oneMatch ? this.event = this.events.find(t=>t.team_id == this.teamId) : this.event = this.events.find(t=>t.id == this.eventId),
                    this.event && (this.eventTypeField.value = this.event.eventtype_id,
                    this.teamField.value = this.event.team_id,
                    this.playerField.value = this.event.user_id,
                    this.matchTimeField.value = this.event.matchtime,
                    this.timePeriodField.value = this.event.timeperiod,
                    this.commentField.value = this.event.comment)
                },
                getUsers(t) {
                    var e, i, s;
                    return this.match && null !== (e = this.members) && void 0 !== e && e.length ? null === (i = this.match.team_activities[t]) || void 0 === i || null === (s = i.bookings) || void 0 === s ? void 0 : s.map(t=>{
                        const e = this.members.find(e=>e.id == t.user_id);
                        return {
                            name: e.name,
                            id: e.id
                        }
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                getTeamsport() {
                    return this.$api.get("/api/teamsport/get", {
                        id: this.match.teamsport_id
                    }).then(t=>{
                        this.teamsport = t
                    }
                    )
                },
                getMembersInMatch() {
                    this.loadingMembers = !0,
                    this.$api.get("/api/memberapi/teamsport/get_member_in_match", {
                        match_id: this.match.id
                    }).then(t=>{
                        this.members = t,
                        this.playerField.data = this.getAvailablePlayers(),
                        this.loadingMembers = !1
                    }
                    )
                },
                setResult() {
                    var t, e, i;
                    const s = null === (t = this.match) || void 0 === t || null === (e = t.result) || void 0 === e ? void 0 : e.find(t=>t.team_id == this.teamId);
                    s ? (this.resultField.value = s.result,
                    this.resultTypeField.value = s.invalid_id ? s.invalid_id : 0) : this.resultTypeField.value = null,
                    this.resultField.rules = Object(o["E"])(null === (i = this.match) || void 0 === i ? void 0 : i.result_type)
                },
                getErrorMessage(t, e) {
                    return e ? this.$translate("Allowed format: {0}, Ex: {1}").format(this.$translate(t), e) : this.$translate("Allowed format: {0}").format(this.$translate(t))
                },
                getEventTypes() {
                    return this.$api.get("/api/teamsport/eventtype/get").then(t=>{
                        this.eventTypes = t
                    }
                    )
                },
                getInvaldResults() {
                    this.loadingInvalidResults = !0,
                    this.$api.get("/api/teamsport/resultinvalid/get").then(t=>{
                        t.unshift({
                            id: 0,
                            name: this.$translate("Valid result")
                        }),
                        this.invalidResults = t,
                        this.resultTypeField.data = this.invalidResultsData,
                        this.setResult(),
                        this.loadingInvalidResults = !1
                    }
                    )
                },
                getEvents() {
                    this.loadingEvents = !0,
                    this.$api.get("/api/teamsport/event/get", {
                        match_id: this.match.id
                    }).then(t=>{
                        this.events = t,
                        this.setEvent(),
                        this.loadingEvents = !1
                    }
                    )
                },
                getResult(t) {
                    return this.match.result ? this.match.result.map(e=>e.team_id == t ? {
                        team_id: e.team_id,
                        result: this.resultField.value,
                        invalid_id: 0 == this.resultTypeField.value ? null : this.resultTypeField.value
                    } : e) : this.match.teams.map(e=>e.id == t ? {
                        team_id: e.id,
                        result: this.resultField.value,
                        invalid_id: 0 == this.resultTypeField.value ? null : this.resultTypeField.value
                    } : {
                        team_id: e.id,
                        result: null,
                        invalid_id: null
                    })
                },
                save() {
                    this.saving = !0;
                    let t = null
                      , e = null;
                    this.oneMatch ? this.eventTypeField.value ? (e = "/api/teamsport/event/add",
                    t = {
                        match_id: this.match.id,
                        eventtype_id: this.eventTypeField.value,
                        team_id: this.teamId,
                        result: this.resultField.value
                    },
                    0 != this.resultTypeField.value && (t.invalid_id = this.resultTypeField.value)) : (e = "/api/teamsport/match/setresult",
                    t = {
                        match_id: this.match.id,
                        result: this.getResult(this.teamId),
                        finished: !1
                    }) : (e = "/api/teamsport/event/add",
                    t = {
                        match_id: this.match.id,
                        eventtype_id: this.eventTypeField.value,
                        team_id: this.teamField.value,
                        matchtime: this.matchTimeField.value,
                        user_id: this.playerField.value,
                        comment: this.commentField.value,
                        timeperiod: this.timePeriodField.value
                    },
                    this.showUpdateResultCheckbox && (t.update_result = this.updateResultField.value)),
                    this.$api.post(e, t).then(t=>{
                        this.saving = !1,
                        this.closeDialog(),
                        this.possiblyShowError(t)
                    }
                    )
                },
                change() {
                    this.changing = !0;
                    let t = {
                        id: this.eventId,
                        eventtype_id: this.eventTypeField.value,
                        team_id: this.teamField.value,
                        matchtime: this.matchTimeField.value,
                        user_id: this.playerField.value,
                        comment: this.commentField.value,
                        timeperiod: this.timePeriodField.value
                    };
                    this.showUpdateResultCheckbox && this.updateResult && (t.update_result = this.updateResultField.value),
                    this.$api.post("/api/teamsport/event/change", t).then(t=>{
                        this.changing = !1,
                        this.closeDialog(),
                        this.possiblyShowError(t)
                    }
                    )
                },
                remove() {
                    this.removing = !0;
                    let t = {
                        id: this.eventId
                    };
                    this.showUpdateResultCheckbox && (t.update_result = this.updateResultField.value),
                    this.$api.post("/api/teamsport/event/remove", null, t).then(t=>{
                        this.removing = !1,
                        this.closeDialog(),
                        this.possiblyShowError(t)
                    }
                    )
                },
                closeDialog() {
                    this.showDialog = !1
                }
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsport",
                    callback: (t,e)=>{
                        this.teamsport && e.data.find(t=>t.id == this.teamsport.id) && this.this.getTeamsportAndEventTypes()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsporteventtype",
                    callback: ()=>this.getTeamsportAndEventTypes()
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportresultinvalid",
                    callback: ()=>this.getInvaldResults()
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportevent",
                    callback: ()=>this.getEvents()
                })),
                this.getTeamsportAndEventTypes(),
                this.getInvaldResults(),
                this.getEvents()
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.forEach(t=>t())
            }
        }
          , Ml = Ol
          , Al = Object(p["a"])(Ml, Fl, El, !1, null, null, null)
          , Rl = Al.exports;
        g()(Al, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VDivider: $["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var Ll = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-dialog", {
                attrs: {
                    "max-width": "600px"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", [t._v(t._s(t.title))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: t.closeDialog
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), t.oneMatch ? i("div", [i("div", {
                staticClass: "ma-4"
            }, [t._v(" " + t._s(t.$translate("The competition can be concluded once all results have been reported. Once the competition is concluded, no additional results can be reported.")) + " ")]), t.teamsWithoutResult && t.teamsWithoutResult.length > 0 ? i("div", [i("div", {
                staticClass: "ma-4"
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.missingResultsTitle))]), i("v-list", t._l(t.teamsWithoutResult, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    staticClass: "d-flex justify-space-between align-center"
                }, [i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(e.name))])], 1), i("v-list-item-action", [i("v-btn", {
                    attrs: {
                        small: "",
                        rounded: "",
                        fab: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.addResult(e)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1)], 1)
            }
            )), 1)], 1)]) : t._e(), i("v-card-actions", {
                staticClass: "ma-2"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin primarytext--text",
                attrs: {
                    width: "50%",
                    color: "secondary"
                },
                on: {
                    click: t.closeDialog
                }
            }, [t._v(t._s(t.$translate("Cancel")))]), i("v-btn", {
                staticClass: "zoezi-button-thin primarytext--text",
                attrs: {
                    width: "50%",
                    disabled: t.teamsWithoutResult.length > 0,
                    color: "primary",
                    loading: t.saving
                },
                on: {
                    click: t.setResult
                }
            }, [t._v(t._s(t.$translate("Finish")))])], 1)], 1) : i("div", [i("v-form", {
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, [i("div", {
                staticClass: "ma-4"
            }, [t._l(t.teamFields, (function(e, s) {
                return i("div", {
                    key: s
                }, [i("v-card", {
                    staticClass: "ma-2"
                }, [i("v-card-title", [i("div", {
                    staticClass: "font-weight-bold fill-width"
                }, [i("span", [t._v(t._s(e.title))])])]), i("v-card-text", [e.resultTypeField ? i("form-field", {
                    attrs: {
                        field: e.resultTypeField,
                        star: "",
                        dense: ""
                    },
                    model: {
                        value: e.resultTypeField.value,
                        callback: function(i) {
                            t.$set(e.resultTypeField, "value", i)
                        },
                        expression: "field.resultTypeField.value"
                    }
                }) : t._e(), "padel" == t.match.result_type || 0 == e.resultTypeField.value ? i("form-field", {
                    attrs: {
                        field: e.resultField,
                        star: "",
                        dense: ""
                    },
                    model: {
                        value: e.resultField.value,
                        callback: function(i) {
                            t.$set(e.resultField, "value", i)
                        },
                        expression: "field.resultField.value"
                    }
                }) : t._e(), "padel" == t.match.result_type ? i("v-alert", {
                    attrs: {
                        dense: "",
                        outlined: "",
                        type: "info"
                    }
                }, [t._v(t._s(t.$translate("Example")) + ": 6-2, 4-6, 1-6")]) : t._e()], 1)], 1)], 1)
            }
            )), i("form-field", {
                attrs: {
                    field: t.finishMatchField
                },
                model: {
                    value: t.finishMatchField.value,
                    callback: function(e) {
                        t.$set(t.finishMatchField, "value", e)
                    },
                    expression: "finishMatchField.value"
                }
            })], 2)]), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin mb-2 primarytext--text",
                attrs: {
                    width: "100%",
                    disabled: !t.formValid,
                    color: "primary",
                    loading: t.saving
                },
                on: {
                    click: t.setResult
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)], 1), t.showEventDialog ? i("teamsport-event-dialog", {
                attrs: {
                    match: t.match,
                    teamId: t.selectedTeam.id,
                    oneMatch: ""
                },
                model: {
                    value: t.showEventDialog,
                    callback: function(e) {
                        t.showEventDialog = e
                    },
                    expression: "showEventDialog"
                }
            }) : t._e()], 1)
        }
          , jl = []
          , Nl = {
            name: "zoezi-teamsport-set-result-dialog",
            components: {
                TeamsportEventDialog: Rl,
                FormField: Ee["a"]
            },
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                match: {
                    type: Object,
                    required: !0
                },
                oneMatch: {
                    type: Boolean,
                    default: !1
                }
            },
            data() {
                return {
                    loading: !1,
                    loadingInvalidResults: !1,
                    invalidResults: [],
                    missingFields: [],
                    teamFields: [],
                    formValid: !1,
                    saving: !1,
                    events: [],
                    eventTypes: [],
                    selectedTeam: null,
                    unsubscribe: [],
                    showEventDialog: !1,
                    finishMatchField: {
                        name: "finishMatch",
                        title: "Match is finished",
                        type: "checkbox",
                        value: !0
                    }
                }
            },
            computed: {
                showDialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                teamsWithoutResult() {
                    return this.match.teams.filter(t=>{
                        var e;
                        const i = null === (e = this.match.result) || void 0 === e ? void 0 : e.find(e=>(null === e || void 0 === e ? void 0 : e.team_id) == t.id);
                        return !(null !== i && void 0 !== i && i.result) && !(null !== i && void 0 !== i && i.invalid_id)
                    }
                    )
                },
                missingResultsTitle() {
                    return 1 === this.teamsWithoutResult.length ? this.$translate("Result is missing for the following participant:") : this.$translate("Results are missing for the following participants:")
                },
                title() {
                    return this.oneMatch ? this.$translate("Mark as finished") : this.$translate("Set result")
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                initializeTeamFields() {
                    if (this.match && this.match.teams)
                        if ("padel" == this.match.result_type) {
                            var t;
                            const e = this.match.result ? this.match.result[0] : null;
                            this.teamFields = [{
                                title: this.match.teams[0].name + " - " + this.match.teams[1].name,
                                resultField: {
                                    title: "Result",
                                    type: "text",
                                    required: !0,
                                    value: null === e || void 0 === e ? void 0 : e.result,
                                    rules: Object(o["E"])(null === (t = this.match) || void 0 === t ? void 0 : t.result_type)
                                }
                            }]
                        } else
                            this.teamFields = this.match.teams.map(t=>{
                                var e, i;
                                const s = null === (e = this.match.result) || void 0 === e ? void 0 : e.find(e=>(null === e || void 0 === e ? void 0 : e.team_id) === t.id);
                                return {
                                    title: t.name,
                                    id: t.id,
                                    resultTypeField: {
                                        name: "resultType_" + t.id,
                                        title: "Result type",
                                        type: "select",
                                        required: !0,
                                        data: this.invalidResults.map(t=>({
                                            value: t.id,
                                            text: t.name
                                        })),
                                        value: (null === s || void 0 === s ? void 0 : s.invalid_id) || 0
                                    },
                                    resultField: {
                                        name: "result_" + t.id,
                                        title: "Result",
                                        type: "text",
                                        required: !0,
                                        value: null === s || void 0 === s ? void 0 : s.result,
                                        rules: Object(o["E"])(null === (i = this.match) || void 0 === i ? void 0 : i.result_type)
                                    }
                                }
                            }
                            )
                },
                getInvaldResults() {
                    this.loadingInvalidResults = !0,
                    this.$api.get("/api/teamsport/resultinvalid/get").then(t=>{
                        t.unshift({
                            id: 0,
                            name: this.$translate("Valid result")
                        }),
                        this.invalidResults = t,
                        this.initializeTeamFields(),
                        this.loadingInvalidResults = !1
                    }
                    )
                },
                closeDialog() {
                    this.selectedTeam = null,
                    this.showEventDialog = !1,
                    this.showDialog = !1
                },
                setResult() {
                    this.saving = !0;
                    let t = null;
                    t = "padel" == this.match.result_type ? {
                        match_id: this.match.id,
                        result: this.teamFields[0].resultField.value,
                        finished: this.finishMatchField.value
                    } : this.oneMatch ? {
                        match_id: this.match.id,
                        result: this.match.result,
                        finished: !0
                    } : {
                        match_id: this.match.id,
                        result: this.teamFields.map(t=>({
                            team_id: t.id,
                            invalid_id: 0 == t.resultTypeField.value ? null : t.resultTypeField.value,
                            result: t.resultField.value || null
                        })),
                        finished: this.finishMatchField.value
                    },
                    this.$api.post("/api/teamsport/match/setresult", t).then(t=>{
                        this.saving = !1,
                        this.closeDialog(),
                        this.possiblyShowError(t)
                    }
                    )
                },
                addResult(t) {
                    this.selectedTeam = t,
                    this.showEventDialog = !0
                }
            },
            mounted() {
                this.getInvaldResults(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportresultinvalid",
                    callback: ()=>this.getInvaldResults()
                }))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , Wl = Nl
          , ql = i("1800")
          , Hl = Object(p["a"])(Wl, Ll, jl, !1, null, null, null)
          , Ul = Hl.exports;
        g()(Hl, {
            VAlert: He["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemAction: ql["a"],
            VListItemContent: Ct["a"],
            VListItemTitle: Ct["c"]
        });
        var Yl = {
            name: "zoezi-teamsport-one-match",
            components: {
                TeamsportEventDialog: Rl,
                TeamsportSetResultDialog: Ul
            },
            props: {
                registration: {
                    type: Object,
                    default: ()=>({})
                },
                referee: {
                    type: Boolean,
                    default: !1
                },
                matchId: {
                    type: Number,
                    default: null
                }
            },
            data() {
                return {
                    loadingMatch: !1,
                    loadingResults: !1,
                    loadingMembers: !1,
                    match: null,
                    showEventDialog: !1,
                    unsubscribe: [],
                    selectedTeam: null,
                    showFinishDialog: !1,
                    invalidResults: [],
                    members: []
                }
            },
            watch: {
                match() {
                    this.getMembersInMatch()
                }
            },
            mounted() {
                this.getOneMatch(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        this.match && e.data.find(t=>t.id == this.match.id) && this.getOneMatch()
                    }
                })),
                this.getInvalidResults(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportresultinvalidtype",
                    callback: ()=>{
                        this.getInvalidResults()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "settings:teamsportsettings",
                    callback: ()=>{
                        this.fetchTeamsportSettings()
                    }
                })),
                this.fetchTeamsportSettings()
            },
            computed: {
                computedTeams() {
                    if (!this.match || !this.invalidResults || !this.match.teams)
                        return [];
                    const t = []
                      , e = []
                      , i = [];
                    this.match.teams.forEach(s=>{
                        var a;
                        const o = null === (a = this.match.result) || void 0 === a ? void 0 : a.find(t=>t && t.team_id === s.id);
                        o && null === o.invalid_id ? t.push(s) : null === o || void 0 === o ? e.push(s) : i.push(s)
                    }
                    ),
                    t.sort((t,e)=>{
                        var i, s;
                        const a = null === (i = this.match.result) || void 0 === i ? void 0 : i.find(e=>e && e.team_id === t.id)
                          , o = null === (s = this.match.result) || void 0 === s ? void 0 : s.find(t=>t && t.team_id === e.id);
                        return this.compareResults(a, o)
                    }
                    ),
                    !0 === this.match.highest_is_best && t.reverse();
                    const s = [...t, ...e, ...i];
                    return s.map(t=>{
                        var e;
                        return {
                            ...t,
                            formattedResult: this.getFormattedResult(t.id),
                            result: null === (e = this.match.result) || void 0 === e ? void 0 : e.find(e=>e && e.team_id === t.id),
                            name: this.getName(t.id)
                        }
                    }
                    )
                },
                startTime() {
                    var t, e, i, s;
                    return null !== (t = this.match) && void 0 !== t && null !== (e = t.activity) && void 0 !== e && e.startTime ? Date.formatTimeRelative(null === (i = this.match) || void 0 === i || null === (s = i.activity) || void 0 === s ? void 0 : s.startTime) : null
                },
                endTime() {
                    var t, e, i, s;
                    return null !== (t = this.match) && void 0 !== t && null !== (e = t.activity) && void 0 !== e && e.endTime ? Date.formatTimeRelative(null === (i = this.match) || void 0 === i || null === (s = i.activity) || void 0 === s ? void 0 : s.endTime) : null
                },
                canReportResult() {
                    var t;
                    if (!this.$store.state.user)
                        return !1;
                    if (!this.settings)
                        return !1;
                    const e = this.match.activity && this.$store.state.now30s < Date.newFull(this.match.activity.endTime).addDays(this.settings.result_report_days);
                    if (null === (t = this.match) || void 0 === t || !t.finished || e)
                        return !0;
                    if (this.$api.hasPermission("Competition handling"))
                        return !0;
                    const i = this.match.referees_id && this.match.referees_id.includes(this.$store.state.user.id)
                      , s = ["both", "result"].includes(this.settings.referee_report)
                      , a = ["both", "both_team", "result"].includes(this.settings.teamleader_report);
                    return i && s || this.isTeamLeader && a
                },
                referees() {
                    return this.match && this.members.length ? this.match.referees_id.map(t=>{
                        const e = this.members.find(e=>e.id == t);
                        return {
                            name: e.name,
                            id: e.id,
                            phone: e.phone,
                            mail: e.mail
                        }
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name)) : []
                }
            },
            methods: {
                fetchTeamsportSettings() {
                    this.$api.get("/api/teamsport/settings/get").then(t=>{
                        this.settings = t
                    }
                    )
                },
                getMembersInMatch() {
                    return this.loadingMembers = !0,
                    this.$api.get("/api/memberapi/teamsport/get_member_in_match", {
                        match_id: this.match.id
                    }).then(t=>{
                        this.members = t,
                        this.loadingMembers = !1
                    }
                    )
                },
                compareResults(t, e) {
                    const i = t=>null === t || null !== (null === t || void 0 === t ? void 0 : t.invalid_id)
                      , s = i(t)
                      , a = i(e);
                    return s && a ? 0 : s ? 1 : a ? -1 : null === (null === t || void 0 === t ? void 0 : t.result) && null !== (null === e || void 0 === e ? void 0 : e.result) ? 1 : null === (null === e || void 0 === e ? void 0 : e.result) && null !== (null === t || void 0 === t ? void 0 : t.result) ? -1 : isNaN(t.result) || isNaN(e.result) ? t.result.localeCompare(e.result) : parseFloat(t.result) - parseFloat(e.result)
                },
                getFormattedResult(t) {
                    var e;
                    let i = null === (e = this.match.result) || void 0 === e ? void 0 : e.find(e=>e.team_id == t);
                    return i ? i.invalid_id ? null === (s = this.invalidResults.find(t=>t.id == i.invalid_id)) || void 0 === s ? void 0 : s.name : i.result : null;
                    var s
                },
                getName(t) {
                    var e;
                    return null === (e = this.match.teams.find(e=>e.id == t)) || void 0 === e ? void 0 : e.name
                },
                getOneMatch() {
                    var t;
                    this.loadingMatch = !0;
                    let e = ""
                      , i = {};
                    this.referee ? (e = "/api/memberapi/teamsport/referee/division/match/next",
                    i = {
                        division_id: this.registration.division.id
                    }) : null !== (t = this.registration) && void 0 !== t && t.id ? (e = "/api/memberapi/teamsport/match/one_match",
                    i = {
                        team_id: this.registration.id
                    }) : this.matchId && (e = "/api/teamsport/match/get",
                    i = {
                        id: this.matchId,
                        full: !0
                    }),
                    this.$api.get(e, i).then(t=>{
                        this.match = t,
                        this.loadingMatch = !1
                    }
                    )
                },
                addResult(t) {
                    this.selectedTeam = t,
                    this.showEventDialog = !0
                },
                getInvalidResults() {
                    this.loadingResults = !0,
                    this.$api.get("/api/teamsport/resultinvalid/get").then(t=>{
                        t.unshift({
                            id: 0,
                            name: "Valid result"
                        }),
                        this.invalidResults = t,
                        this.loadingResults = !1
                    }
                    )
                },
                getEvents() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/event/get", {
                        match_id: this.match.id
                    }).then(t=>{
                        this.events = t,
                        this.loading = !1
                    }
                    )
                }
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.forEach(t=>t())
            }
        }
          , Gl = Yl
          , Kl = (i("f39c"),
        Object(p["a"])(Gl, Vl, Bl, !1, null, "30839332", null))
          , Ql = Kl.exports;
        g()(Kl, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"]
        });
        var Jl = {
            name: "zoezi-my-teamsport-registrations",
            zoezi: {
                title: "My competitions",
                icon: "mdi-trophy-variant-outline",
                addon: "TeamSports"
            },
            props: {
                activeTeam: {
                    title: "Active team",
                    type: String,
                    default: null
                }
            },
            components: {
                TeamsportNextMatch: dr,
                TeamsportPreviousMatch: wr,
                TeamsportComingMatches: Lr,
                TeamsportTeamManagement: Pl,
                TeamsportOneMatch: Ql
            },
            watch: {
                expandedPanel() {
                    var t;
                    this.setProp("activeTeam", null === (t = this.registrations[this.expandedPanel]) || void 0 === t ? void 0 : t.id)
                },
                registrations() {
                    this.activeTeam && (this.expandedPanel = this.registrations.findIndex(t=>t.id == this.activeTeam))
                }
            },
            computed: {
                registrations() {
                    var t, e;
                    return (null === (t = this.$store.state) || void 0 === t || null === (e = t.bookings) || void 0 === e ? void 0 : e.teamsportbookings.map(t=>{
                        var e, i;
                        const s = t.group_id ? this.visibleGroups.find(e=>e.id == t.group_id) : null
                          , a = t.user_id ? null === (e = this.$store.state.user) || void 0 === e || null === (i = e.canBookFor) || void 0 === i ? void 0 : i.find(e=>e.id == t.user_id) : null;
                        return {
                            ...t,
                            group: s,
                            user: a
                        }
                    }
                    ).filter(t=>t.group || t.user)) || []
                },
                visibleGroups() {
                    var t, e, i, s;
                    return null !== (t = null === (e = this.$store.state) || void 0 === e || null === (i = e.user) || void 0 === i || null === (s = i.groups) || void 0 === s ? void 0 : s.filter(t=>t.show)) && void 0 !== t ? t : []
                }
            },
            data: ()=>({
                expandedPanel: null,
                historicRegistrations: null,
                expandedPanelHistoric: null,
                loading: !1
            }),
            methods: {
                gotoDivision(t) {
                    var e, i;
                    const s = null === (e = this.$root.siteconfig) || void 0 === e || null === (i = e.pages) || void 0 === i ? void 0 : i.division;
                    this.$root.followLink(s, t.id)
                },
                getHistoricRegistrations() {
                    this.loading = !0;
                    let t = (new Date).monday();
                    t.setDate(t.getDate() - 1),
                    this.$api.get("/api/memberapi/teamsport/team/compact/get", {
                        to_date: t.dateTime()
                    }).then(t=>{
                        this.historicRegistrations = t.map(t=>{
                            var e, i;
                            const s = t.group_id ? this.visibleGroups.find(e=>e.id == t.group_id) : null
                              , a = t.user_id ? null === (e = this.$store.state.user) || void 0 === e || null === (i = e.canBookFor) || void 0 === i ? void 0 : i.find(e=>e.id == t.user_id) : null;
                            return {
                                ...t,
                                group: s,
                                user: a
                            }
                        }
                        ).filter(t=>t.group || t.user),
                        this.loading = !1
                    }
                    )
                }
            }
        }
          , Xl = Jl
          , Zl = (i("1617"),
        Object(p["a"])(Xl, Tn, In, !1, null, null, null))
          , tc = Zl.exports;
        g()(Zl, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"]
        });
        var ec = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-row", [i("v-col", {
                staticClass: "px-6"
            }, [i("v-text-field", {
                attrs: {
                    "append-icon": "mdi-magnify",
                    label: t.$translate(t.isIndividual ? "Search person..." : "Search team..."),
                    "single-line": "",
                    "hide-details": ""
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            })], 1)], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                model: {
                    value: t.comingMatchesExpanded,
                    callback: function(e) {
                        t.comingMatchesExpanded = e
                    },
                    expression: "comingMatchesExpanded"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h3", [t._v(t._s(t.$translate("Coming matches")) + ", " + t._s(t.comingMatches.length) + " " + t._s(t.$translate("pcs")))])]), i("v-expansion-panel-content", [i("teamsport-match-list", {
                attrs: {
                    referee: t.referee,
                    matches: t.comingMatches
                }
            })], 1)], 1)], 1)], 1), i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                model: {
                    value: t.playedMatchesExpanded,
                    callback: function(e) {
                        t.playedMatchesExpanded = e
                    },
                    expression: "playedMatchesExpanded"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h3", [t._v(t._s(t.$translate("Played matches")) + ", " + t._s(t.playedMatches.length) + " " + t._s(t.$translate("pcs")))])]), i("v-expansion-panel-content", [i("teamsport-match-list", {
                attrs: {
                    referee: t.referee,
                    matches: t.playedMatches,
                    showResult: !0
                }
            })], 1)], 1)], 1)], 1)], 1)], 1)
        }
          , ic = []
          , sc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.loading && !t.invalidResults ? i("div", [i("v-progress-linear", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : t._l(t.groupedMatches, (function(e, s) {
                return i("div", {
                    key: s
                }, [i("v-row", {
                    staticClass: "text-uppercase font-weight-bold mt-2"
                }, [i("v-col", {
                    staticClass: "font-weight-bold header-row",
                    attrs: {
                        cols: "3"
                    }
                }, [t._v(t._s(s))]), t.$vuetify.breakpoint.width > 400 ? i("v-col", {
                    attrs: {
                        cols: "9"
                    }
                }, [t.someMatchesWithTwoCompetitors(e) ? i("v-row", [i("v-col", {
                    staticClass: "text-right text--disabled",
                    attrs: {
                        cols: "3"
                    }
                }, [t._v(t._s(t.$translate("TEAMSPORT_HOME")))]), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }), i("v-col", {
                    staticClass: "text-left text--disabled",
                    attrs: {
                        cols: "7"
                    }
                }, [t._v(t._s(t.$translate("TEAMSPORT_AWAY")))])], 1) : t._e()], 1) : t._e()], 1), i("hr", {
                    staticClass: "mb-4"
                }), t._l(e, (function(s) {
                    return i("v-row", {
                        key: s.id,
                        staticClass: "align-center justify-center",
                        class: {
                            "z-clickable": !t.referee
                        },
                        on: {
                            click: function(e) {
                                e.preventDefault(),
                                !t.referee && t.gotoMatch(s)
                            }
                        }
                    }, [i("v-col", {
                        attrs: {
                            cols: "12"
                        }
                    }, [i("v-card", [i("v-card-text", [i("div", {
                        staticClass: "d-flex align-center mb-3",
                        staticStyle: {
                            "font-size": "18px"
                        }
                    }, [s.startTime ? i("div", [i("v-icon", {
                        staticClass: "mr-3",
                        attrs: {
                            size: "24"
                        }
                    }, [t._v("mdi-clock")]), i("span", {
                        staticClass: "font-weight-bold"
                    }, [t._v(t._s(s.startTime.hhmm()))])], 1) : t._e(), i("v-spacer"), s.location ? i("div", [i("v-icon", {
                        staticClass: "mr-3",
                        attrs: {
                            size: "24"
                        }
                    }, [t._v("mdi-map-marker")]), i("span", {
                        staticClass: "font-weight-bold"
                    }, [t._v(t._s(s.location))])], 1) : t._e()], 1), t.someMatchesWithTwoCompetitors(e) ? i("div", {
                        staticClass: "result-container",
                        staticStyle: {
                            "font-size": "20px"
                        }
                    }, [i("div", {
                        staticClass: "team team-left"
                    }, [i("span", {
                        staticClass: "team-name"
                    }, [t._v(t._s(s.competitors[0].name))])]), i("div", {
                        staticClass: "match-container",
                        staticStyle: {
                            display: "flex",
                            "align-items": "center",
                            "justify-content": "center"
                        }
                    }, [s.competitors[0].team_id ? i("v-avatar", {
                        staticClass: "team-avatar ml-8",
                        attrs: {
                            size: "60"
                        }
                    }, [i("v-img", {
                        attrs: {
                            src: t.getTeamImageUrl(s.competitors[0].team_id)
                        }
                    })], 1) : t._e(), i("div", {
                        staticClass: "match-result",
                        staticStyle: {
                            "margin-left": "15%",
                            "margin-right": "15%"
                        }
                    }, [i("span", {
                        staticClass: "font-weight-bold"
                    }, [t._v(t._s(t.getResult(s)))])]), s.competitors[1].team_id ? i("v-avatar", {
                        staticClass: "team-avatar mr-8",
                        attrs: {
                            size: "60"
                        }
                    }, [i("v-img", {
                        attrs: {
                            src: t.getTeamImageUrl(s.competitors[1].team_id)
                        }
                    })], 1) : t._e()], 1), i("div", {
                        staticClass: "team team-right",
                        staticStyle: {
                            display: "flex",
                            "justify-content": "center"
                        }
                    }, [i("span", {
                        staticClass: "team-name"
                    }, [t._v(t._s(s.competitors[1].name))])])]) : i("div", {
                        staticClass: "d-flex justify-center align-center",
                        staticStyle: {
                            "font-size": "20px"
                        }
                    }, [i("span", {
                        staticClass: "team-name"
                    }, [t._v(t._s(s.name))])])]), t.referee ? i("v-card-actions", [i("v-btn", {
                        attrs: {
                            outlined: ""
                        },
                        on: {
                            click: function(e) {
                                return t.gotoMatch(s)
                            }
                        }
                    }, [t._v(" " + t._s(t.$translate("Go to match")) + " ")]), t.canReportResult(s) ? i("v-btn", {
                        attrs: {
                            outlined: ""
                        },
                        on: {
                            click: function(e) {
                                return t.setResult(s)
                            }
                        }
                    }, [t._v(t._s(t.$translate("Set result")))]) : t._e()], 1) : t._e()], 1)], 1)], 1)
                }
                ))], 2)
            }
            )), t.showSetResultDialog ? i("TeamsportSetResultDialog", {
                attrs: {
                    match: t.selectedMatch
                },
                model: {
                    value: t.showSetResultDialog,
                    callback: function(e) {
                        t.showSetResultDialog = e
                    },
                    expression: "showSetResultDialog"
                }
            }) : t._e()], 2)
        }
          , ac = []
          , oc = {
            name: "zoezi-teamsport-match-list",
            props: {
                matches: {
                    type: Array
                },
                showResult: {
                    type: Boolean
                },
                referee: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                TeamsportSetResultDialog: Ul
            },
            data() {
                return {
                    showSetResultDialog: !1,
                    selectedMatch: null,
                    loading: !1,
                    unsubscribe: [],
                    invalidResults: null,
                    settings: null
                }
            },
            computed: {
                groupedMatches() {
                    return this.matches.reduce((t,e)=>{
                        let i = e.startTime ? Date.formatFullShort(e.startTime) : this.$translate("Date not set");
                        return (t[i] = t[i] || []).push(e),
                        t
                    }
                    , {})
                }
            },
            methods: {
                fetchTeamsportSettings() {
                    this.$api.get("/api/teamsport/settings/get").then(t=>{
                        this.settings = t
                    }
                    )
                },
                getInvaldResults() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/resultinvalid/get").then(t=>{
                        this.invalidResults = t,
                        this.loading = !1
                    }
                    )
                },
                canReportResult(t) {
                    var e, i;
                    if (!this.$store.state.user)
                        return !1;
                    if (!this.settings)
                        return !1;
                    const s = t.referees_id && t.referees_id.includes(this.$store.state.user.id)
                      , a = t.activity && this.$store.state.now30s < Date.newFull(t.activity.endTime).addDays(null === (e = this.settings) || void 0 === e ? void 0 : e.result_report_days)
                      , o = ["both", "result"].includes(null === (i = this.settings) || void 0 === i ? void 0 : i.referee_report);
                    return s && o || !t.finished || a
                },
                getTeamImageUrl(t) {
                    return "/api/public/image/get?size=50x50&type=team&id=" + t
                },
                getResult(t) {
                    var e, i, s, a;
                    if ("padel" === t.result_type)
                        return null !== (i = null === (s = t.result) || void 0 === s || null === (a = s[0]) || void 0 === a ? void 0 : a.result) && void 0 !== i ? i : "-";
                    const o = e=>{
                        var i;
                        const s = null === (i = t.result) || void 0 === i ? void 0 : i.find(t=>t.team_id === e);
                        if (s) {
                            if (s.invalid_id) {
                                var a;
                                const t = null === (a = this.invalidResults) || void 0 === a ? void 0 : a.find(t=>t.id === s.invalid_id);
                                return t ? t.name : "0"
                            }
                            return s.result || " "
                        }
                        return " "
                    }
                      , [n,r] = null === (e = t.competitors) || void 0 === e ? void 0 : e.map(t=>t.team_id)
                      , l = o(n)
                      , c = o(r);
                    let d = `${l} - ${c}`;
                    return d && "" !== d.trim() ? d : "&nbsp;-&nbsp;"
                },
                gotoMatch(t) {
                    var e, i;
                    const s = null === (e = this.$root.siteconfig) || void 0 === e || null === (i = e.pages) || void 0 === i ? void 0 : i.match;
                    this.$root.followLink(s, t.id)
                },
                someMatchesWithTwoCompetitors(t) {
                    return t.some(t=>{
                        var e;
                        return 2 == (null === (e = t.competitors) || void 0 === e ? void 0 : e.length)
                    }
                    )
                },
                setResult(t) {
                    this.selectedMatch = t,
                    this.showSetResultDialog = !0
                }
            },
            mounted() {
                this.getInvaldResults(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportresultinvalid",
                    callback: ()=>this.getInvaldResults()
                })),
                this.fetchTeamsportSettings()
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , nc = oc
          , rc = (i("1adf"),
        i("8e36"))
          , lc = Object(p["a"])(nc, sc, ac, !1, null, "560f5328", null)
          , cc = lc.exports;
        g()(lc, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VProgressLinear: rc["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var dc = {
            name: "zoezi-teamsport-matches",
            props: {
                gameClassId: {
                    type: Number
                },
                divisionId: {
                    type: Number
                },
                isIndividual: {
                    type: Boolean,
                    default: !1
                },
                referee: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                TeamsportMatchList: cc
            },
            watch: {
                gameClassId: {
                    immediate: !0,
                    handler() {
                        this.gameClassId && (this.loading = !0,
                        this.getMatches())
                    }
                },
                divisionId: {
                    immediate: !0,
                    handler() {
                        this.divisionId && (this.loading = !0,
                        this.getMatches())
                    }
                }
            },
            data: ()=>({
                search: "",
                loading: !1,
                matches: [],
                comingMatchesExpanded: 0,
                playedMatchesExpanded: 0,
                unsubscribe: []
            }),
            computed: {
                comingMatches() {
                    return this.matches.filter(t=>!t.finished && (!t.startTime || t.startTime > this.$store.state.now30s) && this.matchMatchesSearchString(t)).sort((t,e)=>t.startTime || e.startTime ? t.startTime ? e.startTime ? t.startTime - e.startTime : -1 : 1 : 0)
                },
                playedMatches() {
                    return this.matches.filter(t=>(t.finished || t.startTime && t.startTime < this.$store.state.now30s) && this.matchMatchesSearchString(t)).sort((t,e)=>e.startTime - t.startTime)
                }
            },
            methods: {
                getMatches() {
                    let t = ""
                      , e = {};
                    this.referee ? t = "/api/teamsport/referee/matches/get" : (t = this.divisionId ? "/api/teamsport/division/matches/get" : "/api/teamsport/gameclass/matches/get",
                    e = this.divisionId ? {
                        id: this.divisionId
                    } : {
                        id: this.gameClassId
                    }),
                    this.$api.get(t, e).then(t=>{
                        t.forEach(t=>{
                            t.startTime = Date.newFull(t.startTime)
                        }
                        ),
                        this.matches = t,
                        this.$emit("onMatchesLoaded", t),
                        this.loading = !1
                    }
                    ).catch(()=>{
                        this.error = !0,
                        this.loading = !1
                    }
                    )
                },
                matchMatchesSearchString(t) {
                    return !this.search || t.competitors.some(t=>t.name.toLowerCase().includes(this.search.toLowerCase()))
                }
            },
            mounted() {
                this.referee && (this.getMatches(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        e.data.find(t=>{
                            var e;
                            return null === (e = t.referees_id) || void 0 === e ? void 0 : e.includes(this.$store.state.user.id)
                        }
                        ) && this.getMatches()
                    }
                })))
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            }
        }
          , uc = dc
          , hc = Object(p["a"])(uc, ec, ic, !1, null, null, null)
          , mc = hc.exports;
        g()(hc, {
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var pc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$vuetify.breakpoint.mobile ? i("div", t._l(t.items, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "z-clickable",
                    on: {
                        click: function(i) {
                            return t.showActivity(e)
                        }
                    }
                }, [i("div", {
                    staticClass: "d-flex pa-2"
                }, [i("v-sheet", {
                    attrs: {
                        width: "20",
                        height: "20",
                        color: e.color || "white"
                    }
                }), i("div", {
                    staticClass: "ml-2 d-flex fill-width"
                }, [i("div", {
                    staticClass: "z-half"
                }, [t._v(t._s(e.activity))]), i("div", {
                    staticClass: "z-half text-align-right"
                }, [t._v(t._s(e.start))])])], 1), i("hr", {
                    staticClass: "v-divider theme--light flex-grow-1 mt-1"
                })])
            }
            )), 0) : i("v-data-table", {
                staticClass: "z-clickable",
                attrs: {
                    headers: t.headers,
                    items: t.items,
                    "item-key": "id",
                    "hide-default-footer": "",
                    "items-per-page": -1,
                    "sort-by": t.sortBy,
                    "sort-desc": t.sortDesc
                },
                on: {
                    "click:row": t.showActivity,
                    "update:sortBy": function(e) {
                        t.sortBy = e
                    },
                    "update:sort-by": function(e) {
                        t.sortBy = e
                    },
                    "update:sortDesc": function(e) {
                        t.sortDesc = e
                    },
                    "update:sort-desc": function(e) {
                        t.sortDesc = e
                    }
                },
                scopedSlots: t._u([{
                    key: "item.activity",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex"
                        }, [i("v-sheet", {
                            attrs: {
                                width: "20",
                                height: "20",
                                color: s.color || "white"
                            }
                        }), i("div", {
                            staticClass: "ml-2"
                        }, [t._v(t._s(s.activity))])], 1)]
                    }
                }, {
                    key: "item.start",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "d-flex"
                        }, t._l(s.time, (function(e, s) {
                            return i("div", {
                                key: s,
                                staticClass: "mr-2"
                            }, [t._v(" " + t._s(e) + " ")])
                        }
                        )), 0)]
                    }
                }])
            }), t.showWorkoutDialog ? i("workout-dialog", {
                attrs: {
                    workout: t.showingWorkout
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }) : t._e(), t.showResourceBookingDialog ? i("resource-booking-dialog", {
                attrs: {
                    booking: t.showingResourceBooking
                },
                model: {
                    value: t.showResourceBookingDialog,
                    callback: function(e) {
                        t.showResourceBookingDialog = e
                    },
                    expression: "showResourceBookingDialog"
                }
            }) : t._e()], 1)
        }
          , vc = []
          , gc = {
            name: "zoezi-historical-bookings",
            props: {
                fromDate: {},
                toDate: {}
            },
            components: {
                WorkoutDialog: j["default"],
                ResourceBookingDialog: Yo
            },
            computed: {
                bookingsArgs() {
                    return {
                        startTime: Date.newFull(this.fromDate).yyyymmdd(),
                        endTime: Date.newFull(this.toDate).yyyymmdd()
                    }
                },
                headers() {
                    return [{
                        text: "Activity",
                        value: "activity"
                    }, {
                        text: "Time",
                        value: "start"
                    }].map(t=>(t.text = this.$translate(t.text),
                    t))
                },
                items() {
                    var t;
                    let e = [];
                    this.bookings.workouts.forEach(t=>{
                        e.push({
                            id: t.id,
                            type: "workout",
                            activity: t.workoutType.name,
                            time: [Date.newFull(t.startTime).yyyymmdd(), this.$translate(Date.newFull(t.startTime).getWeekDayString()), Date.newFull(t.startTime).hhmm(), "-", Date.newFull(t.endTime).hhmm()],
                            start: Date.newFull(t.startTime).dateTime(),
                            color: t.workoutType.color
                        })
                    }
                    );
                    let i = [];
                    return null === (t = this.bookings.resourcebookings) || void 0 === t || t.forEach(t=>{
                        i = i.concat(t.bookings.filter(t=>!t.cancelled))
                    }
                    ),
                    i.forEach(t=>{
                        e.push({
                            id: t.id,
                            type: "resourcebooking",
                            activity: t.servicename,
                            time: [Date.newFull(t.time).yyyymmdd(), this.$translate(Date.newFull(t.time).getWeekDayString()), Date.newFull(t.time).hhmm(), "-", Date.newFull(t.time).addMinutes(t.duration).hhmm()],
                            start: Date.newFull(t.time).dateTime(),
                            rb: t
                        })
                    }
                    ),
                    e.sort((t,e)=>Date.newFull(e.start).getTime() - Date.newFull(t.start).getTime()),
                    e
                }
            },
            watch: {
                bookingsArgs: {
                    immediate: !0,
                    handler() {
                        this.loadBookings()
                    }
                }
            },
            data: ()=>({
                sortBy: "start",
                sortDesc: !0,
                bookings: {
                    workouts: [],
                    resourcebookings: []
                },
                showWorkoutDialog: !1,
                showingWorkout: null,
                showResourceBookingDialog: !1,
                showingResourceBooking: null
            }),
            methods: {
                loadBookings() {
                    this.$api.get("/api/memberapi/bookings/get", this.bookingsArgs).then(t=>{
                        this.bookings = t
                    }
                    )
                },
                showActivity(t) {
                    "workout" == t.type ? this.$api.get("/api/memberapi/workout/get", {
                        id: t.id
                    }).then(t=>{
                        this.$booking.transformWorkout(t),
                        this.showWorkoutDialog = !0,
                        this.showingWorkout = t
                    }
                    ).catch(()=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error displaying booking"),
                            text: this.$translate("It was not possible to display the booking")
                        })
                    }
                    ) : "resourcebooking" == t.type && (this.showingResourceBooking = t.rb,
                    this.showResourceBookingDialog = !0)
                }
            }
        }
          , fc = gc
          , bc = Object(p["a"])(fc, pc, vc, !1, null, null, null)
          , yc = bc.exports;
        g()(bc, {
            VDataTable: Aa["a"],
            VSheet: ue["a"]
        });
        var _c = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", {
                staticClass: "pa-4 rounded fill-height zoezi-card-default square-box"
            }, [i("h3", {
                staticClass: "text-center font-weight-light"
            }, [t._v(t._s(t.$translate("Number of visits")))]), i("h3", {
                staticClass: "text-center"
            }, [t._v(t._s(t.allEntries))]), i("p", {
                staticClass: "text-center text-caption  mb-0 mt-2"
            }, [t._v(t._s(t.$translate("This month")) + ": " + t._s(t.entriesThisMonth))])])]), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", {
                staticClass: "pa-4 rounded fill-height zoezi-card-default square-box"
            }, [i("h3", {
                staticClass: "text-center font-weight-light"
            }, [t._v(t._s(t.$translate("Average per week")))]), i("h3", {
                staticClass: "text-center"
            }, [t._v(t._s(t.weeklyAverage.toFixed(2)))]), i("p", {
                staticClass: "text-center text-caption mb-0 mt-2"
            }, [t._v(t._s(t.$translate("Latest")) + ": " + t._s(t.lastEntry || t.$translate("n/a")))])])])], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("chart-js-line", {
                staticClass: "pa-4 rounded zoezi-card-default",
                attrs: {
                    "chart-data": t.data,
                    "chart-options": t.options
                }
            })], 1)], 1)], 1)
        }
          , kc = []
          , wc = i("dd61")
          , Cc = i("7b97");
        wc["e"].register(wc["p"], wc["q"], wc["g"], wc["d"], wc["j"], wc["l"], wc["i"]);
        var xc = {
            name: "zoezi-my-entry-stats",
            zoezi: {
                title: "My entrance statistics",
                icon: "mdi-chart-line-variant"
            },
            components: {
                ChartJsLine: Cc["b"]
            },
            props: {
                selectedDoors: Array,
                minTimeToCount: Number
            },
            data: ()=>({
                gdata: null,
                allEntries: 0,
                entriesThisMonth: 0,
                weeklyAverage: 0,
                lastEntry: null,
                primaryColor: "#00000000",
                entryDoors: []
            }),
            computed: {
                data() {
                    const t = ["#FF7857", "#FDD761", "#A3C86D", "#0b62a4", "#7a92a3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"];
                    let e = {
                        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                    };
                    e.labels.forEach((t,i)=>{
                        e.labels[i] = this.$translate(t)
                    }
                    );
                    let i = [];
                    for (let s in this.gdata) {
                        let e = t[i.length % t.length];
                        i.push({
                            label: s,
                            backgroundColor: e,
                            tension: .25,
                            fill: !0,
                            borderColor: e,
                            pointStyle: !1,
                            data: this.gdata[s].entries
                        })
                    }
                    return i.reverse(),
                    e.datasets = i,
                    e
                },
                options() {
                    return {
                        responsive: !0,
                        maintainAspectRatio: !1,
                        scales: {
                            y: {
                                beginAtZero: !0,
                                ticks: {
                                    stepSize: 1
                                },
                                title: {
                                    display: !0,
                                    text: this.$translate("Number of visits")
                                }
                            }
                        },
                        plugins: {
                            title: {
                                display: !0,
                                text: this.$translate("Entry"),
                                font: {
                                    size: 24
                                }
                            },
                            legend: {
                                display: !0,
                                position: "top",
                                align: "right",
                                labels: {
                                    usePointStyle: !0,
                                    pointStyle: "circle",
                                    padding: 12,
                                    font: {
                                        size: 14,
                                        weight: 700
                                    }
                                }
                            }
                        }
                    }
                }
            },
            mounted() {
                this.primaryColor = this.$root.colorToHex("primary");
                let t = (new Date).addMonths(-12)
                  , e = Date.today();
                this.$api.get("/api/memberapi/stats", {
                    fromDate: t.yyyymmdd(),
                    toDate: e.yyyymmdd(),
                    types: "entries_extra,bookings"
                }).then(t=>{
                    var e, i;
                    if (t.entries = t.entries_extra,
                    null !== (e = this.selectedDoors) && void 0 !== e && e.length)
                        for (var s in t.entries)
                            this.selectedDoors.includes(t.entries[s][1]) || null == t.entries[s][1] || delete t.entries[s];
                    let a = Date.today().yearsAgo(3).yyyymmddSpacehhmmss();
                    const o = Object.keys(null !== (i = null === t || void 0 === t ? void 0 : t.entries) && void 0 !== i ? i : {})[0];
                    o && o > a && (a = Date.newFull(o));
                    let n = {}
                      , r = null;
                    for (const h in t.entries) {
                        this.lastEntry = h;
                        const t = Date.newFull(h)
                          , e = t.getFullYear()
                          , i = t.getMonth()
                          , s = t.getDate();
                        n[e] || (n[e] = {
                            year: e,
                            entries: new Array(12).fill(0),
                            bookings: new Array(12).fill(0)
                        });
                        const a = (t - (r || 0)) / 60 / 60 / 1e3;
                        (a > this.minTimeToCount || s > r.getDate()) && (n[e].entries[i]++,
                        r = t)
                    }
                    for (const h in t.bookings) {
                        const e = Date.newFull(h)
                          , i = e.getFullYear()
                          , s = e.getMonth();
                        n[i] || (n[i] = {
                            year: i,
                            entries: new Array(12).fill(0),
                            bookings: new Array(12).fill(0)
                        }),
                        n[i].bookings[s - 1] += t.bookings[h]
                    }
                    this.gdata = n;
                    let l = 0
                      , c = 0;
                    const d = new Date;
                    d.setMonth(d.getMonth() - 1);
                    for (const h in n) {
                        const t = n[h]
                          , e = t.entries;
                        for (let i = 0; i < e.length; i++) {
                            l += e[i];
                            const t = new Date;
                            t > d && (c += e[i])
                        }
                    }
                    const u = (null === t || void 0 === t ? void 0 : t.entries) && Object.keys(t.entries)[0];
                    if (u) {
                        const t = 6048e5;
                        let e = (new Date - Date.newFull(u)) / t;
                        e > 52 && (e = 52);
                        const i = c / (e < 1 ? 1 : e);
                        this.allEntries = l,
                        this.entriesThisMonth = n[(new Date).getFullYear()].entries[(new Date).getMonth()],
                        this.weeklyAverage = i
                    }
                }
                )
            }
        }
          , $c = xc
          , Sc = Object(p["a"])($c, _c, kc, !1, null, null, null)
          , Dc = Sc.exports;
        g()(Sc, {
            VCol: M["a"],
            VRow: A["a"]
        });
        var zc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", {
                staticClass: "pa-4 rounded fill-height zoezi-card-default square-box"
            }, [i("h3", {
                staticClass: "text-center font-weight-light"
            }, [t._v(t._s(t.$translate("Number of workouts")))]), i("h3", {
                staticClass: "text-center"
            }, [t._v(t._s(t.allWorkouts))]), i("p", {
                staticClass: "text-center text-caption mb-0 mt-2"
            }, [t._v(t._s(t.$translate("This month")) + ": " + t._s(t.workoutsThisMonth))])])]), i("v-col", {
                attrs: {
                    cols: "6"
                }
            }, [i("div", {
                staticClass: "pa-4 rounded fill-height zoezi-card-default square-box"
            }, [i("h3", {
                staticClass: "text-center font-weight-light"
            }, [t._v(t._s(t.$translate("Next workout")))]), i("h3", {
                staticClass: "text-center shorten-text"
            }, [t._v(t._s(t.nextWorkout ? Date.newFull(t.nextWorkout.startTime).ddSlashmm() + " " + Date.newFull(t.nextWorkout.startTime).hhmm() : t.$translate("No workout booked")))]), i("h3", {
                staticClass: "text-center shorten-text"
            }, [t._v(t._s(t.nextWorkout ? t.nextWorkout.workoutType.name : ""))])])])], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("ChartJsDoughnut", {
                staticClass: "pa-4 rounded zoezi-card-default",
                attrs: {
                    "chart-data": t.data,
                    "chart-options": t.options,
                    plugins: [t.keepFourEntriesPlugin]
                }
            })], 1)], 1)], 1)
        }
          , Tc = [];
        wc["e"].register(wc["a"], wc["q"], wc["g"]);
        var Ic = {
            name: "zoezi-my-workout-stats",
            zoezi: {
                title: "My group exercise statistics",
                icon: "mdi-chart-line-variant"
            },
            components: {
                ChartJsDoughnut: Cc["a"]
            },
            computed: {
                data() {
                    if (!this.gdata)
                        return {};
                    let t = Object.keys(this.gdata.workouttypes)
                      , e = Object.values(this.gdata.workouttypes);
                    const i = e.map((t,e)=>({
                        value: t.count,
                        index: e
                    }));
                    i.sort((t,e)=>e.value - t.value);
                    const s = i.map(({index: e})=>t[e])
                      , a = i.map(({value: t})=>t);
                    let o = [{
                        backgroundColor: e.map(t=>t.color),
                        borderColor: e.map(t=>t.color),
                        data: a
                    }];
                    return {
                        labels: s,
                        datasets: o
                    }
                },
                options() {
                    return {
                        responsive: !0,
                        maintainAspectRatio: !1,
                        plugins: {
                            title: {
                                display: !0,
                                text: this.$translate("Group workout"),
                                font: {
                                    size: 24
                                }
                            },
                            legend: {
                                display: !0,
                                position: "right",
                                align: "right",
                                labels: {
                                    usePointStyle: !0,
                                    pointStyle: "circle",
                                    padding: 12,
                                    font: {
                                        size: 14,
                                        weight: 700
                                    }
                                }
                            }
                        }
                    }
                }
            },
            data: ()=>({
                gdata: null,
                nextWorkout: null,
                allWorkouts: 0,
                workoutsThisMonth: 0,
                primaryColor: "#00000000",
                keepFourEntriesPlugin: {
                    beforeInit: function(t) {
                        var e = t.config
                          , i = e.data
                          , s = i.datasets[0]
                          , a = s.data
                          , o = i.labels;
                        const n = 4;
                        let r = 0
                          , l = [];
                        a.forEach((t,e)=>{
                            e < n ? l.push(o[e]) : r += t
                        }
                        ),
                        r > 0 && l.push(window.$translate("Others")),
                        t.config.data.labels = l,
                        t.config.data.datasets[0].data.splice(4, s.data.length - 4),
                        t.config.data.datasets[0].data.push(r)
                    }
                }
            }),
            mounted() {
                this.primaryColor = this.$root.colorToHex("primary");
                let t = new Date(0)
                  , e = Date.today();
                this.$api.get("/api/memberapi/stats", {
                    fromDate: t.yyyymmdd(),
                    toDate: e.yyyymmdd(),
                    types: "workouttypes,bookings"
                }).then(t=>{
                    t.bookings || (t.bookings = {}),
                    this.gdata = t,
                    Object.keys(t.bookings).forEach(e=>{
                        this.allWorkouts += t.bookings[e];
                        let i = Date.newFull(e);
                        i.getMonth() == (new Date).getMonth() && i.getFullYear() == (new Date).getFullYear() && (this.workoutsThisMonth += t.bookings[e])
                    }
                    )
                }
                ),
                this.$api.get("/api/memberapi/bookings/get", {
                    fromDate: (new Date).yyyymmdd() + (new Date).hhmm()
                }).then(t=>{
                    var e;
                    (null === t || void 0 === t || null === (e = t.workouts) || void 0 === e ? void 0 : e.length) > 0 && (this.nextWorkout = t.workouts[0])
                }
                )
            }
        }
          , Pc = Ic
          , Vc = Object(p["a"])(Pc, zc, Tc, !1, null, null, null)
          , Bc = Vc.exports;
        g()(Vc, {
            VCol: M["a"],
            VRow: A["a"]
        });
        var Fc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-resourcebooking-container"
            }, [i("div", {
                staticClass: "pt-1 pl-2",
                staticStyle: {
                    "grid-area": "header"
                }
            }, [i("strong", [t._v(" " + t._s(t.booking.text) + " ")])]), i("div", {
                staticClass: "zoezi-square d-flex",
                staticStyle: {
                    "grid-area": "icon"
                }
            }, [i("div", {
                staticClass: "z-card-image",
                style: {
                    "background-image": "url(" + t.$api.getImageUrl(t.booking.imagekey, 100) + ")"
                }
            }, [i("div", {
                staticClass: "z-card-image-time",
                style: t.getBookingColorStyle
            }, [t._v(" " + t._s(t.booking.start.hhmm()) + " ")]), i("div", {
                staticClass: "z-card-image-small",
                style: t.getBookingColorStyle
            }, [t._v(" " + t._s(t.booking.duration) + " " + t._s(t.$translate("MINUTES_SHORT")) + " ")])])]), i("div", {
                staticClass: "pa-2",
                staticStyle: {
                    "grid-area": "staff"
                }
            }, [i("div", {
                staticClass: "zoezi-checkout-summary-resource-booking-resource d-flex mr-5"
            }, [i("div", {
                staticClass: "justify-center align-center"
            }, [t.booking.rb.staff_imagekey ? i("v-avatar", {
                staticClass: "mr-5",
                attrs: {
                    size: "45"
                }
            }, [i("v-auto-img", {
                staticClass: "zoezi-staff-image",
                attrs: {
                    src: t.$api.getImageUrl(t.booking.rb.staff_imagekey, 100)
                }
            })], 1) : t._e()], 1), i("span", {
                staticClass: "d-flex flex-column align-start justify-center"
            }, [i("div", {
                staticStyle: {
                    "font-size": "0.8em"
                }
            }, [t._v(" " + t._s(t.booking.rb.staffname) + " ")]), this.booking.rb.extra_resource_location ? i("div", {
                staticStyle: {
                    "font-size": "0.8em"
                }
            }, [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-map")]), t._v(" " + t._s(this.booking.rb.extra_resource_location.name) + " ")], 1) : t._e()])])]), i("div", {
                staticClass: "pa-2",
                staticStyle: {
                    "grid-area": "attributes"
                }
            }, [i("div", {
                staticClass: "zoezi-checkout-summary-resource-booking-details d-flex justify-start flex-wrap text-left"
            }, [i("div", {
                staticClass: "ma-1"
            }, [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-map-marker")]), t._v(" " + t._s(t.contactInfo.address) + " " + t._s(t.contactInfo.zipCode) + " " + t._s(t.contactInfo.city) + " ")], 1), i("div", {
                staticClass: "ma-1"
            }, [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-calendar-month-outline")]), t._v(" " + t._s(Date.formatTimeFullRelative(t.booking.start)) + " ")], 1), i("div", {
                staticClass: "ma-1"
            }, [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-clock-outline")]), t._v(" " + t._s(t.booking.rb.duration) + " " + t._s(t.$translate("MINUTES_SHORT")) + " ")], 1), t.booking.rb.payment ? i("div", {
                staticClass: "ma-1"
            }, [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    small: "",
                    color: "black"
                }
            }, [t._v("mdi-ticket-outline")]), t._v(" " + t._s(t._f("price")(t.booking.rb.payment.amount)) + " ")], 1) : t._e()])]), i("div", {
                staticClass: "ma-2 d-flex justify-end align-end",
                staticStyle: {
                    "grid-area": "buttons"
                }
            }, [i("div", {
                staticStyle: {
                    width: "5em"
                }
            }, [t.booking.rb.unbookable ? i("v-btn", {
                attrs: {
                    block: "",
                    text: "",
                    color: "error"
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.cancelBooking()
                    }
                }
            }, [t._v(" " + t._s(t.$translate("CANCEL_BOOKING")) + " ")]) : t._e()], 1)])])
        }
          , Ec = []
          , Oc = {
            name: "zoezi-my-rb-card",
            props: {
                booking: null
            },
            computed: {
                contactInfo() {
                    var t, e, i, s;
                    if (null !== (t = this.booking.rb.resource_location) && void 0 !== t && t.address)
                        return this.booking.rb.resource_location;
                    if (null !== (e = this.booking.rb.extra_resource_location) && void 0 !== e && e.address)
                        return this.booking.rb.extra_resource_location;
                    if ((null === (i = this.$store.state.settings) || void 0 === i || null === (s = i.sites) || void 0 === s ? void 0 : s.length) > 1) {
                        const t = this.$store.state.settings.sites.find(t=>t.id == this.booking.rb.site_id);
                        return t
                    }
                    const a = this.$store.state.settings.contactinfo;
                    return a.visit_address && a.visit_city && a.visit_zipCode ? {
                        address: a.visit_address,
                        city: a.visit_city,
                        zipCode: a.visit_zipCode
                    } : a
                },
                getBookingColorStyle() {
                    return {
                        "background-color": this.booking.color ? this.booking.color + "b4" : "rgba(192,160,0,0.7)"
                    }
                }
            },
            methods: {
                cancelBooking() {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Cancel"),
                        text: this.$translate("Are you sure you want to cancel {0}?").format(this.booking.text),
                        actionText: this.$translate("CANCEL_BOOKING"),
                        action: ()=>{
                            this.$api.post("/api/memberapi/resourcebooking/cancel", null, {
                                id: this.booking.id
                            }).then(t=>{
                                this.loading = !1,
                                t.ok || this.$store.commit("showErrorDialog", {
                                    title: this.$translate("Cancellation error"),
                                    text: this.$translate("The booking could not be cancelled")
                                }),
                                this.showDialog = !t.ok
                            }
                            )
                        }
                    })
                }
            }
        }
          , Mc = Oc
          , Ac = (i("1cba"),
        Object(p["a"])(Mc, Fc, Ec, !1, null, null, null))
          , Rc = Ac.exports;
        g()(Ac, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VIcon: y["a"]
        });
        var Lc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user ? i("div", [i("h1", {
                staticClass: "d-flex align-center"
            }, [i("div", {
                staticClass: "flex-grow-1 hidden-sm-and-down"
            }, [t._v(t._s(t.$translate("Player pool")))]), i("v-btn", {
                staticClass: "mr-4",
                class: {
                    "flex-grow-1": t.$vuetify.breakpoint.smAndDown
                },
                attrs: {
                    large: "",
                    color: "primary"
                },
                on: {
                    click: t.searchTeam
                }
            }, [t._v(" " + t._s(t.$translate("Search team")) + " ")]), t.myGroups.length > 0 ? i("v-btn", {
                class: {
                    "flex-grow-1": t.$vuetify.breakpoint.smAndDown
                },
                attrs: {
                    large: "",
                    color: "primary"
                },
                on: {
                    click: t.searchPlayer
                }
            }, [t._v(" " + t._s(t.$translate("Search player")) + " ")]) : t._e()], 1), i("v-row", {
                staticClass: "mt-6"
            }, t._l(t.teamApplications, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "6"
                    }
                }, [i("TeamsportPlayerPoolRecruitmentCard", {
                    attrs: {
                        application: e,
                        groups: t.myGroups
                    }
                })], 1)
            }
            )), 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("TeamsportPlayerPoolPlayersLookingForTeamsCard", {
                attrs: {
                    teamsports: t.teamsports,
                    posts: t.userPosts,
                    groups: t.myGroups
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("TeamsportPlayerPoolTeamsLookingForPlayersCard", {
                attrs: {
                    teamsports: t.teamsports,
                    posts: t.teamPosts
                }
            })], 1)], 1), i("v-row", [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "6"
                }
            }, [i("TeamsportPlayerPoolMyPosts", {
                attrs: {
                    teamsports: t.teamsports,
                    posts: t.myPosts
                }
            })], 1)], 1), t.searchTeamDialog ? i("TeamsportPlayerPoolUserPostDialog", {
                attrs: {
                    teamsports: t.teamsports,
                    add: !0
                },
                model: {
                    value: t.searchTeamDialog,
                    callback: function(e) {
                        t.searchTeamDialog = e
                    },
                    expression: "searchTeamDialog"
                }
            }) : t._e(), t.searchPlayerDialog ? i("TeamsportPlayerPoolTeamPostDialog", {
                attrs: {
                    groups: t.myGroups,
                    add: !0
                },
                model: {
                    value: t.searchPlayerDialog,
                    callback: function(e) {
                        t.searchPlayerDialog = e
                    },
                    expression: "searchPlayerDialog"
                }
            }) : t._e()], 1) : i("div", [i("h1", {
                staticClass: "d-flex align-center"
            }, [i("div", {
                staticClass: "flex-grow-1 hidden-sm-and-down"
            }, [t._v(t._s(t.$translate("Player pool")))])]), t._v(" " + t._s(t.$translate("In order to see the Player pool you need to be logged in")) + " ")])
        }
          , jc = []
          , Nc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("CollapsibleCard", {
                attrs: {
                    title: t.title,
                    actions: t.actions
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("div", {
                            staticClass: "mb-4"
                        }, [t._v(t._s(t.application.comment))]), 0 == t.application.posts.length ? i("div", {
                            staticClass: "text--disabled"
                        }, [t._v(" " + t._s(t.$translate("No applications yet")) + " ")]) : t._e(), t._l(t.application.posts, (function(e) {
                            return i("TeamsportPlayerPoolPost", {
                                key: e.id,
                                staticClass: "mb-4",
                                attrs: {
                                    post: e,
                                    showReplyButton: !0,
                                    type: "usergrouprequest"
                                },
                                scopedSlots: t._u([{
                                    key: "title",
                                    fn: function() {
                                        return [i("div", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(e.user.name))])]
                                    },
                                    proxy: !0
                                }], null, !0)
                            })
                        }
                        )), t.showEditDialog ? i("TeamsportPlayerPoolTeamPostDialog", {
                            attrs: {
                                groups: t.groups,
                                add: !1,
                                post: t.application
                            },
                            model: {
                                value: t.showEditDialog,
                                callback: function(e) {
                                    t.showEditDialog = e
                                },
                                expression: "showEditDialog"
                            }
                        }) : t._e()]
                    },
                    proxy: !0
                }])
            })
        }
          , Wc = []
          , qc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                staticClass: "mb-2",
                attrs: {
                    accordion: ""
                },
                model: {
                    value: t.panel,
                    callback: function(e) {
                        t.panel = e
                    },
                    expression: "panel"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h3", {
                staticClass: "d-flex align-center",
                staticStyle: {
                    height: "36px"
                }
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate(t.title)))]), t.actions ? i("div", [i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                icon: ""
                            }
                        }, s), [i("v-icon", {
                            attrs: {
                                color: "primary"
                            }
                        }, [t._v("mdi-dots-horizontal-circle-outline")])], 1)]
                    }
                }], null, !1, 3025008695)
            }, [i("v-list", t._l(t.actions, (function(e, s) {
                return i("v-list-item", {
                    key: s,
                    on: {
                        click: e.action
                    }
                }, [i("v-list-item-title", [t._v(t._s(e.title))])], 1)
            }
            )), 1)], 1)], 1) : t._e()])]), i("v-expansion-panel-content", [i("hr", {
                staticClass: "mb-6 mx-n6"
            }), t._t("content")], 2)], 1)], 1)
        }
          , Hc = []
          , Uc = {
            name: "zoezi-collapsible-card",
            props: {
                title: {
                    type: String
                },
                actions: {
                    type: Array
                }
            },
            data: ()=>({
                panel: 0
            })
        }
          , Yc = Uc
          , Gc = Object(p["a"])(Yc, qc, Hc, !1, null, null, null)
          , Kc = Gc.exports;
        g()(Gc, {
            VBtn: O["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"]
        });
        var Qc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "d-flex"
            }, [t.showReplyButton ? i("div", {
                staticClass: "mr-4"
            }, [i("v-btn", {
                attrs: {
                    icon: "",
                    color: "primary"
                },
                on: {
                    click: t.sendReply
                }
            }, [i("v-icon", [t._v("mdi-reply-all-outline")])], 1)], 1) : t._e(), i("div", {
                staticClass: "flex-grow-1"
            }, [i("div", {
                staticClass: "flex-column"
            }, [i("div", {
                staticClass: "d-flex align-baseline"
            }, [i("div", {
                staticClass: "font-weight-bold"
            }, [t._t("title", (function() {
                return [t._v(t._s(t.post.name))]
            }
            ))], 2), i("div", {
                staticClass: "text--disabled ml-1",
                staticStyle: {
                    "font-size": "smaller",
                    "white-space": "nowrap"
                }
            }, [t._v(t._s(Date.newFull(t.post.created).yyyymmdd()))])]), i("div", [t._v(t._s(t.post.comment) + " "), t.showEditButton ? i("a", {
                on: {
                    click: t.editPost
                }
            }, [t._v(t._s(t.$translate("Edit")))]) : t._e()])])]), t.showEditDialog ? i("TeamsportPlayerPoolUserPostDialog", {
                attrs: {
                    post: t.post,
                    teamsports: t.teamsports,
                    add: !1
                },
                model: {
                    value: t.showEditDialog,
                    callback: function(e) {
                        t.showEditDialog = e
                    },
                    expression: "showEditDialog"
                }
            }) : t._e(), t.showReplyDialog ? i("TeamsportPlayerPoolReplyDialog", {
                attrs: {
                    post: t.post,
                    type: t.type,
                    groups: t.groups
                },
                model: {
                    value: t.showReplyDialog,
                    callback: function(e) {
                        t.showReplyDialog = e
                    },
                    expression: "showReplyDialog"
                }
            }) : t._e()], 1)
        }
          , Jc = []
          , Xc = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("bottom-dialog", {
                attrs: {
                    dialog: !0,
                    "max-width": "550px"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                attrs: {
                    flat: "",
                    tile: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate(t.add ? "Search team" : "Edit the post")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "mt-4"
            }, [i("FormField", {
                attrs: {
                    field: t.sportField
                },
                model: {
                    value: t.changed.teamsport_ids,
                    callback: function(e) {
                        t.$set(t.changed, "teamsport_ids", e)
                    },
                    expression: "changed.teamsport_ids"
                }
            }), i("FormField", {
                attrs: {
                    field: t.commentField
                },
                model: {
                    value: t.changed.comment,
                    callback: function(e) {
                        t.$set(t.changed, "comment", e)
                    },
                    expression: "changed.comment"
                }
            })], 1), i("v-card-actions", [t.add ? t._e() : i("v-btn", {
                attrs: {
                    color: "error"
                },
                on: {
                    click: t.removePost
                }
            }, [t._v(t._s(t.$translate("Remove post")))]), i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: !t.canSave
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)
        }
          , Zc = []
          , td = {
            name: "zoezi-teamsport-player-pool-team-post-dialog",
            props: {
                value: {
                    type: Boolean
                },
                add: {
                    type: Boolean
                },
                post: {
                    type: Object
                },
                teamsports: {
                    type: Array
                }
            },
            components: {
                BottomDialog: $e["a"],
                FormField: Ee["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t && (this.add ? (this.changed.teamsport_ids = null,
                        this.changed.comment = null) : (this.changed.teamsport_ids = this.post.teamsport_ids,
                        this.changed.comment = this.post.comment))
                    }
                }
            },
            data: ()=>({
                changed: {
                    teamsport_ids: null,
                    comment: null
                },
                saving: !1
            }),
            computed: {
                showDialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                sportField() {
                    var t;
                    return {
                        type: "multiselect",
                        title: "Sport",
                        placeholder: "Choose one or more sports",
                        data: null === (t = this.teamsports) || void 0 === t ? void 0 : t.map(t=>({
                            text: t.name,
                            value: t.id
                        }))
                    }
                },
                commentField() {
                    return {
                        type: "textarea",
                        title: "Describe yourself"
                    }
                },
                canSave() {
                    return this.changed.teamsport_ids && this.changed.teamsport_ids.length > 0 && this.changed.comment
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                save() {
                    if (this.add) {
                        const t = {
                            teamsport_ids: this.changed.teamsport_ids,
                            comment: this.changed.comment
                        };
                        this.saving = !0,
                        this.$api.post("/api/playerpooluser/add", t).then(t=>{
                            t.ok && (this.showDialog = !1),
                            this.saving = !1,
                            this.possiblyShowError(t)
                        }
                        )
                    } else {
                        const t = {
                            teamsport_ids: this.changed.teamsport_ids,
                            comment: this.changed.comment,
                            id: this.post.id
                        };
                        this.saving = !0,
                        this.$api.post("/api/playerpooluser/change", t).then(t=>{
                            t.ok && (this.showDialog = !1),
                            this.saving = !1,
                            this.possiblyShowError(t)
                        }
                        )
                    }
                },
                removePost() {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove post"),
                        text: this.$translate("Are you sure you want to remove the post?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.$api.post("/api/playerpooluser/remove", null, {
                                id: this.post.id
                            }).then(t=>{
                                t.ok && (this.showDialog = !1),
                                this.possiblyShowError(t)
                            }
                            )
                        }
                    })
                }
            }
        }
          , ed = td
          , id = Object(p["a"])(ed, Xc, Zc, !1, null, null, null)
          , sd = id.exports;
        g()(id, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VIcon: y["a"],
            VSpacer: J["a"]
        });
        var ad = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("bottom-dialog", {
                attrs: {
                    dialog: !0,
                    "max-width": "550px"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                attrs: {
                    flat: "",
                    tile: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Message")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "mt-4"
            }, ["user" == t.type ? i("div", {
                staticClass: "mb-4"
            }, [t._v(" " + t._s(t.$translate("Send a message to {0}").format(t.post.name)) + " ")]) : t._e(), "team" == t.type ? i("div", {
                staticClass: "mb-4"
            }, [t._v(" " + t._s(t.$translate("Send a message to discuss joining {0}").format(t.post.group.name)) + " ")]) : t._e(), "usergrouprequest" == t.type ? i("div", {
                staticClass: "mb-4"
            }, [t._v(" " + t._s(t.$translate("Send a message to {0}").format(t.post.user.name)) + " ")]) : t._e(), i("FormField", {
                attrs: {
                    field: t.messageField
                },
                model: {
                    value: t.changed.message,
                    callback: function(e) {
                        t.$set(t.changed, "message", e)
                    },
                    expression: "changed.message"
                }
            }), "user" == t.type && t.isTeamLeader ? i("div", [i("FormField", {
                attrs: {
                    field: t.teamField
                },
                model: {
                    value: t.changed.group_id,
                    callback: function(e) {
                        t.$set(t.changed, "group_id", e)
                    },
                    expression: "changed.group_id"
                }
            })], 1) : t._e()], 1), i("v-card-actions", ["usergrouprequest" == t.type ? i("v-radio-group", {
                attrs: {
                    row: ""
                },
                model: {
                    value: t.changed.action,
                    callback: function(e) {
                        t.$set(t.changed, "action", e)
                    },
                    expression: "changed.action"
                }
            }, [i("v-radio", {
                attrs: {
                    label: t.$translate("Accept"),
                    value: "accept"
                }
            }), i("v-radio", {
                attrs: {
                    label: t.$translate("Decline"),
                    value: "decline"
                }
            })], 1) : t._e(), i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.sending,
                    disabled: !t.canSend
                },
                on: {
                    click: t.send
                }
            }, [t._v(t._s(t.$translate("Send")))])], 1)], 1)], 1)
        }
          , od = []
          , nd = {
            name: "zoezi-teamsport-player-pool-team-post-dialog",
            props: {
                value: {
                    type: Boolean
                },
                type: {
                    type: String
                },
                post: {
                    type: Object
                },
                groups: {
                    type: Array
                }
            },
            components: {
                BottomDialog: $e["a"],
                FormField: Ee["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t && (this.changed.message = "",
                        this.changed.group_id = null,
                        this.changed.action = null)
                    }
                }
            },
            data: ()=>({
                changed: {
                    message: "",
                    action: null,
                    group_id: null
                },
                sending: !1
            }),
            computed: {
                messageField() {
                    return {
                        title: "Message",
                        type: "textarea"
                    }
                },
                teamField() {
                    var t;
                    return {
                        type: "select",
                        title: "Invite to team",
                        hint: "Leave blank to send message without invitation",
                        placeholder: "Choose team",
                        data: null === (t = this.groups) || void 0 === t ? void 0 : t.map(t=>({
                            text: t.name,
                            value: t.id
                        }))
                    }
                },
                showDialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                canSend() {
                    return this.changed.message
                },
                isTeamLeader() {
                    var t;
                    return (null === (t = this.groups) || void 0 === t ? void 0 : t.length) > 0
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                send() {
                    if (this.sending = !0,
                    "usergrouprequest" == this.type) {
                        const t = {
                            request_id: this.post.id,
                            action: "accept" == this.changed.action || "decline" != this.changed.action && null,
                            message: this.changed.message
                        };
                        this.$api.post("/api/memberapi/usergroup/request/reply", null, t).then(t=>{
                            this.sending = !1,
                            t.ok && (this.showDialog = !1),
                            this.possiblyShowError(t)
                        }
                        )
                    } else if ("team" == this.type) {
                        const t = {
                            ppt_id: this.post.id,
                            comment: this.changed.message
                        };
                        this.$api.post("/api/memberapi/usergroup/request/add", null, t).then(t=>{
                            this.sending = !1,
                            t.ok && (this.showDialog = !1),
                            this.possiblyShowError(t)
                        }
                        )
                    } else if ("user" == this.type)
                        if (this.changed.group_id) {
                            const t = {
                                recipient_id: this.post.user_id,
                                group_id: this.changed.group_id,
                                message: this.changed.message
                            };
                            this.$api.post("/api/memberapi/group/invite", t).then(t=>{
                                this.sending = !1,
                                t.ok && (this.showDialog = !1),
                                this.possiblyShowError(t)
                            }
                            )
                        } else {
                            const t = {
                                playerpooluser_id: this.post.id,
                                message: this.changed.message
                            };
                            this.$api.post("/api/playerpooluser/send_mail", t).then(t=>{
                                this.sending = !1,
                                t.ok && (this.showDialog = !1),
                                this.possiblyShowError(t)
                            }
                            )
                        }
                }
            }
        }
          , rd = nd
          , ld = Object(p["a"])(rd, ad, od, !1, null, null, null)
          , cd = ld.exports;
        g()(ld, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VIcon: y["a"],
            VRadio: Gs["a"],
            VRadioGroup: Ks["a"],
            VSpacer: J["a"]
        });
        var dd = {
            name: "zoezi-teamsport-player-pool-post",
            props: {
                type: {
                    type: String
                },
                showReplyButton: {
                    type: Boolean
                },
                showEditButton: {
                    type: Boolean
                },
                post: {
                    type: Object
                },
                teamsports: {
                    type: Array
                },
                groups: {
                    type: Array
                }
            },
            components: {
                TeamsportPlayerPoolUserPostDialog: sd,
                TeamsportPlayerPoolReplyDialog: cd
            },
            data: ()=>({
                showEditDialog: !1,
                showReplyDialog: !1
            }),
            methods: {
                sendReply() {
                    this.showReplyDialog = !0
                },
                editPost() {
                    this.showEditDialog = !0
                }
            }
        }
          , ud = dd
          , hd = Object(p["a"])(ud, Qc, Jc, !1, null, null, null)
          , md = hd.exports;
        g()(hd, {
            VBtn: O["a"],
            VIcon: y["a"]
        });
        var pd = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("bottom-dialog", {
                attrs: {
                    dialog: !0,
                    "max-width": "550px"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                attrs: {
                    flat: "",
                    tile: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate(t.add ? "Search player" : "Edit the post")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "mt-4"
            }, [i("FormField", {
                attrs: {
                    field: t.commentField
                },
                model: {
                    value: t.changed.comment,
                    callback: function(e) {
                        t.$set(t.changed, "comment", e)
                    },
                    expression: "changed.comment"
                }
            }), t.add ? i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("FormField", {
                attrs: {
                    field: t.teamField
                },
                model: {
                    value: t.changed.group_id,
                    callback: function(e) {
                        t.$set(t.changed, "group_id", e)
                    },
                    expression: "changed.group_id"
                }
            })], 1)], 1) : t._e()], 1), i("v-card-actions", [t.add ? t._e() : i("v-btn", {
                attrs: {
                    color: "error"
                },
                on: {
                    click: t.removePost
                }
            }, [t._v(t._s(t.$translate("Remove post")))]), i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: !t.canSave
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1)
        }
          , vd = []
          , gd = {
            name: "zoezi-teamsport-player-pool-team-post-dialog",
            props: {
                value: {
                    type: Boolean
                },
                add: {
                    type: Boolean
                },
                post: {
                    type: Object
                },
                groups: {
                    type: Array
                }
            },
            components: {
                BottomDialog: $e["a"],
                FormField: Ee["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t && (this.add ? (this.changed.comment = null,
                        this.changed.group_id = null) : (this.changed.comment = this.post.comment,
                        this.changed.group_id = this.post.group.id))
                    }
                }
            },
            data: ()=>({
                changed: {
                    comment: null,
                    group_id: null
                },
                saving: !1
            }),
            computed: {
                showDialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                commentField() {
                    return {
                        type: "textarea",
                        title: "Description of wanted players",
                        placeholder: "We are looking for you who..."
                    }
                },
                teamField() {
                    var t;
                    return {
                        type: "select",
                        title: "For team",
                        placeholder: "Choose team",
                        data: null === (t = this.groups) || void 0 === t ? void 0 : t.map(t=>({
                            text: t.name,
                            value: t.id
                        }))
                    }
                },
                canSave() {
                    return this.add ? this.changed.comment && this.changed.group_id : this.changed.comment
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                },
                save() {
                    if (this.add) {
                        const t = {
                            comment: this.changed.comment,
                            group_id: this.changed.group_id
                        };
                        this.saving = !0,
                        this.$api.post("/api/playerpoolteam/add", t).then(t=>{
                            t.ok && (this.showDialog = !1),
                            this.saving = !1,
                            this.possiblyShowError(t)
                        }
                        )
                    } else {
                        const t = {
                            comment: this.changed.comment,
                            group_id: this.changed.group_id,
                            id: this.post.id
                        };
                        this.saving = !0,
                        this.$api.post("/api/playerpoolteam/change", t).then(t=>{
                            t.ok && (this.showDialog = !1),
                            this.saving = !1,
                            this.possiblyShowError(t)
                        }
                        )
                    }
                },
                removePost() {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove post"),
                        text: this.$translate("Are you sure you want to remove the post?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.$api.post("/api/playerpoolteam/remove", null, {
                                id: this.post.id
                            }).then(t=>{
                                t.ok && (this.showDialog = !1),
                                this.possiblyShowError(t)
                            }
                            )
                        }
                    })
                }
            }
        }
          , fd = gd
          , bd = Object(p["a"])(fd, pd, vd, !1, null, null, null)
          , yd = bd.exports;
        g()(bd, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var _d = {
            name: "zoezi-teamsport-player-pool-recruitment-card",
            props: {
                application: {
                    type: Object
                },
                groups: {
                    type: Array
                }
            },
            components: {
                CollapsibleCard: Kc,
                TeamsportPlayerPoolPost: md,
                TeamsportPlayerPoolTeamPostDialog: yd
            },
            data: ()=>({
                showEditDialog: !1
            }),
            computed: {
                title() {
                    return this.$translate("Applications for {0}").format(this.application.group.name)
                },
                actions() {
                    return [{
                        title: this.$translate("Edit"),
                        action: ()=>{
                            this.showEditDialog = !0
                        }
                    }, {
                        title: this.$translate("Remove"),
                        action: ()=>{
                            this.$store.commit("showConfirmDialog", {
                                title: this.$translate("Remove post"),
                                text: this.$translate("Are you sure you want to remove the post?"),
                                actionText: this.$translate("Remove"),
                                action: ()=>{
                                    this.$api.post("/api/playerpoolteam/remove", null, {
                                        id: this.application.id
                                    }).then(t=>{
                                        t.ok && (this.showDialog = !1),
                                        this.possiblyShowError(t)
                                    }
                                    )
                                }
                            })
                        }
                    }]
                }
            },
            methods: {
                possiblyShowError(t) {
                    t.ok || t.json().then(t=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: `${this.$translate("Something went wrong")}. ${this.$translate(null === t || void 0 === t ? void 0 : t.message)}`
                        })
                    }
                    )
                }
            }
        }
          , kd = _d
          , wd = Object(p["a"])(kd, Nc, Wc, !1, null, null, null)
          , Cd = wd.exports
          , xd = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("CollapsibleCard", {
                attrs: {
                    title: "Players looking for teams"
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [t.loading ? i("div", {
                            staticClass: "d-flex align-center justify-center"
                        }, [i("v-progress-circular", {
                            attrs: {
                                size: "20",
                                indeterminate: "",
                                color: "primary",
                                width: "2"
                            }
                        })], 1) : [i("div", {
                            staticClass: "mb-4 z-no-user-select",
                            staticStyle: {
                                "word-break": "break-word"
                            }
                        }, t._l(t.sports, (function(e) {
                            return i("a", {
                                key: e.id,
                                staticClass: "mr-2",
                                class: {
                                    "font-weight-bold": e.id == t.selectedSport
                                },
                                on: {
                                    click: function(i) {
                                        return t.selectSport(e)
                                    }
                                }
                            }, [t._v(t._s(e.name))])
                        }
                        )), 0), 0 == t.posts.length ? i("div", {
                            staticClass: "text--disabled"
                        }, [t._v(" " + t._s(t.$translate("No players looking for teams right now")) + " ")]) : t._e(), t._l(t.filteredPosts, (function(e) {
                            return i("TeamsportPlayerPoolPost", {
                                key: e.id,
                                staticClass: "mb-4",
                                attrs: {
                                    post: e,
                                    type: "user",
                                    showReplyButton: !0,
                                    showEditButton: !1,
                                    groups: t.groups
                                },
                                scopedSlots: t._u([{
                                    key: "title",
                                    fn: function() {
                                        return [i("div", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(e.name))])]
                                    },
                                    proxy: !0
                                }], null, !0)
                            })
                        }
                        ))]]
                    },
                    proxy: !0
                }])
            })
        }
          , $d = []
          , Sd = {
            name: "zoezi-teamsport-player-pool-players-looking-for-teams-card",
            props: {
                teamsports: {
                    type: Array
                },
                posts: {
                    type: Array
                },
                groups: {
                    type: Array
                }
            },
            components: {
                CollapsibleCard: Kc,
                TeamsportPlayerPoolPost: md
            },
            data: ()=>({
                loading: !1,
                selectedSport: null
            }),
            computed: {
                filteredPosts() {
                    return this.selectedSport ? this.posts.filter(t=>t.teamsport_ids.includes(this.selectedSport)) : this.posts
                },
                sports() {
                    let t = [];
                    return this.posts.forEach(e=>{
                        e.teamsport_ids.forEach(e=>{
                            if (!t.find(t=>t.id == e)) {
                                let i = this.teamsports.find(t=>t.id == e);
                                i && t.push(i)
                            }
                        }
                        )
                    }
                    ),
                    t.sort((t,e)=>t.name.localeCompare(e.name))
                }
            },
            methods: {
                selectSport(t) {
                    this.selectedSport === t.id ? this.selectedSport = null : this.selectedSport = t.id
                }
            }
        }
          , Dd = Sd
          , zd = Object(p["a"])(Dd, xd, $d, !1, null, null, null)
          , Td = zd.exports;
        g()(zd, {
            VProgressCircular: Q["a"]
        });
        var Id = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("CollapsibleCard", {
                attrs: {
                    title: "Teams looking for players"
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [t.loading ? i("div", {
                            staticClass: "d-flex align-center justify-center"
                        }, [i("v-progress-circular", {
                            attrs: {
                                size: "20",
                                indeterminate: "",
                                color: "primary",
                                width: "2"
                            }
                        })], 1) : [i("div", {
                            staticClass: "mb-4 z-no-user-select",
                            staticStyle: {
                                "word-break": "break-word"
                            }
                        }, t._l(t.sports, (function(e) {
                            return i("a", {
                                key: e.id,
                                staticClass: "mr-2",
                                class: {
                                    "font-weight-bold": e.id == t.selectedSport
                                },
                                on: {
                                    click: function(i) {
                                        return t.selectSport(e)
                                    }
                                }
                            }, [t._v(t._s(e.name))])
                        }
                        )), 0), 0 == t.posts.length ? i("div", {
                            staticClass: "text--disabled"
                        }, [t._v(" " + t._s(t.$translate("No teams looking for players right now")) + " ")]) : t._e(), t._l(t.filteredPosts, (function(e) {
                            return i("TeamsportPlayerPoolPost", {
                                key: e.id,
                                staticClass: "mb-4",
                                attrs: {
                                    post: e,
                                    type: "team",
                                    showReplyButton: !0,
                                    showEditButton: !1
                                },
                                scopedSlots: t._u([{
                                    key: "title",
                                    fn: function() {
                                        return [i("div", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(e.group.name))])]
                                    },
                                    proxy: !0
                                }], null, !0)
                            })
                        }
                        ))]]
                    },
                    proxy: !0
                }])
            })
        }
          , Pd = []
          , Vd = {
            name: "zoezi-teamsport-player-pool-teams-looking-for-players-card",
            props: {
                teamsports: {
                    type: Array
                },
                posts: {
                    type: Array
                }
            },
            components: {
                CollapsibleCard: Kc,
                TeamsportPlayerPoolPost: md
            },
            data: ()=>({
                loading: !1,
                selectedSport: null
            }),
            computed: {
                filteredPosts() {
                    return this.selectedSport ? this.posts.filter(t=>t.group.teamsport_id == this.selectedSport) : this.posts
                },
                sports() {
                    let t = [];
                    return this.posts.forEach(e=>{
                        if (!t.find(t=>t.id == e.group.teamsport_id)) {
                            let i = this.teamsports.find(t=>t.id == e.group.teamsport_id);
                            i && t.push(i)
                        }
                    }
                    ),
                    t.sort((t,e)=>t.name.localeCompare(e.name))
                }
            },
            methods: {
                selectSport(t) {
                    this.selectedSport === t.id ? this.selectedSport = null : this.selectedSport = t.id
                }
            }
        }
          , Bd = Vd
          , Fd = Object(p["a"])(Bd, Id, Pd, !1, null, null, null)
          , Ed = Fd.exports;
        g()(Fd, {
            VProgressCircular: Q["a"]
        });
        var Od = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("CollapsibleCard", {
                attrs: {
                    title: "My posts in the player pool"
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [t.loading ? i("div", {
                            staticClass: "d-flex align-center justify-center"
                        }, [i("v-progress-circular", {
                            attrs: {
                                size: "20",
                                indeterminate: "",
                                color: "primary",
                                width: "2"
                            }
                        })], 1) : 0 == t.posts.length ? i("div", {
                            staticClass: "text--disabled"
                        }, [t._v(" " + t._s(t.$translate("You have not made any posts in the player pool yet")) + " ")]) : t._l(t.posts, (function(e) {
                            return i("TeamsportPlayerPoolPost", {
                                key: e.id,
                                staticClass: "mb-4",
                                attrs: {
                                    post: e,
                                    type: "user",
                                    showReplyButton: !1,
                                    showEditButton: !0,
                                    teamsports: t.teamsports
                                },
                                scopedSlots: t._u([{
                                    key: "title",
                                    fn: function() {
                                        return [i("div", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(t.getTitle(e)))])]
                                    },
                                    proxy: !0
                                }], null, !0)
                            })
                        }
                        ))]
                    },
                    proxy: !0
                }])
            })
        }
          , Md = []
          , Ad = {
            name: "zoezi-teamsport-player-pool-my-posts",
            props: {
                teamsports: {
                    type: Array
                },
                posts: {
                    type: Array
                }
            },
            components: {
                CollapsibleCard: Kc,
                TeamsportPlayerPoolPost: md
            },
            data: ()=>({
                loading: !1
            }),
            methods: {
                getTitle(t) {
                    return t.teamsport_ids.map(t=>{
                        var e;
                        return null === (e = this.teamsports.find(e=>e.id === t)) || void 0 === e ? void 0 : e.name
                    }
                    ).join(", ")
                }
            }
        }
          , Rd = Ad
          , Ld = Object(p["a"])(Rd, Od, Md, !1, null, null, null)
          , jd = Ld.exports;
        g()(Ld, {
            VProgressCircular: Q["a"]
        });
        var Nd = {
            name: "zoezi-teamsport-player-pool",
            zoezi: {
                title: "Player pool",
                icon: "mdi-table-large",
                addon: "PlayerPool"
            },
            components: {
                TeamsportPlayerPoolRecruitmentCard: Cd,
                TeamsportPlayerPoolPlayersLookingForTeamsCard: Td,
                TeamsportPlayerPoolTeamsLookingForPlayersCard: Ed,
                TeamsportPlayerPoolMyPosts: jd,
                TeamsportPlayerPoolUserPostDialog: sd,
                TeamsportPlayerPoolTeamPostDialog: yd
            },
            watch: {
                "$store.state.user"() {
                    this.getData()
                }
            },
            data: ()=>({
                teamsports: [],
                teamPosts: [],
                userPosts: [],
                myGroups: [],
                applications: [],
                unsubscribe: [],
                searchTeamDialog: !1,
                searchPlayerDialog: !1
            }),
            computed: {
                teamApplications() {
                    let t = this.teamPosts.filter(t=>this.myGroups.find(e=>e.id === t.group.id));
                    return t.map(t=>({
                        id: t.id,
                        group: this.myGroups.find(e=>e.id == t.group.id),
                        comment: t.comment,
                        posts: this.applications.filter(e=>e.playerPoolTeam_id == t.id)
                    }))
                },
                myPosts() {
                    return this.userPosts.filter(t=>t.user_id === this.$store.state.user.id)
                }
            },
            methods: {
                getTeamsports() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/get").then(t=>{
                        this.teamsports = t.sort((t,e)=>t.name.localeCompare(e.name)),
                        this.loading = !1
                    }
                    )
                },
                searchTeam() {
                    this.searchTeamDialog = !0
                },
                searchPlayer() {
                    this.searchPlayerDialog = !0
                },
                getAllPlayerPoolRequests() {
                    this.$api.get("/api/playerpoolteam/get_with_request_status").then(t=>{
                        this.teamPosts = t
                    }
                    )
                },
                getAllPlayerPoolUsers() {
                    this.$api.get("/api/playerpooluser/get").then(t=>{
                        this.userPosts = t
                    }
                    )
                },
                getPendingApplications() {
                    this.applications = [],
                    this.$api.get("/api/memberapi/usergroup/get_responsible_for").then(t=>{
                        this.myGroups = t,
                        t.forEach(t=>{
                            this.$api.get("/api/playerpool/request/get", {
                                group_id: t.id
                            }).then(t=>{
                                this.applications.push(...t)
                            }
                            )
                        }
                        )
                    }
                    )
                },
                getData() {
                    this.$store.state.user && (this.getPendingApplications(),
                    this.getAllPlayerPoolRequests(),
                    this.getAllPlayerPoolUsers())
                }
            },
            destroyed() {
                this.unsubscribe.forEach(t=>null === t || void 0 === t ? void 0 : t())
            },
            mounted() {
                this.getTeamsports(),
                this.getData(),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "playerpoolteam",
                    callback: ()=>{
                        this.getData()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "playerpooluser",
                    callback: ()=>{
                        this.getData()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "usergrouprequest",
                    callback: ()=>{
                        this.getData()
                    }
                }))
            }
        }
          , Wd = Nd
          , qd = Object(p["a"])(Wd, Lc, jc, !1, null, null, null)
          , Hd = qd.exports;
        g()(qd, {
            VBtn: O["a"],
            VCol: M["a"],
            VRow: A["a"]
        });
        var Ud = {
            name: "zoezi-mypage",
            zoezi: {
                title: "My page",
                icon: "mdi-account-box-outline",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "tab",
                        prop: "activeTab"
                    }, {
                        id: "ttab",
                        prop: "activeTeamsportTab"
                    }]
                })
            },
            components: {
                MyAccount: Bo,
                CourseBookingDialog: jo,
                WorkoutDialog: j["default"],
                ResourceBookingDialog: Yo,
                ReceiptList: Ai,
                ComingPayments: Zo,
                WorkoutBookButton: N["a"],
                TrainingCardDialog: mn,
                WorkoutBookUserRow: W["a"],
                MyPaymentMethods: wn,
                Family: zn,
                MyTeamsportRegistrations: tc,
                TeamsportPlayerPool: Hd,
                TeamsportMatches: mc,
                UserAvatar: co["a"],
                HistoricalBookings: yc,
                MyEntryStats: Dc,
                MyWorkoutStats: Bc,
                MyPageRBCard: Rc,
                TeamsportComingMatches: Lr
            },
            props: {
                showHistoricActivities: {
                    title: "Show previous activities",
                    type: Boolean,
                    default: !0
                },
                historyMonths: {
                    title: 'Number of months old activities (Applies only to "Show past activities")',
                    type: Number,
                    default: 12
                },
                displayEntries: {
                    title: "Show Entries",
                    type: Boolean,
                    default: !0
                },
                displayGroupTraining: {
                    title: "Show Group Training",
                    type: Boolean,
                    default: !0
                },
                filterByDoor: {
                    title: "Filter by door",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return window.$zoeziapi.get("/api/resource/get").then(t=>{
                                const e = t.filter(t=>"door" == t.resourceType);
                                return e.map(({lastname: t, id: e})=>({
                                    name: t,
                                    id: e
                                }))
                            }
                            )
                        },
                        text: "name",
                        value: "id",
                        multiple: !0,
                        placeholder: "Show all doors"
                    },
                    default: ()=>[]
                },
                timeBetweenCheckins: {
                    title: "Number of hours between counting entries per day (e.g., 6 hours)",
                    type: Number,
                    default: 6
                },
                activeTab: {
                    title: "Active tab",
                    type: String,
                    default: "start"
                },
                activeTeamsportTab: {
                    title: "Active teamsport tab",
                    type: String,
                    default: "registrations"
                }
            },
            watch: {
                "$store.state.user": {
                    immediate: !0,
                    handler(t) {
                        t && (this.$route.query.accountrequest ? this.selectedTab = "family" : this.$route.query.showinvoice ? this.selectedTab = "payments" : this.activeTab && (this.selectedTab = this.activeTab),
                        this.activeTeamsportTab && (this.selectedTeamsportTab = this.activeTeamsportTab))
                    }
                },
                "$store.state.cards"(t) {
                    this.showingCard && (this.showingCard = t.find(t=>t.id == this.showingCard.id),
                    this.showingCard || (this.showTrainingCardDialog = !1))
                },
                showHistoricActivities: {
                    immediate: !0,
                    handler() {
                        this.getHistoricalActivitiesCount()
                    }
                },
                historyMonths: {
                    immediate: !0,
                    handler() {
                        this.getHistoricalActivitiesCount()
                    }
                },
                selectedTab() {
                    this.setProp("activeTab", this.selectedTab)
                },
                selectedTeamsportTab() {
                    this.setProp("activeTeamsportTab", this.selectedTeamsportTab)
                }
            },
            computed: {
                numberOfBlockedManagedAccounts() {
                    return this.$store.state.user.canManage.filter(t=>null != t.warnedUntil).length || 0
                },
                bookings() {
                    return this.$store.getters.comingBookings
                },
                courseBookings() {
                    var t, e;
                    return null === (t = this.bookings) || void 0 === t || null === (e = t.coursebookings) || void 0 === e ? void 0 : e.concat().sort((t,e)=>Date.newFull(t.startTime).getTime() - Date.newFull(e.startTime).getTime())
                },
                ongoingCourses() {
                    var t;
                    return null === (t = this.courseBookings) || void 0 === t ? void 0 : t.filter(t=>this.$store.state.now30s.withinRange(Date.newFull(t.startTime), Date.newFull(t.endTime)))
                },
                comingCourses() {
                    var t;
                    return null === (t = this.courseBookings) || void 0 === t ? void 0 : t.filter(t=>Date.newFull(t.startTime).isFutureDate(!0)).sort((t,e)=>Date.newFull(t.startTime).getTime() - Date.newFull(e.startTime).getTime())
                },
                courseWatches() {
                    var t, e;
                    return null === (t = this.bookings) || void 0 === t || null === (e = t.coursewatches) || void 0 === e ? void 0 : e.concat().sort((t,e)=>Date.newFull(t.startTime).getTime() - Date.newFull(e.startTime).getTime())
                },
                workoutBookingsAndResourceBookings() {
                    let t = [];
                    return this.bookings && (this.bookings.workouts.forEach(e=>{
                        t.find(t=>t.key == "wb" + e.id) || t.push({
                            key: "wb" + e.id,
                            type: "workout",
                            id: e.id,
                            start: Date.newFull(e.startTime),
                            color: e.workoutType.color,
                            text: e.workoutType.name + (e.extra_title ? " - " + e.extra_title : ""),
                            imagekey: e.workoutType.imagekey,
                            duration: (Date.newFull(e.endTime).getTime() - Date.newFull(e.startTime).getTime()) / 6e4,
                            staffs: e.staffs,
                            location: e.location,
                            room: e.room,
                            workout: e,
                            background: "Cancelled" == e.status ? "#fbeeed" : e.isInQueue() ? "#fed" : null
                        })
                    }
                    ),
                    this.bookings.resourcebookings.forEach(e=>{
                        t.push({
                            key: "rb" + e.id,
                            type: "resourcebooking",
                            id: e.id,
                            rb: e,
                            start: Date.newFull(e.time),
                            text: e.servicename,
                            imagekey: e.service_imagekey,
                            duration: e.duration,
                            staffs: [{
                                id: e.staff_id,
                                name: e.staffname,
                                imagekey: e.staff_imagekey
                            }]
                        })
                    }
                    )),
                    t
                },
                activities() {
                    return this.workoutBookingsAndResourceBookings.concat().sort((t,e)=>t.start.getTime() - e.start.getTime())
                },
                courses() {
                    return [{
                        id: "ongoing",
                        title: this.$translate("ongoing2"),
                        subtitle: this.$translate("courses you participate in"),
                        bookings: this.ongoingCourses
                    }, {
                        id: "coming",
                        title: this.$translate("Upcoming"),
                        subtitle: this.$translate("courses you are enrolled in"),
                        bookings: this.comingCourses
                    }].filter(t=>{
                        var e;
                        return null === (e = t.bookings) || void 0 === e ? void 0 : e.length
                    }
                    )
                },
                hasMembership() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.membership
                },
                hasTeamsports() {
                    var t, e;
                    return 0 != (null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.teamsports)
                },
                hasPlayerPool() {
                    var t;
                    return 0 != (null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.playerpool)
                },
                visibleGroups() {
                    var t, e, i, s;
                    return null !== (t = null === (e = this.$store.state) || void 0 === e || null === (i = e.user) || void 0 === i || null === (s = i.groups) || void 0 === s ? void 0 : s.filter(t=>t.show)) && void 0 !== t ? t : []
                },
                cardsAndMemberships() {
                    var t;
                    let e = t=>t.user_id == this.$store.state.user.id || !!this.$store.state.user.canManage.find(e=>e.id == t.user_id)
                      , i = this.$store.state.now30s.clone().clearTime()
                      , s = t=>!this.$booking.isCardValid(t, i, 1, !1) && t.validToDate && (t.validToDate.isPastDate() || 0 == t.trainingsLeft && !t.boundToDate);
                    return null === (t = this.$store.state.cards) || void 0 === t ? void 0 : t.filter(t=>(!!e(t) || this.findUserGroupsForCard(t)) && !s(t))
                },
                validAndFrozenTrainingCards() {
                    var t;
                    return null === (t = this.cardsAndMemberships) || void 0 === t ? void 0 : t.filter(t=>!t.membership)
                },
                validMemberships() {
                    var t;
                    return null === (t = this.cardsAndMemberships) || void 0 === t ? void 0 : t.filter(t=>t.membership)
                },
                tabs() {
                    var t, e;
                    if (!this.$store.state.user)
                        return [];
                    let i = this.$store.state.bookings
                      , s = (null === i || void 0 === i || null === (t = i.coursebookings) || void 0 === t ? void 0 : t.length) > 0 || (null === i || void 0 === i || null === (e = i.coursewatches) || void 0 === e ? void 0 : e.length) > 0
                      , a = this.hasMembership && !this.$vuetify.breakpoint.mobile ? `${this.$translate("Training card")} &\n ${this.$translate("Membership")}` : this.$translate("Training card");
                    a == `${this.$translate("Training card")} & ${this.$translate("Membership")}` && (a = `${this.$translate("Training card")} &\n ${this.$translate("Membership")}`);
                    const o = this.hasTeamsports;
                    return [{
                        id: "start",
                        title: this.$translate("Overview"),
                        icon: "mdi-calendar-today"
                    }, {
                        id: "payments",
                        title: this.$translate("Payments"),
                        icon: "mdi-wallet",
                        badge: this.numComingPayments
                    }, s && {
                        id: "courses",
                        title: this.$translate("Courses"),
                        icon: "mdi-school"
                    }, {
                        id: "cards",
                        title: a,
                        icon: "mdi-ticket"
                    }, o && {
                        id: "teamsport",
                        title: this.$translate("Competition"),
                        icon: "mdi-account-multiple"
                    }, {
                        id: "family",
                        title: this.$translate("Family"),
                        icon: "mdi-human-male-female-child",
                        badge: this.$store.state.user.requests.length + this.numberOfBlockedManagedAccounts
                    }, {
                        id: "account",
                        title: this.$translate("Account"),
                        icon: " mdi-account-circle"
                    }].filter(t=>!!t)
                },
                teamsportTabs() {
                    return [{
                        id: "registrations",
                        title: this.$translate("Registrations")
                    }, this.showRefereePage && {
                        id: "referee",
                        title: this.$translate("Referee assignments")
                    }, this.hasPlayerPool && {
                        id: "playerpool",
                        title: this.$translate("Player pool")
                    }].filter(t=>!!t)
                },
                showRefereePage() {
                    var t;
                    return null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.showRefereeSchedule
                },
                watching() {
                    return [{
                        id: "watching",
                        title: this.$translate("Watches"),
                        subtitle: this.$translate("where you're waiting for a place"),
                        bookings: this.courseWatches
                    }].filter(t=>{
                        var e;
                        return null === (e = t.bookings) || void 0 === e ? void 0 : e.length
                    }
                    )
                },
                sections() {
                    let t = this.$store.state.now30s.clone().clearTime()
                      , e = t.clone().addDays(1)
                      , i = this.activities.filter(e=>Date.dateEquals(e.start, t))
                      , s = this.activities.filter(t=>Date.dateEquals(t.start, e))
                      , a = this.activities.filter(t=>t.start.clone().clearTime().getTime() > e)
                      , o = [];
                    this.historicalActivitiesCount && (o = Array.apply(null, Array(this.historicalActivitiesCount)).map(()=>({
                        id: 0
                    })));
                    const n = 1 == o.length ? this.$translate("1 previous activity") : this.$translate("{0} previous activities").format(o.length);
                    return [{
                        id: "today",
                        title: this.$translate("Today"),
                        subtitle: this.getDateSubTitle(t),
                        bookings: i
                    }, {
                        id: "tomorrow",
                        title: this.$translate("Tomorrow"),
                        subtitle: this.getDateSubTitle(e),
                        bookings: s
                    }, {
                        id: "later",
                        title: this.$translate("Later"),
                        subtitle: this.$translate("bookings after tomorrow"),
                        bookings: a
                    }, {
                        id: "historic",
                        title: this.$translate("Previous activities"),
                        subtitle: n,
                        bookings: o,
                        singleCard: !0
                    }].filter(t=>{
                        var e;
                        return null === (e = t.bookings) || void 0 === e ? void 0 : e.length
                    }
                    )
                },
                historyFrom() {
                    return Date.today().addMonths(-this.historyMonths).yyyymmdd()
                },
                messageCards() {
                    const t = [{
                        id: "block_entry",
                        name: "Entry"
                    }, {
                        id: "block_autogiro",
                        name: "Sign direct debit"
                    }, {
                        id: "block_grouptraining",
                        name: "Group workout"
                    }, {
                        id: "block_course",
                        name: "Course booking"
                    }, {
                        id: "block_resourcebooking",
                        name: "Resource booking"
                    }];
                    let e = this.$store.state.user.blocks;
                    return e.map(e=>{
                        let i = t.filter(t=>e[t.id]).map(t=>this.$translate(t.name).toLowerCase()).join(", ")
                          , s = e.toDate ? this.$translate("until") + " <b>" + Date.formatFullShorter(e.toDate) + ".</b>" : " " + this.$translate("until furhter notice")
                          , a = e.message ? `<br><br>${e.message}<br><br>` : "<br>";
                        return {
                            id: "block." + e.id,
                            color: "#fcb2b2",
                            title: "Blocked",
                            text: this.$translate("You have been blocked from {0}{1}The block is valid {2}").format(i, a, s)
                        }
                    }
                    )
                },
                computedShowNumBooked() {
                    var t;
                    return null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.wbshowbookingcount
                },
                showRefereeAssignments() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.user) || void 0 === e ? void 0 : e.showRefereeSchedule
                }
            },
            data: ()=>({
                selectedTeamsportTab: "registrations",
                selectedTab: "start",
                showWorkoutDialog: !1,
                showingWorkout: null,
                showResourceBookingDialog: !1,
                showingResourceBooking: null,
                showCourseBookingDialog: !1,
                showingCourseBooking: null,
                numComingPayments: null,
                showTrainingCardDialog: !1,
                showingCard: null,
                expandedCardPanels: [0, 1],
                expandedPaymentMethodsPanel: 0,
                historicalActivitiesCount: null,
                showHistoricalActivitiesDialog: !1,
                groupInvite: null,
                showGroupInviteDialog: !1,
                expandedRefereePanel: 0
            }),
            methods: {
                handleCardClick(t) {
                    t.chain || (this.showingCard = t,
                    this.showTrainingCardDialog = !0)
                },
                formatGroupNames(t) {
                    return t.map(t=>t.name).join(", ")
                },
                findManagedUserForCard(t) {
                    var e, i, s;
                    return null === (e = this.$store.state) || void 0 === e || null === (i = e.user) || void 0 === i || null === (s = i.canManage) || void 0 === s ? void 0 : s.find(e=>e.id == t.user_id)
                },
                findUserGroupsForCard(t) {
                    var e, i, s;
                    return null === (e = this.$store.state) || void 0 === e || null === (i = e.user) || void 0 === i || null === (s = i.groups) || void 0 === s ? void 0 : s.filter(e=>{
                        var i;
                        return e.show && (null === (i = e.trainingcards) || void 0 === i ? void 0 : i.includes(t.id))
                    }
                    )
                },
                isExpiring(t) {
                    return t.validToDate && t.cardtype.auto
                },
                getChildName(t) {
                    var e, i;
                    let s = null === (e = this.$store.state) || void 0 === e || null === (i = e.user) || void 0 === i ? void 0 : i.canBookFor;
                    if (s && this.$store.state.user.id != t) {
                        let e = s.find(e=>e.id == t);
                        return e ? e.name : null
                    }
                },
                showCourseBooking(t) {
                    this.showingCourseBooking = t,
                    this.showCourseBookingDialog = !0
                },
                getDateSubTitle(t) {
                    t = Date.newFull(t);
                    let e = window.$translate(t.getWeekDayString())
                      , i = t=>"sv" == window.$store.state.language ? t.toLowerCase() : t;
                    return `${i(e)} ${t.getDate()} ${i(window.$translate(t.getMonthName()))}`
                },
                showActivity(t) {
                    "workout" == t.type ? this.$api.get("/api/memberapi/workout/get", {
                        id: t.id
                    }).then(t=>{
                        this.$booking.transformWorkout(t),
                        this.showWorkoutDialog = !0,
                        this.showingWorkout = t
                    }
                    ).catch(()=>{
                        this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error displaying booking"),
                            text: this.$translate("The booking could not be displayed")
                        })
                    }
                    ) : "resourcebooking" == t.type && (this.showResourceBookingDialog = !0,
                    this.showingResourceBooking = t.rb)
                },
                getBookingColorStyle(t) {
                    return {
                        "background-color": t.color ? t.color + "b4" : "rgba(192,160,0,0.7)"
                    }
                },
                getHistoricalActivitiesCount() {
                    if (this.historicalActivitiesCount = null,
                    this.showHistoricActivities) {
                        let t = this.historyFrom
                          , e = Date.today().addDays(-1).yyyymmdd();
                        this.$api.get("/api/memberapi/bookings/get", {
                            startTime: t,
                            endTime: e,
                            returnCount: !0
                        }).then(t=>{
                            this.historicalActivitiesCount = t
                        }
                        )
                    }
                },
                occasionsString(t) {
                    return 1 == t ? this.$translate("1 occasion") : this.$translate("{0} occasions").format(t)
                }
            }
        }
          , Yd = Ud
          , Gd = (i("8339"),
        i("aac8"))
          , Kd = Object(p["a"])(Yd, Fo, Eo, !1, null, null, null)
          , Qd = Kd.exports;
        g()(Kd, {
            VBadge: Ue["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"],
            VTabsItems: Gd["a"]
        });
        var Jd = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.item ? i("v-card-text", [t.item.imagekey ? i("v-auto-img", {
                attrs: {
                    src: t.item.imagekey,
                    "max-height": "40vh"
                }
            }) : t._e(), i("h1", {
                staticClass: "text-h6 text-sm-h5 text-md-h4 my-3"
            }, [t._v(t._s(t.item.title))]), i("div", {
                staticClass: "zoezi-news-content",
                domProps: {
                    innerHTML: t._s(t.item.content)
                }
            }), t.showDate || t.showAuthor ? i("div", [t.showDate ? i("span", {
                staticClass: "zoezi-date"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-clock-outline")]), t._v(t._s(t.date))], 1) : t._e(), t.showAuthor && t.item.author ? i("span", {
                staticClass: "zoezi-author"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-account")]), t._v(t._s(t.item.author.firstname) + " " + t._s(t.item.author.lastname))], 1) : t._e()]) : t._e(), t.hasPostPermission ? i("div", {
                staticClass: "d-flex mt-2"
            }, [i("div", {
                staticClass: "z-clickable primary--text",
                on: {
                    click: function(e) {
                        t.editArticle = !0
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Edit the post")) + " ")]), i("v-spacer"), i("div", {
                staticClass: "z-clickable error--text",
                on: {
                    click: function(e) {
                        return t.remove(t.item)
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Remove the post")) + " ")])], 1) : t._e(), t.editArticle ? i("news-compose", {
                attrs: {
                    "news-item": t.item
                },
                on: {
                    close: function(e) {
                        t.editArticle = !1
                    }
                }
            }) : t._e()], 1) : i("v-container", {
                staticClass: "text-center",
                staticStyle: {
                    top: "50%",
                    padding: "50px"
                }
            }, [i("v-progress-circular", {
                attrs: {
                    color: "primary",
                    indeterminate: "",
                    size: "64"
                }
            })], 1)
        }
          , Xd = []
          , Zd = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-news-compose"
            }, [t.newsItem ? t._e() : i("div", [i("zoezi-user-avatar", {
                staticClass: "mx-2",
                attrs: {
                    user: t.$store.state.user,
                    size: 32
                }
            }), i("span", {
                staticClass: "news-title z-clickable",
                on: {
                    click: function(e) {
                        t.editing = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Click here to create a post")))])], 1), i("v-dialog", {
                attrs: {
                    "max-width": "600px",
                    scrollable: ""
                },
                model: {
                    value: t.editing,
                    callback: function(e) {
                        t.editing = e
                    },
                    expression: "editing"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "d-flex"
            }, [t.newsItem ? i("span", [t._v(t._s(t.$translate("Edit post")))]) : i("span", [t._v(t._s(t.$translate("Create a post")))]), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.editing = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("div", [i("v-text-field", {
                attrs: {
                    placeholder: t.$translate("Write a headline"),
                    label: t.$translate("Headline"),
                    autofocus: ""
                },
                scopedSlots: t._u([{
                    key: "prepend",
                    fn: function() {
                        return [i("zoezi-user-avatar", {
                            staticClass: "mx-2",
                            attrs: {
                                user: t.$store.state.user,
                                size: 32
                            }
                        })]
                    },
                    proxy: !0
                }]),
                model: {
                    value: t.title,
                    callback: function(e) {
                        t.title = e
                    },
                    expression: "title"
                }
            })], 1), t.imagekey ? i("v-auto-img", {
                staticClass: "white--text mb-2",
                attrs: {
                    src: t.imagekey,
                    "max-height": "200"
                }
            }, [i("v-btn", {
                staticClass: "ml-auto d-flex",
                attrs: {
                    right: "",
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.imagekey = null
                    }
                }
            }, [i("v-icon", {
                staticClass: "white--text"
            }, [t._v("mdi-close")])], 1)], 1) : i("v-row", [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-btn", {
                attrs: {
                    block: "",
                    outlined: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showMediaLibrary = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-image")]), t._v(t._s(t.$translate("Choose image")))], 1)], 1)], 1), t.editing ? i("editor", {
                staticStyle: {
                    "min-height": "300px"
                },
                attrs: {
                    placeholder: t.$translate("Write a content for the news"),
                    bubble: !0
                },
                model: {
                    value: t.content,
                    callback: function(e) {
                        t.content = e
                    },
                    expression: "content"
                }
            }) : t._e(), i("v-autocomplete", {
                attrs: {
                    multiple: "",
                    items: t.categoryItems,
                    label: t.$translate("Categories"),
                    "item-text": "name",
                    "item-value": "id",
                    placeholder: t.$translate("Choose category"),
                    "search-input": t.categorySearchInput
                },
                on: {
                    "update:searchInput": function(e) {
                        t.categorySearchInput = e
                    },
                    "update:search-input": function(e) {
                        t.categorySearchInput = e
                    }
                },
                scopedSlots: t._u([{
                    key: "no-data",
                    fn: function() {
                        return [i("span")]
                    },
                    proxy: !0
                }, {
                    key: "append-item",
                    fn: function() {
                        return [t.categorySearchInput && !t.categoryItems.find((function(e) {
                            return e.name == t.categorySearchInput
                        }
                        )) ? i("v-list-item", {
                            on: {
                                click: function(e) {
                                    return t.addCategory(t.categorySearchInput)
                                }
                            }
                        }, [t._v(" " + t._s(t.$translate("Add category")) + ": " + t._s(t.categorySearchInput) + " ")]) : t.categorySearchInput || 0 != t.categoryItems.length ? t._e() : i("v-list-item", [t._v(" " + t._s(t.$translate("Write the name of the category")) + " ")])]
                    },
                    proxy: !0
                }]),
                model: {
                    value: t.publishCategories,
                    callback: function(e) {
                        t.publishCategories = e
                    },
                    expression: "publishCategories"
                }
            }), i("label", [t._v(t._s(t.$translate("Publish at time")))]), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("date-field", {
                attrs: {
                    label: t.$translate("Date"),
                    "prepend-icon": "mdi-calendar"
                },
                on: {
                    input: function(e) {
                        t.published.date = e
                    }
                },
                model: {
                    value: t.published.date,
                    callback: function(e) {
                        t.$set(t.published, "date", e)
                    },
                    expression: "published.date"
                }
            })], 1), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("time-field", {
                attrs: {
                    label: t.$translate("Time"),
                    "prepend-icon": "mdi-clock"
                },
                on: {
                    input: function(e) {
                        t.published.time = e
                    }
                },
                model: {
                    value: t.published.time,
                    callback: function(e) {
                        t.$set(t.published, "time", e)
                    },
                    expression: "published.time"
                }
            })], 1)], 1)], 1), i("v-card-actions", [i("v-btn", {
                attrs: {
                    color: "primary",
                    block: "",
                    disabled: !t.canPublish,
                    loading: t.loading
                },
                on: {
                    click: t.publish
                }
            }, [t._v(t._s(t.$translate("Publish")))])], 1)], 1)], 1), i("v-dialog", {
                attrs: {
                    "max-width": "90%",
                    scrollable: ""
                },
                model: {
                    value: t.showMediaLibrary,
                    callback: function(e) {
                        t.showMediaLibrary = e
                    },
                    expression: "showMediaLibrary"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Choose image")) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showMediaLibrary = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("media-library", {
                attrs: {
                    columns: t.$vuetify.breakpoint.mobile ? 1 : 6,
                    type: "image"
                },
                on: {
                    change: t.imageSelected
                }
            })], 1)], 1)], 1)], 1)
        }
          , tu = []
          , eu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-2"
            }, [i("v-btn", {
                staticClass: "mb-2",
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        return t.$refs.iuploader.click()
                    }
                }
            }, [i("input", {
                ref: "iuploader",
                staticClass: "d-none",
                attrs: {
                    type: "file",
                    accept: "image" == t.type ? "image/*" : "video" == t.type ? "video/*" : "*"
                },
                on: {
                    change: function(e) {
                        return t.uploadFile(e.target.files[0])
                    }
                }
            }), i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-plus")]), t._v(t._s(t.uploadTitle) + " ")], 1), i("v-text-field", {
                attrs: {
                    label: t.$translate("Search...")
                },
                model: {
                    value: t.searchText,
                    callback: function(e) {
                        t.searchText = e
                    },
                    expression: "searchText"
                }
            }), i("v-item-group", {
                attrs: {
                    "active-class": "zoezi-edit-color"
                },
                on: {
                    change: t.fileChanged
                },
                model: {
                    value: t.selectedFile,
                    callback: function(e) {
                        t.selectedFile = e
                    },
                    expression: "selectedFile"
                }
            }, t._l(t.fileRows, (function(e, s) {
                return i("v-row", {
                    key: s
                }, t._l(e, (function(e) {
                    return i("v-col", {
                        key: e.key,
                        attrs: {
                            cols: 12 / t.columns
                        }
                    }, [i("v-hover", {
                        scopedSlots: t._u([{
                            key: "default",
                            fn: function(s) {
                                var a = s.hover;
                                return [i("v-item", {
                                    attrs: {
                                        value: e.key
                                    },
                                    scopedSlots: t._u([{
                                        key: "default",
                                        fn: function(s) {
                                            var o = s.active
                                              , n = s.toggle;
                                            return [i("v-card", {
                                                attrs: {
                                                    width: "200"
                                                },
                                                on: {
                                                    click: function(i) {
                                                        return t.cardClicked(i, e, o, n)
                                                    }
                                                }
                                            }, [i("v-card-text", {
                                                attrs: {
                                                    justify: "center",
                                                    align: "center"
                                                }
                                            }, [i("v-auto-img", {
                                                attrs: {
                                                    src: e,
                                                    height: "200px",
                                                    width: "200px"
                                                }
                                            }, [a && t.canShow ? i("v-btn", {
                                                staticClass: "float-right",
                                                attrs: {
                                                    icon: "",
                                                    color: "black"
                                                },
                                                on: {
                                                    click: function(i) {
                                                        return i.stopPropagation(),
                                                        t.remove(e)
                                                    }
                                                }
                                            }, [i("v-icon", {}, [t._v("mdi-close")])], 1) : t._e()], 1)], 1)], 1)]
                                        }
                                    }], null, !0)
                                })]
                            }
                        }], null, !0)
                    })], 1)
                }
                )), 1)
            }
            )), 1), t.limit < t.files.length ? i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.limit += 100
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Load more")) + " ")]) : t._e(), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showProgress,
                    callback: function(e) {
                        t.showProgress = e
                    },
                    expression: "showProgress"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(t._s(t.uploadTitle))]), i("v-card-text", {
                staticClass: "pa-4"
            }, [i("v-progress-linear", {
                attrs: {
                    active: "",
                    indeterminate: "",
                    size: "32",
                    value: t.progress,
                    width: "2",
                    color: "zoezi-edit-color"
                }
            })], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    text: "",
                    color: "error"
                },
                on: {
                    click: function(e) {
                        t.showProgress = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Cancel")) + " ")])], 1)], 1)], 1), t.fileDialog.show ? i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.fileDialog.show,
                    callback: function(e) {
                        t.$set(t.fileDialog, "show", e)
                    },
                    expression: "fileDialog.show"
                }
            }, [i("v-card", [i("v-img", {
                ref: "image",
                staticStyle: {
                    width: "500px",
                    height: "500px"
                },
                attrs: {
                    src: t.$api.getImageUrl(t.fileDialog.file),
                    contain: ""
                },
                on: {
                    load: t.imageLoaded
                }
            }), i("v-card-text", [t._v(" " + t._s(t.$translate("Size")) + ": " + t._s(t.fileDialog.width) + " x " + t._s(t.fileDialog.height) + " px, " + t._s(t.humanFileSize) + " "), i("v-text-field", {
                attrs: {
                    label: t.$translate("Filename")
                },
                model: {
                    value: t.fileDialog.file.name,
                    callback: function(e) {
                        t.$set(t.fileDialog.file, "name", e)
                    },
                    expression: "fileDialog.file.name"
                }
            })], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                on: {
                    click: function(e) {
                        t.fileDialog.show = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Close")))])], 1)], 1)], 1) : t._e()], 1)
        }
          , iu = []
          , su = {
            name: "MediaLibrary",
            components: {},
            props: {
                columns: {
                    type: Number,
                    default: 2
                },
                value: {
                    type: String
                },
                type: {
                    type: String
                },
                canShow: {
                    type: Boolean
                }
            },
            data: ()=>({
                files: [],
                selectedFile: null,
                fileToUpload: null,
                showProgress: !1,
                progress: 0,
                limit: 100,
                searchText: "",
                fileDialog: {
                    show: !1,
                    file: null,
                    width: null,
                    height: null
                }
            }),
            watch: {
                value(t) {
                    console.log("Value changed for media lib"),
                    this.selectedFile = t
                }
            },
            computed: {
                fileRows() {
                    return Object(a["chunk"])(this.sortedFiles, this.columns)
                },
                filteredFiles() {
                    if (!this.searchText)
                        return this.files;
                    let t = this.searchText.toLowerCase();
                    return this.files.filter(e=>-1 != e.name.toLowerCase().indexOf(t))
                },
                sortedFiles() {
                    return this.filteredFiles.concat().sort((t,e)=>-t.created.localeCompare(e.created)).slice(0, this.limit)
                },
                humanFileSize() {
                    if (!this.fileDialog.show || !this.fileDialog.file)
                        return "";
                    let t = this.fileDialog.file.size;
                    return t < 1024 ? t + " bytes" : t < 1048576 ? ((t / 1024).toFixed(0) + " kB").replace(".", ",") : ((t / 1048576).toFixed(1) + " MB").replace(".", ",")
                },
                uploadTitle() {
                    const t = "image" == this.type ? "image" : "video" == this.type ? "video" : "file";
                    return this.$translate("Upload") + " " + this.$translate(t)
                }
            },
            methods: {
                getFileUrl(t, e) {
                    return this.$api.getImageUrl(t, e, {
                        notrack: !0
                    })
                },
                fileChanged() {
                    this.$emit("change", this.selectedFile)
                },
                uploadFile(t) {
                    this.showProgress = !0;
                    const e = new FormData;
                    e.append("file", t),
                    e.append("data", JSON.stringify({
                        origin_type: "homepage"
                    })),
                    this.$api.post("/api/utils/file/upload", e).then(t=>t.json().then(t=>{
                        this.files.push(t),
                        this.selectedFile = t.key,
                        this.$emit("change", t.key),
                        this.showProgress = !1
                    }
                    ))
                },
                remove(t) {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Delete file"),
                        text: this.$translate("Are you sure you want to delete {0}?").format(t.name),
                        actionText: this.$translate("Delete"),
                        action: ()=>{
                            this.$api.post("/api/utils/file/remove", {
                                key: t.key
                            }).then(()=>{
                                this.loadFiles()
                            }
                            )
                        }
                    })
                },
                loadFiles() {
                    let t = this.type
                      , e = function(e) {
                        return !t || ("image" == t ? e.is_image : "video" != t || !e.is_image)
                    };
                    this.$api.post("/api/utils/file/get_list", {
                        origin_type: "homepage"
                    }).then(t=>t.json().then(t=>{
                        this.files = t.filter(e).map(t=>{
                            let e = {
                                name: t.name,
                                key: t.key,
                                created: t.created,
                                content_type: t.content_type,
                                size: t.size
                            };
                            return t.is_image && !t.acl && 4 == t.storage && t.variants && (e.variants = t.variants.split(",").map(Number)),
                            e
                        }
                        )
                    }
                    ))
                },
                imageLoaded() {
                    let t = this.$refs.image.image;
                    this.fileDialog.width = t.naturalWidth,
                    this.fileDialog.height = t.naturalHeight
                },
                cardClicked(t, e, i, s) {
                    this.canShow ? (this.fileDialog.show = !0,
                    this.fileDialog.file = e) : i ? this.fileChanged() : s(t)
                }
            },
            mounted() {
                this.loadFiles()
            }
        }
          , au = su
          , ou = i("d903")
          , nu = i("604c")
          , ru = Object(p["a"])(au, eu, iu, !1, null, null, null)
          , lu = ru.exports;
        g()(ru, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VHover: ss["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VItem: ou["a"],
            VItemGroup: nu["b"],
            VProgressLinear: rc["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var cu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-text-editor"
            }, [t.bubble ? i("editor-menu-bubble", {
                attrs: {
                    editor: t.editor,
                    "keep-in-bounds": t.keepInBounds
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.commands
                          , a = e.isActive
                          , o = e.getMarkAttrs
                          , n = e.menu;
                        return [i("div", {
                            staticClass: "menububble",
                            class: {
                                "is-active": n.isActive
                            },
                            style: "left: " + n.left + "px; bottom: " + n.bottom + "px;"
                        }, [t.linkMenuIsActive ? i("form", {
                            staticClass: "menububble__form",
                            on: {
                                submit: function(e) {
                                    return e.preventDefault(),
                                    t.setLinkUrl(s.link, t.linkUrl)
                                }
                            }
                        }, [i("v-text-field", {
                            ref: "linkInput",
                            attrs: {
                                placeholder: "https://"
                            },
                            on: {
                                keydown: function(e) {
                                    return !e.type.indexOf("key") && t._k(e.keyCode, "esc", 27, e.key, ["Esc", "Escape"]) ? null : t.hideLinkMenu.apply(null, arguments)
                                }
                            },
                            model: {
                                value: t.linkUrl,
                                callback: function(e) {
                                    t.linkUrl = e
                                },
                                expression: "linkUrl"
                            }
                        }), i("button", {
                            staticClass: "menububble__button",
                            attrs: {
                                type: "button"
                            },
                            on: {
                                click: function(e) {
                                    return t.setLinkUrl(s.link, null)
                                }
                            }
                        }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1) : t._e(), t._l(t.headingLevels, (function(e) {
                            return i("v-btn", {
                                key: e,
                                staticClass: "menububble__button",
                                class: {
                                    "is-active": a.heading({
                                        level: e
                                    })
                                },
                                attrs: {
                                    color: "primary",
                                    small: "",
                                    outlined: !a.heading({
                                        level: e
                                    })
                                },
                                on: {
                                    click: function(t) {
                                        return s.heading({
                                            level: e
                                        })
                                    }
                                }
                            }, [i("v-icon", [t._v(t._s("mdi-format-header-" + e))])], 1)
                        }
                        )), i("v-btn", {
                            staticClass: "menububble__button",
                            class: {
                                "is-active": a.bold()
                            },
                            attrs: {
                                small: "",
                                color: "primary",
                                outlined: !a.bold()
                            },
                            on: {
                                click: s.bold
                            }
                        }, [i("v-icon", [t._v("mdi-format-bold")])], 1), i("v-btn", {
                            staticClass: "menububble__button",
                            class: {
                                "is-active": a.italic()
                            },
                            attrs: {
                                small: "",
                                color: "primary",
                                outlined: !a.italic()
                            },
                            on: {
                                click: s.italic
                            }
                        }, [i("v-icon", [t._v("mdi-format-italic")])], 1), i("v-btn", {
                            staticClass: "menububble__button",
                            class: {
                                "is-active": a.link()
                            },
                            attrs: {
                                small: "",
                                color: "primary",
                                outlined: !a.link()
                            },
                            on: {
                                click: function(e) {
                                    t.showLinkMenu(o("link"))
                                }
                            }
                        }, [i("v-icon", [t._v("mdi-link-variant")])], 1), i("v-btn", {
                            staticClass: "menububble__button",
                            class: {
                                "is-active": a.bullet_list()
                            },
                            attrs: {
                                small: "",
                                color: "primary",
                                outlined: !a.bullet_list()
                            },
                            on: {
                                click: s.bullet_list
                            }
                        }, [i("v-icon", [t._v("mdi-format-list-bulleted")])], 1), i("v-btn", {
                            staticClass: "menububble__button",
                            class: {
                                "is-active": a.ordered_list()
                            },
                            attrs: {
                                small: "",
                                color: "primary",
                                outlined: !a.ordered_list()
                            },
                            on: {
                                click: s.ordered_list
                            }
                        }, [i("v-icon", [t._v("mdi-format-list-numbered")])], 1)], 2)]
                    }
                }])
            }) : i("editor-menu-bar", {
                attrs: {
                    editor: t.editor
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.commands
                          , a = e.isActive
                          , o = e.getMarkAttrs
                          , n = e.focused;
                        return [i("div", {
                            staticClass: "menubar is-hidden",
                            class: {
                                "is-focused": n
                            }
                        }, [t.linkMenuIsActive ? i("form", {
                            staticClass: "menububble__form",
                            on: {
                                submit: function(e) {
                                    return e.preventDefault(),
                                    t.setLinkUrl(s.link, t.linkUrl)
                                }
                            }
                        }, [i("input", {
                            directives: [{
                                name: "model",
                                rawName: "v-model",
                                value: t.linkUrl,
                                expression: "linkUrl"
                            }],
                            ref: "linkInput",
                            staticClass: "menububble__input",
                            attrs: {
                                type: "text",
                                placeholder: "https://"
                            },
                            domProps: {
                                value: t.linkUrl
                            },
                            on: {
                                keydown: function(e) {
                                    return !e.type.indexOf("key") && t._k(e.keyCode, "esc", 27, e.key, ["Esc", "Escape"]) ? null : t.hideLinkMenu.apply(null, arguments)
                                },
                                input: function(e) {
                                    e.target.composing || (t.linkUrl = e.target.value)
                                }
                            }
                        }), i("button", {
                            staticClass: "menububble__button",
                            attrs: {
                                type: "button"
                            },
                            on: {
                                click: function(e) {
                                    return t.setLinkUrl(s.link, null)
                                }
                            }
                        }, [i("v-icon", [t._v("mdi-delete")])], 1)]) : t._e(), t._l(t.headingLevels, (function(e) {
                            return i("v-btn", {
                                key: e,
                                staticClass: "menubar__button",
                                class: {
                                    "is-active": a.heading({
                                        level: e
                                    })
                                },
                                on: {
                                    click: function(t) {
                                        return s.heading({
                                            level: e
                                        })
                                    }
                                }
                            }, [i("v-icon", {
                                attrs: {
                                    color: a.heading({
                                        level: e
                                    }) ? "primary" : void 0
                                }
                            }, [t._v(t._s("mdi-format-header-" + e))])], 1)
                        }
                        )), i("v-btn", {
                            staticClass: "menubar__button",
                            class: {
                                "is-active": a.bold()
                            },
                            on: {
                                click: s.bold
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: a.bold() ? "primary" : void 0
                            }
                        }, [t._v("mdi-format-bold")])], 1), i("v-btn", {
                            staticClass: "menubar__button",
                            class: {
                                "is-active": a.italic()
                            },
                            on: {
                                click: s.italic
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: a.italic() ? "primary" : void 0
                            }
                        }, [t._v("mdi-format-italic")])], 1), i("v-btn", {
                            staticClass: "menubar__button",
                            class: {
                                "is-active": a.link()
                            },
                            on: {
                                click: function(e) {
                                    t.showLinkMenu(o("link"))
                                }
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: a.link() ? "primary" : void 0
                            }
                        }, [t._v("mdi-link-variant")])], 1), i("v-btn", {
                            staticClass: "menubar__button",
                            class: {
                                "is-active": a.bullet_list()
                            },
                            on: {
                                click: s.bullet_list
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: a.bullet_list() ? "primary" : void 0
                            }
                        }, [t._v("mdi-format-list-bulleted")])], 1), i("v-btn", {
                            staticClass: "menubar__button",
                            class: {
                                "is-active": a.ordered_list()
                            },
                            on: {
                                click: s.ordered_list
                            }
                        }, [i("v-icon", {
                            attrs: {
                                color: a.ordered_list() ? "primary" : void 0
                            }
                        }, [t._v("mdi-format-list-numbered")])], 1)], 2)]
                    }
                }], null, !1, 469613662)
            }), i("editor-content", {
                attrs: {
                    editor: t.editor
                }
            })], 1)
        }
          , du = []
          , uu = i("cd42")
          , hu = i("f23d")
          , mu = {
            name: "zoezi-text-editor",
            components: {
                EditorContent: uu["b"],
                EditorMenuBubble: uu["d"],
                EditorMenuBar: uu["c"]
            },
            props: ["value", "placeholder", "bubble", "min-height"],
            data: ()=>({
                editor: null,
                keepInBounds: !0,
                headingLevels: 3,
                linkUrl: null,
                linkMenuIsActive: !1
            }),
            methods: {
                showLinkMenu(t) {
                    this.linkUrl = t.href,
                    this.linkMenuIsActive = !0,
                    this.$nextTick(()=>{
                        this.$refs.linkInput.focus()
                    }
                    )
                },
                hideLinkMenu() {
                    this.linkUrl = null,
                    this.linkMenuIsActive = !1
                },
                setLinkUrl(t, e) {
                    t({
                        href: e
                    }),
                    this.hideLinkMenu()
                }
            },
            created() {
                let t = [];
                for (let e = 0; e < this.headingLevels; ++e)
                    t.push(e + 1);
                this.editor = new uu["a"]({
                    content: this.value,
                    extensions: [new hu["d"]({
                        levels: t
                    }), new hu["c"], new hu["a"], new hu["f"], new hu["e"], new hu["h"], new hu["b"], new hu["g"], this.placeholder ? new hu["i"]({
                        emptyNodeText: this.placeholder,
                        emptyEditorClass: "is-editor-empty"
                    }) : null].filter(t=>t),
                    onUpdate: ({getHTML: t})=>{
                        this.$emit("input", t())
                    }
                })
            },
            beforeDestroy() {
                this.editor.destroy()
            }
        }
          , pu = mu
          , vu = Object(p["a"])(pu, cu, du, !1, null, null, null)
          , gu = vu.exports;
        g()(vu, {
            VBtn: O["a"],
            VIcon: y["a"],
            VTextField: z["a"]
        });
        var fu = i("8c33")
          , bu = i("6ace")
          , yu = {
            name: "zoezi-news-compose",
            components: {
                MediaLibrary: lu,
                Editor: gu,
                ZoeziUserAvatar: co["a"],
                DateField: fu["a"],
                TimeField: bu["a"]
            },
            props: {
                categories: {
                    type: Array
                },
                newsItem: {
                    type: Object
                }
            },
            computed: {
                canPublish() {
                    var t;
                    return this.title && this.content && (null === (t = this.publishCategories) || void 0 === t ? void 0 : t.length)
                }
            },
            watch: {
                categories: {
                    immediate: !0,
                    handler() {
                        var t;
                        this.publishCategories = null === (t = this.categories) || void 0 === t ? void 0 : t.filter(t=>t)
                    }
                },
                newsItem: {
                    immediate: !0,
                    handler() {
                        if (this.newsItem) {
                            this.editing = !0,
                            this.imagekey = this.newsItem.imagekey,
                            this.title = this.newsItem.title,
                            this.content = this.newsItem.content,
                            this.publishCategories = this.newsItem.categories.concat();
                            let t = this.newsItem.published.split(" ");
                            this.published.date = t[0],
                            this.published.time = t[1]
                        }
                    }
                },
                editing() {
                    this.editing || (this.$emit("close"),
                    this.reset())
                }
            },
            data: ()=>({
                categoryItems: [],
                editing: !1,
                loading: !1,
                publishCategories: [],
                title: "",
                content: "",
                imagekey: null,
                showMediaLibrary: !1,
                categorySearchInput: "",
                published: {
                    date: "",
                    time: ""
                }
            }),
            methods: {
                publish() {
                    this.loading = !0;
                    let t = [this.published.date || Date.today().yyyymmdd(), this.published.time].filter(Boolean).join(" ")
                      , e = {
                        title: this.title,
                        imagekey: this.imagekey,
                        content: this.content,
                        categories: this.publishCategories,
                        published: t
                    };
                    this.newsItem ? (e.id = this.newsItem.id,
                    this.$api.post("/api/news/item/change", e).then(t=>{
                        this.loading = !1,
                        t.ok ? (this.editing = !1,
                        this.reset()) : this.$store.commit("showErrorDialog", {
                            title: "Ändra inlägg misslyckades",
                            text: "Det gick inte att ändra inlägget"
                        })
                    }
                    )) : this.$api.post("/api/news/item/add", e).then(t=>{
                        this.loading = !1,
                        t.ok ? (this.editing = !1,
                        this.reset()) : this.$store.commit("showErrorDialog", {
                            title: "Skapa inlägg misslyckades",
                            text: "Det gick inte att skapa ett nytt inlägg"
                        })
                    }
                    )
                },
                imageSelected(t) {
                    this.imagekey = t,
                    this.showMediaLibrary = !1
                },
                getCategories() {
                    return this.$api.get("/api/news/category/get").then(t=>this.categoryItems = t.sort((t,e)=>t.name.localeCompare(e.name)))
                },
                addCategory(t) {
                    this.$api.post("/api/news/category/add", {
                        name: t
                    }).then(()=>{
                        this.getCategories().then(()=>{
                            let e = this.categoryItems.find(e=>e.name == t);
                            e && (this.publishCategories || (this.publishCategories = []),
                            this.publishCategories.push(e.id)),
                            this.categorySearchInput = ""
                        }
                        )
                    }
                    )
                },
                reset() {
                    var t;
                    this.title = "",
                    this.imagekey = null,
                    this.content = "",
                    this.publishCategories = null === (t = this.categories) || void 0 === t ? void 0 : t.filter(t=>t)
                }
            },
            mounted() {
                this.getCategories()
            }
        }
          , _u = yu
          , ku = i("c6a6")
          , wu = Object(p["a"])(_u, Zd, tu, !1, null, null, null)
          , Cu = wu.exports;
        g()(wu, {
            VAutocomplete: ku["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VListItem: wt["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var xu = {
            name: "zoezi-news-display",
            zoezi: {
                title: "News post",
                icon: "mdi-newspaper-variant-outline",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "id",
                        prop: "itemKey"
                    }]
                })
            },
            components: {
                NewsCompose: Cu
            },
            props: {
                itemKey: {
                    title: "News item key",
                    type: Number
                },
                value: {
                    type: Object,
                    default: ()=>null
                },
                showDate: {
                    title: "Show date",
                    type: Boolean,
                    default: !0
                },
                showAuthor: {
                    title: "Show author",
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                item: null,
                editArticle: !1
            }),
            computed: {
                date() {
                    return Date.formatFullShort(this.item.published)
                },
                hasPostPermission() {
                    var t, e, i;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.user) || void 0 === e || null === (i = e.permissions) || void 0 === i ? void 0 : i.find(t=>"Mailing handling" == t)
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler() {
                        this.item = this.value
                    }
                },
                itemKey: {
                    immediate: !0,
                    handler(t) {
                        if (null != t) {
                            let e = Number.isInteger(t) ? {
                                id: t
                            } : {
                                key: t
                            };
                            this.$api.get("/api/news/item/get", e).then(t=>{
                                this.item = t
                            }
                            ).catch(()=>{
                                console.log("itemLoadingFailed")
                            }
                            )
                        }
                    }
                }
            },
            methods: {
                remove(t) {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove post"),
                        text: this.$translate("Are you sure you want to remove the post?"),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.$api.post("/api/news/item/remove", null, {
                                id: t.id
                            }).then(()=>{
                                this.currentArticle = null
                            }
                            )
                        }
                    })
                }
            }
        }
          , $u = xu
          , Su = i("a523")
          , Du = Object(p["a"])($u, Jd, Xd, !1, null, null, null)
          , zu = Du.exports;
        g()(Du, {
            VCardText: G["b"],
            VContainer: Su["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"]
        });
        var Tu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.hasPostPermission ? i("news-compose", {
                attrs: {
                    categories: t.categories
                }
            }) : t._e(), t.hasPostPermission ? i("v-switch", {
                attrs: {
                    label: t.$translate("Show not yet published news")
                },
                model: {
                    value: t.showUnpublished,
                    callback: function(e) {
                        t.showUnpublished = e
                    },
                    expression: "showUnpublished"
                }
            }) : t._e(), i("section", {
                staticClass: "zoezi-news-items",
                class: {
                    "zoezi-news-blog": t.blogStyle
                }
            }, t._l(t.filteredNewsItems, (function(e) {
                return i("news-card", {
                    key: e.id,
                    staticClass: "zoezi-news-card",
                    attrs: {
                        item: e,
                        "show-date": t.showDate,
                        "show-author": t.showAuthor,
                        "blog-style": t.blogStyle,
                        flat: t.flat,
                        tile: t.flat
                    },
                    on: {
                        clicked: function(i) {
                            return t.showNewsCard(t.newsItemPage, e)
                        }
                    }
                })
            }
            )), 1), t.currentArticle ? i("v-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "600px",
                    transition: "dialog-bottom-transition"
                },
                model: {
                    value: t.currentArticle,
                    callback: function(e) {
                        t.currentArticle = e
                    },
                    expression: "currentArticle"
                }
            }, [i("v-card", {
                staticClass: "zoezi-news-dialog"
            }, [i("v-btn", {
                staticStyle: {
                    position: "absolute",
                    "z-index": "1",
                    right: "0"
                },
                attrs: {
                    icon: "",
                    color: "white"
                },
                on: {
                    click: function(e) {
                        t.currentArticle = null
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1), i("news-display", {
                attrs: {
                    value: t.currentArticle,
                    "show-date": t.showDate,
                    "show-author": t.showAuthor
                }
            }), i("v-divider"), i("v-card-actions", [i("v-btn", {
                attrs: {
                    block: "",
                    color: "primary",
                    text: ""
                },
                on: {
                    click: function(e) {
                        t.currentArticle = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1) : t._e()], 1)
        }
          , Iu = []
          , Pu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                attrs: {
                    tile: t.flat,
                    flat: t.flat,
                    ripple: !1
                },
                on: {
                    click: t.toggleCard
                }
            }, [t.item.imagekey ? i("v-auto-img", {
                attrs: {
                    src: t.item.imagekey,
                    ar: 1.5
                }
            }) : t._e(), t.item.imagekey || t.blogStyle ? t._e() : i("div", {
                staticClass: "no-image-title"
            }, [i("div", [t._v(t._s(t.item.title))])]), i("v-card-text", {
                class: {
                    "no-addon": !t.showDate && !t.showAuthor
                }
            }, [i("h2", {
                staticClass: "zoezi-news-title"
            }, [t._v(t._s(t.item.title))]), i("div", {
                staticClass: "zoezi-news-content",
                domProps: {
                    innerHTML: t._s(t.item.content)
                }
            }), t.showDate || t.showAuthor ? i("div", [t.showDate ? i("span", {
                staticClass: "zoezi-date"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-clock-outline")]), t._v(t._s(t.date))], 1) : t._e(), t.showAuthor && t.item.author ? i("span", {
                staticClass: "zoezi-author"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-account")]), t._v(t._s(t.item.author.firstname) + " " + t._s(t.item.author.lastname))], 1) : t._e()]) : t._e()])], 1)
        }
          , Vu = []
          , Bu = {
            name: "zoezi-news-card",
            props: ["item", "showDate", "showAuthor", "flat", "blogStyle"],
            methods: {
                toggleCard() {
                    if (!this.blogStyle && !this.$root.edit) {
                        let t = this.item;
                        this.$emit("clicked", t)
                    }
                }
            },
            computed: {
                date() {
                    return Date.formatFullShort(this.item.published)
                }
            },
            data: ()=>({})
        }
          , Fu = Bu
          , Eu = (i("c005"),
        Object(p["a"])(Fu, Pu, Vu, !1, null, null, null))
          , Ou = Eu.exports;
        g()(Eu, {
            VCard: x["a"],
            VCardText: G["b"],
            VIcon: y["a"]
        });
        var Mu = {
            name: "zoezi-news-list",
            zoezi: {
                title: "News list",
                icon: "mdi-newspaper-variant-outline",
                getDefaultStyle: ()=>({
                    pageParams: [{
                        id: "n",
                        prop: "currentArticleTitle"
                    }]
                })
            },
            components: {
                NewsCompose: Cu,
                NewsDisplay: zu,
                NewsCard: Ou
            },
            props: {
                categories: {
                    title: "Categories",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        placeholder: "Show all news",
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/news/category/get")
                    }
                },
                blogStyle: {
                    title: "Show the full news without clicking",
                    type: Boolean,
                    default: !1
                },
                showDate: {
                    title: "Show date",
                    type: Boolean,
                    default: !0
                },
                showAuthor: {
                    title: "Show author",
                    type: Boolean,
                    default: !0
                },
                flat: {
                    title: "Flat list",
                    type: Boolean,
                    default: !1
                },
                maxNumberOfItems: {
                    title: "Maximum number of news items displayed",
                    typeinfo: {
                        placeholder: "Show all news"
                    },
                    type: Number
                },
                newsItemPage: {
                    title: "Page with news post",
                    type: String,
                    fulltype: "page"
                },
                currentArticleId: {
                    title: "Show news - ID",
                    type: Number
                },
                currentArticleTitle: {
                    title: "Show news - headline",
                    type: String
                }
            },
            data: ()=>({
                newsItems: [],
                currentArticle: null,
                editArticle: !1,
                showUnpublished: !1
            }),
            watch: {
                currentArticle: {
                    immediate: !1,
                    handler(t) {
                        let e = t ? t.id : null;
                        e != this.currentArticleId && this.setProp("currentArticleId", e);
                        let i = t ? Object(o["A"])(t.title).substring(1) : null;
                        i != this.currentArticleTitle && this.setProp("currentArticleTitle", i)
                    }
                }
            },
            computed: {
                hasPostPermission() {
                    var t, e, i;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.user) || void 0 === e || null === (i = e.permissions) || void 0 === i ? void 0 : i.find(t=>"Mailing handling" == t)
                },
                filteredNewsItems() {
                    let t = this.newsItems;
                    return t = t.filter(t=>this.showUnpublished ? !this.isPublished(t) : this.isPublished(t)),
                    this.maxNumberOfItems && (t = t.slice(0, this.maxNumberOfItems)),
                    t
                }
            },
            methods: {
                getNewsItems() {
                    this.$api.get("/api/news/list/get", {
                        categories: (this.categories || []).filter(t=>t)
                    }).then(t=>{
                        this.newsItems = t,
                        this.currentArticleId ? this.currentArticle = this.newsItems.find(t=>t.id == this.currentArticleId) : this.currentArticleTitle && (this.currentArticle = this.newsItems.find(t=>Object(o["A"])(t.title).substring(1) == this.currentArticleTitle))
                    }
                    )
                },
                showNewsCard(t, e) {
                    t ? this.$root.followLink(t, encodeURIComponent(e.key)) : (this.setProp("currentArticleId", e.id),
                    this.currentArticle = e)
                },
                isPublished(t) {
                    return !Date.newFull(t.published).isFuture()
                }
            },
            mounted() {
                this.getNewsItems(),
                this.$root.$api.subscribe({
                    type: "newsitem",
                    callback: ()=>this.getNewsItems()
                })
            }
        }
          , Au = Mu
          , Ru = (i("b6fd"),
        Object(p["a"])(Au, Tu, Iu, !1, null, null, null))
          , Lu = Ru.exports;
        g()(Ru, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VDialog: K["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VSwitch: ce["a"]
        });
        var ju = i("4db0")
          , Nu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("hr", {
                staticClass: "z-separator",
                style: t.separatorStyle
            })
        }
          , Wu = []
          , qu = {
            name: "zoezi-separator",
            zoezi: {
                title: "Separator",
                icon: "mdi-arrow-expand-vertical"
            },
            props: {
                width: {
                    title: "Width",
                    type: Number
                },
                height: {
                    title: "Height",
                    type: Number,
                    default: 1
                },
                color: {
                    title: "Color",
                    type: String,
                    fulltype: "color"
                }
            },
            computed: {
                separatorStyle() {
                    return {
                        "background-color": this.color ? this.$root.colorToHex(this.color) : "transparent",
                        height: this.height + "px",
                        width: this.width + "px"
                    }
                }
            }
        }
          , Hu = qu
          , Uu = Object(p["a"])(Hu, Nu, Wu, !1, null, null, null)
          , Yu = Uu.exports
          , Gu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                attrs: {
                    flat: "",
                    tile: "",
                    height: t.$root.edit ? t.height || 200 : t.height
                }
            }, [t.$root.edit && !t.height ? i("div", {
                staticClass: "fill-height"
            }, [i("div", {
                staticClass: "d-flex fill-height"
            }, [i("v-btn", {
                staticClass: "z-center-margin",
                attrs: {
                    fab: "",
                    small: "",
                    color: "zoezi-edit-color",
                    elevation: "3"
                },
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.showDialog = !0
                    }
                }
            }, [i("v-icon", {
                staticClass: "zoezi-edit-text-color"
            }, [t._v("mdi-plus")])], 1)], 1), t.showDialog ? i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto",
                    "min-height": "90vh"
                },
                attrs: {
                    width: "440px"
                }
            }, [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Choose component")) + " "), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "white--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", [i("component-palette", {
                attrs: {
                    component: t.thisComponent
                }
            })], 1)], 1)], 1) : t._e()], 1) : t._e()])
        }
          , Ku = []
          , Qu = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "px-2"
            }, [i("v-row", [i("v-col", [i("v-text-field", {
                attrs: {
                    autofocus: "",
                    label: t.$translate("Search"),
                    "append-icon": "mdi-magnify",
                    "single-line": "",
                    "hide-details": "",
                    color: "zoezi-edit-color"
                },
                on: {
                    keydown: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.setIfOne.apply(null, arguments)
                    }
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            })], 1)], 1), t._l(t.componentRows, (function(e, s) {
                return i("v-row", {
                    key: s
                }, t._l(e, (function(e) {
                    return i("v-col", {
                        key: e.name,
                        attrs: {
                            cols: 12 / t.columns
                        }
                    }, [i("v-hover", {
                        scopedSlots: t._u([{
                            key: "default",
                            fn: function(s) {
                                var a = s.hover;
                                return [i("v-card", {
                                    class: t.selectedComponent == e.name || a && !t.disabled ? ["zoezi-edit-color"] : void 0,
                                    attrs: {
                                        width: "200",
                                        elevation: a && !t.disabled ? 24 : 6
                                    },
                                    on: {
                                        click: function(i) {
                                            return t.setComponent(e)
                                        }
                                    }
                                }, [i("v-card-text", {
                                    class: t.selectedComponent == e.name || a ? "zoezi-edit-text-color" : void 0,
                                    attrs: {
                                        justify: "center",
                                        align: "center"
                                    }
                                }, [i("v-icon", {
                                    class: t.selectedComponent == e.name || a ? "zoezi-edit-text-color" : ""
                                }, [t._v(t._s(e.zoezi.icon))]), i("br"), i("span", [t._v(t._s(t.$translate(e.zoezi.title)))])], 1)], 1)]
                            }
                        }], null, !0)
                    })], 1)
                }
                )), 1)
            }
            )), 0 == t.componentRows.length ? i("h4", {
                staticClass: "ma-4 text--secondary"
            }, [t._v(t._s(t.$translate("Found no component")))]) : t._e()], 2)
        }
          , Ju = []
          , Xu = {
            name: "ComponentPalette",
            props: {
                component: {
                    type: Object
                }
            },
            data: ()=>({
                columns: 2,
                search: "",
                selectedComponent: null
            }),
            watch: {
                "component.$options.name": {
                    immediate: !0,
                    handler() {
                        this.selectedComponent = this.component.$options.name
                    }
                }
            },
            computed: {
                config() {
                    return this.component.$parent._props.config
                },
                disabled() {
                    return "zoezi-root" == this.selectedComponent
                },
                components() {
                    let t = t=>{
                        var e;
                        return null === (e = t.zoezi) || void 0 === e || !e.addon || this.$store.state.settings.modules[t.zoezi.addon]
                    }
                      , e = this.search.toLowerCase();
                    return Yx.getComponents().filter(t).filter(t=>t.zoezi && t.zoezi.title && this.$translate(t.zoezi.title).toLowerCase().includes(e)).sort((t,e)=>this.$translate(t.zoezi.title).localeCompare(this.$translate(e.zoezi.title)))
                },
                componentRows() {
                    return Object(a["chunk"])(this.components, this.columns)
                }
            },
            methods: {
                setComponent(t) {
                    if (this.disabled)
                        return;
                    this.config.props = {},
                    Yx.getComponentProps(t.name).forEach(t=>{
                        t.default && !t.global && (this.config.props[t.name] = Object(a["isFunction"])(t.default) ? t.default() : t.default)
                    }
                    ),
                    this.config.id || (this.config.id = "0".repeat(64).replace(/0/g, (function() {
                        return (~~(16 * Math.random())).toString(16)
                    }
                    ))),
                    this.config.component = t.name;
                    let e = Yx.getComponent(t.name);
                    e.zoezi.getDefaultStyle && (this.config.style = Object.assign({}, e.zoezi.getDefaultStyle()));
                    let i = this.component.$parent;
                    i.save(),
                    i.select(),
                    this.search = "",
                    this.selectedComponent = t.name
                },
                setIfOne() {
                    1 == this.components.length && this.setComponent(this.components[0])
                }
            }
        }
          , Zu = Xu
          , th = Object(p["a"])(Zu, Qu, Ju, !1, null, null, null)
          , eh = th.exports;
        g()(th, {
            VCard: x["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VHover: ss["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var ih = {
            name: "zoezi-empty",
            zoezi: {
                title: "Empty",
                icon: "mdi-card-outline"
            },
            components: {
                ComponentPalette: eh
            },
            computed: {
                thisComponent() {
                    return this
                }
            },
            props: {
                height: {
                    title: "Height",
                    type: String,
                    fulltype: "csssize"
                }
            },
            data: ()=>({
                showDialog: !1
            }),
            migrations: [t=>{
                "string" !== typeof t.height && t.height && (t.height = t.height + "px")
            }
            ]
        }
          , sh = ih
          , ah = Object(p["a"])(sh, Gu, Ku, !1, null, null, null)
          , oh = ah.exports;
        g()(ah, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"]
        });
        var nh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.src ? i("figure", {
                staticClass: "zoezi-image"
            }, [i("img", t._g({
                class: t.classes,
                style: t.imageStyle,
                attrs: {
                    src: t.imageSource,
                    alt: t.alt
                }
            }, t.events)), t.caption ? i("figcaption", [t._v(t._s(t.caption))]) : t._e()]) : t._e()
        }
          , rh = []
          , lh = {
            name: "zoezi-image",
            zoezi: {
                title: "Image",
                icon: "mdi-image"
            },
            props: {
                src: {
                    title: "Image",
                    type: String,
                    fulltype: "image"
                },
                link: {
                    title: "Link",
                    type: String,
                    fulltype: "link"
                },
                caption: {
                    title: "Caption",
                    type: String
                },
                alt: {
                    title: "Alternative text",
                    type: String
                },
                maxwidth: {
                    title: "Maximum width",
                    type: Number,
                    fulltype: "csssize"
                },
                autosize: {
                    title: "Adjust size automatically",
                    type: Boolean,
                    default: !0
                },
                radius: {
                    title: "Corner radius",
                    type: String,
                    fulltype: "csssize",
                    global: !0
                },
                elevation: {
                    title: "Elevation",
                    type: Number,
                    typeinfo: {
                        min: 0,
                        max: 24
                    },
                    global: !0
                },
                height: {
                    title: "Height (px)",
                    type: Number
                },
                width: {
                    title: "Width (px)",
                    type: Number
                }
            },
            watch: {
                src: {
                    immediate: !0,
                    handler() {
                        this.updateImageUrl()
                    }
                }
            },
            computed: {
                target() {
                    return this.link.newTab ? "_blank" : null
                },
                imageLink() {
                    return this.$root.edit ? "#" : this.link.href
                },
                imageStyle() {
                    let t = {};
                    return this.maxwidth && (t.maxWidth = this.maxwidth),
                    this.radius && (t["border-radius"] = this.radius),
                    this.height && (t["height"] = this.height + "px"),
                    this.width && (t["width"] = this.width + "px"),
                    t
                },
                classes() {
                    let t = [];
                    return this.elevation && t.push("elevation-" + this.elevation),
                    this.link && t.push("z-clickable"),
                    t
                },
                events() {
                    return !this.$root.edit && this.link ? {
                        click: ()=>{
                            this.$root.followLink(this.link)
                        }
                    } : {}
                }
            },
            data: ()=>({
                imageSource: ""
            }),
            methods: {
                updateImageUrl() {
                    this.$el ? this.setImageUrl() : this.$nextTick(this.setImageUrl)
                },
                setImageUrl() {
                    if (!this.$el)
                        return;
                    let t = null;
                    if (this.width || this.autosize) {
                        t = this.width || this.$el.offsetWidth;
                        for (let e of this.$api.thumbnailSizes.concat([null]))
                            if (t <= e || !e) {
                                t = e;
                                break
                            }
                    }
                    this.imageSource = this.$api.getImageUrl(this.src, t)
                }
            }
        }
          , ch = lh
          , dh = (i("e0c8"),
        Object(p["a"])(ch, nh, rh, !1, null, null, null))
          , uh = dh.exports
          , hh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$root.edit && t.$parent.isSelected ? i("editor", {
                attrs: {
                    bubble: !0
                },
                on: {
                    input: t.onChange
                },
                model: {
                    value: t.localHtml,
                    callback: function(e) {
                        t.localHtml = e
                    },
                    expression: "localHtml"
                }
            }) : i("div", {
                domProps: {
                    innerHTML: t._s(t.parsedHtml)
                }
            })
        }
          , mh = []
          , ph = {
            name: "zoezi-text-next",
            zoezi: {
                title: "Text with an editor",
                icon: "mdi-card-text-outline"
            },
            components: {
                Editor: gu
            },
            computed: {
                parsedHtml() {
                    var t;
                    return null === (t = this.html) || void 0 === t ? void 0 : t.replace(/{(.*?)}/gi, (t,e)=>this.getProperty(e))
                }
            },
            data: ()=>({
                localHtml: ""
            }),
            props: {
                html: {
                    title: "HTML",
                    type: String,
                    fulltype: "html"
                }
            },
            watch: {
                html: {
                    immediate: !0,
                    handler() {
                        this.localHtml = this.html
                    }
                }
            },
            methods: {
                onChange(t) {
                    this.$emit("silentsave", {
                        html: t
                    })
                },
                getProperty(t) {
                    return this.$store.state.user && void 0 !== this.$store.state.user[t] ? this.$store.state.user[t] : ""
                }
            }
        }
          , vh = ph
          , gh = Object(p["a"])(vh, hh, mh, !1, null, null, null)
          , fh = gh.exports
          , bh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-list-item", [i("v-list-item-content", [i("v-auto-img", {
                attrs: {
                    src: t.image,
                    height: t.cardHeight / 2,
                    contain: ""
                }
            }), i("v-list-item-title", [t._v(" " + t._s(t.title) + " ")]), t._v(" " + t._s(t.shortDescription) + " ")], 1)], 1)
        }
          , yh = []
          , _h = {
            name: "zoezi-product-card",
            zoezi: {
                title: "Product card",
                icon: "mdi-card-text"
            },
            props: {
                title: {
                    title: "Title",
                    type: String
                },
                image: {
                    title: "Image",
                    type: String,
                    fulltype: "image"
                },
                height: {
                    title: "Height (px)",
                    type: Number
                },
                shortDescription: {
                    title: "Short description",
                    type: String
                }
            },
            computed: {
                cardHeight() {
                    let t = function(e) {
                        if (e)
                            return "zoezi-product-list" == e.$options.name ? e : t(e.$parent)
                    };
                    if (this.height)
                        return this.height;
                    let e = t(this);
                    return e ? e.cardHeight : 200
                }
            }
        }
          , kh = _h
          , wh = Object(p["a"])(kh, bh, yh, !1, null, null, null)
          , Ch = wh.exports;
        g()(wh, {
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemTitle: Ct["c"]
        });
        var xh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-form", {
                ref: "form",
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, [t.name.check ? i("form-field", {
                attrs: {
                    field: t.nameField,
                    star: ""
                },
                model: {
                    value: t.nameField.value,
                    callback: function(e) {
                        t.$set(t.nameField, "value", e)
                    },
                    expression: "nameField.value"
                }
            }) : t._e(), t.mail.check ? i("form-field", {
                attrs: {
                    field: t.mailField,
                    star: ""
                },
                model: {
                    value: t.mailField.value,
                    callback: function(e) {
                        t.$set(t.mailField, "value", e)
                    },
                    expression: "mailField.value"
                }
            }) : t._e(), t.phone.check ? i("form-field", {
                attrs: {
                    field: t.phoneField,
                    star: ""
                },
                model: {
                    value: t.phoneField.value,
                    callback: function(e) {
                        t.$set(t.phoneField, "value", e)
                    },
                    expression: "phoneField.value"
                }
            }) : t._e(), t.message.check ? i("form-field", {
                attrs: {
                    field: t.messageField,
                    star: ""
                },
                model: {
                    value: t.messageField.value,
                    callback: function(e) {
                        t.$set(t.messageField, "value", e)
                    },
                    expression: "messageField.value"
                }
            }) : t._e()], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-spacer"), i("zoezi-button", {
                attrs: {
                    text: t.$translate(t.buttonText),
                    disabled: !t.formValid,
                    loading: t.loading
                },
                on: {
                    click: t.send
                }
            })], 1), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline",
                domProps: {
                    textContent: t._s(t.$translate(t.doneTitle))
                }
            }), i("v-card-text", {
                domProps: {
                    textContent: t._s(t.$translate(t.doneText))
                }
            }), i("v-card-actions", [i("v-spacer"), i("zoezi-button", {
                attrs: {
                    text: t.$translate("Ok")
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            })], 1)], 1)], 1)], 1)
        }
          , $h = []
          , Sh = {
            name: "zoezi-contact-form",
            components: {
                FormField: Ee["a"]
            },
            zoezi: {
                title: "Contact form",
                icon: "mdi-email"
            },
            props: {
                name: {
                    title: "Name",
                    type: Object,
                    fulltype: "checktoggle",
                    typeinfo: {
                        header: ["Include field", "Required"]
                    },
                    default: ()=>({
                        check: !0,
                        toggle: !0
                    })
                },
                mail: {
                    title: "E-mail",
                    type: Object,
                    fulltype: "checktoggle",
                    default: ()=>({
                        check: !0,
                        toggle: !0
                    })
                },
                phone: {
                    title: "Phone",
                    type: Object,
                    fulltype: "checktoggle",
                    default: ()=>({
                        check: !1,
                        toggle: !0
                    })
                },
                message: {
                    title: "Message",
                    type: Object,
                    fulltype: "checktoggle",
                    default: ()=>({
                        check: !0,
                        toggle: !0
                    })
                },
                receivers: {
                    title: "Recipient",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        placeholder: "Select staff",
                        nosort: !0,
                        getItems: ()=>window.$zoeziapi.get("/api/member/get/full").then(t=>t.filter(t=>t.staff).map(t=>({
                            id: t.id,
                            name: t.firstname ? t.firstname + " " + t.lastname : t.lastname
                        })))
                    },
                    default: ()=>[]
                },
                buttonText: {
                    title: "Button text",
                    type: String,
                    default: "Send"
                },
                doneTitle: {
                    title: "Reply header",
                    type: String,
                    default: "Message sent"
                },
                doneText: {
                    default: "Thank you for your message!"
                }
            },
            watch: {
                name: {
                    immediate: !0,
                    handler(t) {
                        this.nameField.required = t.toggle
                    }
                },
                mail: {
                    immediate: !0,
                    handler(t) {
                        this.mailField.required = t.toggle
                    }
                },
                phone: {
                    immediate: !0,
                    handler(t) {
                        this.phoneField.required = t.toggle
                    }
                },
                message: {
                    immediate: !0,
                    handler(t) {
                        this.messageField.required = t.toggle
                    }
                }
            },
            data: ()=>({
                nameField: {
                    type: "text",
                    title: "First & last name",
                    icon: "mdi-account",
                    required: !0,
                    value: ""
                },
                mailField: {
                    type: "email",
                    title: "E-mail",
                    icon: "mdi-email",
                    required: !0,
                    value: ""
                },
                phoneField: {
                    type: "phone",
                    title: "Mobile phone number",
                    icon: "mdi-cellphone-iphone",
                    required: !0,
                    value: ""
                },
                messageField: {
                    type: "textarea",
                    title: "Message",
                    icon: "mdi-message",
                    required: !0,
                    value: ""
                },
                formValid: !1,
                showDialog: !1,
                loading: !1
            }),
            methods: {
                send() {
                    if (!this.formValid)
                        return;
                    this.loading = !0;
                    let t = {
                        homepage_revision_id: this.$root.published_revision_id,
                        receivers: this.receivers
                    };
                    this.name.check && (t.name = this.nameField.value),
                    this.mail.check && (t.mail = this.mailField.value),
                    this.phone.check && (t.phone = this.phoneField.value),
                    this.message.check && (t.message = this.messageField.value),
                    this.$api.post("/api/public/contactform/send", t).then(t=>{
                        t.ok ? (this.nameField.value = "",
                        this.mailField.value = "",
                        this.phoneField.value = "",
                        this.messageField.value = "",
                        this.$refs.form.reset(),
                        this.showDialog = !0) : this.$store.commit("showErrorDialog", {
                            title: this.$translate("Error"),
                            text: this.$translate("Unfortunately, the message could not be sent")
                        }),
                        this.loading = !1
                    }
                    )
                }
            }
        }
          , Dh = Sh
          , zh = Object(p["a"])(Dh, xh, $h, !1, null, null, null)
          , Th = zh.exports;
        g()(zh, {
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VSpacer: J["a"]
        });
        var Ih = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.user ? i("div", [i("div", {
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple"
                }],
                staticClass: "logoutbutton d-inline-block z-clickable red--text text-center",
                on: {
                    click: function(e) {
                        return t.$store.dispatch("logout")
                    }
                }
            }, [i("div", [i("v-icon", {
                attrs: {
                    color: "red"
                }
            }, [t._v("mdi-logout")])], 1), i("div", [t._v(t._s(t.$translate("Log out")))])])]) : i("div")
        }
          , Ph = []
          , Vh = {
            name: "zoezi-logout",
            zoezi: {
                title: "Log out",
                icon: "mdi-logout"
            }
        }
          , Bh = Vh
          , Fh = Object(p["a"])(Bh, Ih, Ph, !1, null, null, null)
          , Eh = Fh.exports;
        g()(Fh, {
            VIcon: y["a"]
        }),
        rr()(Fh, {
            Ripple: lr["a"]
        });
        var Oh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: t.color,
                    text: "",
                    height: "inherit"
                },
                on: {
                    click: t.buttonClicked
                }
            }, [i("v-icon", [t._v(t._s(t.icon))]), i("div", [t._v(t._s(t.translateTitle ? t.$translate(t.title) : t.title))])], 1)
        }
          , Mh = []
          , Ah = {
            name: "zoezi-bottom-bar-button",
            zoezi: {
                title: "Bottom row button",
                icon: "mdi-gesture-tap-button"
            },
            props: {
                title: {
                    title: "Title",
                    type: String,
                    default: "Knapp"
                },
                icon: {
                    title: "Icon",
                    type: String,
                    fulltype: "icon",
                    default: "mdi-information-outline"
                },
                link: {
                    title: "Link",
                    type: String,
                    fulltype: "page",
                    default: "/"
                },
                color: {
                    title: "Text color",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                openMobileMenu: {
                    title: "Open mobile menu on click",
                    type: Boolean,
                    default: !1
                },
                translateTitle: {
                    title: "Translate title",
                    type: Boolean,
                    default: !0
                }
            },
            methods: {
                buttonClicked() {
                    this.openMobileMenu ? this.$store.commit("setShowMobileMenu", !this.$store.state.showMobileMenu) : this.openQrScanner ? this.$store.commit("showCheckinDialog", {
                        checkinResources: this.checkinResources,
                        onlyShowQrScanner: !0
                    }) : !this.$root.edit && this.link ? this.$root.followLink(this.link) : this.$emit("click")
                }
            }
        }
          , Rh = Ah
          , Lh = (i("1327"),
        Object(p["a"])(Rh, Oh, Mh, !1, null, null, null))
          , jh = Lh.exports;
        g()(Lh, {
            VBtn: O["a"],
            VIcon: y["a"]
        });
        var Nh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("qrcode-stream", {
                attrs: {
                    camera: t.camera,
                    torch: t.flashActive
                },
                on: {
                    decode: t.onDecode,
                    init: t.onInit
                }
            }, [t.hasFlash ? i("v-btn", {
                staticClass: "camera-btn ml-4 mb-4",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.flashActive = !t.flashActive
                    }
                }
            }, [i("v-icon", [t._v("mdi-flash")])], 1) : t._e(), t.noCameras > 1 ? i("v-btn", {
                staticClass: "camera-btn ml-4 mb-4",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: t.switchCamera
                }
            }, [i("v-icon", [t._v("mdi-camera-retake-outline")])], 1) : t._e(), t.loading ? i("v-container", {
                staticClass: "text-center",
                staticStyle: {
                    top: "50%"
                }
            }, [i("v-progress-circular", {
                attrs: {
                    color: "primary",
                    indeterminate: "",
                    size: "64"
                }
            })], 1) : t._e()], 1)], 1)
        }
          , Wh = []
          , qh = i("bb6f")
          , Hh = {
            components: {
                QrcodeStream: qh["QrcodeStream"]
            },
            name: "zoezi-qr-scanner",
            zoezi: {
                title: "QR scanner",
                icon: "mdi-qrcode-scan"
            },
            data: ()=>({
                camera: "auto",
                noCameras: 0,
                flashActive: !1,
                hasFlash: null,
                loading: !1
            }),
            methods: {
                onDecode(t) {
                    this.code = t,
                    this.$emit("scan", t)
                },
                async onInit(t) {
                    this.loading = !0;
                    try {
                        var e;
                        const {capabilities: i} = await t;
                        this.hasFlash = !!i.torch;
                        const s = (await navigator.mediaDevices.enumerateDevices()).filter(({kind: t})=>"videoinput" === t).filter(({label: t})=>!["OBS Virtual Camera", "OBS-Camera"].includes(t)).filter(({label: t})=>!t.includes("infrared"));
                        this.noCameras = null !== (e = s.length) && void 0 !== e ? e : 0
                    } catch (i) {
                        console.error(i)
                    } finally {
                        this.loading = !1
                    }
                },
                switchCamera() {
                    switch (this.camera) {
                    case "front":
                        this.camera = "rear";
                        break;
                    case "rear":
                        this.camera = "front";
                        break
                    }
                }
            }
        }
          , Uh = Hh
          , Yh = (i("0087"),
        Object(p["a"])(Uh, Nh, Wh, !1, null, null, null))
          , Gh = Yh.exports;
        g()(Yh, {
            VBtn: O["a"],
            VContainer: Su["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"]
        });
        var Kh = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.hasMultiSites ? i("v-row", {
                staticClass: "zoezi-site-selector",
                class: {
                    compact: t.compact
                },
                on: {
                    click: function(e) {
                        t.sitesMenuOpen = !0
                    }
                }
            }, [i("v-col", {
                attrs: {
                    cols: "12"
                }
            }, [i("v-sheet", {
                staticClass: "primarytext--text multisite-selection pa-2",
                attrs: {
                    color: "primary",
                    rounded: ""
                }
            }, [i("div", {
                staticClass: "d-flex inside-sheet"
            }, [i("div", {
                staticClass: "flex-grow-1 marker-row"
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-map-marker-star-outline")]), i("span", [t._v(t._s(t.$translate("Choose location")))])], 1), i("v-menu", {
                attrs: {
                    "offset-y": "",
                    "close-on-content-click": !1,
                    "content-class": "primarytext"
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("div", t._g({
                            staticClass: "z-clickable"
                        }, s), [t._v(t._s(t.$translate(t.selectedSite.name)) + " "), i("v-icon", {
                            attrs: {
                                color: "primarytext"
                            }
                        }, [t._v("mdi-chevron-down")])], 1)]
                    }
                }], null, !1, 2457226355),
                model: {
                    value: t.sitesMenuOpen,
                    callback: function(e) {
                        t.sitesMenuOpen = e
                    },
                    expression: "sitesMenuOpen"
                }
            }, [i("v-text-field", {
                staticClass: "mx-2",
                attrs: {
                    placeholder: t.$translate("Search"),
                    dense: "",
                    clearable: "",
                    autofocus: "",
                    "hide-details": ""
                },
                on: {
                    keypress: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : (e.preventDefault(),
                        t.selectIfOne.apply(null, arguments))
                    },
                    "click:clear": function(e) {
                        t.filterSearchText = ""
                    }
                },
                model: {
                    value: t.filterSearchText,
                    callback: function(e) {
                        t.filterSearchText = e
                    },
                    expression: "filterSearchText"
                }
            }), i("v-list", {
                staticStyle: {
                    "overflow-y": "auto"
                },
                attrs: {
                    "max-height": "50vh"
                }
            }, [t._l(t.filteredSites, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    staticClass: "z-clickable",
                    on: {
                        click: function(i) {
                            return t.setSite(e)
                        }
                    }
                }, [t._v(t._s(t.$translate(e.name)))])
            }
            )), 0 == t.filteredSites.length ? i("v-list-item", [t._v(" " + t._s(t.$translate("No location found")) + " ")]) : t._e()], 2)], 1)], 1)])], 1)], 1) : t._e()
        }
          , Qh = []
          , Jh = {
            name: "zoezi-site-selector",
            zoezi: {
                title: "Site Selector",
                icon: "mdi-map-marker-star-outline"
            },
            props: {
                compact: {
                    title: "Compact style. Two lines to save space",
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                sitesMenuOpen: !1,
                filterSearchText: ""
            }),
            watch: {
                sitesMenuOpen(t) {
                    t && (this.filterSearchText = "")
                }
            },
            computed: {
                selectedSite() {
                    return this.sites.find(t=>t.id == this.$store.state.selectedSiteId) || {
                        id: 0,
                        name: this.$translate("No location selected")
                    }
                },
                hasMultiSites() {
                    return this.sites.length > 1
                },
                sites() {
                    var t, e;
                    return null !== (t = this.$store.state) && void 0 !== t && null !== (e = t.settings) && void 0 !== e && e.sites ? this.$store.state.settings.sites.concat().sort((t,e)=>this.$translate(t.name).localeCompare(this.$translate(e.name))) : []
                },
                filteredSites() {
                    var t;
                    let e = null === (t = this.filterSearchText) || void 0 === t ? void 0 : t.toLowerCase();
                    return this.sites.filter(t=>!e || this.$translate(t.name).toLowerCase().includes(e))
                }
            },
            methods: {
                setSite(t) {
                    this.$store.dispatch("setSite", {
                        siteId: t.id
                    }),
                    this.sitesMenuOpen = !1
                },
                selectIfOne() {
                    1 == this.filteredSites.length && this.setSite(this.filteredSites[0])
                }
            }
        }
          , Xh = Jh
          , Zh = (i("f75e"),
        Object(p["a"])(Xh, Kh, Qh, !1, null, null, null))
          , tm = Zh.exports;
        g()(Zh, {
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VMenu: D["a"],
            VRow: A["a"],
            VSheet: ue["a"],
            VTextField: z["a"]
        });
        var em = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "d-flex"
            }, [i("zoezi-site-selector", {
                staticClass: "justify-end mx-1",
                attrs: {
                    compact: !0
                }
            }), t.showLanguage && t.hasLanguage ? [i("zoezi-language-menu", {
                staticClass: "mx-1 align-center",
                attrs: {
                    "show-label": !1,
                    compact: !0
                }
            })] : t._e(), i("zoezi-account-button")], 2)
        }
          , im = []
          , sm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$store.state.isCheckingIfLoggedIn ? i("div") : t.$store.state.isLoggedIn ? i("zoezi-user-avatar", {
                staticClass: "z-clickable",
                attrs: {
                    user: t.$store.state.user,
                    size: 48
                },
                on: {
                    click: t.clicked
                }
            }) : i("v-btn", {
                staticClass: "font-weight-bold",
                attrs: {
                    color: "primary",
                    to: t.loginLink
                }
            }, [t._v(" " + t._s(t.$translate("Log in")) + " ")])
        }
          , am = []
          , om = {
            name: "zoezi-account-button",
            zoezi: {
                title: "Account button",
                icon: "mdi-account-circle"
            },
            components: {
                ZoeziUserAvatar: co["a"]
            },
            props: {
                loginLink: {
                    title: "Login link",
                    type: String,
                    fulltype: "page",
                    default: "/login"
                }
            },
            methods: {
                clicked() {
                    if (this.$root.edit)
                        this.$emit("select", this);
                    else {
                        let t = this.$root.getDefaultPage("mypages");
                        this.$route.path != t && (this.$router.push({
                            path: t
                        }),
                        this.$store.commit("setShowMobileMenu", !1))
                    }
                }
            }
        }
          , nm = om
          , rm = Object(p["a"])(nm, sm, am, !1, null, null, null)
          , lm = rm.exports;
        g()(rm, {
            VBtn: O["a"]
        });
        var cm = i("aa24")
          , dm = {
            name: "zoezi-site-selector-and-account-button",
            zoezi: {
                title: "Site Selector and Account Button",
                icon: "mdi-account-circle"
            },
            components: {
                ZoeziSiteSelector: tm,
                ZoeziAccountButton: lm,
                ZoeziLanguageMenu: cm["a"]
            },
            props: {
                showLanguage: {
                    title: "Show language selector",
                    type: Boolean,
                    default: !0
                }
            },
            computed: {
                hasLanguage() {
                    var t;
                    return null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.hasLanguage
                }
            }
        }
          , um = dm
          , hm = Object(p["a"])(um, em, im, !1, null, null, null)
          , mm = hm.exports
          , pm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "z-myBusiness-footer",
                style: {
                    color: t.$root.colorToHex(t.textColor)
                }
            }, [t._v(t._s(t.$translate("Zoezi MyBusiness — Website and business system in one solution from")) + " "), i("a", {
                style: {
                    color: t.$root.colorToHex(t.linkColor)
                },
                attrs: {
                    href: "https://zoezi.se",
                    target: "_blank"
                }
            }, [t._v("Zoezi AB")]), t._v(" - " + t._s(t.$translate("for increased growth and profitability!")))])
        }
          , vm = []
          , gm = {
            name: "my-business-footer",
            zoezi: {
                title: "MyBusiness footer",
                icon: "mdi-page-layout-footer"
            },
            props: {
                textColor: {
                    title: "Text color",
                    type: String,
                    fulltype: "color",
                    default: "#333333"
                },
                linkColor: {
                    title: "Link color",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                }
            },
            methods: {}
        }
          , fm = gm
          , bm = (i("d21c"),
        Object(p["a"])(fm, pm, vm, !1, null, null, null))
          , ym = bm.exports
          , _m = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-social-media"
            }, [t._l(t.services, (function(e, s) {
                return i("a", {
                    key: s,
                    style: t.iconStyle,
                    attrs: {
                        href: e.url,
                        target: t.target,
                        rel: "nofollow"
                    }
                }, [i("i", {
                    staticClass: "mdi",
                    class: e.icon
                }), i("span", {
                    staticClass: "d-sr-only"
                }, [t._v(t._s(e.name))])])
            }
            )), 0 == t.services.length && this.$root.edit ? i("div", {
                staticClass: "d-flex"
            }, [i("i", {
                staticClass: "mdi mdi-share-variant-outline"
            }), i("div", {
                staticStyle: {
                    "align-self": "center",
                    "font-size": "14px",
                    "margin-left": "10px"
                }
            }, [t._v(t._s(t.$translate("Edit social icons")))])]) : t._e()], 2)
        }
          , km = []
          , wm = {
            name: "social-icons",
            zoezi: {
                title: "Social icons",
                icon: "mdi-share-variant-outline"
            },
            props: {
                iconsize: {
                    title: "Icon size (px)",
                    type: Number,
                    default: 32
                },
                distance: {
                    title: "Icon spacing (px)",
                    type: Number,
                    default: 5
                },
                color: {
                    title: "Color",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                facebook: {
                    title: "Facebook (URL)",
                    type: String,
                    default: ""
                },
                instagram: {
                    title: "Instagram (URL)",
                    type: String,
                    default: ""
                },
                linkedin: {
                    title: "LinkedIn (URL)",
                    type: String,
                    default: ""
                },
                twitter: {
                    title: "Twitter (URL)",
                    type: String,
                    default: ""
                },
                mail: {
                    title: "E-mail",
                    type: String,
                    default: ""
                }
            },
            computed: {
                target: function() {
                    return this.$root.edit ? "" : "_blank"
                },
                iconStyle: function() {
                    return {
                        "font-size": this.iconsize + "px",
                        color: this.$root.colorToHex(this.color),
                        "margin-right": this.distance + "px"
                    }
                },
                services: function() {
                    let t = [];
                    return this.facebook && this.facebook.startsWith("http") && t.push({
                        name: "Facebook",
                        icon: "mdi-facebook",
                        url: this.$root.edit ? "javascript: void(0)" : this.facebook
                    }),
                    this.instagram && this.instagram.startsWith("http") && t.push({
                        name: "Instagram",
                        icon: "mdi-instagram",
                        url: this.$root.edit ? "javascript: void(0)" : this.instagram
                    }),
                    this.linkedin && this.linkedin.startsWith("http") && t.push({
                        name: "LinkedIn",
                        icon: "mdi-linkedin",
                        url: this.$root.edit ? "javascript: void(0)" : this.linkedin
                    }),
                    this.twitter && this.twitter.startsWith("http") && t.push({
                        name: "Twitter",
                        icon: "mdi-twitter",
                        url: this.$root.edit ? "javascript: void(0)" : this.twitter
                    }),
                    this.mail && this.mail.indexOf("@") > 0 && t.push({
                        name: "E-mail",
                        icon: "mdi-at",
                        url: this.$root.edit ? "javascript: void(0)" : "mailto:" + this.mail
                    }),
                    t
                }
            }
        }
          , Cm = wm
          , xm = (i("714f"),
        Object(p["a"])(Cm, _m, km, !1, null, null, null))
          , $m = xm.exports
          , Sm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-anchor",
                class: {
                    visible: t.$root.edit
                }
            }, [i("a", {
                attrs: {
                    name: t.name,
                    id: t.name
                }
            })])
        }
          , Dm = []
          , zm = {
            name: "zoezi-anchor",
            zoezi: {
                title: "Anchor",
                icon: "mdi-anchor"
            },
            props: {
                name: {
                    title: "Anchor name",
                    type: String,
                    default: function() {
                        return "anchor_" + Math.floor(100 * Math.random())
                    }
                }
            }
        }
          , Tm = zm
          , Im = (i("04a0"),
        Object(p["a"])(Tm, Sm, Dm, !1, null, null, null))
          , Pm = Im.exports
          , Vm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "z-open-hours",
                class: {
                    columns: t.multicol,
                    highlight: t.showtoday
                }
            }, [t.day1 ? i("div", {
                staticClass: "z-open-daynum day-1",
                class: {
                    today: t.isToday(1)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Monday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day1))])]) : t._e(), t.day2 ? i("div", {
                staticClass: "z-open-daynum day-2",
                class: {
                    today: t.isToday(2)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Tuesday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day2))])]) : t._e(), t.day3 ? i("div", {
                staticClass: "z-open-daynum day-3",
                class: {
                    today: t.isToday(3)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Wednesday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day3))])]) : t._e(), t.day4 ? i("div", {
                staticClass: "z-open-daynum day-4",
                class: {
                    today: t.isToday(4)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Thursday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day4))])]) : t._e(), t.day5 ? i("div", {
                staticClass: "z-open-daynum day-5",
                class: {
                    today: t.isToday(5)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Friday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day5))])]) : t._e(), t.day6 ? i("div", {
                staticClass: "z-open-daynum day-6",
                class: {
                    today: t.isToday(6)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Saturday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day6))])]) : t._e(), t.day7 ? i("div", {
                staticClass: "z-open-daynum day-7",
                class: {
                    today: t.isToday(7)
                },
                attrs: {
                    "data-today-text": t.$translate("Today")
                }
            }, [i("div", {
                staticClass: "z-open-dayname"
            }, [t._v(t._s(t.$translate("Sunday")))]), i("div", {
                staticClass: "z-open-hours"
            }, [t._v(t._s(t.day7))])]) : t._e()])
        }
          , Bm = []
          , Fm = {
            name: "zoezi-open-hours",
            zoezi: {
                title: "Opening hours",
                icon: "mdi-clock"
            },
            props: {
                multicol: {
                    title: "Multiple columns",
                    type: Boolean,
                    default: !1
                },
                showtoday: {
                    title: "Highlight today",
                    type: Boolean,
                    default: !0
                },
                day1: {
                    title: "Monday",
                    type: String,
                    default: "08:00 - 17:00"
                },
                day2: {
                    title: "Tuesday",
                    type: String,
                    default: "08:00 - 17:00"
                },
                day3: {
                    title: "Wednesday",
                    type: String,
                    default: "08:00 - 17:00"
                },
                day4: {
                    title: "Thursday",
                    type: String,
                    default: "08:00 - 17:00"
                },
                day5: {
                    title: "Friday",
                    type: String,
                    default: "08:00 - 17:00"
                },
                day6: {
                    title: "Saturday",
                    type: String,
                    default: ()=>window.$translate("Closed")
                },
                day7: {
                    title: "Sunday",
                    type: String,
                    default: ()=>window.$translate("Closed")
                }
            },
            methods: {
                isToday(t) {
                    t = 7 == t ? 0 : t;
                    let e = new Date
                      , i = e.getDay();
                    return t == i
                }
            }
        }
          , Em = Fm
          , Om = (i("2ae9"),
        Object(p["a"])(Em, Vm, Bm, !1, null, null, null))
          , Mm = Om.exports
          , Am = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-staff",
                class: t.styleClass
            }, [t.heading ? i("h2", [t._v(t._s(t.heading))]) : t._e(), t._l(t.staffList, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "zoezi-staff-person"
                }, [t.useImage ? i("img", {
                    attrs: {
                        src: t.getImage(e.id)
                    }
                }) : t._e(), i("div", {
                    staticClass: "zoezi-staff-text"
                }, [i("h3", [t._v(t._s(e.name))]), t.useDescription && null != e.description ? i("p", [t._v(t._s(e.description))]) : t._e()])])
            }
            ))], 2)
        }
          , Rm = []
          , Lm = {
            name: "zoezi-staff",
            zoezi: {
                title: "Staff",
                icon: "mdi-account-group"
            },
            props: {
                heading: {
                    title: "Heading",
                    type: String,
                    default: ()=>window.$translate("Staff")
                },
                useImage: {
                    title: "Show image",
                    type: Boolean,
                    default: !0
                },
                useDescription: {
                    title: "Show description",
                    type: Boolean,
                    default: !0
                },
                selectedStaff: {
                    title: "Staff",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        order: !0,
                        placeholder: "Showing all bookable",
                        getItems: ()=>window.$zoeziapi.get("/api/public/staff/get/full").then(t=>t.sort((t,e)=>t.name.localeCompare(e.name)))
                    },
                    default: ()=>[]
                },
                listStyle: {
                    title: "Appearance",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        text: "name",
                        value: "id",
                        clearable: !1,
                        placeholder: "Standard",
                        getItems: ()=>[{
                            id: 0,
                            name: "Standard"
                        }, {
                            id: 1,
                            name: "Cards"
                        }, {
                            id: 2,
                            name: "Soft"
                        }, {
                            id: 3,
                            name: "Angular"
                        }].map(t=>({
                            ...t,
                            name: window.$translate(t.name)
                        }))
                    },
                    default: ()=>0
                }
            },
            data: ()=>({
                staff: []
            }),
            computed: {
                staffList() {
                    var t;
                    return null !== (t = this.selectedStaff) && void 0 !== t && t.length ? this.selectedStaff.map(t=>this.staff.find(e=>e.id == t)).filter(t=>t) : this.staff
                },
                styleClass() {
                    return this.listStyle ? "z-style-" + ["default", "cards", "soft", "sharp"][this.listStyle] : "z-style-default"
                }
            },
            methods: {
                loadStaff() {
                    this.$api.get("/api/public/staff/get/full").then(t=>this.staff = t.sort((t,e)=>t.name.localeCompare(e.name)))
                },
                getImage(t) {
                    return `/api/image/get?type=Staff&id=${t}&size=120`
                }
            },
            mounted() {
                this.loadStaff()
            }
        }
          , jm = Lm
          , Nm = (i("90c2"),
        Object(p["a"])(jm, Am, Rm, !1, null, null, null))
          , Wm = Nm.exports
          , qm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "curator-io-feed",
                class: {
                    editing: this.$root.edit
                }
            }, ["" != t.feed_id ? i("div", {
                attrs: {
                    id: t.container_id
                }
            }, [i("a", {
                staticClass: "crt-logo crt-tag",
                attrs: {
                    href: "https://curator.io",
                    target: "_blank"
                }
            }, [t._v("Powered by Curator.io")])]) : t._e(), "" == t.feed_id ? i("div", [i("strong", [t._v("Curator.io")]), t._v(" är en tjänst som låter dig hämta innehållet från dina olika sociala medier och visa dem på din hemsida. Det är gratis för en sida och begränsat antal utseenden, men du kan testa först och uppgradera senare på "), i("a", {
                attrs: {
                    href: "https://curator.io"
                }
            }, [t._v("curator.io")]), t._v('. När du skaffat ett konto, fyller du i ditt "Feed Public Key" som du hittar under "Publicera" samt om du bytt ditt Container ID (normalt '), i("code", [t._v(t._s(t.container_id))]), t._v("). ")]) : t._e()])
        }
          , Hm = []
          , Um = {
            name: "zoezi-curator-io",
            zoezi: {
                title: "Curator.io",
                icon: "mdi-instagram"
            },
            props: {
                container_id: {
                    title: "Container ID",
                    type: String,
                    default: "curator-feed-default-feed-layout"
                },
                feed_id: {
                    title: "Feed Public Key",
                    type: String,
                    default: ""
                }
            },
            data: ()=>({}),
            mounted() {
                if (this.feed_id.length > 0) {
                    let t = document.createElement("script");
                    t.setAttribute("src", "https://cdn.curator.io/published/" + this.feed_id + ".js"),
                    document.head.appendChild(t)
                }
            }
        }
          , Ym = Um
          , Gm = (i("fd95"),
        Object(p["a"])(Ym, qm, Hm, !1, null, null, null))
          , Km = Gm.exports
          , Qm = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-workout-details",
                class: [t.styleClass]
            }, [t.workoutCategories.length > 1 && t.filterable ? i("div", {
                staticClass: "zoezi-workout-categories"
            }, [i("div", {
                class: {
                    active: null == t.categoryFilter
                },
                on: {
                    click: function(e) {
                        return t.toggleFilter(null)
                    }
                }
            }, [t._v(t._s(t.$translate("All")))]), t._l(t.workoutCategories, (function(e) {
                return i("div", {
                    key: e.id,
                    class: {
                        active: t.categoryFilter == e.id
                    },
                    on: {
                        click: function(i) {
                            return t.toggleFilter(e.id)
                        }
                    }
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            ))], 2) : t._e(), i("div", {
                staticClass: "zoezi-workout-items",
                class: {
                    "zoezi-coloured": !t.coloured
                }
            }, t._l(t.filteredWorkoutTypes, (function(e) {
                return i("article", {
                    key: e.id,
                    class: [t.getTextColor(e.color)]
                }, [!t.$root.edit || e.imagekey ? i("v-auto-img", {
                    ref: "img",
                    refInFor: !0,
                    attrs: {
                        ar: 1.5,
                        src: e.imagekey
                    }
                }, [i("span", {
                    staticClass: "z-wo-color",
                    style: t.getShade(e.color)
                })]) : t._e(), i("h3", [t._v(t._s(e.name)), i("span", {
                    staticClass: "z-wo-color",
                    style: {
                        color: e.color
                    }
                })]), i("div", {
                    domProps: {
                        innerHTML: t._s(t.stripHtml(e.description))
                    }
                }), t.link ? i("span", {
                    staticClass: "zoezi-workout-link",
                    on: {
                        click: function(i) {
                            return t.showType(e.id)
                        }
                    }
                }, [t._v(t._s(t.$translate("Show")) + " " + t._s(e.name) + "-" + t._s(t.$translate("workouts")))]) : t._e()], 1)
            }
            )), 0)])
        }
          , Jm = []
          , Xm = {
            name: "zoezi-workout-types",
            zoezi: {
                title: "Workout descriptions",
                icon: "mdi-book-information-variant"
            },
            props: {
                categories: {
                    title: "Kategorier",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        placeholder: "Show all categories",
                        getItems: ()=>window.$booking.getWorkoutCategories()
                    },
                    default: ()=>[]
                },
                listStyle: {
                    title: "Appearance",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        text: "name",
                        value: "id",
                        clearable: !1,
                        placeholder: "Standard",
                        getItems: ()=>[{
                            id: 0,
                            name: "Standard"
                        }, {
                            id: 1,
                            name: "Cards"
                        }, {
                            id: 2,
                            name: "Soft"
                        }].map(t=>({
                            ...t,
                            name: window.$translate(t.name)
                        }))
                    },
                    default: 0
                },
                link: {
                    title: "Page with group exercise schedule",
                    type: String,
                    fulltype: "page"
                },
                linkParam: {
                    title: "Parameter to page with group training schedule",
                    type: String,
                    default: "workoutType"
                },
                filterable: {
                    title: "Show category filter",
                    type: Boolean,
                    default: !0
                },
                coloured: {
                    title: "Use primary color, not workout color",
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                workoutTypes: null,
                categoryFilter: null
            }),
            computed: {
                styleClass() {
                    let t = ["default", "card", "soft"];
                    return this.listStyle ? "z-style-" + t[this.listStyle] : "z-style-" + t[0]
                },
                workoutCategories() {
                    var t, e;
                    return (null === (t = this.$store.state.settings) || void 0 === t || null === (e = t.workoutcategories) || void 0 === e ? void 0 : e.filter(t=>t.show && t.active && (0 == this.categories.length || this.categories.indexOf(t.id) > -1))) || []
                },
                filteredWorkoutTypes() {
                    return this.workoutTypes ? this.workoutTypes.filter(t=>(0 == this.categories.length || this.categories.indexOf(t.category_id) > -1) && (null === this.categoryFilter || t.category_id == this.categoryFilter)) : []
                }
            },
            methods: {
                getShade(t) {
                    return "background: linear-gradient(180deg, " + this.hex2rgba(t, 0) + " 0%, " + this.hex2rgba(t, 1) + " 100%);"
                },
                loadWorkoutTypes() {
                    this.$api.get("/api/public/workout/type/get").then(t=>{
                        this.workoutTypes = t.sort((t,e)=>t.name.localeCompare(e.name))
                    }
                    )
                },
                toggleFilter(t) {
                    this.categoryFilter = t == this.categoryFilter ? null : t
                },
                showType(t) {
                    let e;
                    e = this.linkParam && "id" != this.linkParam ? "?" + this.linkParam + "=" + t : "/" + t,
                    this.$root.followLink(this.link + e)
                },
                getTextColor(t) {
                    t = "#" === t.charAt(0) ? t.substring(1, 7) : t;
                    var e = parseInt(t.substring(0, 2), 16)
                      , i = parseInt(t.substring(2, 4), 16)
                      , s = parseInt(t.substring(4, 6), 16);
                    return .299 * e + .587 * i + .114 * s > 186 ? "text-black" : "text-white"
                },
                hex2rgba(t, e=1) {
                    if ([3, 4].indexOf(t.length) > -1) {
                        let e = "";
                        t.replace("#", "").split("").forEach(t=>e += t + "" + t),
                        t = e
                    }
                    const [i,s,a] = t.match(/\w\w/g).map(t=>parseInt(t, 16));
                    return `rgba(${i},${s},${a},${e})`
                },
                stripHtml(t) {
                    return null === t || void 0 === t ? void 0 : t.replace(/<(?!br|p|a)[^>]+>/gi, "")
                }
            },
            mounted() {
                this.loadWorkoutTypes()
            }
        }
          , Zm = Xm
          , tp = (i("4f60"),
        Object(p["a"])(Zm, Qm, Jm, !1, null, null, null))
          , ep = tp.exports
          , ip = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: t.$vuetify.breakpoint.mobile ? 12 : "auto"
                }
            }, [i("v-row", [t.showTypePicker ? i("v-col", [i("v-btn-toggle", {
                staticClass: "white--text",
                attrs: {
                    mandatory: "",
                    small: ""
                },
                model: {
                    value: t.type,
                    callback: function(e) {
                        t.type = e
                    },
                    expression: "type"
                }
            }, ["week" == t.type ? i("v-btn", {
                attrs: {
                    value: "week",
                    color: t.color
                }
            }, [i("v-icon", {
                staticClass: "primarytext--text",
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-view-week")]), t._v(t._s(t.$translate("Week")))], 1) : i("v-btn", {
                attrs: {
                    value: "week",
                    outlined: "",
                    color: t.color
                }
            }, [i("v-icon", {
                attrs: {
                    left: "",
                    color: t.color
                }
            }, [t._v("mdi-view-week-outline")]), t._v(t._s(t.$translate("Week")))], 1), "month" == t.type ? i("v-btn", {
                attrs: {
                    value: "month",
                    color: t.color
                }
            }, [i("v-icon", {
                staticClass: "primarytext--text",
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-calendar-month")]), t._v(t._s(t.$translate("Month")))], 1) : i("v-btn", {
                attrs: {
                    value: "month",
                    outlined: "",
                    color: t.color
                }
            }, [i("v-icon", {
                attrs: {
                    left: "",
                    color: t.color
                }
            }, [t._v("mdi-calendar-month-outline")]), t._v(t._s(t.$translate("Month")))], 1)], 1)], 1) : t._e()], 1), i("v-row", [t.showDatePicker && !t.$vuetify.breakpoint.mobile ? i("v-col", ["month" == t.type ? i("v-date-picker", {
                key: "month",
                staticClass: "ma-8 z-no-user-select",
                attrs: {
                    locale: t.$store.state.language,
                    color: t.selectedColor || "primary",
                    "first-day-of-week": "1",
                    "header-color": t.color,
                    "show-week": "",
                    "locale-first-day-of-year": "4",
                    type: "month"
                },
                model: {
                    value: t.selectedMonth,
                    callback: function(e) {
                        t.selectedMonth = e
                    },
                    expression: "selectedMonth"
                }
            }) : i("v-date-picker", {
                key: "week",
                staticClass: "ma-8 z-no-user-select",
                attrs: {
                    locale: t.$store.state.language,
                    color: t.selectedColor || "primary",
                    "first-day-of-week": "1",
                    "show-current": !0,
                    "header-color": t.color,
                    range: "",
                    "show-week": "",
                    "locale-first-day-of-year": "4",
                    "selected-items-text": t.datePickerText,
                    "show-adjacent-months": "",
                    type: "date"
                },
                model: {
                    value: t.selectedDates,
                    callback: function(e) {
                        t.selectedDates = e
                    },
                    expression: "selectedDates"
                }
            })], 1) : t._e()], 1)], 1), i("v-col", {
                staticClass: "fill-height"
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                },
                on: {
                    wheel: function(e) {
                        return t.onScroll(e)
                    },
                    mouseup: t.stopDrag,
                    mousedown: t.startDrag,
                    mousemove: t.doDrag
                }
            }, [i("v-col", [i("div", {
                staticClass: "d-flex"
            }, [i("div", [i("v-icon", {
                on: {
                    click: t.prev
                }
            }, [t._v("mdi-chevron-left")])], 1), i("div", {
                staticClass: "flex-grow-1 text-center title primary--text",
                domProps: {
                    textContent: t._s(t.calendarTitle)
                }
            }), i("div", [i("v-icon", {
                on: {
                    click: t.next
                }
            }, [t._v("mdi-chevron-right")])], 1)]), i("v-calendar", {
                ref: "calendar",
                staticStyle: {
                    width: "100%",
                    height: "600px",
                    "user-select": "none"
                },
                attrs: {
                    locale: t.$store.state.language,
                    weekdays: t.weekdaysSorted,
                    "short-weekdays": t.$vuetify.breakpoint.mobile,
                    type: t.type,
                    "first-interval": Date.newFull(t.startTime).hhmm(),
                    "interval-count": t.intervalCount,
                    "show-week": "",
                    "interval-minutes": t.intervalMinutes,
                    events: t.filteredEvents,
                    "event-color": function(e) {
                        return t.useWorkoutTypeColor ? e.color : t.color
                    },
                    color: t.color
                },
                on: {
                    "click:event": t.eventClicked,
                    "click:more": t.viewDay
                },
                scopedSlots: t._u([{
                    key: "event",
                    fn: function(e) {
                        var s = e.event;
                        return [i("v-sheet", {
                            staticClass: "fill-height white--text text-truncate",
                            style: {
                                "border-left": t.useWorkoutTypeColor ? "4px solid" + s.color + " !important" : void 0
                            },
                            attrs: {
                                color: (t.useWorkoutTypeColor ? s.color : t.color) || "primary"
                            }
                        }, [i("div", {
                            staticClass: "pl-1",
                            staticStyle: {
                                "background-color": "rgba(0,0,0,.1)"
                            }
                        }, [t._v(t._s(s.name))])])]
                    }
                }]),
                model: {
                    value: t.selectedDate,
                    callback: function(e) {
                        t.selectedDate = e
                    },
                    expression: "selectedDate"
                }
            })], 1)], 1), t.showWorkoutDialog ? i("workout-dialog", {
                attrs: {
                    workout: t.showingWorkout
                },
                model: {
                    value: t.showWorkoutDialog,
                    callback: function(e) {
                        t.showWorkoutDialog = e
                    },
                    expression: "showWorkoutDialog"
                }
            }) : t._e()], 1)], 1)
        }
          , sp = []
          , ap = {
            name: "zoezi-activity-calendar",
            zoezi: {
                title: "Activity Calendar",
                icon: "mdi-calendar-month"
            },
            components: {
                WorkoutDialog: j["default"]
            },
            props: {
                color: {
                    title: "Base color",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                selectedColor: {
                    title: "Color for selected period",
                    type: String,
                    fulltype: "color",
                    default: "primary"
                },
                weekdays: {
                    title: "Weekdays",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        nosort: !0,
                        text: "name",
                        value: "id",
                        getItems() {
                            let t = window.$translate;
                            return new Promise(e=>e([{
                                id: 1,
                                name: "Monday"
                            }, {
                                id: 2,
                                name: "Tuesday"
                            }, {
                                id: 3,
                                name: "Wednesday"
                            }, {
                                id: 4,
                                name: "Thursday"
                            }, {
                                id: 5,
                                name: "Friday"
                            }, {
                                id: 6,
                                name: "Saturday"
                            }, {
                                id: 0,
                                name: "Sunday"
                            }].map(e=>({
                                ...e,
                                name: t(e.name)
                            }))))
                        }
                    },
                    default: ()=>[1, 2, 3, 4, 5, 6, 0]
                },
                category: {
                    title: "Category",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        placeholder: "Show all categories",
                        getItems: ()=>window.$booking.getWorkoutCategories()
                    },
                    default: ()=>[]
                },
                defaultWorkoutTypes: {
                    title: "Filter by activity types",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$booking.getWorkoutTypes()
                    },
                    default: ()=>[]
                },
                useWorkoutTypeColor: {
                    title: "Use workout type color",
                    type: Boolean,
                    default: !0
                },
                showDatePicker: {
                    title: "Show date picker",
                    type: Boolean,
                    default: !0
                },
                showTypePicker: {
                    title: "Show week/month selector",
                    type: Boolean,
                    default: !0
                },
                month: {
                    title: "Monthly view",
                    type: Boolean,
                    default: !1
                },
                useExtraTitle: {
                    title: "Use supplementary text as headline",
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                workouts: [],
                workoutTypes: [],
                selectedDate: Date.today().yyyymmdd(),
                intervalMinutes: 60,
                dragging: !1,
                x: "no",
                y: "no",
                type: "week",
                showWorkoutDialog: !1,
                showingWorkout: null,
                filter: {
                    staffs: [],
                    workoutTypes: []
                },
                selectedMonth: Date.firstDayThisMonth().yyyymmdd()
            }),
            watch: {
                month: {
                    immediate: !0,
                    handler(t) {
                        this.type = t ? "month" : "week"
                    }
                },
                selectedMonth(t) {
                    let e = Date.newFull(t + "-01")
                      , i = new Date(e.getFullYear(),e.getMonth() + 1,0);
                    this.selectedDates = [e, i]
                },
                type(t) {
                    "month" == t && (this.selectedMonth = this.selectedDate && Date.newFull(this.selectedDate).firstDayThisMonth().yyyymmdd().substring(0, 7))
                },
                selectedDates: {
                    immediate: !0,
                    handler(t) {
                        this.fetchWorkouts(t[0], t[1])
                    }
                },
                "$vuetify.breakpoint.mobile": {
                    immediate: !0,
                    handler(t) {
                        t && (this.selectedDate = (new Date).yyyymmdd())
                    }
                }
            },
            computed: {
                sortedStaffs() {
                    return this.staffs.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                sortedWorkoutTypes() {
                    return this.workoutTypes.concat().sort((t,e)=>t.name.localeCompare(e.name))
                },
                filteredWorkouts() {
                    let t = this.workouts.filter(t=>!this.category || 0 == this.category.length || this.category.find(e=>t.workoutType.category_id == e)).filter(t=>t.startTime.withinRange(this.selectedDates[0], this.selectedDates[1]));
                    return t
                },
                startTime() {
                    const t = 6e4 * this.intervalMinutes
                      , e = this.filteredEvents.reduce((e,i)=>{
                        const s = Date.newFull(i.start).getMillisecondsToday() - t - 1;
                        return Math.min(e, s)
                    }
                    , 1 / 0);
                    return e > 0 ? new Date(e) : Date.newFull("01-01-01 00:00")
                },
                intervalCount() {
                    const t = 6e4 * this.intervalMinutes
                      , e = this.filteredEvents.reduce((t,e)=>{
                        const i = Date.newFull(e.end).getMillisecondsToday();
                        return Math.max(t, i)
                    }
                    , 0)
                      , i = e - this.startTime.getMillisecondsToday() + t;
                    return Math.ceil(i / t)
                },
                events() {
                    return this.filteredWorkouts.map(t=>({
                        name: this.useExtraTitle && null != t.extra_title ? t.extra_title : t.workoutType.name,
                        start: t.startTime.dateTime(),
                        end: t.endTime.dateTime(),
                        color: t.workoutType.color,
                        workout: t,
                        timed: !0
                    }))
                },
                staffs() {
                    let t = [];
                    return this.filteredWorkouts.forEach(e=>{
                        e.staffs.forEach(e=>{
                            e.name = e.firstname + " " + e.lastname,
                            t.find(t=>t.id == e.id) || t.push({
                                id: e.id,
                                name: e.name,
                                imagekey: e.imagekey
                            })
                        }
                        )
                    }
                    ),
                    t
                },
                filteredEvents() {
                    let t = this.filter;
                    return this.events.filter(t=>0 == this.filter.workoutTypes.length || -1 != this.filter.workoutTypes.indexOf(t.workout.workoutType.id)).filter(e=>0 == this.filter.staffs.length || t.staffs.find(t=>e.workout.staffs.find(e=>e.id == t)))
                },
                selectedDates: {
                    get() {
                        return "week" == this.type ? Date.newFull(this.selectedDate).getDateIntervalForWeek().map(t=>t.yyyymmdd()) : [Date.newFull(this.selectedDate).firstDayThisMonth().yyyymmdd(), Date.newFull(this.selectedDate).lastDayThisMonth().yyyymmdd()]
                    },
                    set(t) {
                        let e = Date.newFull(t[0])
                          , i = t.length > 1 ? Date.newFull(t[1]) : e
                          , s = e < i ? e : i;
                        "week" == this.type ? this.selectedDate = s.monday().yyyymmdd() : this.selectedDate = e.firstDayThisMonth().yyyymmdd()
                    }
                },
                isCurrentWeek() {
                    return Date.newFull(this.selectedDate).withinRange(this.$store.state.now30s.monday(), this.$store.state.now30s.monday().addDays(6))
                },
                datePickerText() {
                    return Date.dateToDateString(this.selectedDates[0], this.selectedDates[1], this.$translate)
                },
                calendarTitle() {
                    let t = Date.newFull(this.selectedDate);
                    return "week" == this.type ? `${t.getFullYear()}, ${this.datePickerText}, ${this.$translate("week")} ${t.getWeekNumber()}` : `${t.getFullYear()}, ${this.$translate(t.getMonthName())}`
                },
                weekdaysSorted() {
                    return this.weekdays.concat().sort((t,e)=>0 == t ? 1 : 0 == e ? -1 : t - e)
                }
            },
            methods: {
                viewDay({date: t}) {
                    this.selectedDate = t,
                    this.type = "week"
                },
                onScroll(t) {
                    if (!t.ctrlKey)
                        return;
                    t.preventDefault();
                    let e = this.getScrollContainerElement();
                    if (!e)
                        return;
                    let i = this.$refs.calendar.minutesToPixels(1)
                      , a = e.scrollTop / i
                      , o = t.wheelDelta < 0 ? 1 : -1
                      , n = Number(this.intervalMinutes);
                    this.intervalMinutes = Math.max(10, Math.min(60, n + 5 * o)),
                    s["default"].nextTick(()=>{
                        i = this.$refs.calendar.minutesToPixels(1);
                        let t = e.scrollTop / i
                          , s = t - a;
                        e.scroll(0, e.scrollTop - s * i)
                    }
                    )
                },
                getScrollContainerElement() {
                    return this.$refs.calendar.$el.getElementsByClassName("v-calendar-daily__scroll-area")[0]
                },
                startDrag(t) {
                    this.dragging = !0,
                    this.x = t.clientX,
                    this.y = t.clientY
                },
                stopDrag() {
                    this.dragging = !1,
                    this.x = this.y = "no"
                },
                doDrag(t) {
                    if (this.dragging) {
                        let e = this.y - t.clientY
                          , i = this.getScrollContainerElement();
                        i && i.scroll(0, i.scrollTop + e),
                        this.x = t.clientX,
                        this.y = t.clientY
                    }
                },
                getWorkoutTypes() {
                    this.$booking.getWorkoutTypes().then(t=>this.workoutTypes = t)
                },
                fetchWorkouts(t, e) {
                    this.$api.get("/api/public/workout/get/all", {
                        fromDate: t,
                        toDate: e
                    }).then(t=>{
                        t.workouts.forEach(t=>this.$booking.transformWorkout(t)),
                        this.workouts = t.workouts
                    }
                    )
                },
                eventClicked({event: t}) {
                    this.showWorkoutDialog = !0,
                    this.showingWorkout = t.workout
                },
                prev() {
                    let t = this.selectedDates.map(Date.newFull);
                    "month" == this.type ? this.selectedMonth = t[0].lastMonth().yyyymmdd().substring(0, 7) : this.selectedDates = [t[0].addDays(-7), t[1].addDays(-7)]
                },
                next() {
                    let t = this.selectedDates.map(Date.newFull);
                    "month" == this.type ? this.selectedMonth = t[0].nextMonth().yyyymmdd().substring(0, 7) : this.selectedDates = [t[0].addDays(7), t[1].addDays(7)]
                }
            },
            created() {
                this.filter.workoutTypes = this.defaultWorkoutTypes.slice(),
                this.getWorkoutTypes(),
                this.$root.$api.subscribe({
                    type: "workout",
                    callback: (t,e)=>{
                        e.data.forEach(t=>{
                            if ("add" == e.action)
                                this.workouts.push(t);
                            else if ("change" == e.action) {
                                let e = this.workouts.find(e=>e.id == t.id);
                                e && Object.assign(e, t)
                            } else if ("remove" == e.action) {
                                let e = this.workouts.findIndex(e=>e.id == t.id);
                                -1 != e && this.workouts.splice(e, 1)
                            }
                        }
                        )
                    }
                })
            }
        }
          , op = ap
          , np = (i("5065"),
        i("a609"))
          , rp = i("a4f6")
          , lp = Object(p["a"])(op, ip, sp, !1, null, null, null)
          , cp = lp.exports;
        g()(lp, {
            VBtn: O["a"],
            VBtnToggle: np["a"],
            VCalendar: rp["a"],
            VCol: M["a"],
            VDatePicker: de["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSheet: ue["a"]
        });
        var dp = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("zoezi-button", {
                attrs: {
                    block: t.block,
                    text: t.text,
                    link: t.link
                }
            })
        }
          , up = []
          , hp = {
            name: "zoezi-calendar-button",
            zoezi: {
                title: "Fetch Calendar Button",
                icon: "mdi-calendar-export"
            },
            props: {
                text: {
                    title: "Button text",
                    type: String,
                    default: ()=>window.$translate("Fetch calendar")
                },
                google: {
                    title: "Google Calendar",
                    type: Boolean,
                    default: !1
                },
                group: {
                    title: "Group calendar",
                    type: Boolean,
                    default: !1
                },
                block: {
                    title: "BLOCK",
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                link() {
                    var t;
                    let e = "webcal://" + window.location.host
                      , i = this.group ? "/api/public/icalendar/get/groupworkouts" : "/api/public/icalendar/get?id=" + (null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.icalendarid)
                      , s = e + i;
                    return this.google && (s = "https://www.google.com/calendar/render?cid=" + s),
                    {
                        newTab: !0,
                        href: s
                    }
                }
            }
        }
          , mp = hp
          , pp = Object(p["a"])(mp, dp, up, !1, null, null, null)
          , vp = pp.exports
          , gp = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-google-map"
            }, [i("div", {
                style: {
                    height: t.height,
                    color: t.$root.colorToHex(t.color)
                },
                domProps: {
                    innerHTML: t._s(t.embed)
                }
            }), t.$root && t.$root.edit ? i("div", {
                staticClass: "zoezi-google-map-instruction"
            }, ["sv" == t.$store.state.language ? [i("strong", [t._v("Att skapa en inbäddningskod")]), i("br"), i("ol", [t._m(0), i("li", [t._v("Sök upp önskad plats")]), i("li", [t._v("I vänsterpanelen, klicka på "), i("em", [t._v("Dela")]), t._v(" "), i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-share-variant-outline")])], 1), t._m(1), t._m(2), t._m(3)])] : "en" == t.$store.state.language ? [i("strong", [t._v("Creating an Embed Code")]), i("br"), i("ol", [t._m(4), i("li", [t._v("Search for the desired location")]), i("li", [t._v("In the left panel, click on "), i("em", [t._v("Share")]), t._v(" "), i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-share-variant-outline")])], 1), t._m(5), t._m(6), t._m(7)])] : t._e()], 2) : t._e()])
        }
          , fp = [function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Öppna "), i("a", {
                attrs: {
                    href: "https://google.se/maps",
                    target: "_blank"
                }
            }, [t._v("Google Maps här »")])])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Klicka på fliken "), i("em", [t._v("Bädda in en karta")])])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Klicka på "), i("em", [t._v("Kopiera HTML")])])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Klistra in koden i fältet "), i("em", [t._v("Inbäddningskod")]), t._v(".")])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Open "), i("a", {
                attrs: {
                    href: "https://google.se/maps",
                    target: "_blank"
                }
            }, [t._v("Google Maps here »")])])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Click on the "), i("em", [t._v("Embed a map")]), t._v(" tab")])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Click on "), i("em", [t._v("Copy HTML")])])
        }
        , function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("li", [t._v("Paste the code into the "), i("em", [t._v("Embed Code")]), t._v(" field.")])
        }
        ]
          , bp = {
            name: "zoezi-google-map",
            zoezi: {
                title: "Google Map",
                icon: "mdi-google-maps"
            },
            props: {
                embed: {
                    title: "Embed code",
                    type: String,
                    default: ""
                },
                height: {
                    title: "Height",
                    type: String,
                    fulltype: "csssize"
                },
                color: {
                    title: "Overlay color",
                    type: String,
                    fulltype: "color"
                }
            },
            data: ()=>({}),
            methods: {}
        }
          , yp = bp
          , _p = (i("d9d1"),
        Object(p["a"])(yp, gp, fp, !1, null, null, null))
          , kp = _p.exports;
        g()(_p, {
            VIcon: y["a"]
        });
        var wp = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("component-wrapper", {
                attrs: {
                    config: t.component
                },
                nativeOn: {
                    click: function(e) {
                        return t.showCheckin.apply(null, arguments)
                    }
                }
            })
        }
          , Cp = []
          , xp = {
            name: "zoezi-checkin-button",
            zoezi: {
                title: "Check-in button",
                icon: "mdi-check"
            },
            props: {
                component: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>Yx.makeEmptyConfig({
                        component: "zoezi-button",
                        props: {
                            text: "Checka in",
                            icon: "mdi-check"
                        }
                    })
                },
                checkinResources: {
                    title: "Doors to be shown at check-in",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/resource/get").then(t=>{
                            const e = t.filter(t=>"door" == t.resourceType);
                            return e.map(({lastname: t, id: e})=>({
                                name: t,
                                id: e
                            }))
                        }
                        )
                    },
                    default: ()=>[]
                },
                onlyQrCheckin: {
                    title: "Open QR scanner directly",
                    type: Boolean,
                    default: !1
                }
            },
            methods: {
                showCheckin() {
                    this.$emit("clicked"),
                    this.$store.commit("showCheckinDialog", {
                        resources: this.checkinResources,
                        onlyShowQrScanner: this.onlyQrCheckin
                    })
                }
            }
        }
          , $p = xp
          , Sp = Object(p["a"])($p, wp, Cp, !1, null, null, null)
          , Dp = Sp.exports
          , zp = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.match ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("div", [t.twoTeams ? i("div", [i("teamsport-match-result", {
                staticClass: "mb-8",
                attrs: {
                    match: t.match,
                    flat: "",
                    "show-live-result": !0,
                    "show-location": !0
                },
                scopedSlots: t._u([t.canReportResult || t.referees.length ? {
                    key: "append-center-content",
                    fn: function() {
                        return [i("div", {
                            staticClass: "d-flex flex-column justify-center mt-4"
                        }, [t.canReportResult ? i("div", {
                            staticClass: "mb-4"
                        }, [i("a", {
                            attrs: {
                                href: ""
                            },
                            on: {
                                click: function(e) {
                                    e.preventDefault(),
                                    t.showSetResultDialog = !0
                                }
                            }
                        }, [t._v(t._s(t.$translate("Set result")))])]) : t._e(), i("div", {
                            staticClass: "font-weight-bold"
                        }, [t._v(t._s(t.$translate("Referees")))]), t._l(t.referees, (function(e) {
                            return i("div", {
                                key: e.id
                            }, [i("span", {
                                class: {
                                    "mr-2": e.mail || e.phone
                                }
                            }, [t._v(" " + t._s(e.name) + " "), e.mail || e.phone && t.showUserDetails && !t.$vuetify.breakpoint.mobile ? [i("span", [t._v(":")])] : t._e()], 2), i("span", [e.mail && t.showUserDetails ? i("a", {
                                attrs: {
                                    href: "mailto:" + e.mail
                                }
                            }, [t.$vuetify.breakpoint.mobile ? [i("v-icon", {
                                attrs: {
                                    color: "primary"
                                }
                            }, [t._v("mdi-email-outline")])] : [t._v(" " + t._s(e.mail) + " ")]], 2) : t._e(), e.mail && e.phone && t.showUserDetails && !t.$vuetify.breakpoint.mobile ? [i("span", [t._v(",")])] : t._e()], 2), e.phone && t.showUserDetails ? i("a", {
                                class: {
                                    "ml-2": e.mail
                                },
                                attrs: {
                                    href: "tel:" + e.phone
                                }
                            }, [t.$vuetify.breakpoint.mobile ? [i("v-icon", {
                                attrs: {
                                    color: "primary"
                                }
                            }, [t._v("mdi-phone-outline")])] : [t._v(" " + t._s(e.phone) + " ")]], 2) : t._e()])
                        }
                        ))], 2)]
                    },
                    proxy: !0
                } : null], null, !0)
            }), t.teamsSet ? i("hr") : t._e(), t.twoTeams && t.teamsSet ? i("v-timeline", [t.canLiveReport ? i("v-timeline-item", {
                staticClass: "text-right quick-report-row",
                attrs: {
                    color: "primary",
                    "fill-dot": "",
                    icon: "mdi-plus",
                    large: ""
                },
                scopedSlots: t._u([t.canLiveReportForHomeTeam && !t.$vuetify.breakpoint.mobile ? {
                    key: "opposite",
                    fn: function() {
                        return [i("div", {
                            staticClass: "text-left"
                        }, [i("div", {
                            staticClass: "font-weight-bold"
                        }, [t._v(t._s(t.$translate("Quick report for {0}").format(t.match.teams[0].name)))]), t._l(t.eventTypesForSport, (function(e) {
                            return i("a", {
                                key: e.id,
                                staticClass: "mr-2",
                                attrs: {
                                    href: "#"
                                },
                                on: {
                                    click: function(i) {
                                        return i.preventDefault(),
                                        t.addEvent(t.match.teams[0].id, e.id)
                                    }
                                }
                            }, [t._v(t._s(e.name))])
                        }
                        ))], 2)]
                    },
                    proxy: !0
                } : null, {
                    key: "icon",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                color: "primarytext",
                                large: ""
                            },
                            on: {
                                click: function(e) {
                                    return t.addEvent()
                                }
                            }
                        }, [t._v("mdi-plus")])]
                    },
                    proxy: !0
                }], null, !0)
            }, [t.canLiveReportForAwayTeam && !t.$vuetify.breakpoint.mobile ? [i("div", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Quick report for {0}").format(t.match.teams[1].name)))]), t._l(t.eventTypesForSport, (function(e) {
                return i("a", {
                    key: e.id,
                    staticClass: "mr-2",
                    attrs: {
                        href: "#"
                    },
                    on: {
                        click: function(i) {
                            return i.preventDefault(),
                            t.addEvent(t.match.teams[1].id, e.id)
                        }
                    }
                }, [t._v(t._s(e.name))])
            }
            ))] : t._e()], 2) : t._e(), t.events && 0 == t.events.length ? i("div", {
                staticClass: "d-flex justify-center mb-4"
            }, [i("div", {
                staticClass: "period-title text--disabled pa-1"
            }, [t._v(" " + t._s(t.$translate("No events")) + " ")])]) : t._e()], 1) : t._e(), t.events && t.events.length > 0 ? t._l(t.timePeriods, (function(e) {
                return i("div", {
                    key: e.id
                }, [e.id && t.groupedEvents[e.id].length ? i("div", {
                    staticClass: "d-flex justify-center"
                }, [i("div", {
                    staticClass: "period-title text--disabled pa-1"
                }, [t._v(" " + t._s(e.title) + " ")])]) : t._e(), t.groupedEvents[e.id].length ? i("v-timeline", t._l(t.groupedEvents[e.id], (function(e) {
                    return i("v-timeline-item", {
                        key: e.id,
                        class: {
                            "text-right": e.home
                        },
                        attrs: {
                            "fill-dot": "",
                            left: e.home,
                            right: !e.home,
                            color: e.background_color
                        },
                        scopedSlots: t._u([{
                            key: "icon",
                            fn: function() {
                                return [i("v-btn", {
                                    attrs: {
                                        icon: "",
                                        color: "primarytext"
                                    },
                                    on: {
                                        click: function(i) {
                                            return t.changeEvent(e)
                                        }
                                    }
                                }, [t._v(t._s(e.time))])]
                            },
                            proxy: !0
                        }], null, !0)
                    }, [i("div", {
                        staticClass: "font-weight-bold",
                        style: {
                            color: e.color
                        }
                    }, [t._v(t._s(e.title))]), e.user ? i("div", [t._v(t._s(e.user.name))]) : t._e(), e.comment ? i("div", {
                        staticClass: "font-italic"
                    }, [t._v(t._s(e.comment))]) : t._e()])
                }
                )), 1) : t._e()], 1)
            }
            )) : t._e(), t.teamsSet && !t.isIndividualCompetition ? i("hr") : t._e(), t.teamsSet && !t.isIndividualCompetition ? i("v-row", {
                staticClass: "mt-2"
            }, t._l([t.homeLeaders, t.awayLeaders], (function(e, s) {
                return i("v-col", {
                    key: s,
                    attrs: {
                        cols: "12",
                        md: "6"
                    }
                }, [i("div", {
                    staticClass: "font-weight-bold mb-2 align-center d-flex"
                }, [i("img", {
                    staticClass: "team-image mr-2",
                    attrs: {
                        src: "/api/public/image/get?size=200x200&type=team&id=" + t.match.teams[s].id
                    }
                }), i("div", [t._v(t._s(t.match.teams[s].name))])]), t.match.teams[s].registration_answers ? i("div", t._l(t.questions, (function(e) {
                    return i("div", {
                        key: e.name
                    }, [i("div", {
                        staticClass: "d-flex fill-width"
                    }, [i("div", {
                        staticClass: "font-weight-bold"
                    }, [t._v(t._s(e.name))]), i("div", {
                        staticClass: "ml-2"
                    }, [t._v(t._s(t.match.teams[s].registration_answers[e.name]))])])])
                }
                )), 0) : t._e(), i("div", {
                    staticClass: "font-weight-bold mb-1"
                }, [t._v(t._s(t.$translate("Leaders")))]), t._l(e, (function(e) {
                    return i("div", {
                        key: e.id,
                        staticClass: "d-flex"
                    }, [i("div", {
                        staticClass: "d-flex fill-width",
                        staticStyle: {
                            margin: "0.15rem",
                            position: "relative",
                            display: "inline-flex"
                        }
                    }, [i("v-avatar", {
                        staticClass: "mr-2",
                        attrs: {
                            size: 20
                        }
                    }, [i("img", {
                        staticClass: "user-image",
                        attrs: {
                            src: "/api/memberapi/image/member/get?size=50x50&id=" + e.id
                        }
                    })]), i("div", {
                        staticClass: "flex-grow-1 text-truncate"
                    }, [t._v(t._s(e.name))]), e.phone && t.showUserDetails ? i("a", {
                        class: {
                            "ml-2": e.mail
                        },
                        attrs: {
                            href: "tel:" + e.phone
                        }
                    }, [t.$vuetify.breakpoint.mobile ? [i("v-icon", {
                        attrs: {
                            color: "primary"
                        }
                    }, [t._v("mdi-phone-outline")])] : [t._v(" " + t._s(e.phone) + " ")]], 2) : t._e(), "mainLeader" == e.user_type ? i("v-icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0",
                            left: "0",
                            transform: "translate(-50%, -50%)"
                        },
                        attrs: {
                            small: "",
                            color: "primary"
                        }
                    }, [t._v(" mdi-star ")]) : t._e()], 1)])
                }
                )), i("div", {
                    staticClass: "font-weight-bold mt-2"
                }, [t._v(t._s(t.$translate("Formation")))]), i("multi-column-list", {
                    attrs: {
                        items: t.getUsers(s),
                        clickable: t.showUserDetails && t.canManageFormation(t.match.teams[s])
                    },
                    on: {
                        click: function(e) {
                            var i = e.item
                              , a = e.$event;
                            return t.showPlayerDetails(i, t.match.teams[s].id, a)
                        }
                    },
                    scopedSlots: t._u([{
                        key: "icon",
                        fn: function(e) {
                            var a = e.item;
                            return [i("div", {
                                staticClass: "number-circle ml-2"
                            }, [a.shirt_number ? i("div", [t._v(t._s(a.shirt_number))]) : t._e(), t.isPresent(s, a.id) ? i("div", {
                                staticClass: "checkmark-circle"
                            }, [i("span", {
                                staticClass: "checkmark"
                            }, [t._v("✔")])]) : t._e()])]
                        }
                    }, {
                        key: "no-items",
                        fn: function() {
                            return [i("div", {
                                staticClass: "text--disabled ml-4"
                            }, [t._v(" " + t._s(t.$translate("No players added to formation")) + " ")])]
                        },
                        proxy: !0
                    }], null, !0)
                }), t.canManageFormation(t.match.teams[s]) ? i("div", {
                    key: "add",
                    staticClass: "d-flex z-clickable mt-2",
                    on: {
                        click: function(e) {
                            return t.showManageFormationDialog(t.match.teams[s])
                        }
                    }
                }, [i("div", {
                    staticClass: "mr-2"
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v("mdi-plus-circle")])], 1), i("div", {
                    staticClass: "mb-2"
                }, [i("div", [t._v(t._s(t.$translate("Manage formation")))])])]) : t._e()], 2)
            }
            )), 1) : t._e(), t.manageFormation.show ? i("teamsport-invite-players-dialog", {
                attrs: {
                    referee: t.isReferee,
                    match: t.match,
                    teamId: t.manageFormation.teamId,
                    group: t.manageFormation.group,
                    activity: t.match.team_activity
                },
                model: {
                    value: t.manageFormation.show,
                    callback: function(e) {
                        t.$set(t.manageFormation, "show", e)
                    },
                    expression: "manageFormation.show"
                }
            }) : t._e(), t.addEventDialog.show ? i("TeamsportEventDialog", {
                attrs: {
                    match: t.match,
                    eventTypeId: t.addEventDialog.eventTypeId,
                    teamId: t.addEventDialog.teamId
                },
                model: {
                    value: t.addEventDialog.show,
                    callback: function(e) {
                        t.$set(t.addEventDialog, "show", e)
                    },
                    expression: "addEventDialog.show"
                }
            }) : t._e(), t.changeEventDialog.show ? i("TeamsportEventDialog", {
                attrs: {
                    match: t.match,
                    eventId: t.changeEventDialog.eventId
                },
                model: {
                    value: t.changeEventDialog.show,
                    callback: function(e) {
                        t.$set(t.changeEventDialog, "show", e)
                    },
                    expression: "changeEventDialog.show"
                }
            }) : t._e(), t.playerDetails.show ? i("TeamsportPlayerDetailsDialog", {
                attrs: {
                    user: t.playerDetails.user,
                    match: t.match,
                    teamId: t.playerDetails.teamId,
                    attendance: t.attendance[t.playerDetails.teamId],
                    showAtX: t.playerDetails.x,
                    showAtY: t.playerDetails.y
                },
                on: {
                    updateAttendance: t.updateAttendance
                },
                model: {
                    value: t.playerDetails.show,
                    callback: function(e) {
                        t.$set(t.playerDetails, "show", e)
                    },
                    expression: "playerDetails.show"
                }
            }) : t._e(), t.showSetResultDialog ? i("TeamsportSetResultDialog", {
                attrs: {
                    match: t.match
                },
                model: {
                    value: t.showSetResultDialog,
                    callback: function(e) {
                        t.showSetResultDialog = e
                    },
                    expression: "showSetResultDialog"
                }
            }) : t._e()], 2) : i("div", [i("TeamsportOneMatch", {
                attrs: {
                    matchId: t.match.id
                }
            })], 1)])
        }
          , Tp = []
          , Ip = {
            name: "zoezi-teamsport-match",
            zoezi: {
                title: "Match",
                icon: "mdi-trophy",
                addon: "TeamSports"
            },
            props: {
                matchId: {
                    title: "Match ID",
                    type: Number
                }
            },
            components: {
                TeamsportMatchResult: br,
                MultiColumnList: sr,
                TeamsportEventDialog: Rl,
                TeamsportPlayerDetailsDialog: Dl,
                TeamsportSetResultDialog: Ul,
                TeamsportOneMatch: Ql,
                TeamsportInvitePlayersDialog: Jn
            },
            data: ()=>({
                match: null,
                loading: !1,
                unsubscribe: [],
                eventTypes: [],
                rawEvents: [],
                members: [],
                settings: null,
                addEventDialog: {
                    show: !1,
                    eventTypeId: null,
                    teamId: null
                },
                changeEventDialog: {
                    show: !1,
                    eventId: null
                },
                playerDetails: {
                    show: !1,
                    user: null,
                    teamId: null,
                    x: null,
                    y: null
                },
                manageFormation: {
                    show: !1,
                    teamId: null,
                    group: {}
                },
                attendance: {},
                showSetResultDialog: !1
            }),
            watch: {
                matchId: {
                    immediate: !0,
                    handler() {
                        this.getMatchAndMembers()
                    }
                },
                match() {
                    this.getMembersInMatch(),
                    this.getAttendance()
                }
            },
            computed: {
                showUserDetails() {
                    return this.$store.state.user && (this.$api.hasPermission("Competition handling") || this.isTeamLeader || this.isReferee)
                },
                events() {
                    return this.rawEvents && this.eventTypes ? this.rawEvents.filter(t=>t.eventtype_id).map(t=>{
                        const e = this.eventTypes.find(e=>e.id == t.eventtype_id);
                        return {
                            id: t.id,
                            title: e.name,
                            subtitle: t.comment,
                            time: t.matchtime,
                            color: e.text_color,
                            background_color: e.background_color,
                            home: t.team_id == this.match.teams[0].id,
                            comment: t.comment,
                            timeperiod: t.timeperiod,
                            user: this.getUsers(t.team_id == this.match.teams[0].id ? 0 : 1).find(e=>e.id == t.user_id)
                        }
                    }
                    ).sort((t,e)=>e.time - t.time) : []
                },
                groupedEvents() {
                    let t = {};
                    return this.timePeriods.forEach(e=>{
                        t[e.id] = this.events.filter(t=>t.timeperiod == e.id)
                    }
                    ),
                    t
                },
                homeLeaders() {
                    return this.getLeaders(0)
                },
                awayLeaders() {
                    return this.getLeaders(1)
                },
                eventTypesForSport() {
                    return this.match.division.competitionstep.gameclass.competition.teamsport.eventtypes.map(t=>this.eventTypes.find(e=>e.id == t)).filter(t=>null === t || void 0 === t ? void 0 : t.team).sort((t,e)=>t.name.localeCompare(e.name))
                },
                canLiveReport() {
                    var t;
                    return (null === (t = this.settings) || void 0 === t ? void 0 : t.live_report) && this.canReportEvent()
                },
                canLiveReportForHomeTeam() {
                    return this.canLiveReport && this.match && this.canReportEvent(this.match.teams[0])
                },
                canLiveReportForAwayTeam() {
                    return this.canLiveReport && this.match && this.canReportEvent(this.match.teams[1])
                },
                teamsSet() {
                    return !this.match.teams.some(t=>!t.id)
                },
                canReportResult() {
                    if (!this.$store.state.user)
                        return !1;
                    if (!this.teamsSet)
                        return !1;
                    if (this.$api.hasPermission("Competition handling"))
                        return !0;
                    if (!this.settings)
                        return !1;
                    const t = this.match.referees_id && this.match.referees_id.includes(this.$store.state.user.id)
                      , e = this.match.activity && this.$store.state.now30s < Date.newFull(this.match.activity.endTime).addDays(this.settings.result_report_days)
                      , i = ["both", "result"].includes(this.settings.referee_report)
                      , s = ["both", "both_team", "result"].includes(this.settings.teamleader_report);
                    return t && i || this.isTeamLeader && s && (!this.match.finished || e)
                },
                timePeriods() {
                    let t = this.match.division.competitionstep.gameclass.competition.teamsport.timeperiods || ""
                      , e = t.split(",").reverse();
                    return e.push(null),
                    e.map(t=>({
                        id: t,
                        title: t || this.$translate("No period")
                    }))
                },
                isTeamLeader() {
                    return this.$store.state.user && this.match.teams.some(t=>t.group && t.group.responsible.includes(this.$store.state.user.id))
                },
                referees() {
                    return this.match && this.members.length ? this.match.referees_id.map(t=>{
                        const e = this.members.find(e=>e.id == t);
                        return {
                            name: e.name,
                            id: e.id,
                            phone: e.phone,
                            mail: e.mail
                        }
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                twoTeams() {
                    var t;
                    return 2 == (null === (t = this.match) || void 0 === t ? void 0 : t.teams.length)
                },
                isReferee() {
                    return this.$store.state.user && this.match.referees_id && this.match.referees_id.includes(this.$store.state.user.id)
                },
                isIndividualCompetition() {
                    return this.match.division.competitionstep.gameclass.individual
                },
                questions() {
                    var t, e;
                    return null !== (t = null === (e = this.match.division.competitionstep.gameclass.questions) || void 0 === e ? void 0 : e.filter(t=>t.show_on_match)) && void 0 !== t ? t : []
                }
            },
            methods: {
                canManageFormation(t) {
                    var e, i, s;
                    const a = this.match.division.competitionstep.gameclass.competition.teamsport.referee_responsible_for_formations
                      , o = null === (e = t.group) || void 0 === e || null === (i = e.responsible) || void 0 === i ? void 0 : i.includes(null === (s = this.$store.state.user) || void 0 === s ? void 0 : s.id);
                    return o || a && this.isReferee
                },
                showManageFormationDialog(t) {
                    this.manageFormation.show = !0,
                    this.manageFormation.teamId = t.id,
                    this.manageFormation.group = t.group
                },
                getMatchAndMembers() {
                    this.loading = !0,
                    Promise.all([this.getMatch(), this.getMembersInMatch()]).then(()=>{
                        this.loading = !1
                    }
                    )
                },
                getMatch() {
                    return this.$api.get("/api/teamsport/match/get", {
                        id: this.matchId,
                        full: !0
                    }).then(t=>{
                        this.match = t,
                        t.activity && this.$booking.transformWorkout(t.activity)
                    }
                    , ()=>{
                        this.match = null
                    }
                    )
                },
                getMembersInMatch() {
                    return this.$api.get("/api/memberapi/teamsport/get_member_in_match", {
                        match_id: this.matchId
                    }).then(t=>{
                        this.members = t
                    }
                    )
                },
                getEvents() {
                    this.$api.get("/api/teamsport/event/get", {
                        match_id: this.matchId
                    }).then(t=>{
                        this.rawEvents = t
                    }
                    )
                },
                getEventTypes() {
                    this.$api.get("/api/teamsport/eventtype/get").then(t=>{
                        this.eventTypes = t
                    }
                    )
                },
                addEvent(t, e) {
                    this.addEventDialog.teamId = t,
                    this.addEventDialog.eventTypeId = e,
                    this.addEventDialog.show = !0
                },
                getUsers(t) {
                    return this.match && this.members.length ? this.match.team_activities[t].bookings.map(t=>{
                        var e, i;
                        const s = this.members.find(e=>e.id == t.user_id);
                        return {
                            name: s.name,
                            id: s.id,
                            shirt_number: null === (e = this.match.shirt_numbers) || void 0 === e || null === (i = e.find(t=>t.user == s.id)) || void 0 === i ? void 0 : i.shirt,
                            phone: s.phone,
                            mail: s.mail
                        }
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name)) : []
                },
                getLeaders(t) {
                    return !this.match || !this.members.length || t >= this.match.teams.length || !this.match.teams[t].group ? [] : this.match.teams[t].group.responsible.map(e=>{
                        var i;
                        const s = this.members.find(t=>t.id == e);
                        return {
                            name: s.name,
                            id: s.id,
                            phone: s.phone,
                            mail: s.mail,
                            user_type: null === (i = this.match.teams[t].group.user_types) || void 0 === i ? void 0 : i[s.id]
                        }
                    }
                    ).sort((t,e)=>t.name.localeCompare(e.name))
                },
                fetchTeamsportSettings() {
                    this.$api.get("/api/teamsport/settings/get").then(t=>{
                        this.settings = t
                    }
                    )
                },
                canReportEvent(t) {
                    if (!this.$store.state.user)
                        return !1;
                    if (!this.match)
                        return !1;
                    if (this.match.teams.some(t=>!t.id))
                        return !1;
                    if (this.$api.hasPermission("Competition handling"))
                        return !0;
                    if (!this.settings)
                        return !1;
                    const e = this.isTeamLeader
                      , i = !t || t.group && t.group.responsible.includes(this.$store.state.user.id)
                      , s = this.match.activity && this.$store.state.now30s < Date.newFull(this.match.activity.endTime).addDays(this.settings.event_report_days)
                      , a = ["both", "event"].includes(this.settings.referee_report)
                      , o = ["both", "event"].includes(this.settings.teamleader_report)
                      , n = ["both_team", "event_team"].includes(this.settings.teamleader_report)
                      , r = o || n && i;
                    return (this.isReferee && a || e && r) && (!this.match.finished || s)
                },
                changeEvent(t) {
                    this.canReportEvent(this.match.teams.find(e=>e.id == t.team_id)) && (this.changeEventDialog.eventId = t.id,
                    this.changeEventDialog.show = !0)
                },
                showPlayerDetails(t, e, i) {
                    this.showUserDetails && this.canManageFormation(this.match.teams.find(t=>t.id == e)) && (this.playerDetails.show = !0,
                    this.playerDetails.user = t,
                    this.playerDetails.teamId = e,
                    this.$vuetify.breakpoint.mobile ? (this.playerDetails.x = (window.innerWidth - 275) / 2,
                    this.playerDetails.y = i.clientY + 40) : i.clientX > 285 ? (this.playerDetails.x = i.clientX - 285,
                    this.playerDetails.y = i.clientY) : (this.playerDetails.x = i.clientX + 100,
                    this.playerDetails.y = i.clientY),
                    this.playerDetails.x -= 15,
                    this.playerDetails.y -= 15)
                },
                getAttendance() {
                    if (!this.match || !this.$store.state.user)
                        return;
                    const t = this.match.teams.filter(t=>{
                        var e, i;
                        return this.isReferee || (null === t || void 0 === t || null === (e = t.group) || void 0 === e || null === (i = e.responsible) || void 0 === i ? void 0 : i.includes(this.$store.state.user.id))
                    }
                    );
                    t.forEach(t=>{
                        let e = this.match.teams.findIndex(e=>e.id == t.id);
                        const i = this.match.team_activities[e];
                        this.$api.get("/api/memberapi/teamsport/attendance/get", {
                            activityId: i.id
                        }).then(e=>{
                            this.$set(this.attendance, t.id, e)
                        }
                        )
                    }
                    )
                },
                updateAttendance(t, e) {
                    let i = this.attendance[t].find(t=>t.id == e.id);
                    i && (i.present = e.present)
                },
                isPresent(t, e) {
                    var i;
                    const s = this.match.teams[t].id;
                    return !!this.attendance[s] && (null === (i = this.attendance[s].find(t=>t.user.id == e)) || void 0 === i ? void 0 : i.present)
                }
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        this.match && e.data.find(t=>t.id == this.match.id) && this.getMatchAndMembers()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportevent",
                    callback: (t,e)=>{
                        this.match && e.data.find(t=>t.match_id == this.match.id) && this.getEvents()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "settings:teamsportsettings",
                    callback: ()=>{
                        this.fetchTeamsportSettings()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "workoutbooking",
                    callback: (t,e)=>{
                        if (!this.match || !this.$store.state.user)
                            return;
                        const i = this.match.team_activities.map(t=>t.id)
                          , s = e.data.find(t=>i.includes(t.workout));
                        s && this.getAttendanceAndMatchDebounce()
                    }
                })),
                this.getEventTypes(),
                this.getEvents(),
                this.fetchTeamsportSettings()
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            },
            beforeCreate() {
                this.getAttendanceAndMatchDebounce = Object(a["debounce"])(()=>{
                    this.getAttendance(),
                    this.getMatchAndMembers()
                }
                , 500)
            }
        }
          , Pp = Ip
          , Vp = (i("ddee"),
        i("acee"),
        i("8414"))
          , Bp = i("1e06")
          , Fp = Object(p["a"])(Pp, zp, Tp, !1, null, "7ba3f294", null)
          , Ep = Fp.exports;
        g()(Fp, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VTimeline: Vp["a"],
            VTimelineItem: Bp["a"]
        });
        var Op = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-container", {
                staticClass: "mb-10"
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                staticClass: "pa-0"
            }, [i("div", [i("v-row", [i("v-col", {
                staticClass: "d-flex justify-end"
            }, [i("v-autocomplete", {
                staticStyle: {
                    "max-width": "200px"
                },
                attrs: {
                    items: t.filteredTeamsports,
                    "search-input": t.searchText,
                    label: t.searchLabel,
                    "item-text": "name",
                    "item-value": "name",
                    "return-object": "",
                    "prepend-inner-icon": "mdi-magnify"
                },
                on: {
                    "update:searchInput": function(e) {
                        t.searchText = e
                    },
                    "update:search-input": function(e) {
                        t.searchText = e
                    }
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            })], 1)], 1)], 1), i("v-divider"), t.loading ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("div", [t.teamsports ? i("CardLayout", {
                attrs: {
                    items: t.filteredTeamsports
                },
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.item
                          , a = e.layout;
                        return [i("CategoryCard", {
                            attrs: {
                                category: s,
                                defaultImageKey: t.imageUrl,
                                "title-right": "wide" == a
                            },
                            on: {
                                click: function(e) {
                                    return t.gotoCompetitionList(s)
                                }
                            }
                        })]
                    }
                }], null, !1, 2808630560)
            }) : t._e()], 1)], 1)], 1)], 1)
        }
          , Mp = []
          , Ap = {
            name: "zoezi-teamsport-category-list",
            zoezi: {
                title: "Categories for competitions",
                icon: "mdi-trophy",
                addon: "TeamSports"
            },
            props: {
                link: {
                    title: "Page with competition list",
                    type: String,
                    fulltype: "page"
                }
            },
            components: {
                CardLayout: bi,
                CategoryCard: Ca
            },
            data() {
                return {
                    search: null,
                    searchText: null,
                    teamsports: [],
                    loading: !1
                }
            },
            computed: {
                filteredTeamsports() {
                    return this.teamsports.filter(t=>t.visibleForCustomer && (!this.searchText || t.name.toLowerCase().includes(this.searchText.toLowerCase()))).sort((t,e)=>t.name.localeCompare(e.name))
                },
                imageUrl() {
                    return this.$api.getImageUrl("/assets/img/teamsport.jpg")
                },
                searchLabel() {
                    return this.$translate("Search team sport")
                }
            },
            methods: {
                getTeamsports() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/get").then(t=>{
                        this.teamsports = t,
                        this.loading = !1
                    }
                    )
                },
                gotoCompetitionList(t) {
                    this.$root.followLink(this.link, t.id)
                }
            },
            mounted() {
                this.getTeamsports(),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "teamsport",
                    callback: ()=>this.getTeamsports()
                })
            },
            unmounted() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , Rp = Ap
          , Lp = (i("8d1e"),
        Object(p["a"])(Rp, Op, Mp, !1, null, "4fa5b752", null))
          , jp = Lp.exports;
        g()(Lp, {
            VAutocomplete: ku["a"],
            VCol: M["a"],
            VContainer: Su["a"],
            VDivider: $["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"]
        });
        var Np = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.gc ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.error ? i("div", [i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t.error ? i("span", [t._v(t._s(t.$translate("Error loading game class")))]) : t._e()])], 1) : t.gc ? i("div", [i("v-sheet", {
                staticClass: "pa-4",
                attrs: {
                    color: "primary"
                }
            }, [i("h2", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.gc.name))])]), i("v-expansion-panels", {
                attrs: {
                    multiple: ""
                },
                model: {
                    value: t.expandedPanels,
                    callback: function(e) {
                        t.expandedPanels = e
                    },
                    expression: "expandedPanels"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Divisions")))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("v-row", t._l(t.divisions, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "6",
                        lg: "3"
                    }
                }, [i("v-card", [i("v-card-title", {
                    staticClass: "primary--text"
                }, [t._v(" " + t._s(e.name) + " ")]), i("v-card-text", {
                    staticClass: "pb-0"
                }, t._l(e.teams, (function(e) {
                    return i("div", {
                        key: e.id,
                        staticClass: "mb-1"
                    }, [i("v-avatar", {
                        staticClass: "mr-1",
                        attrs: {
                            size: "30"
                        }
                    }, [i("v-img", {
                        attrs: {
                            src: "/api/public/image/get?size=50x50&type=team&id=" + e.id
                        }
                    })], 1), i("span", {
                        staticClass: "font-weight-bold"
                    }, [t._v(t._s(e.name))])], 1)
                }
                )), 0), i("v-card-actions", [i("v-btn", {
                    attrs: {
                        block: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.gotoResults(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Results & schedule")))])], 1)], 1)], 1)
            }
            )), 1)], 1)], 1), t.showPlayoffTree ? i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Playoff tree")))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("TeamsportPlayoffTree", {
                attrs: {
                    gameClassId: t.gameClassId
                }
            })], 1)], 1) : t._e(), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Matches")))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("teamsport-matches", {
                attrs: {
                    gameClassId: t.gameClassId,
                    isIndividual: t.gc.individual
                },
                on: {
                    onMatchesLoaded: t.onMatchesLoaded
                }
            })], 1)], 1)], 1)], 1) : t._e()
        }
          , Wp = []
          , qp = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.gc ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.error ? i("div", [i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t.error ? i("span", [t._v(t._s(t.$translate("Error loading game class")))]) : t._e()])], 1) : t.gc ? i("div", {
                ref: "sc",
                staticClass: "scroll-container",
                class: {
                    "is-dragging": t.isDragging
                },
                style: {
                    "--card-height": t.cardHeight + "px",
                    "--step-width": t.stepWidth + "px"
                },
                on: {
                    scroll: t.handleScroll,
                    mousedown: t.startDragging,
                    mouseup: t.stopDragging,
                    mouseleave: t.stopDragging,
                    mousemove: t.drag
                }
            }, [t._l(t.steps, (function(e, s) {
                return i("div", {
                    key: e.id,
                    staticClass: "step"
                }, [i("div", {
                    staticClass: "step-header"
                }, [t._v(t._s(e.name))]), i("div", {
                    staticClass: "divisions",
                    style: {
                        height: t.heightOfDivisions + "px"
                    }
                }, [i("transition-group", {
                    staticClass: "cards-container",
                    attrs: {
                        name: "slide",
                        tag: "div"
                    }
                }, t._l(e.divisions, (function(e, a) {
                    return i("div", {
                        key: e.id
                    }, [i("div", {
                        staticClass: "division-card",
                        style: {
                            top: t.itemTop(s, a) + "px"
                        }
                    }, [i("TeamsportPlayoffTreeDivisionCard", {
                        ref: "division-" + e.id,
                        refInFor: !0,
                        staticClass: "z-clickable",
                        attrs: {
                            division: t.divisions[e.id],
                            compact: s < t.currentStepIndex,
                            showTime: t.showTime
                        },
                        on: {
                            click: function(i) {
                                return t.gotoDivision(i, e)
                            }
                        }
                    })], 1)])
                }
                )), 0)], 1)])
            }
            )), i("svg", {
                ref: "lines",
                staticClass: "lines",
                style: t.linesContainerStyle
            }, t._l(t.lines, (function(t, e) {
                return i("path", {
                    key: e,
                    attrs: {
                        d: t.d
                    }
                })
            }
            )), 0)], 2) : t._e()
        }
          , Hp = []
          , Up = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.division ? t.division.single_match && t.match && !t.compact ? i("v-card", {
                staticClass: "ma-3 pa-2 d-flex flex-column justify-center border",
                attrs: {
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [t.showTime && t.matchTime ? i("div", {
                staticClass: "match-time"
            }, [t._v(t._s(t.matchTime))]) : t._e(), i("div", {
                staticClass: "d-flex flex-row align-center my-1"
            }, [i("v-avatar", {
                staticClass: "mr-2",
                attrs: {
                    size: "30"
                }
            }, [t.homeTeam.team_id ? i("img", {
                attrs: {
                    src: "/api/public/image/get?type=team&size=30x30&id=" + t.homeTeam.team_id
                }
            }) : t._e()]), i("div", {
                staticClass: "team-name"
            }, [t._v(t._s(t.homeTeam.name))]), i("div", {
                staticClass: "ml-auto"
            }, [t._v(t._s(t.homeResult))])], 1), i("div", {
                staticClass: "d-flex flex-row align-center my-1"
            }, [i("v-avatar", {
                staticClass: "mr-2",
                attrs: {
                    size: "30"
                }
            }, [t.awayTeam.team_id ? i("img", {
                attrs: {
                    src: "/api/public/image/get?type=team&size=30x30&id=" + t.awayTeam.team_id
                }
            }) : t._e()]), i("div", {
                staticClass: "team-name"
            }, [t._v(t._s(t.awayTeam.name))]), i("div", {
                staticClass: "ml-auto"
            }, [t._v(t._s(t.awayResult))])], 1)]) : t.division.single_match && t.match && t.compact ? i("v-card", {
                staticClass: "ma-3 pa-1 fill-height border",
                attrs: {
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [i("div", {
                staticClass: "d-flex flex-row justify-space-between"
            }, [i("div", {
                staticClass: "team-name"
            }, [t._v(t._s(t.homeTeam.name))]), i("div", {
                staticClass: "team-name text-right"
            }, [t._v(t._s(t.awayTeam.name))])])]) : i("v-card", {
                staticClass: "ma-3 pa-2 fill-height border",
                attrs: {
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [i("v-card-title", {
                staticClass: "text-h6"
            }, [t._v(t._s(t.division.name))])], 1) : i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })
        }
          , Yp = []
          , Gp = {
            name: "zoezi-teamsport-playoff-tree-division-card",
            props: {
                division: {
                    type: Object
                },
                compact: {
                    type: Boolean,
                    default: !1
                },
                showTime: {
                    type: Boolean,
                    default: !0
                }
            },
            computed: {
                match() {
                    return this.division.matches[0]
                },
                matchTime() {
                    return this.match.startTime ? Date.formatFullShorter(this.match.startTime) + " " + Date.newFull(this.match.startTime).hhmm() : null
                },
                homeTeam() {
                    return this.match.competitors[0]
                },
                awayTeam() {
                    return this.match.competitors[1]
                },
                homeResult() {
                    var t, e;
                    return null === (t = this.match.result) || void 0 === t || null === (e = t.find(t=>t.team_id == this.match.competitors[0].team_id)) || void 0 === e ? void 0 : e.result
                },
                awayResult() {
                    var t, e;
                    return null === (t = this.match.result) || void 0 === t || null === (e = t.find(t=>t.team_id == this.match.competitors[1].team_id)) || void 0 === e ? void 0 : e.result
                }
            }
        }
          , Kp = Gp
          , Qp = (i("5e43"),
        Object(p["a"])(Kp, Up, Yp, !1, null, "d598917e", null))
          , Jp = Qp.exports;
        g()(Qp, {
            VAvatar: f["a"],
            VCard: x["a"],
            VCardTitle: G["c"],
            VProgressCircular: Q["a"]
        });
        var Xp = {
            name: "zoezi-teamsport-playoff-tree",
            zoezi: {
                title: "Playoff tree",
                icon: "mdi-tournament",
                addon: "Cup"
            },
            props: {
                gameClassId: {
                    title: "Game class ID",
                    type: Number
                },
                showGroupPlay: {
                    title: "Show group play",
                    type: Boolean,
                    default: !1
                },
                showLinesFromGroupPlay: {
                    title: "Show lines from group play",
                    type: Boolean,
                    default: !1
                },
                showTime: {
                    title: "Show time",
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                TeamsportPlayoffTreeDivisionCard: Jp
            },
            watch: {
                gameClassId: {
                    immediate: !0,
                    handler() {
                        this.loadData()
                    }
                },
                currentStepIndex() {
                    clearTimeout(this.stopUpdatingLines),
                    clearInterval(this.redrawLinesInterval),
                    this.redrawLinesInterval = setInterval(()=>{
                        this.lineRedrawNeeded++
                    }
                    , 10),
                    this.stopUpdatingLines = setTimeout(()=>{
                        clearInterval(this.redrawLinesInterval)
                    }
                    , 1e3)
                },
                steps() {
                    this.$nextTick(()=>{
                        this.lineRedrawNeeded++
                    }
                    )
                }
            },
            data: ()=>({
                currentStepIndex: 0,
                scrollDebounceTimer: null,
                cardHeight: 118,
                stepWidth: 288,
                gc: null,
                matches: [],
                loading: !1,
                error: !1,
                lineRedrawNeeded: 0,
                redrawLinesInterval: null,
                stopUpdatingLines: null,
                isDragging: !1,
                startX: 0,
                scrollStartX: 0,
                potentialDrag: !1
            }),
            methods: {
                handleScroll(t) {
                    clearTimeout(this.scrollDebounceTimer),
                    this.scrollDebounceTimer = setTimeout(()=>{
                        const e = t.target.scrollLeft
                          , i = this.stepWidth
                          , s = Math.ceil(e / i);
                        s !== this.currentStepIndex && (this.currentStepIndex = s)
                    }
                    , 100)
                },
                startDragging(t) {
                    this.startX = t.clientX,
                    this.scrollStartX = this.$refs.sc.scrollLeft,
                    t.preventDefault(),
                    this.potentialDrag = !0
                },
                drag(t) {
                    if (!this.potentialDrag && !this.isDragging)
                        return;
                    const e = t.clientX
                      , i = e - this.startX;
                    this.potentialDrag && Math.abs(i) > 5 && (this.isDragging = !0,
                    this.potentialDrag = !1),
                    this.isDragging && (this.$refs.sc.scrollLeft = this.scrollStartX - i)
                },
                stopDragging() {
                    setTimeout(()=>{
                        this.isDragging = !1
                    }
                    , 0),
                    this.potentialDrag = !1
                },
                itemTop(t, e) {
                    if (t < this.currentStepIndex) {
                        const i = this.heightOfDivisions - this.cardHeight / 2 * this.steps[t].divisions.length
                          , s = i / this.steps[t].divisions.length;
                        return s / 2 + e * (this.cardHeight / 2 + s)
                    }
                    const i = this.heightOfDivisions - this.cardHeight * this.steps[t].divisions.length
                      , s = i / this.steps[t].divisions.length;
                    return s / 2 + e * (this.cardHeight + s)
                },
                triggerLineRedraw() {
                    this.$nextTick(()=>{
                        this.lineRedrawNeeded++
                    }
                    )
                },
                loadData() {
                    this.error = !1,
                    this.loading = !0;
                    const t = [this.$api.get("/api/teamsport/gameclass/get_for_memberpage", {
                        id: this.gameClassId
                    }), this.$api.get("/api/teamsport/gameclass/matches/get", {
                        id: this.gameClassId
                    })];
                    Promise.all(t).then(([t,e])=>{
                        this.gc = t,
                        this.matches = e
                    }
                    ).catch(()=>{
                        this.error = !0
                    }
                    ).finally(()=>{
                        this.loading = !1,
                        this.triggerLineRedraw()
                    }
                    )
                },
                gotoDivision(t, e) {
                    if (this.isDragging)
                        return t.preventDefault(),
                        void t.stopPropagation();
                    if (e.single_match) {
                        var i, s;
                        const t = null === (i = this.$root.siteconfig) || void 0 === i || null === (s = i.pages) || void 0 === s ? void 0 : s.match;
                        this.$root.followLink(t, e.single_match)
                    } else {
                        var a;
                        const t = null === (a = this.$root.siteconfig.pages) || void 0 === a ? void 0 : a.division;
                        this.$root.followLink(t, e.id)
                    }
                },
                getRefElement(t) {
                    if (this.$refs[t])
                        return Array.isArray(this.$refs[t]) ? this.$refs[t][0].$el : this.$refs[t].$el
                }
            },
            computed: {
                heightOfDivisions() {
                    return this.cardHeight * this.steps[this.currentStepIndex].divisions.length
                },
                steps() {
                    var t, e;
                    return this.showGroupPlay ? (null === (e = this.gc) || void 0 === e ? void 0 : e.steps) || [] : (null === (t = this.gc) || void 0 === t ? void 0 : t.steps.filter(t=>t.transition_rules.length > 0)) || []
                },
                divisions() {
                    const t = {};
                    return this.steps.forEach(e=>{
                        e.divisions.forEach(e=>{
                            t[e.id] = Object.assign({}, e, {
                                matches: this.matches.filter(t=>t.division_id === e.id)
                            })
                        }
                        )
                    }
                    ),
                    t
                },
                lines() {
                    function t(t) {
                        let e = 0
                          , i = 0;
                        while (t)
                            e += t.offsetLeft,
                            i += t.offsetTop,
                            t = t.offsetParent;
                        return {
                            left: e,
                            top: i
                        }
                    }
                    this.lineRedrawNeeded;
                    const e = this.$refs.sc;
                    if (!e)
                        return [];
                    const i = [];
                    return this.steps.forEach(s=>{
                        0 !== s.transition_rules.length && s.transition_rules.forEach(a=>{
                            const o = this.gc.steps.find(t=>t.id === a.from_competitionstep_id)
                              , n = 0 === o.transition_rules.length;
                            if (n && !this.showLinesFromGroupPlay)
                                return;
                            const r = this.steps.indexOf(s) - this.steps.indexOf(o);
                            if (r > 1)
                                return;
                            const l = this.getRefElement("division-" + a.from_division_id)
                              , c = this.getRefElement("division-" + a.division_id);
                            if (l && c) {
                                const s = t(e)
                                  , o = t(l)
                                  , r = t(c)
                                  , d = o.left - s.left + l.offsetWidth
                                  , u = o.top - s.top + l.offsetHeight / 2
                                  , h = r.left - s.left
                                  , m = r.top - s.top + c.offsetHeight / 2
                                  , p = d + (h - d) / 2
                                  , v = d + 40
                                  , g = Math.abs(m - u);
                                let f;
                                const b = 10;
                                let y = g < 20 ? g / 2 : b;
                                f = n ? `M ${d} ${u} C ${p} ${u}, ${p} ${m}, ${h} ${m}` : y < 5 ? `M ${d} ${u} L ${h} ${m}` : u < m ? `M ${d} ${u}\n                                    L ${v - y} ${u}\n                                    C ${v} ${u}, ${v} ${u + y}, ${v} ${u + y}\n                                    L ${v} ${m - y}\n                                    C ${v} ${m}, ${v + y} ${m}, ${v + y} ${m}\n                                    L ${h} ${m}` : `M ${d} ${u}\n                                    L ${v - y} ${u}\n                                    C ${v} ${u}, ${v} ${u - y}, ${v} ${u - y}\n                                    L ${v} ${m + y}\n                                    C ${v} ${m}, ${v + y} ${m}, ${v + y} ${m}\n                                    L ${h} ${m}`,
                                i.push({
                                    d: f,
                                    name: a.name
                                })
                            }
                        }
                        )
                    }
                    ),
                    i
                },
                linesContainerStyle() {
                    return {
                        height: 46 + this.heightOfDivisions + "px",
                        width: this.steps.length * this.stepWidth + "px"
                    }
                }
            }
        }
          , Zp = Xp
          , tv = (i("1776"),
        Object(p["a"])(Zp, qp, Hp, !1, null, "7bf938df", null))
          , ev = tv.exports;
        g()(tv, {
            VAlert: He["a"],
            VProgressCircular: Q["a"]
        });
        var iv = {
            name: "zoezi-teamsport-gameclass-overview",
            zoezi: {
                title: "Game class overview",
                icon: "mdi-view-dashboard-outline",
                addon: "TeamSports"
            },
            components: {
                TeamsportMatches: mc,
                TeamsportPlayoffTree: ev
            },
            props: {
                gameClassId: {
                    title: "Game class ID",
                    type: Number
                }
            },
            data: ()=>({
                loading: !1,
                error: !1,
                gc: null,
                expandedPanels: [2]
            }),
            computed: {
                showPlayoffTree() {
                    var t;
                    return (null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.modules.Cup) && this.gc.steps.length > 1
                },
                divisions() {
                    var t, e;
                    return ((null === (t = this.gc) || void 0 === t || null === (e = t.steps[0]) || void 0 === e ? void 0 : e.divisions) || []).sort((t,e)=>t.name.localeCompare(e.name, void 0, {
                        numeric: !0
                    }))
                }
            },
            watch: {
                gameClassId: {
                    immediate: !0,
                    handler() {
                        this.gameClassId && (this.loading = !0,
                        this.$api.get("/api/teamsport/gameclass/get_for_memberpage", {
                            id: this.gameClassId,
                            include_teams: !0
                        }).then(t=>{
                            const e = t.teams.map(t=>t.id);
                            t.steps.forEach(t=>{
                                t.divisions.forEach(t=>{
                                    t.teams = t.teams.filter(t=>e.includes(t.id)).sort((t,e)=>t.name.localeCompare(e.name))
                                }
                                )
                            }
                            ),
                            this.gc = t,
                            this.loading = !1
                        }
                        ).catch(()=>{
                            this.error = !0,
                            this.loading = !1
                        }
                        ))
                    }
                }
            },
            methods: {
                gotoResults(t) {
                    var e;
                    const i = null === (e = this.$root.siteconfig.pages) || void 0 === e ? void 0 : e.division;
                    this.$root.followLink(i, t.id)
                },
                onMatchesLoaded(t) {
                    if (this.showPlayoffTree) {
                        let e = t.filter(t=>this.divisions.find(e=>e.id == t.division_id))
                          , i = t.filter(t=>!e.includes(t))
                          , s = e.some(t=>!t.finished)
                          , a = i.some(t=>!t.finished);
                        this.expandedPanels = s && a ? [0, 1, 2] : s ? [0, 2] : a ? [1, 2] : [2]
                    }
                }
            }
        }
          , sv = iv
          , av = Object(p["a"])(sv, Np, Wp, !1, null, null, null)
          , ov = av.exports;
        g()(av, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VImg: at["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSheet: ue["a"]
        });
        var nv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.division ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.error ? i("div", [i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t.error ? i("span", [t._v(t._s(t.$translate("Error loading division")))]) : t._e()])], 1) : t.division ? i("div", [i("v-sheet", {
                staticClass: "pa-4",
                attrs: {
                    color: "primary"
                }
            }, [i("h2", {
                staticClass: "primarytext--text"
            }, [t._v("Serie " + t._s(t.division.name))])]), i("v-expansion-panels", {
                attrs: {
                    multiple: ""
                },
                model: {
                    value: t.expandedPanels,
                    callback: function(e) {
                        t.expandedPanels = e
                    },
                    expression: "expandedPanels"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Tables")) + " " + t._s(t.division.name))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("v-tabs", {
                model: {
                    value: t.selectedTab,
                    callback: function(e) {
                        t.selectedTab = e
                    },
                    expression: "selectedTab"
                }
            }, [i("v-tab", [t._v("Översikt")]), t.toplistTypes ? t._l(t.toplists, (function(e) {
                return i("v-tab", {
                    key: e
                }, [t._v(t._s(t.toplistTypes.find((function(t) {
                    return t.id == e
                }
                )).name))])
            }
            )) : t._e()], 2), i("v-tabs-items", {
                attrs: {
                    touchless: ""
                },
                model: {
                    value: t.selectedTab,
                    callback: function(e) {
                        t.selectedTab = e
                    },
                    expression: "selectedTab"
                }
            }, [i("v-tab-item", [i("TeamsportTable", {
                attrs: {
                    divisionId: t.divisionId
                }
            })], 1), t.toplistTypes ? t._l(t.toplists, (function(e) {
                return i("v-tab-item", {
                    key: e
                }, [i("TeamsportToplist", {
                    attrs: {
                        divisionId: t.divisionId,
                        toplistId: e
                    }
                })], 1)
            }
            )) : t._e()], 2)], 1)], 1), t.showPlayoffTree ? i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Playoff tree")))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("TeamsportPlayoffTree", {
                attrs: {
                    gameClassId: t.gc.id
                }
            })], 1)], 1) : t._e(), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Matches")))])]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [i("teamsport-matches", {
                attrs: {
                    divisionId: t.divisionId,
                    isIndividual: t.gc.individual
                }
            })], 1)], 1)], 1)], 1) : t._e()
        }
          , rv = []
          , lv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.table ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.error ? i("div", [i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t.error ? i("span", [t._v(t._s(t.$translate("Error loading table")))]) : t._e()])], 1) : t.table ? i("div", [i("v-data-table", {
                staticClass: "teamsport-table elevation-1",
                style: t.tableStyle,
                attrs: {
                    headers: t.tableHeaders,
                    items: t.tableRows,
                    "items-per-page": t.table.tableLimit || -1,
                    "hide-default-footer": !t.table.tableLimit || t.tableRows.length <= t.table.tableLimit,
                    "hide-default-header": !t.table.header,
                    "mobile-breakpoint": 0,
                    "disable-sort": !0
                },
                scopedSlots: t._u([{
                    key: "item",
                    fn: function(e) {
                        var s = e.item;
                        return [i("tr", {
                            style: t.rowStyle(s)
                        }, t._l(t.tableHeaders, (function(e, a) {
                            return i("td", {
                                key: a,
                                style: t.cellStyle(e)
                            }, ["image" === e.column.format ? i("div", {
                                staticClass: "d-flex align-center"
                            }, [e.column.text ? [s[e.value][0] ? i("img", {
                                staticClass: "mr-2",
                                attrs: {
                                    src: t.getTeamLogo(e.column.imagetype, s[e.value][0], e.column.imagesize),
                                    height: e.column.imagesize || 30
                                }
                            }) : t._e(), e.column.text ? i("span", [t._v(t._s(s[e.value][1]))]) : t._e()] : [s[e.value] ? i("img", {
                                staticClass: "mr-2",
                                attrs: {
                                    src: t.getTeamLogo(e.column.imagetype, s[e.value], e.column.imagesize),
                                    height: e.column.imagesize || 30
                                }
                            }) : t._e()]], 2) : i("div", {
                                staticStyle: {
                                    "text-align": "right"
                                },
                                domProps: {
                                    innerHTML: t._s(s[e.value])
                                }
                            })])
                        }
                        )), 0)]
                    }
                }])
            })], 1) : t._e()
        }
          , cv = []
          , dv = {
            name: "zoezi-teamsport-table",
            zoezi: {
                title: "Table for division",
                icon: "mdi-table-large",
                addon: "TeamSports"
            },
            props: {
                divisionId: {
                    title: "Division ID",
                    type: Number
                }
            },
            watch: {
                divisionId: {
                    immediate: !0,
                    handler() {
                        this.loadTable()
                    }
                }
            },
            data: ()=>({
                loading: !1,
                error: !1,
                table: null,
                unsubscribe: [],
                tableRows: [],
                tablelinetype: [{
                    id: "none",
                    name: "None"
                }, {
                    id: "thin",
                    name: "Thin",
                    css: "2px solid"
                }, {
                    id: "dashed",
                    name: "Dashed",
                    css: "2px dashed"
                }, {
                    id: "thick",
                    name: "Thick",
                    css: "4px solid"
                }]
            }),
            computed: {
                mobile() {
                    return this.$vuetify.breakpoint.mobile
                },
                tableStyle() {
                    return {
                        "background-color": this.table.background_color,
                        color: this.table.text_color
                    }
                },
                tableHeaders() {
                    return this.table.columns.filter(t=>t.mobile || !this.mobile).map(t=>({
                        text: this.mobile ? t.shortname : t.name,
                        value: t.name,
                        align: "image" == t.format ? "start" : "end",
                        column: t
                    }))
                }
            },
            methods: {
                initializeTable() {
                    this.tableRows = this.table.rows.map(t=>{
                        let e = {};
                        return this.tableHeaders.forEach((i,s)=>{
                            e[i.value] = t[s]
                        }
                        ),
                        e
                    }
                    )
                },
                loadTable() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/teamsport/result/for_division", {
                        division_id: this.divisionId
                    }).then(t=>{
                        this.table = t,
                        this.initializeTable(),
                        this.loading = !1
                    }
                    ).catch(()=>{
                        this.loading = !1,
                        this.error = !0
                    }
                    )
                },
                getTeamLogo(t, e, i) {
                    return i || (i = 30),
                    `/api/public/image/get?type=${t}&id=${e}&size=${i}x ${i}`
                },
                cellStyle(t) {
                    if (t.column.background_color || t.column.text_color || void 0 != t.column.bold)
                        return {
                            "background-color": t.column.background_color,
                            color: t.column.text_color,
                            "font-weight": t.column.bold ? "bold" : "normal"
                        }
                },
                rowStyle(t) {
                    const e = this.tableRows.indexOf(t) + 1;
                    if (!e || !this.table.lines)
                        return;
                    let i;
                    if (this.table.lines.filter(t=>!t.from_bottom).forEach(t=>{
                        e > t.position && (i = t)
                    }
                    ),
                    this.table.lines.filter(t=>t.from_bottom).forEach(t=>{
                        e > this.table.rows.length - t.position && (i = t)
                    }
                    ),
                    i) {
                        let t = {};
                        if (!i.from_bottom && e == i.position + 1 || i.from_bottom && e == this.table.rows.length - i.position + 1) {
                            let e = this.tablelinetype.find(t=>t.id == i.type)
                              , s = e && e.css;
                            s && (t["border-top"] = s)
                        }
                        return i.text_color && (t.color = i.text_color),
                        i.background_color && (t["background-color"] = i.background_color),
                        t
                    }
                }
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsporttable",
                    callback: ()=>{
                        this.loadTable()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportdivision",
                    callback: (t,e)=>{
                        e.data.find(t=>t.id == this.divisionId) && this.loadTable()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        e.data.find(t=>t.division_id == this.divisionId) && this.loadTable()
                    }
                }))
            }
        }
          , uv = dv
          , hv = (i("32ff"),
        Object(p["a"])(uv, lv, cv, !1, null, null, null))
          , mv = hv.exports;
        g()(hv, {
            VAlert: He["a"],
            VDataTable: Aa["a"],
            VProgressCircular: Q["a"]
        });
        var pv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && !t.toplist ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : t.error ? i("div", [i("v-alert", {
                attrs: {
                    type: "error"
                }
            }, [t.error ? i("span", [t._v(t._s(t.$translate("Error loading table")))]) : t._e()])], 1) : t.toplist ? i("div", [i("v-data-table", {
                staticClass: "teamsport-table elevation-1",
                attrs: {
                    headers: t.tableHeaders,
                    items: t.tableRows,
                    "items-per-page": -1,
                    "hide-default-footer": !0,
                    "hide-default-header": !1,
                    "mobile-breakpoint": 0,
                    "disable-sort": !0
                },
                scopedSlots: t._u([{
                    key: "item",
                    fn: function(e) {
                        var s = e.item;
                        return [i("tr", t._l(t.tableHeaders, (function(e, a) {
                            return i("td", {
                                key: a
                            }, ["name" == e.value ? i("div", {
                                staticClass: "d-flex align-center"
                            }, ["player" == t.type && t.$store.state.isLoggedIn ? i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: t.mobile ? 30 : 40
                                }
                            }, [i("img", {
                                staticClass: "user-image",
                                attrs: {
                                    src: "/api/memberapi/image/member/get?size=50x50&id=" + s.id
                                }
                            })]) : t._e(), "team" == t.type ? i("v-avatar", {
                                staticClass: "mr-2",
                                attrs: {
                                    size: t.mobile ? 30 : 40
                                }
                            }, [i("img", {
                                staticClass: "user-image",
                                attrs: {
                                    src: "/api/public/image/get?size=50x50&type=team&id=" + s.id
                                }
                            })]) : t._e(), t._v(" " + t._s(s[e.value]) + " ")], 1) : [t._v(" " + t._s(s[e.value]) + " ")]], 2)
                        }
                        )), 0)]
                    }
                }])
            })], 1) : t._e()
        }
          , vv = []
          , gv = {
            name: "zoezi-teamsport-toplist",
            zoezi: {
                title: "Series leaderboard",
                icon: "mdi-table-large",
                addon: "TeamSports"
            },
            props: {
                divisionId: {
                    title: "Division ID",
                    type: Number
                },
                toplistId: {
                    title: "Toplist ID",
                    type: Number
                }
            },
            watch: {
                divisionId: {
                    immediate: !0,
                    handler() {
                        this.loadToplists()
                    }
                }
            },
            data: ()=>({
                loading: !1,
                error: !1,
                toplist: null,
                datatypes: null,
                unsubscribe: [],
                tableRows: []
            }),
            computed: {
                mobile() {
                    return this.$vuetify.breakpoint.mobile
                },
                type() {
                    return this.toplist.toplist.type
                },
                tableHeaders() {
                    const t = this.$translate("player" == this.toplist.toplist.type ? "Player" : "Team");
                    let e = [{
                        text: "#",
                        value: "position"
                    }, {
                        text: t,
                        value: "name"
                    }];
                    return this.toplist.toplist.show_num_matches && e.push({
                        text: this.$translate("Matches"),
                        value: "num_matches"
                    }),
                    this.toplist.toplist.typelist.forEach(t=>{
                        const i = this.datatypes.eventtype.find(e=>e.id == t.eventtype);
                        e.push({
                            text: i.name,
                            value: "et" + i.id
                        })
                    }
                    ),
                    e.push({
                        text: this.$translate("Points"),
                        value: "points"
                    }),
                    e
                }
            },
            methods: {
                initializeTable() {
                    this.tableRows = this.toplist.items.map(t=>{
                        let e = {};
                        return this.tableHeaders.forEach(i=>{
                            if ("name" == i.value) {
                                let i = this.datatypes[this.toplist.toplist.type].find(e=>e.id == t.id);
                                e.name = i.name,
                                e.id = i.id
                            } else if (i.value.startsWith("et")) {
                                let s = i.value.substring(2);
                                e[i.value] = t.eventtypes[s]
                            } else
                                e[i.value] = t[i.value]
                        }
                        ),
                        e
                    }
                    )
                },
                loadToplists() {
                    this.loading = !0,
                    this.$api.get("/api/memberapi/teamsport/toplist/for_division", {
                        division_id: this.divisionId,
                        toplist_id: this.toplistId
                    }).then(t=>{
                        if (this.toplist = t.toplists.find(t=>t.toplist.id == this.toplistId),
                        !this.toplist)
                            return this.loading = !1,
                            void (this.error = !0);
                        this.datatypes = t.datatypes,
                        this.initializeTable(),
                        this.loading = !1
                    }
                    )
                },
                getTeamLogo(t, e) {
                    return `/api/public/image/get?type=${t}&id=${e}&size=30x30`
                }
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsporttoplist",
                    callback: ()=>{
                        this.loadToplists()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportdivision",
                    callback: (t,e)=>{
                        e.data.find(t=>t.id == this.divisionId) && this.loadToplists()
                    }
                })),
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportmatch",
                    callback: (t,e)=>{
                        e.data.find(t=>t.division_id == this.divisionId) && this.loadToplists()
                    }
                }))
            }
        }
          , fv = gv
          , bv = (i("404c"),
        Object(p["a"])(fv, pv, vv, !1, null, "f393576e", null))
          , yv = bv.exports;
        g()(bv, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VDataTable: Aa["a"],
            VProgressCircular: Q["a"]
        });
        var _v = {
            name: "zoezi-teamsport-division",
            zoezi: {
                title: "Division page",
                icon: "mdi-table-large",
                addon: "TeamSports"
            },
            components: {
                TeamsportTable: mv,
                TeamsportToplist: yv,
                TeamsportMatches: mc,
                TeamsportPlayoffTree: ev
            },
            props: {
                divisionId: {
                    title: "Division ID",
                    type: Number
                }
            },
            watch: {
                divisionId: {
                    immediate: !0,
                    handler() {
                        this.divisionId && (this.loadDivision(),
                        this.loadToplistTypes())
                    }
                }
            },
            data: ()=>({
                loading: !1,
                error: !1,
                division: null,
                toplistTypes: null,
                expandedPanels: [0, 1, 2],
                selectedTab: null,
                unsubscribe: []
            }),
            computed: {
                gc() {
                    return this.division.competitionstep.gameclass
                },
                toplists() {
                    return this.gc.toplists
                },
                showPlayoffTree() {
                    var t;
                    return (null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.modules.Cup) && this.gc.steps.length > 1
                }
            },
            methods: {
                loadDivision() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/division/get", {
                        id: this.divisionId
                    }).then(t=>{
                        !t || t && 0 == t.length ? (this.division = null,
                        this.error = !0) : this.division = t,
                        this.loading = !1
                    }
                    )
                },
                loadToplistTypes() {
                    this.$api.get("/api/teamsport/toplist/get").then(t=>{
                        this.toplistTypes = t
                    }
                    )
                }
            },
            destroyed() {
                this.unsubscribe.forEach(t=>t())
            },
            mounted() {
                this.unsubscribe.push(this.$api.subscribe({
                    type: "teamsportdivision",
                    callback: (t,e)=>{
                        e.data.find(t=>t.id == this.divisionId) && this.loadDivision()
                    }
                }))
            }
        }
          , kv = _v
          , wv = Object(p["a"])(kv, nv, rv, !1, null, null, null)
          , Cv = wv.exports;
        g()(wv, {
            VAlert: He["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VProgressCircular: Q["a"],
            VSheet: ue["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"],
            VTabsItems: Gd["a"]
        });
        var xv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                style: {
                    "background-color": t.$root.colorToHex("primary"),
                    color: t.$root.colorToHex("primarytext"),
                    padding: "10px",
                    "border-radius": "10px"
                }
            }, [i("p", {
                staticStyle: {
                    margin: "auto 0",
                    "font-size": "18px"
                }
            }, [t._v(" " + t._s(t.computedText))])])
        }
          , $v = []
          , Sv = {
            name: "zoezi-visitors",
            zoezi: {
                title: "Visitors",
                icon: "mdi-account-multiple-outline"
            },
            props: {
                text: {
                    title: "Text",
                    type: String,
                    default: "There are currently about {0} people in the building."
                },
                visitorTime: {
                    title: "Average time for visitors",
                    type: Number,
                    default: 60
                },
                visitResources: {
                    title: "Count visits at these doors",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/resource/get").then(t=>{
                            const e = t.filter(t=>"door" == t.resourceType || "qrcode_entry" == t.resourceType);
                            return e.map(({lastname: t, id: e})=>({
                                name: t,
                                id: e
                            }))
                        }
                        )
                    },
                    default: ()=>[]
                }
            },
            computed: {
                computedText() {
                    return this.$translate(this.text).format(this.visitorsCount)
                }
            },
            data: ()=>({
                visitorsCount: 0
            }),
            methods: {
                fetchVisitorsCount() {
                    this.$api.get("/api/public/entry/visitors/count", {
                        visitorTime: this.visitorTime,
                        doors: this.visitResources
                    }).then(t=>{
                        this.visitorsCount = t
                    }
                    ).catch(t=>{
                        console.error("Error fetching API data:", t)
                    }
                    )
                }
            },
            mounted() {
                this.fetchVisitorsCount()
            }
        }
          , Dv = Sv
          , zv = Object(p["a"])(Dv, xv, $v, !1, null, null, null)
          , Tv = zv.exports
          , Iv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-col", {
                staticClass: "pa-0"
            }, [i("v-img", {
                staticClass: "header-image d-flex align-center",
                staticStyle: {
                    "max-height": "200px"
                },
                attrs: {
                    src: t.imageUrl,
                    alt: "Header Image"
                }
            }, [i("v-row", {
                staticClass: "title align-center"
            }, [t.competitions.length ? i("v-col", {
                staticClass: "text-left pl-4"
            }, [i("h1", {
                staticClass: "primarytext--text outlined-text ml-4"
            }, [t._v(t._s(t.competitions[0].teamsport.name))])]) : t._e()], 1)], 1), i("v-divider"), i("div", [i("v-row", [i("v-col", {
                staticClass: "d-flex justify-start mt-2",
                attrs: {
                    cols: "auto",
                    sm: "auto"
                }
            }, [i("v-chip-group", {
                attrs: {
                    multiple: "",
                    column: ""
                },
                model: {
                    value: t.selectedFilters,
                    callback: function(e) {
                        t.selectedFilters = e
                    },
                    expression: "selectedFilters"
                }
            }, t._l(t.filterOptions, (function(e) {
                return i("v-chip", {
                    key: e.value,
                    attrs: {
                        value: e.value,
                        outlined: !t.selectedFilters.includes(e.value),
                        color: "primary",
                        label: ""
                    }
                }, [t._v(" " + t._s(e.text) + " "), t.selectedFilters.includes(e.value) ? i("v-icon", {
                    attrs: {
                        small: ""
                    }
                }, [t._v("mdi-close")]) : t._e()], 1)
            }
            )), 1)], 1), i("v-col", {
                staticClass: "grow d-none d-sm-flex"
            }), i("v-col", {
                staticClass: "d-flex justify-end mt-2",
                attrs: {
                    cols: "12",
                    sm: "auto"
                }
            }, [i("v-select", {
                staticClass: "mr-2 mt-3",
                staticStyle: {
                    "max-width": "175px"
                },
                attrs: {
                    items: t.sortingOptions,
                    label: t.$translate("Sort on"),
                    "item-text": "text",
                    "item-value": "value",
                    dense: ""
                },
                model: {
                    value: t.selectedSortingOption,
                    callback: function(e) {
                        t.selectedSortingOption = e
                    },
                    expression: "selectedSortingOption"
                }
            }), i("v-autocomplete", {
                staticClass: "mt-3",
                staticStyle: {
                    "max-width": "175px"
                },
                attrs: {
                    items: t.computedCompetitions,
                    "search-input": t.searchText,
                    label: t.$translate("Search competition"),
                    "item-text": "name",
                    "item-value": "name",
                    "return-object": "",
                    "prepend-inner-icon": "mdi-magnify",
                    dense: "",
                    clearable: ""
                },
                on: {
                    "update:searchInput": function(e) {
                        t.searchText = e
                    },
                    "update:search-input": function(e) {
                        t.searchText = e
                    }
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            })], 1)], 1)], 1), t.loading ? i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1) : i("div", [t.openAndSoonOpenCompetitions.length ? i("v-row", t._l(t.openAndSoonOpenCompetitions, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "4"
                    }
                }, [i("TeamsportCompetitionCard", {
                    attrs: {
                        competition: e
                    },
                    on: {
                        showDialog: function(i) {
                            return t.onShowDialog(e)
                        }
                    }
                })], 1)
            }
            )), 1) : i("v-row", [i("v-col", [t._v(" " + t._s(t.$translate("There are no competitions with open registration")) + " ")])], 1), i("v-expansion-panels", {
                staticClass: "zoezi-my-activities",
                attrs: {
                    accordion: "",
                    multiple: ""
                },
                model: {
                    value: t.openPanel,
                    callback: function(e) {
                        t.openPanel = e
                    },
                    expression: "openPanel"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("div", {
                staticStyle: {
                    display: "flex",
                    "align-items": "center"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Ongoing competitions")))]), t.ongoingCompetitions.length ? i("v-badge", {
                staticStyle: {
                    "margin-left": "10px"
                },
                attrs: {
                    color: "grey",
                    content: t.ongoingCompetitions.length
                }
            }) : t._e()], 1)]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [t.ongoingCompetitions.length ? i("v-row", t._l(t.ongoingCompetitions, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "4"
                    }
                }, [i("TeamsportCompetitionCard", {
                    attrs: {
                        competition: e
                    },
                    on: {
                        showDialog: function(i) {
                            return t.onShowDialog(e)
                        }
                    }
                })], 1)
            }
            )), 1) : i("v-row", [i("v-col", [t._v(" " + t._s(t.$translate("There are no ongoing competitions")) + " ")])], 1)], 1)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("div", {
                staticStyle: {
                    display: "flex",
                    "align-items": "center"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Past competitions")))]), t.pastCompetitions.length ? i("v-badge", {
                staticStyle: {
                    "margin-left": "10px"
                },
                attrs: {
                    color: "grey",
                    content: t.pastCompetitions.length
                }
            }) : t._e()], 1)]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [t.pastCompetitions.length ? i("v-row", t._l(t.pastCompetitions, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "4"
                    }
                }, [i("TeamsportCompetitionCard", {
                    attrs: {
                        competition: e
                    },
                    on: {
                        showDialog: function(i) {
                            return t.onShowDialog(e)
                        }
                    }
                })], 1)
            }
            )), 1) : i("v-row", [i("v-col", [t._v(" " + t._s(t.$translate("There are no past competitions")) + " ")])], 1)], 1)], 1), t.competitionsPreviousYearsFiltered ? i("v-expansion-panel", [i("v-expansion-panel-header", [i("div", {
                staticStyle: {
                    display: "flex",
                    "align-items": "center"
                }
            }, [i("strong", [t._v(t._s(t.$translate("Past competitions previous years")))]), t.competitionsPreviousYearsFiltered.length ? i("v-badge", {
                staticStyle: {
                    "margin-left": "10px"
                },
                attrs: {
                    color: "grey",
                    content: t.competitionsPreviousYearsFiltered.length
                }
            }) : t._e()], 1)]), i("v-expansion-panel-content", {
                staticClass: "z-dense"
            }, [t.competitionsPreviousYearsFiltered.length ? i("v-row", t._l(t.competitionsPreviousYearsFiltered, (function(e) {
                return i("v-col", {
                    key: e.id,
                    attrs: {
                        cols: "12",
                        md: "4"
                    }
                }, [i("TeamsportCompetitionCard", {
                    attrs: {
                        competition: e
                    },
                    on: {
                        showDialog: function(i) {
                            return t.onShowDialog(e)
                        }
                    }
                })], 1)
            }
            )), 1) : i("v-row", [i("v-col", [t._v(" " + t._s(t.$translate("There are no competitions from previous years")) + " ")])], 1)], 1)], 1) : t._e()], 1)], 1), t.competitionsPreviousYears.length ? t._e() : i("v-btn", {
                staticClass: "mt-2",
                attrs: {
                    loading: t.loadingPreviousCompetitions,
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: t.getCompetitionsPreviousYears
                }
            }, [t._v(t._s(t.$translate("Fetch competitions from previous years")))]), t.showCompetitionDialog && t.showingCompetition ? i("TeamsportCompetitionDialog", {
                attrs: {
                    competition: t.showingCompetition
                },
                model: {
                    value: t.showCompetitionDialog,
                    callback: function(e) {
                        t.showCompetitionDialog = e
                    },
                    expression: "showCompetitionDialog"
                }
            }) : t._e()], 1)
        }
          , Pv = []
          , Vv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-container", {
                attrs: {
                    fluid: ""
                }
            }, [i("v-row", {
                attrs: {
                    justify: "center"
                }
            }, [i("v-col", [i("v-card", {
                staticClass: "d-flex flex-column card-container"
            }, [i("v-card-title", {
                staticClass: "primary--text title py-1"
            }, [t._v(t._s(t.competition.name))]), t.competitionStatus ? i("TeamsportCompetitionInfo", {
                staticClass: "ml-4",
                attrs: {
                    competition: t.competition,
                    short: !0
                }
            }) : t._e(), i("div", {
                staticClass: "flex-grow-1"
            }), i("v-card-actions", {
                staticClass: "justify-space-between"
            }, [t.showRegistrationProgress ? i("div", [i("v-progress-circular", {
                attrs: {
                    value: t.value,
                    size: 50,
                    width: 10,
                    color: t.progressColor
                }
            }, [t._v(" " + t._s(t.spacesLeft) + " ")]), t._v(" " + t._s(t.$translate("spaces left")) + " ")], 1) : t._e(), i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary"
                },
                on: {
                    click: t.openDialog
                }
            }, [t._v(" " + t._s(t.buttonText) + " ")])], 1)], 1)], 1)], 1)], 1)
        }
          , Bv = []
          , Fv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "component-container"
            }, [i("div", {
                staticClass: "py-1"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar")]), i("span", {
                staticClass: "ml-2"
            }, [t._v(t._s(t.competitionDurationString))])], 1), t.registrationString ? i("div", {
                staticClass: "py-1"
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-calendar-plus")]), i("span", {
                staticClass: "ml-2"
            }, [t._v(t._s(t.registrationString))])], 1) : t._e(), t.gameClassNames ? i("div", {
                class: t.textClass
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-widgets")]), i("span", {
                staticClass: "ml-2"
            }, [t._v(t._s(t.gameClassNames))])], 1) : t._e(), t.description && !t.short ? i("div", [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-information")]), i("span", {
                staticClass: "ml-2",
                domProps: {
                    innerHTML: t._s(t.description)
                }
            })], 1) : t._e(), t.shortDescription && t.short ? i("div", {
                class: t.textClass
            }, [i("v-icon", {
                attrs: {
                    small: ""
                }
            }, [t._v("mdi-information")]), i("span", {
                staticClass: "ml-2"
            }, [t._v(t._s(t.shortDescription))])], 1) : t._e()])
        }
          , Ev = []
          , Ov = {
            name: "zoezi-teamsport-competition-info",
            props: {
                competition: {
                    type: Object,
                    required: !0
                },
                short: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                gameClassNames() {
                    var t;
                    return null === (t = this.competition.gameclasses) || void 0 === t ? void 0 : t.map(t=>t.name).join(", ")
                },
                shortDescription() {
                    return this.competition.short_description
                },
                description() {
                    return this.competition.description
                },
                competitionDurationString() {
                    let t = Date.formatFullShort(this.competition.startDate)
                      , e = Date.formatFullShort(this.competition.endDate);
                    return t + " - " + e
                },
                registrationString() {
                    let t = Date.newFull(this.competition.registrationStartDate)
                      , e = Date.newFull(this.competition.registrationEndDate)
                      , i = Date.newFull(this.$store.state.now30s.clone().yyyymmdd());
                    return t >= i ? this.$translate("Registration opens") + " " + Date.formatFullShort(t) : e >= i ? this.$translate("Registration closes") + " " + Date.formatFullShort(e) : this.$translate("Registration closed")
                },
                textClass() {
                    return this.short ? "py-1 text-container" : "py-1"
                }
            }
        }
          , Mv = Ov
          , Av = (i("2e64"),
        Object(p["a"])(Mv, Fv, Ev, !1, null, "ded26fee", null))
          , Rv = Av.exports;
        g()(Av, {
            VIcon: y["a"]
        });
        var Lv = {
            name: "zoezi-teamsport-competition-card",
            zoezi: {
                title: "Competition card",
                icon: "mdi-trophy",
                addon: "TeamSports"
            },
            props: {
                competition: {
                    type: Object
                }
            },
            components: {
                TeamsportCompetitionInfo: Rv
            },
            data: ()=>({
                showDialog: !1
            }),
            computed: {
                spacesTaken() {
                    return this.competition.gameclasses.map(t=>{
                        const e = "number" === typeof t.max_number_of_teams ? t.max_number_of_teams : 0
                          , i = "number" === typeof t.spaceLeft ? t.spaceLeft : 0;
                        if (0 === e)
                            return 0;
                        const s = e - i;
                        return Math.max(s, 0)
                    }
                    ).reduce((t,e)=>t + e, 0)
                },
                totalAmountOfSpaces() {
                    return this.competition.gameclasses.filter(t=>"number" === typeof t.max_number_of_teams).reduce((t,e)=>t + e.max_number_of_teams, 0)
                },
                spacesLeft() {
                    return this.totalAmountOfSpaces - this.spacesTaken
                },
                value() {
                    return this.spacesTaken / this.totalAmountOfSpaces * 100
                },
                showRegisterButton() {
                    let t = this.$store.state.now30s;
                    return Date.newFull(this.competition.registrationStartDate) < t && t < Date.newFull(this.competition.registrationEndDate)
                },
                registrationNotLimited() {
                    return this.competition.gameclasses.some(t=>!t.max_number_of_teams)
                },
                showRegistrationProgress() {
                    let t = this.spacesLeft / this.totalAmountOfSpaces <= .5;
                    return !this.registrationNotLimited && this.showRegisterButton && t
                },
                progressColor() {
                    const t = this.value;
                    return t > 66 && t < 85 ? "orange" : t >= 85 ? "red" : "green"
                },
                competitionStatus() {
                    let t = this.$store.state.now30s
                      , e = Date.newFull(t.clone().yyyymmdd())
                      , i = Date.newFull(this.competition.registrationStartDate)
                      , s = Date.newFull(this.competition.registrationEndDate)
                      , a = Date.newFull(this.competition.startDate)
                      , o = Date.newFull(this.competition.endDate);
                    return i >= e ? "registration-not-open" : i <= e && s >= e && (this.spacesLeft > 0 || this.registrationNotLimited) && a > t ? "registration-open" : i <= e && s >= e && this.spacesLeft <= 0 && a > t ? "registration-open-but-full" : a <= t && t <= o ? "ongoing" : "past"
                },
                buttonText() {
                    switch (this.competitionStatus) {
                    case "registration-not-open":
                        return this.$translate("Read more & Watch");
                    case "registration-open":
                        return this.$translate("Read more & Register");
                    case "registration-open-but-full":
                        return this.$translate("Read more & Watch");
                    case "ongoing":
                        return this.$translate("Results & Schedule");
                    case "past":
                        return this.$translate("Results & Schedule");
                    default:
                        return this.$translate("Read more & Register")
                    }
                }
            },
            methods: {
                openDialog() {
                    this.$emit("showDialog", this.competition.id)
                }
            }
        }
          , jv = Lv
          , Nv = (i("9300"),
        Object(p["a"])(jv, Vv, Bv, !1, null, "38b00eec", null))
          , Wv = Nv.exports;
        g()(Nv, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VContainer: Su["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var qv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-dialog", {
                attrs: {
                    "max-width": "850px"
                },
                model: {
                    value: t.showCompetitionDialog,
                    callback: function(e) {
                        t.showCompetitionDialog = e
                    },
                    expression: "showCompetitionDialog"
                }
            }, [i("v-card", [i("dialog-header", {
                attrs: {
                    title: t.competition.name,
                    image: t.imageUrl
                },
                on: {
                    close: function(e) {
                        t.showCompetitionDialog = !1
                    }
                }
            }), t.loading ? i("v-row", [i("div", {
                staticClass: "d-flex align-center justify-center"
            }, [i("v-progress-circular", {
                attrs: {
                    size: "20",
                    indeterminate: "",
                    color: "primary",
                    width: "2"
                }
            })], 1)]) : i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "12",
                    md: "5"
                }
            }, [i("TeamsportCompetitionInfo", {
                staticClass: "ml-4",
                attrs: {
                    competition: t.competition
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "12",
                    md: "7"
                }
            }, [i("v-list", [i("v-list-item-group", t._l(t.computedGameClasses, (function(e) {
                return i("v-list-item", {
                    key: e.id
                }, [i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(e.name))]), i("v-list-item-subtitle", {
                    staticClass: "wrap-text"
                }, [t._v(" " + t._s(e.subtitle) + " ")])], 1), i("v-list-item-action", [t.registrationHasNotClosed ? i("v-btn", {
                    staticClass: "mb-2",
                    attrs: {
                        small: "",
                        outlined: "",
                        disabled: e.isDisabled,
                        color: e.buttonColor
                    },
                    on: {
                        click: function(i) {
                            return t.handleClick(e)
                        }
                    }
                }, [t._v(" " + t._s(e.buttonText) + " ")]) : t._e(), e.resultBtn.show ? i("v-btn", {
                    attrs: {
                        small: "",
                        outlined: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.goToGameclassOverview(e)
                        }
                    }
                }, [t._v(" " + t._s(e.resultBtn.text) + " ")]) : t._e()], 1)], 1)
            }
            )), 1)], 1)], 1)], 1)], 1)], 1), t.showBookingDialog ? i("TeamsportBooking", {
                attrs: {
                    gameClassId: t.selectedGameClass.id
                },
                on: {
                    close: t.closeDialog
                },
                model: {
                    value: t.showBookingDialog,
                    callback: function(e) {
                        t.showBookingDialog = e
                    },
                    expression: "showBookingDialog"
                }
            }) : t._e(), t.showWatchDialog ? i("WatchDialog", {
                attrs: {
                    entity: t.selectedGameClass,
                    type: "gameclass",
                    infoComponent: t.TeamsportCompetitionInfo,
                    infoComponentProps: {
                        competition: t.competition
                    }
                },
                on: {
                    close: t.closeDialog
                },
                model: {
                    value: t.showWatchDialog,
                    callback: function(e) {
                        t.showWatchDialog = e
                    },
                    expression: "showWatchDialog"
                }
            }) : t._e()], 1)
        }
          , Hv = []
          , Uv = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.showBookingDialog ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile,
                    persistent: !0
                },
                model: {
                    value: t.showBookingDialog,
                    callback: function(e) {
                        t.showBookingDialog = e
                    },
                    expression: "showBookingDialog"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", {
                domProps: {
                    textContent: t._s(t.competitionAndGameClassName)
                }
            }), t.checkoutLoading ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showBookingDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll"
            }, [i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    items: t.checkoutItems,
                    "expand-first-item": !1,
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "user-read-only": !0,
                    "content-target": "checkoutcontent",
                    dialog: !0,
                    "new-style-done-dialog": !0,
                    "count-read-only": !0
                },
                on: {
                    loading: function(e) {
                        t.checkoutLoading = e
                    },
                    close: function(e) {
                        t.showBookingDialog = !1
                    },
                    done: function(e) {
                        t.showBookingDialog = !1,
                        t.gotDone = !0
                    },
                    cost: function(e) {
                        t.cost = e
                    },
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    "reservation-timeout": t.reservationTimeout
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "account",
                                fn: function() {
                                    return [i("div", [i("v-icon", [t._v("mdi-account-check-outline")]), i("span", {
                                        staticClass: "ml-2 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("Who are you who book?")))])], 1), t.$store.state.user ? i("div", [i("div", {
                                        staticClass: "pa-2 d-flex"
                                    }, [i("div", {
                                        staticClass: "d-flex align-center"
                                    }, [i("v-icon", {
                                        attrs: {
                                            color: "primary"
                                        }
                                    }, [t._v("mdi-account-star-outline")])], 1), i("div", {
                                        staticClass: "ml-2 flex-grow-1"
                                    }, [i("span", {
                                        staticClass: "font-weight-bold"
                                    }, [t._v(t._s(t.$store.state.user.name))]), i("span", {
                                        staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                                        on: {
                                            click: function(e) {
                                                return e.stopPropagation(),
                                                t.$store.dispatch("logout")
                                            }
                                        }
                                    }, [t._v(t._s(t.$translate("Not you?")))])])]), t.individualIsAlreadyRegistered ? i("div", {
                                        staticClass: "error--text"
                                    }, [t._v(" " + t._s(t.$translate("Already registered")) + " ")]) : t._e()]) : i("identification", {
                                        scopedSlots: t._u([{
                                            key: "header",
                                            fn: function() {
                                                return [t.canBookForOthers ? i("div", [t._v(" Logga in med "), i("b", [t._v("dina personliga")]), t._v(" uppgifter här."), i("br"), t._v(" Bokar du åt någon annan lägger du till dem i nästa steg. ")]) : i("div", [t._v(" " + t._s(t.$translate("Choose which method you want to use to identify yourself.")) + " ")])]
                                            },
                                            proxy: !0
                                        }], null, !1, 830983224)
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "membership",
                                fn: function() {
                                    return [i("membership-checkout", {
                                        attrs: {
                                            items: t.checkoutItemsForMembershipCheckout
                                        },
                                        on: {
                                            buy: t.onBuyMembership
                                        }
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "team",
                                fn: function() {
                                    return [i("div", {
                                        staticClass: "font-weight-bold"
                                    }, [i("v-icon", {
                                        staticClass: "mr-1"
                                    }, [t._v("mdi-account-group")]), t._v(t._s(t.$translate("Choose team")))], 1), i("div", {
                                        staticClass: "d-flex flex-wrap mt-2 align-center"
                                    }, [t._l(t.groups, (function(e) {
                                        return i("v-btn", {
                                            key: e.id,
                                            staticClass: "ma-2",
                                            staticStyle: {
                                                height: "48px"
                                            },
                                            attrs: {
                                                small: "",
                                                outlined: t.selectedGroupId == e.id,
                                                text: t.selectedGroupId != e.id,
                                                color: t.selectedGroupId == e.id ? "primary" : null,
                                                disabled: !t.bookableGroups.find((function(t) {
                                                    return t.id == e.id
                                                }
                                                ))
                                            },
                                            on: {
                                                click: function(i) {
                                                    t.selectedGroupId = e.id
                                                }
                                            }
                                        }, [e.imagekey ? i("v-auto-img", {
                                            staticClass: "mr-1",
                                            attrs: {
                                                src: e.imagekey ? e.imagekey : void 0,
                                                height: "32",
                                                width: "32"
                                            }
                                        }) : t._e(), t._v(" " + t._s(e.name) + " "), t.gc.teams.find((function(t) {
                                            return t.group && t.group.id == e.id
                                        }
                                        )) ? i("span", {
                                            staticClass: "error--text ml-2"
                                        }, [t._v(" " + t._s(t.$translate("Already registered2")) + " ")]) : t.groupHasTooFewMembers(e) ? i("span", {
                                            staticClass: "error--text ml-2"
                                        }, [t._v(" " + t._s(t.$translate("Too few players in team")) + " ")]) : t._e()], 1)
                                    }
                                    )), i("v-btn", {
                                        staticStyle: {
                                            height: "48px"
                                        },
                                        attrs: {
                                            color: "primary",
                                            outlined: !t.selectedGroupId,
                                            text: !!t.selectedGroupId
                                        },
                                        on: {
                                            click: function(e) {
                                                t.selectedGroupId = null
                                            }
                                        }
                                    }, [i("v-icon", [t._v("mdi-plus")]), t._v(" " + t._s(t.$translate("Add new team")) + " ")], 1)], 2), i("v-row", [i("v-col", {
                                        attrs: {
                                            cols: "8"
                                        }
                                    }, [t.selectedGroupId ? t._e() : i("v-form", {
                                        on: {
                                            submit: function(e) {
                                                e.preventDefault(),
                                                t.newTeamDone && t.$refs.stepper.nextClicked()
                                            }
                                        },
                                        model: {
                                            value: t.newTeamDone,
                                            callback: function(e) {
                                                t.newTeamDone = e
                                            },
                                            expression: "newTeamDone"
                                        }
                                    }, t._l(t.newTeamFields, (function(e) {
                                        return i("form-field", {
                                            key: e.name,
                                            attrs: {
                                                field: e,
                                                star: ""
                                            },
                                            model: {
                                                value: t.newTeam[e.name],
                                                callback: function(i) {
                                                    t.$set(t.newTeam, e.name, i)
                                                },
                                                expression: "newTeam[field.name]"
                                            }
                                        })
                                    }
                                    )), 1)], 1), i("v-col", {
                                        attrs: {
                                            cols: "4"
                                        }
                                    }, [i("teamsport-team-logo", {
                                        attrs: {
                                            "upper-color": t.newTeam.shirtColor,
                                            "lower-color": t.newTeam.shortsColor,
                                            name: t.newTeam.shortName
                                        },
                                        on: {
                                            "image-created": function(e) {
                                                t.newTeam.image = e
                                            }
                                        }
                                    })], 1)], 1)]
                                },
                                proxy: !0
                            }, {
                                key: "questions",
                                fn: function() {
                                    return [t.canBookForOthers ? [i("div", [i("v-icon", [t._v("mdi-account-question-outline")]), i("span", {
                                        staticClass: "ml-2 font-weight-bold"
                                    }, [t._v(t._s(t.$translate("Who to book?")))])], 1), i("v-btn", {
                                        staticClass: "zoezi-button-thin",
                                        attrs: {
                                            color: "primary",
                                            outlined: !t.newUserPrimaryColor,
                                            block: ""
                                        },
                                        on: {
                                            click: t.showAdduserDialog
                                        }
                                    }, [i("v-icon", {
                                        attrs: {
                                            left: "",
                                            color: t.newUserPrimaryColor ? "primarytext" : "primary"
                                        }
                                    }, [t._v("mdi-account-plus")]), t._v(" " + t._s(t.$translate("Add participant")) + " ")], 1), i("v-form", {
                                        model: {
                                            value: t.questionsDone,
                                            callback: function(e) {
                                                t.questionsDone = e
                                            },
                                            expression: "questionsDone"
                                        }
                                    }, t._l(t.bookableUsers, (function(e) {
                                        return i("div", {
                                            key: e.id,
                                            staticClass: "z-rounded-box my-2"
                                        }, [i("div", {
                                            staticClass: "pa-2 d-flex"
                                        }, [i("div", {
                                            staticClass: "d-flex align-center"
                                        }, [i("v-simple-checkbox", {
                                            attrs: {
                                                color: "primary",
                                                ripple: !1,
                                                disabled: e.reserving || e.booked || e.isBlocked() || t.isFull && !e.reservation
                                            },
                                            on: {
                                                input: function(i) {
                                                    return t.userSelectedClicked(e, i)
                                                }
                                            },
                                            model: {
                                                value: e.selected,
                                                callback: function(i) {
                                                    t.$set(e, "selected", i)
                                                },
                                                expression: "user.selected"
                                            }
                                        })], 1), i("div", {
                                            staticClass: "ml-2 flex-grow-1"
                                        }, [i("span", {
                                            staticClass: "font-weight-bold"
                                        }, [t._v(t._s(e.name) + " " + t._s(e.me ? "(Du)" : ""))]), e.booked ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v("Redan inbokad")]) : e.isBlocked() ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v(t._s(t.$translate("Blocked")))]) : t.isFull && !e.reservation ? i("span", {
                                            staticClass: "red--text ml-4"
                                        }, [t._v(t._s(t.$translate("fully booked").capitalize()))]) : t._e()]), e.me ? t._e() : i("div", {
                                            staticClass: "ml-2 align-end"
                                        }, [i("span", {
                                            staticClass: "z-clickable primary--text text-decoration-underline ml-4",
                                            on: {
                                                click: function(i) {
                                                    return i.stopPropagation(),
                                                    t.showChangeUserDialog(e)
                                                }
                                            }
                                        }, [t._v("Ändra")])]), e.selected && t.gc.questions && t.gc.questions.length ? i("div", {
                                            staticClass: "float-right",
                                            on: {
                                                click: function(t) {
                                                    e.expanded = !e.expanded
                                                }
                                            }
                                        }, [i("v-icon", [t._v(t._s(e.expanded ? "mdi-chevron-up" : "mdi-chevron-down"))])], 1) : t._e()]), t.gc.questions && t.gc.questions.length ? i("v-expand-transition", [e.selected ? i("div", {
                                            directives: [{
                                                name: "show",
                                                rawName: "v-show",
                                                value: e.expanded,
                                                expression: "user.expanded"
                                            }],
                                            staticClass: "px-2"
                                        }, [t._l(t.questions, (function(s) {
                                            return i("form-field", {
                                                key: s.name,
                                                attrs: {
                                                    field: s,
                                                    star: ""
                                                },
                                                model: {
                                                    value: e.answers[s.name],
                                                    callback: function(i) {
                                                        t.$set(e.answers, s.name, i)
                                                    },
                                                    expression: "user.answers[q.name]"
                                                }
                                            })
                                        }
                                        )), i("div", {
                                            staticClass: "d-flex mb-1"
                                        }, [i("v-btn", {
                                            staticClass: "flex-grow-1 zoezi-button-thin mr-1",
                                            attrs: {
                                                color: "primary",
                                                outlined: ""
                                            },
                                            on: {
                                                click: t.showAdduserDialog
                                            }
                                        }, [i("v-icon", {
                                            attrs: {
                                                left: "",
                                                color: "primary"
                                            }
                                        }, [t._v("mdi-account-plus")]), t._v(" " + t._s(t.$translate("Additional participant")) + " ")], 1), i("v-btn", {
                                            staticClass: "zoezi-button-thin ml-1",
                                            attrs: {
                                                color: "primary"
                                            },
                                            on: {
                                                click: function(t) {
                                                    e.expanded = !1
                                                }
                                            }
                                        }, [t._v("Klar")])], 1)], 2) : t._e()]) : t._e()], 1)
                                    }
                                    )), 0)] : [i("v-form", {
                                        on: {
                                            submit: function(e) {
                                                e.preventDefault(),
                                                t.questionsDone && t.$refs.stepper.nextClicked()
                                            }
                                        },
                                        model: {
                                            value: t.questionsDone,
                                            callback: function(e) {
                                                t.questionsDone = e
                                            },
                                            expression: "questionsDone"
                                        }
                                    }, t._l(t.questions, (function(e) {
                                        return i("form-field", {
                                            key: e.name,
                                            attrs: {
                                                field: e,
                                                star: ""
                                            },
                                            model: {
                                                value: t.teamLeaderUser.answers[e.name],
                                                callback: function(i) {
                                                    t.$set(t.teamLeaderUser.answers, e.name, i)
                                                },
                                                expression: "teamLeaderUser.answers[q.name]"
                                            }
                                        })
                                    }
                                    )), 1)]]
                                },
                                proxy: !0
                            }, {
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }], null, !1, 2796600347),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 1790926481)
            })], 1), i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    disabled: t.checkoutLoading
                },
                on: {
                    cancel: function(e) {
                        t.showBookingDialog = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e()
        }
          , Yv = [];
        const Gv = [{
            value: "#F8F8F8",
            text: "White"
        }, {
            value: "#000000",
            text: "Black"
        }, {
            value: "#ff0000",
            text: "Red"
        }, {
            value: "#00ff00",
            text: "Green"
        }, {
            value: "#0000ff",
            text: "Blue"
        }, {
            value: "#ffff00",
            text: "Yellow"
        }, {
            value: "#ff00ff",
            text: "Purple"
        }, {
            value: "#00ffff",
            text: "Cyan"
        }, {
            value: "#ff8000",
            text: "Orange"
        }];
        var Kv = {
            name: "zoezi-teamsport-booking",
            zoezi: {
                title: "Competition registration",
                icon: "mdi-soccer",
                addon: "TeamSports"
            },
            props: {
                gameClassId: {
                    title: "Game class ID",
                    type: Number
                }
            },
            components: {
                BottomDialog: $e["a"],
                Checkout: xe["a"],
                Stepper: Se["a"],
                StepperContent: Oe["a"],
                Identification: js["a"],
                MembershipCheckout: Xs["a"],
                FormField: Ee["a"],
                TeamsportTeamLogo: al
            },
            data: ()=>({
                gc: null,
                responsibleGroups: [],
                loading: !0,
                showBookingDialog: !1,
                currentStep: 0,
                checkoutLoading: !1,
                cost: null,
                readyToPay: !1,
                membership: null,
                selectedGroupId: null,
                questions: null,
                questionsDone: !1,
                newTeamDone: !1,
                newTeam: {
                    name: "",
                    shortName: "",
                    shirtColor: null,
                    shortsColor: null,
                    image: null
                },
                newTeamFields: [{
                    name: "name",
                    type: "text",
                    title: "Team name",
                    required: !0,
                    rules: []
                }, {
                    name: "shortName",
                    type: "text",
                    title: "Abbreviation (max 4 characters)",
                    max: 4,
                    required: !0
                }, {
                    name: "shirtColor",
                    type: "color",
                    title: "Team color upper half",
                    required: !0,
                    colors: Gv
                }, {
                    name: "shortsColor",
                    type: "color",
                    title: "Team color lower half",
                    required: !0,
                    colors: Gv
                }],
                users: [],
                unsubscribe: null,
                gotDone: !1
            }),
            computed: {
                competitionAndGameClassName() {
                    return this.gc ? this.gc.competition.name + " " + this.gc.name : ""
                },
                checkoutItems() {
                    if (!this.gc)
                        return [];
                    let t = [];
                    return this.users.filter(t=>t.selected).forEach(e=>{
                        t.push({
                            product_id: this.gc.product_id,
                            price: this.gc.price,
                            name: this.competitionAndGameClassName,
                            user_id: e.id,
                            reservation: e.reservation,
                            teamsportregistration: {
                                gameclass_id: this.gameClassId,
                                user_id: e && this.gc.individual ? e.id : null,
                                group_id: this.gc.individual ? null : this.selectedGroupId,
                                create_group: this.gc.individual || null != this.selectedGroupId ? void 0 : {
                                    name: this.newTeam.name,
                                    image: this.newTeam.image
                                },
                                registration_answers: e.answers
                            }
                        }),
                        e.membership && t.push({
                            count: 1,
                            users: [e.id],
                            product_id: e.membership.id,
                            product: e.membership
                        })
                    }
                    ),
                    t
                },
                teamLeaderUser() {
                    return this.users.find(t=>t.selected)
                },
                checkoutItemsForMembershipCheckout() {
                    let t = this.users.filter(t=>t.selected && t.membership).map(t=>({
                        count: 1,
                        users: [t.id],
                        product: t.membership
                    }));
                    const e = this.gc.competition.require_membership;
                    return [{
                        product: {
                            requireMembership: e
                        },
                        users: this.users.filter(t=>t.selected).map(t=>t.id)
                    }].concat(t)
                },
                individualIsAlreadyRegistered() {
                    var t;
                    return this.$store.state.user && (null === (t = this.gc) || void 0 === t ? void 0 : t.individual) && this.gc.teams.find(t=>t.user_id && t.user_id == this.$store.state.user.id) && !this.canBookForOthers
                },
                steps() {
                    if (!this.gc)
                        return [];
                    const t = this.$booking.isMembershipRequired(this.checkoutItemsForMembershipCheckout)
                      , e = !this.$booking.isMembershipStillRequired(this.checkoutItemsForMembershipCheckout)
                      , i = !this.gc.individual
                      , s = null != this.selectedGroupId || this.newTeamDone
                      , a = this.gc.questions && this.gc.questions.length || this.canBookForOthers
                      , n = this.$translate;
                    return [{
                        title: n("Account"),
                        id: "account",
                        complete: this.$store.state.isLoggedIn && !this.individualIsAlreadyRegistered
                    }, t && {
                        title: n("Membership"),
                        id: "membership",
                        complete: e,
                        nextTitle: n(e ? "Continue" : "Choose membership")
                    }, i && {
                        title: n("The team"),
                        id: "team",
                        complete: s
                    }, a && {
                        title: n("Questions"),
                        id: "questions",
                        complete: this.questionsDone && (!this.gc.individual || this.selectedUsersCount)
                    }, {
                        title: n("Complete"),
                        id: "checkout",
                        nextTitle: this.cost > 0 ? `${n("Pay")} ${Object(o["i"])(this.cost)}` : n("Confirm purchase"),
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: this.readyToPay
                    }].filter(t=>t)
                },
                groups() {
                    return this.$store.state.user && this.gc ? this.responsibleGroups.filter(t=>"family" != t.type && (!t.teamsport_id || t.teamsport_id == this.gc.competition.teamsport_id)) : []
                },
                bookableGroups() {
                    return this.gc ? this.groups.filter(t=>!this.gc.teams.find(e=>e.group && e.group.id == t.id) && !this.groupHasTooFewMembers(t)) : []
                },
                bookableUsers() {
                    return this.gc ? this.gc.canBookFor && !this.gc.canBookFor.includes("self") ? this.users.filter(t=>!t.me) : this.users : []
                },
                selectedUsersCount() {
                    return this.bookableUsers.filter(t=>t.selected).length
                },
                newUserPrimaryColor() {
                    return 0 == this.selectedUsersCount
                },
                canBookForOthers() {
                    var t, e;
                    return null === (t = this.gc) || void 0 === t || null === (e = t.canBookFor) || void 0 === e ? void 0 : e.includes("others")
                },
                isFull() {
                    return this.gc && 0 == this.gc.spaceLeft
                }
            },
            methods: {
                pay() {
                    this.$refs.checkout.completePurchase()
                },
                onBuyMembership(t, e) {
                    let i = this.users.find(t=>t.id == e.id);
                    i.membership = t,
                    this.$booking.isMembershipStillRequired(this.checkoutItemsForMembershipCheckout) || (this.currentStep += 1)
                },
                setInitialTeamSelection() {
                    this.gc && !this.gc.individual && this.bookableGroups.length && (this.selectedGroupId = this.bookableGroups[0].id)
                },
                setInitialStepWhenLoggedIn() {
                    const t = this.steps[this.currentStep];
                    this.$store.state.isLoggedIn && t && "account" == t.id && t.complete && (this.currentStep += 1)
                },
                setUsers() {
                    if (!this.gc || !this.$store.state.user)
                        return;
                    const t = "self" == this.gc.canBookFor || "self+others" == this.gc.canBookFor;
                    this.users = this.$store.state.user.canBookFor.map((e,i)=>({
                        id: e.id,
                        name: e.name,
                        selected: this.$store.state.user.id == e.id && t,
                        me: this.$store.state.user.id == e.id,
                        reservation: null,
                        reserving: !1,
                        expanded: 0 == i,
                        membership: null,
                        answers: null,
                        booked: null,
                        isBlocked: ()=>{
                            var t;
                            return null === (t = this.$store.state.user.canBookFor.find(t=>t.id == e.id)) || void 0 === t ? void 0 : t.isBlocked("block_course")
                        }
                    })),
                    this.updateUsers()
                },
                updateUsers() {
                    this.gc && this.users.forEach(t=>{
                        if (!t.answers) {
                            let e = {};
                            this.gc.questions && this.gc.questions.forEach(t=>{
                                e[t.name] = null
                            }
                            ),
                            this.$set(t, "answers", e)
                        }
                        t.booked = this.gc.individual && !!this.gc.teams.find(e=>e.user_id && e.user_id == t.id),
                        t.selected && t.booked && (t.selected = !1),
                        !t.selected || t.reservation || t.reserving || this.reserve(t),
                        !t.selected && t.reservation && this.unreserve(t)
                    }
                    )
                },
                showAdduserDialog() {
                    this.$store.commit("showAddUserDialog", {
                        title: "Lägg till ny deltagare",
                        booking_fields: !0,
                        callback: t=>{
                            let e = {
                                id: t.id,
                                name: Object(o["n"])(t),
                                selected: !0,
                                me: !1,
                                reservation: null,
                                reserving: !1,
                                expanded: !0,
                                membership: null,
                                answers: null,
                                booked: null,
                                isBlocked: ()=>{
                                    var t;
                                    return null === (t = this.$store.state.user.canBookFor.find(t=>t.id == e.id)) || void 0 === t ? void 0 : t.isBlocked("block_course")
                                }
                            };
                            this.users.push(e),
                            this.updateUsers()
                        }
                    })
                },
                showChangeUserDialog(t) {
                    this.$store.commit("showChangeUserDialog", {
                        user_id: t.id
                    })
                },
                userSelectedClicked(t, e) {
                    t.expanded = e,
                    this.updateUsers()
                },
                reserve(t) {
                    if (t.reserving || !this.gc)
                        return;
                    t.reserving = !0;
                    let e = {
                        gameclass_id: this.gameClassId
                    };
                    this.$api.post("/api/resource/reservation/add", e).then(e=>{
                        t.reserving = !1,
                        e.ok ? e.json().then(e=>{
                            t.reservation = e.key
                        }
                        ) : (this.$store.commit("showErrorDialog", {
                            title: "Fel vid reservering",
                            text: "Något gick fel när bokningen skulle reserveras"
                        }),
                        t.selected = !1)
                    }
                    )
                },
                unreserve(t) {
                    !t.reserving && t.reservation && (t.reserving = !0,
                    this.$api.post("/api/resource/reservation/cancel", {
                        key: t.reservation
                    }).then(()=>{
                        t.reserving = !1,
                        t.reservation = null,
                        t.selected = !1
                    }
                    ))
                },
                unreserveAll() {
                    let t = this.users.filter(t=>t.reservation)
                      , e = t.map(t=>t.reservation);
                    e.length && (this.gotDone || this.checkoutLoading || this.$api.post("/api/resource/reservation/cancel", {
                        key: e
                    }),
                    t.forEach(t=>{
                        t.reserving = !1,
                        t.reservation = null,
                        t.selected = !1
                    }
                    ))
                },
                teamNameRule(t) {
                    return !this.gc.teams.find(e=>e.group && e.group.name == t) || this.$translate("There is already a team registered with that team name")
                },
                groupHasTooFewMembers(t) {
                    return this.gc && this.gc.min_number_of_players && this.gc.min_number_of_players > t.users.length
                },
                getGroups() {
                    this.$api.get("/api/memberapi/usergroup/get_responsible_for").then(t=>{
                        this.responsibleGroups = t
                    }
                    )
                },
                reservationTimeout() {
                    this.showBookingDialog = !1
                }
            },
            watch: {
                gameClassId: {
                    immediate: !0,
                    handler() {
                        this.gameClassId && (this.loading = !0,
                        this.$api.get("/api/teamsport/gameclass/get_for_memberpage", {
                            id: this.gameClassId
                        }).then(t=>{
                            this.gc = t,
                            this.loading = !1,
                            this.showBookingDialog = !0;
                            let e = [];
                            t.questions && t.questions.forEach(t=>{
                                t = Object.assign({}, t, {
                                    title: t.name
                                }),
                                e.push(t)
                            }
                            ),
                            this.questions = e,
                            this.setInitialStepWhenLoggedIn(),
                            this.setInitialTeamSelection(),
                            this.setUsers()
                        }
                        ))
                    }
                },
                "$store.state.isLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        this.setInitialStepWhenLoggedIn(),
                        t && this.$store.state.user && this.$store.state.user.canBookFor && this.setUsers()
                    }
                },
                showBookingDialog() {
                    this.showBookingDialog ? this.gotDone = !1 : this.$emit("close")
                },
                groups: {
                    immediate: !0,
                    handler() {
                        this.setInitialTeamSelection()
                    }
                }
            },
            created() {
                this.newTeamFields.find(t=>"name" == t.name).rules.push(this.teamNameRule)
            },
            mounted() {
                this.getGroups(),
                window.addEventListener("beforeunload", this.unreserveAll),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "teamsportgameclass",
                    callback: (t,e)=>{
                        let i = this.gameClassId && e.data.find(t=>t.id == this.gameClassId);
                        i && this.$api.get("/api/teamsport/gameclass/get_for_memberpage", {
                            id: this.gameClassId
                        }).then(t=>{
                            this.gc = t,
                            this.updateUsers()
                        }
                        )
                    }
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this),
                this.unreserveAll(),
                window.removeEventListener("beforeunload", this.unreserveAll)
            }
        }
          , Qv = Kv
          , Jv = Object(p["a"])(Qv, Uv, Yv, !1, null, null, null)
          , Xv = Jv.exports;
        g()(Jv, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VExpandTransition: la["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSimpleCheckbox: sa["a"]
        });
        var Zv = {
            name: "zoezi-teamsport-competition-dialog",
            props: {
                competition: {
                    type: Object,
                    required: !0
                },
                value: {
                    type: Boolean
                }
            },
            components: {
                TeamsportCompetitionInfo: Rv,
                DialogHeader: Os["a"],
                TeamsportBooking: Xv,
                WatchDialog: oa
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.showCompetitionDialog = t
                    }
                },
                showCompetitionDialog(t) {
                    this.$emit("input", t)
                }
            },
            data() {
                return {
                    gameClasses: [],
                    selectedGameClass: null,
                    showBookingDialog: !1,
                    showCompetitionDialog: !1,
                    showWatchDialog: !1,
                    loading: !0,
                    TeamsportCompetitionInfo: Rv
                }
            },
            computed: {
                computedGameClasses() {
                    return this.gameClasses.map(t=>({
                        ...t,
                        buttonText: this.getButtonText(t),
                        buttonColor: this.getButtonColor(t),
                        spacesLeft: this.getSpacesLeft(t),
                        isDisabled: this.getButtonDisabled(t),
                        subtitle: this.getSubtitle(t),
                        resultBtn: {
                            text: this.$translate("Results & Schedule"),
                            color: "primary",
                            show: t.steps.some(t=>t.divisions.some(t=>t.matches_created))
                        }
                    }))
                },
                imageUrl() {
                    var t, e;
                    return null !== (t = this.competition.teamsport) && void 0 !== t && t.imagekey ? this.$api.getImageUrl(null === (e = this.competition.teamsport) || void 0 === e ? void 0 : e.imagekey) : this.$api.getImageUrl("/assets/img/teamsport.jpg")
                },
                registrationHasNotOpened() {
                    let t = Date.newFull(this.$store.state.now30s.clone().yyyymmdd())
                      , e = Date.newFull(this.competition.registrationStartDate);
                    return e > t
                },
                registrationHasNotClosed() {
                    let t = Date.newFull(this.$store.state.now30s.clone().yyyymmdd())
                      , e = Date.newFull(this.competition.registrationEndDate);
                    return e >= t
                }
            },
            created() {
                this.getGameClasses(),
                this.unsubscribe = this.$api.subscribe({
                    type: "teamsportgameclass",
                    callback: ()=>{
                        this.getGameClasses()
                    }
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            },
            methods: {
                goToGameclassOverview(t) {
                    var e, i;
                    const s = null === (e = this.$root.siteconfig) || void 0 === e || null === (i = e.pages) || void 0 === i ? void 0 : i.gameClassOverview
                      , a = this.$root.siteconfig.pages.gameClassOverviewParamId
                      , o = `${s}?${a}=${t.id}`;
                    this.$root.followLink(o)
                },
                closeDialog() {
                    this.showBookingDialog = !1,
                    this.showWatchDialog = !1,
                    this.selectedGameClass = null
                },
                getGameClasses() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/gameclass/get_for_memberpage", {
                        competition_id: this.competition.id
                    }).then(t=>{
                        this.gameClasses = t,
                        this.loading = !1
                    }
                    )
                },
                handleClick(t) {
                    let e = this.$store.state.now30s
                      , i = Date.newFull(t.competition.registrationStartDate);
                    (!t.max_number_of_teams || t.spaceLeft) && i < e ? (this.selectedGameClass = t,
                    this.showBookingDialog = !0) : (this.selectedGameClass = t,
                    this.showWatchDialog = !0)
                },
                getButtonText(t) {
                    var e;
                    return t.individual && null !== (e = t.teams) && void 0 !== e && e.find(t=>{
                        var e;
                        return t.user_id == (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id)
                    }
                    ) && "self" == t.canBookFor ? this.$translate("Already registered") : t.max_number_of_teams && !t.spaceLeft || this.registrationHasNotOpened ? this.isWatching(t) ? this.$translate("Change watching") : this.$translate("Watch") : this.$translate("Register")
                },
                getButtonColor(t) {
                    return this.isWatching(t) && this.registrationHasNotOpened ? "warning" : "primary"
                },
                getSpacesLeft(t) {
                    return t.max_number_of_teams ? t.spaceLeft ? t.spaceLeft : 0 : this.$translate("Unlimited")
                },
                getButtonDisabled(t) {
                    var e;
                    return t.individual && (null === (e = t.teams) || void 0 === e ? void 0 : e.find(t=>{
                        var e;
                        return t.user_id == (null === (e = this.$store.state.user) || void 0 === e ? void 0 : e.id)
                    }
                    )) && "self" == t.canBookFor
                },
                getSubtitle(t) {
                    return `${this.$translate("Price")}: ${t.price} | ${this.$translate("Spaces left")}: ${this.getSpacesLeft(t)}`
                },
                isWatching(t) {
                    var e, i;
                    return null === (e = this.$store.state.bookings) || void 0 === e || null === (i = e.gameclasswatches) || void 0 === i ? void 0 : i.find(e=>{
                        var i;
                        return e.gameclass_id == t.id && e.user_id == (null === (i = this.$store.state.user) || void 0 === i ? void 0 : i.id)
                    }
                    )
                }
            }
        }
          , tg = Zv
          , eg = (i("75ab"),
        Object(p["a"])(tg, qv, Hv, !1, null, "06f96e9e", null))
          , ig = eg.exports;
        g()(eg, {
            VBtn: O["a"],
            VCard: x["a"],
            VCol: M["a"],
            VDialog: K["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemAction: ql["a"],
            VListItemContent: Ct["a"],
            VListItemGroup: ca["a"],
            VListItemSubtitle: Ct["b"],
            VListItemTitle: Ct["c"],
            VProgressCircular: Q["a"],
            VRow: A["a"]
        });
        var sg = {
            name: "zoezi-teamsport-competition-list",
            zoezi: {
                title: "Competition list",
                icon: "mdi-trophy",
                addon: "TeamSports"
            },
            components: {
                TeamsportCompetitionCard: Wv,
                TeamsportCompetitionDialog: ig
            },
            data() {
                return {
                    competitions: [],
                    loading: !1,
                    loadingPreviousCompetitions: !1,
                    search: null,
                    searchText: null,
                    openPanel: [0],
                    teamsports: [],
                    category: null,
                    showingCompetition: null,
                    showCompetitionDialog: !1,
                    selectedFilters: ["ongoing"],
                    competitionsPreviousYears: [],
                    selectedSortingOption: "alphabetical"
                }
            },
            props: {
                categoryId: {
                    title: "Teamsport Category - ID",
                    type: Number,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !1,
                        text: "name",
                        value: "id",
                        getItems: ()=>window.$zoeziapi.get("/api/teamsport/get")
                    }
                },
                competitionName: {
                    title: "Show competition - Name",
                    type: String
                },
                competitionId: {
                    title: "Show competition - ID",
                    type: Number
                },
                customFilterOptions: {
                    title: "Filter for game classes",
                    type: Array,
                    fulltype: "itemlist",
                    default: ()=>[]
                }
            },
            watch: {
                selectedFilters(t) {
                    this.updateOpenPanelsFromFilters(t)
                },
                openPanel(t) {
                    this.updateFiltersFromOpenPanels(t)
                },
                showCompetitionDialog(t) {
                    const e = this.getPageParams();
                    0 !== e.length && e.forEach(e=>{
                        const i = t ? this.getPageRouteValue(e) : null;
                        this.setProp(e.prop, i)
                    }
                    )
                },
                categoryId: {
                    immediate: !0,
                    handler() {
                        this.getCompetitions()
                    }
                }
            },
            computed: {
                sortingOptions() {
                    return [{
                        text: this.$translate("Alphabetically"),
                        value: "alphabetical"
                    }, {
                        text: this.$translate("Closest competition"),
                        value: "closest"
                    }]
                },
                defaultFilterOptions() {
                    return [{
                        text: this.$translate("Registration open"),
                        value: "open"
                    }, {
                        text: this.$translate("Ongoing competitions"),
                        value: "ongoing"
                    }, {
                        text: this.$translate("Past competitions"),
                        value: "past"
                    }]
                },
                transformedCustomFilterOptions() {
                    return this.customFilterOptions.map(t=>({
                        text: t,
                        value: t.toLowerCase()
                    }))
                },
                filterOptions() {
                    const t = this.defaultFilterOptions;
                    if (!this.customFilterOptions || 0 === this.customFilterOptions.length)
                        return this.defaultFilterOptions;
                    const e = this.defaultFilterOptions.slice(0, this.defaultFilterOptions.length - 3).filter(t=>this.customFilterOptions.includes(t.value));
                    return [...this.transformedCustomFilterOptions, ...e, ...t]
                },
                imageUrl() {
                    var t;
                    return null !== (t = this.category) && void 0 !== t && t.imagekey ? this.$api.getImageUrl(this.category.imagekey) : this.$api.getImageUrl("/assets/img/teamsport.jpg")
                },
                today() {
                    return Date.newFull(this.$store.state.now30s.clone().yyyymmdd())
                },
                computedCompetitions() {
                    const t = this.transformedCustomFilterOptions.some(t=>this.selectedFilters.includes(t.value));
                    let e = [...this.competitions, ...this.competitionsPreviousYears]
                      , i = e.filter(e=>!(t && e.gameclasses && e.gameclasses.length > 0) || e.gameclasses.some(t=>{
                        const e = t.name.toLowerCase();
                        return this.selectedFilters.includes(e)
                    }
                    )).filter(t=>!this.searchText || t.name.toLowerCase().includes(this.searchText.toLowerCase()));
                    return i.sort((t,e)=>{
                        switch (this.selectedSortingOption) {
                        case "alphabetical":
                            return t.name.localeCompare(e.name);
                        case "closest":
                            return Date.newFull(t.startDate).getTime() - Date.newFull(e.startDate).getTime()
                        }
                    }
                    )
                },
                ongoingCompetitions() {
                    return this.computedCompetitions.filter(t=>{
                        let e = Date.newFull(t.endDate)
                          , i = Date.newFull(t.startDate)
                          , s = Date.newFull(t.registrationEndDate);
                        return i <= this.today && this.today <= e || s < this.today && this.today < i
                    }
                    )
                },
                openAndSoonOpenCompetitions() {
                    return this.selectedFilters.includes("open") ? this.computedCompetitions.filter(t=>{
                        let e = Date.newFull(t.registrationStartDate)
                          , i = Date.newFull(t.registrationEndDate)
                          , s = Date.newFull(t.startDate);
                        return e <= this.today && this.today <= i && s > this.today
                    }
                    ) : this.computedCompetitions.filter(t=>{
                        let e = Date.newFull(t.registrationEndDate)
                          , i = Date.newFull(t.startDate);
                        return e >= this.today && i > this.today
                    }
                    )
                },
                pastCompetitions() {
                    return this.computedCompetitions.filter(t=>{
                        let e = Date.newFull(this.today);
                        e.setFullYear(e.getFullYear() - 1);
                        let i = Date.newFull(t.endDate);
                        return i > e && i < this.today
                    }
                    )
                },
                competitionsPreviousYearsFiltered() {
                    return this.computedCompetitions.filter(t=>{
                        let e = Date.newFull(this.today);
                        e.setFullYear(e.getFullYear() - 1);
                        let i = Date.newFull(t.endDate);
                        return i <= e
                    }
                    )
                },
                dateOneYearAgo() {
                    var t = this.$store.state.now30s.clone();
                    t.setMonth(t.getMonth() - 12);
                    var e = t.toISOString().slice(0, 10);
                    return e
                }
            },
            mounted() {
                this.getCategory(),
                this.$api.subscribe({
                    type: "teamsportcompetition",
                    callback: ()=>{
                        this.getCompetitions()
                    }
                })
            },
            destroyed() {
                var t, e;
                null === (t = (e = this.$api).unsubscribe) || void 0 === t || t.call(e)
            },
            methods: {
                getCategory() {
                    this.$api.get("/api/teamsport/get", {
                        id: this.categoryId
                    }).then(t=>{
                        this.category = t
                    }
                    )
                },
                getCompetitionsPreviousYears() {
                    this.loadingPreviousCompetitions = !0,
                    this.$api.get("/api/teamsport/competition/get", {
                        teamsport_id: this.categoryId,
                        only_public: !0,
                        full: !0,
                        to_date: this.dateOneYearAgo
                    }).then(t=>{
                        this.competitionsPreviousYears = t,
                        this.loadingPreviousCompetitions = !1,
                        this.openPanel.push(2)
                    }
                    )
                },
                getCompetitions() {
                    this.loading = !0,
                    this.$api.get("/api/teamsport/competition/get", {
                        teamsport_id: this.categoryId,
                        only_public: !0,
                        full: !0,
                        from_date: this.dateOneYearAgo
                    }).then(t=>{
                        if (this.competitions = t,
                        this.competitionId)
                            this.showingCompetition = this.competitions.find(t=>t.id == this.competitionId);
                        else if (this.competitionName) {
                            let t = this.competitions.find(t=>Object(o["A"])(t.name).substring(1) == this.competitionName);
                            t && (this.showingCompetition = t)
                        }
                        this.showingCompetition && (this.showCompetitionDialog = !0),
                        this.loading = !1
                    }
                    )
                },
                updateOpenPanelsFromFilters(t) {
                    this.openPanel = this.updateFilterAndPanelStates(t, this.openPanel, !0)
                },
                updateFiltersFromOpenPanels(t) {
                    this.selectedFilters = this.updateFilterAndPanelStates(t, this.selectedFilters, !1)
                },
                updateFilterAndPanelStates(t, e, i=!0) {
                    const s = {
                        ongoing: 0,
                        past: 1,
                        previousYears: 2
                    }
                      , a = i ? s : Object.fromEntries(Object.entries(s).map(([t,e])=>[e, t]));
                    return Object.entries(a).forEach(([s,a])=>{
                        const o = t.includes(i ? s : Number(s))
                          , n = e.includes(a);
                        o && !n ? e.push(a) : !o && n && (e = e.filter(t=>t !== a))
                    }
                    ),
                    e
                },
                getPageParams() {
                    var t;
                    const {style: e} = this.$parent.config;
                    return (null === e || void 0 === e || null === (t = e.pageParams) || void 0 === t ? void 0 : t.filter(t=>"competitionId" === t.prop || "competitionName" === t.prop)) || []
                },
                getPageRouteValue(t) {
                    return "competitionId" === t.prop ? this.showingCompetition.id : "competitionName" === t.prop ? Object(o["A"])(this.showingCompetition.name).substring(1) : null
                },
                onShowDialog(t) {
                    this.showingCompetition = t,
                    this.showCompetitionDialog = !0
                }
            }
        }
          , ag = sg
          , og = i("ef9a")
          , ng = Object(p["a"])(ag, Iv, Pv, !1, null, null, null)
          , rg = ng.exports;
        g()(ng, {
            VAutocomplete: ku["a"],
            VBadge: Ue["a"],
            VBtn: O["a"],
            VChip: st["a"],
            VChipGroup: og["a"],
            VCol: M["a"],
            VDivider: $["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSelect: Xi["a"]
        });
        var lg = i("263b")
          , cg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticStyle: {
                    display: "contents"
                }
            }, [t._t("default")], 2)
        }
          , dg = []
          , ug = {
            name: "ContentsContainer"
        }
          , hg = ug
          , mg = Object(p["a"])(hg, cg, dg, !1, null, null, null)
          , pg = mg.exports
          , vg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-img", t._b({
                ref: "img",
                attrs: {
                    src: t.imageUrl,
                    width: t.width,
                    "aspect-ratio": t.ar
                }
            }, "v-img", t.$attrs, !1), [t._t("default")], 2)
        }
          , gg = []
          , fg = {
            name: "v-auto-img",
            props: ["src", "width", "ar"],
            data: ()=>({
                imageUrl: null
            }),
            watch: {
                src: {
                    immediate: !0,
                    handler() {
                        this.updateImageUrl()
                    }
                }
            },
            methods: {
                updateImageUrl() {
                    this.$refs.img ? this.setImageUrl() : s["default"].nextTick(this.setImageUrl)
                },
                setImageUrl() {
                    let t = parseInt(this.width);
                    t || (t = this.$refs.img && this.$refs.img.$el.clientWidth || 100);
                    for (let e of this.$api.thumbnailSizes.concat([null]))
                        if (t <= e || !e) {
                            this.imageUrl = this.$api.getImageUrl(this.src, e);
                            break
                        }
                }
            }
        }
          , bg = fg
          , yg = Object(p["a"])(bg, vg, gg, !1, null, null, null)
          , _g = yg.exports;
        g()(yg, {
            VImg: at["a"]
        });
        var kg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.e.show,
                    callback: function(e) {
                        t.$set(t.e, "show", e)
                    },
                    expression: "e.show"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline"
            }, [t._v(t._s(t.e.title))]), i("v-card-text", [t._v(" " + t._s(t.e.text) + " ")]), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: t.e.color
                },
                on: {
                    click: t.e.action
                }
            }, [t._v(" " + t._s(t.e.actionText) + " ")])], 1)], 1)], 1)
        }
          , wg = []
          , Cg = {
            name: "ErrorDialog",
            computed: {
                e() {
                    return this.$store.state.errorDialog
                }
            }
        }
          , xg = Cg
          , $g = Object(p["a"])(xg, kg, wg, !1, null, null, null)
          , Sg = $g.exports;
        g()($g, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VSpacer: J["a"]
        });
        var Dg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("h2", [t._v(t._s(t.$translate("Settings homepage")))]), i("v-row", [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [t.rootSetting ? i("div", [i("div", {
                staticClass: "d-flex"
            }, [i("v-icon", {
                attrs: {
                    color: "zoezi-edit-color"
                }
            }, [t._v(t._s(t.rootSetting.c.zoezi.icon))]), i("h3", {
                staticClass: "ml-2"
            }, [t._v(t._s(t.rootSetting.config.templateSettings.name))])], 1), t._l(t.rootSetting.props, (function(e) {
                return i("div", {
                    key: e.name
                }, [i("component-setting", {
                    attrs: {
                        prop: e,
                        config: {}
                    },
                    model: {
                        value: e.value,
                        callback: function(i) {
                            t.$set(e, "value", i)
                        },
                        expression: "prop.value"
                    }
                })], 1)
            }
            ))], 2) : t._e()]), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("v-expansion-panels", {
                attrs: {
                    multiple: ""
                },
                model: {
                    value: t.expanded,
                    callback: function(e) {
                        t.expanded = e
                    },
                    expression: "expanded"
                }
            }, t._l(t.topLevelSettings, (function(e) {
                return i("v-expansion-panel", {
                    key: e.config.id,
                    staticClass: "my-2",
                    class: "pl-" + 4 * e.level
                }, [i("v-expansion-panel-header", [i("div", {
                    staticClass: "d-flex"
                }, [i("v-icon", {
                    attrs: {
                        color: "zoezi-edit-color"
                    }
                }, [t._v(t._s(e.c.zoezi.icon))]), i("h3", {
                    staticClass: "ml-2"
                }, [t._v(t._s(e.config.templateSettings.name))])], 1)]), i("v-expansion-panel-content", [t._l(e.props, (function(e) {
                    return i("div", {
                        key: e.name
                    }, [i("component-setting", {
                        attrs: {
                            prop: e,
                            config: {}
                        },
                        model: {
                            value: e.value,
                            callback: function(i) {
                                t.$set(e, "value", i)
                            },
                            expression: "prop.value"
                        }
                    })], 1)
                }
                )), i("v-expansion-panels", {
                    attrs: {
                        multiple: ""
                    },
                    model: {
                        value: e.expanded,
                        callback: function(i) {
                            t.$set(e, "expanded", i)
                        },
                        expression: "setting.expanded"
                    }
                }, t._l(e.children, (function(e) {
                    return i("v-expansion-panel", {
                        key: e.config.id,
                        staticClass: "my-2",
                        class: "pl-" + 4 * e.level
                    }, [i("v-expansion-panel-header", [i("div", {
                        staticClass: "d-flex"
                    }, [i("v-icon", {
                        attrs: {
                            color: "zoezi-edit-color"
                        }
                    }, [t._v(t._s(e.c.zoezi.icon))]), i("h3", {
                        staticClass: "ml-2"
                    }, [t._v(t._s(e.config.templateSettings.name))])], 1)]), i("v-expansion-panel-content", t._l(e.props, (function(e) {
                        return i("div", {
                            key: e.name
                        }, [i("component-setting", {
                            attrs: {
                                prop: e,
                                config: {}
                            },
                            model: {
                                value: e.value,
                                callback: function(i) {
                                    t.$set(e, "value", i)
                                },
                                expression: "prop.value"
                            }
                        })], 1)
                    }
                    )), 0)], 1)
                }
                )), 1)], 2)], 1)
            }
            )), 1)], 1)], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin mx-2",
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: 0 == t.changed.length,
                    loading: t.saving
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))]), i("v-btn", {
                staticClass: "zoezi-button-thin mx-2",
                attrs: {
                    color: "zoezi-edit-color",
                    outlined: ""
                },
                on: {
                    click: t.showPage
                }
            }, [t._v(t._s(t.$translate("Show page")))])], 1)], 1)
        }
          , zg = []
          , Tg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.pageProp ? i("div", {
                staticClass: "black--text"
            }, [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.$translate(t.prop.title)))]), t._v(" " + t._s(t.$translate("controlled by parameter")) + " "), i("code", [t._v(t._s(t.pageProp.id))]), t._v(" " + t._s(t.$translate("to the page")))]) : t._e(), "text" == t.prop.type ? i("v-text-field", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    color: "zoezi-edit-color",
                    placeholder: t.translatedPlaceholder,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            }) : "date" == t.prop.type ? i("v-menu", {
                attrs: {
                    "close-on-content-click": !1,
                    "nudge-right": 40,
                    transition: "scale-transition",
                    "offset-y": "",
                    "min-width": "auto"
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on
                          , a = e.attrs;
                        return [i("v-text-field", t._g(t._b({
                            attrs: {
                                value: t.value,
                                label: t.translatedTitle,
                                "prepend-icon": "mdi-calendar",
                                color: "zoezi-edit-color",
                                placeholder: t.translatedPlaceholder,
                                hint: t.translatedHint,
                                readonly: "",
                                clearable: ""
                            }
                        }, "v-text-field", a, !1), s))]
                    }
                }]),
                model: {
                    value: t.dateMenu,
                    callback: function(e) {
                        t.dateMenu = e
                    },
                    expression: "dateMenu"
                }
            }, [i("v-date-picker", {
                attrs: {
                    value: t.value
                },
                on: {
                    input: t.dateChanged
                }
            })], 1) : "textarea" == t.prop.type ? i("v-textarea", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    color: "zoezi-edit-color",
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            }) : "checkbox" == t.prop.type ? i("v-switch", {
                attrs: {
                    label: t.translatedTitle,
                    "input-value": t.value,
                    color: "zoezi-edit-color",
                    hint: t.translatedHint,
                    "persistent-hint": !!t.hint
                },
                on: {
                    change: t.inputChanged
                }
            }) : "icon" == t.prop.type ? i("div", [i("icon-setting", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "image" == t.prop.type ? i("div", [i("image-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "video" == t.prop.type ? i("div", [i("video-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "vue" == t.prop.type ? i("div", [i("vue-code-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    component: t.component,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "html" == t.prop.type ? i("div", [t.prop.typeinfo && t.prop.typeinfo.inline ? i("editor", {
                attrs: {
                    value: t.value
                },
                on: {
                    input: t.inputChanged
                }
            }) : i("vue-code-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    "html-only": "",
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "javascript" == t.prop.type ? i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.translatedTitle))]), i("codemirror", {
                staticStyle: {
                    border: "1px solid gray"
                },
                attrs: {
                    value: t.value,
                    options: t.cmOptionJs
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "number" == t.prop.type ? i("v-text-field", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    type: "number",
                    min: t.prop.typeinfo && t.prop.typeinfo.min || 0,
                    max: t.prop.typeinfo && t.prop.typeinfo.max || void 0,
                    placeholder: t.translatedPlaceholder,
                    color: "zoezi-edit-color"
                },
                on: {
                    input: function(e) {
                        t.inputChanged(Number(e))
                    }
                }
            }) : "number-slider" == t.prop.type ? i("v-slider", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    min: t.prop.typeinfo.min,
                    max: t.prop.typeinfo.max,
                    step: t.prop.typeinfo.step,
                    "thumb-label": ""
                },
                on: {
                    end: function(e) {
                        t.inputChanged(Number(e))
                    }
                }
            }) : "range" == t.prop.type ? i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.prop.title))]), i("v-range-slider", {
                staticClass: "align-center",
                attrs: {
                    value: t.value,
                    max: t.prop.typeinfo.max,
                    min: t.prop.typeinfo.min,
                    "hide-details": "",
                    color: "zoezi-edit-color"
                },
                on: {
                    input: t.inputChanged
                },
                scopedSlots: t._u([{
                    key: "prepend",
                    fn: function() {
                        return [i("v-text-field", {
                            staticClass: "mt-0 pt-0",
                            staticStyle: {
                                width: "60px"
                            },
                            attrs: {
                                value: t.value[0],
                                "hide-details": "",
                                "single-line": "",
                                type: "number",
                                color: "zoezi-edit-color"
                            },
                            on: {
                                input: function(e) {
                                    return t.$set(t.value, 0, e)
                                }
                            }
                        })]
                    },
                    proxy: !0
                }, {
                    key: "append",
                    fn: function() {
                        return [i("v-text-field", {
                            staticClass: "mt-0 pt-0",
                            staticStyle: {
                                width: "60px"
                            },
                            attrs: {
                                value: t.value[1],
                                "hide-details": "",
                                "single-line": "",
                                type: "number",
                                color: "zoezi-edit-color"
                            },
                            on: {
                                input: function(e) {
                                    return t.$set(t.value, 1, e)
                                }
                            }
                        })]
                    },
                    proxy: !0
                }])
            })], 1) : "namelist" == t.prop.type ? i("div", [i("name-list-setting", {
                attrs: {
                    value: t.value,
                    component: t.component,
                    prop: t.prop,
                    label: t.translatedTitle
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "componentlist" == t.prop.type ? i("div", [i("component-list-setting", {
                attrs: {
                    value: t.value,
                    component: t.component,
                    label: t.translatedTitle,
                    prop: t.prop
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "component" == t.prop.type ? i("div", [t.$root.edit ? [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.translatedTitle))]), i("div", {
                staticClass: "black--text",
                staticStyle: {
                    cursor: "pointer"
                },
                on: {
                    click: function(e) {
                        return t.setSelectedEditComponentFromConfig(t.value)
                    }
                }
            }, [t.value && t.value.component ? i("div", {
                staticClass: "d-flex",
                staticStyle: {
                    "line-height": "40px"
                }
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [i("v-icon", [t._v(t._s(t.componentInfo(t.value.component).zoezi.icon))]), t._v(" " + t._s(t.$translate(t.componentInfo(t.value.component).zoezi.title)) + " ")], 1), t.prop.typeinfo && t.prop.typeinfo.clearable ? i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        e.preventDefault(),
                        t.inputChanged(t.makeEmptyConfig())
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1) : t._e()], 1) : i("div", [t._v(t._s(t.$translate("No component")))])])] : [i("select-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    prop: {
                        title: t.translatedTitle,
                        typeinfo: {
                            text: "text",
                            value: "value",
                            clearable: t.prop.typeinfo.clearable,
                            getItems: t.getComponents
                        }
                    },
                    props: t.config.props,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })]], 2) : "color" == t.prop.type ? i("div", [i("color-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "page" == t.prop.type ? i("div", [i("page-setting", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    clearable: !t.prop.typeinfo || t.prop.typeinfo.clearable,
                    "route-filter": t.prop.typeinfo ? t.prop.typeinfo.routeFilter : null,
                    props: t.config.props
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "link" == t.prop.type ? i("div", [i("link-setting", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    clearable: !t.prop.typeinfo || t.prop.typeinfo.clearable,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "path" == t.prop.type ? i("div", [i("v-text-field", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    rules: [t.isValidPath],
                    color: "zoezi-edit-color",
                    hint: t.translatedHint
                },
                on: {
                    input: t.pathChanged
                }
            })], 1) : "select" == t.prop.type ? i("div", [i("select-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    prop: t.prop,
                    props: t.config.props,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "alignment" == t.prop.type ? i("div", [i("alignment-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "productlist" == t.prop.type ? i("div", [i("product-list-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "csssize" == t.prop.type ? i("div", [i("css-size-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "backgroundposition" == t.prop.type ? i("div", [i("background-position-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "breakpointsetting" == t.prop.type ? i("div", [i("breakpoint-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "checktoggle" == t.prop.type ? i("div", [i("check-toggle-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    headers: t.prop.typeinfo ? t.prop.typeinfo.header : []
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "pageparams" == t.prop.type ? i("div", [i("page-params-setting", {
                attrs: {
                    value: t.value,
                    label: t.translatedTitle,
                    page: t.config
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "font" == t.prop.type ? i("div", [i("font-setting", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "colortheme" == t.prop.type ? i("div", [i("color-theme-settings", {
                attrs: {
                    label: t.translatedTitle,
                    value: t.value,
                    hint: t.translatedHint
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : "itemlist" == t.prop.type ? i("div", [i("item-list-setting", {
                attrs: {
                    label: t.prop.translatedTitle,
                    value: t.value
                },
                on: {
                    input: t.inputChanged
                }
            })], 1) : i("div", [i("v-alert", {
                attrs: {
                    color: "error"
                }
            }, [t._v(t._s(t.$translate("The setting {0} lacks a supported setting type").format(t.translatedTitle)) + " (" + t._s(t.prop.type) + ")")])], 1)], 1)
        }
          , Ig = []
          , Pg = i("7134")
          , Vg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("label", {
                staticClass: "v-label theme--light pr-4"
            }, [t._v(t._s(t.label))]), i("div", [i("v-card", {
                staticClass: "mb-4",
                staticStyle: {
                    cursor: "pointer"
                },
                attrs: {
                    width: "150",
                    height: "60",
                    color: t.backgroundColor
                },
                on: {
                    click: function(e) {
                        return t.change()
                    }
                }
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", [t.imagekey ? i("v-auto-img", {
                staticClass: "d-inline-block",
                attrs: {
                    src: t.imagekey,
                    height: "60px",
                    width: "100px"
                }
            }) : i("v-btn", {
                attrs: {
                    text: "",
                    color: "zoezi-edit-color",
                    height: "60px",
                    width: "100%"
                }
            }, [t._v(t._s(t.$translate("Change")))])], 1), t.imagekey ? i("v-col", [i("v-btn", {
                staticClass: "d-inline-block",
                staticStyle: {
                    "margin-top": "6px"
                },
                attrs: {
                    icon: "",
                    color: t.color
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.clear.apply(null, arguments)
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1) : t._e()], 1)], 1), i("v-text-field", {
                attrs: {
                    label: t.$translate("Image address or key")
                },
                model: {
                    value: t.imagekey,
                    callback: function(e) {
                        t.imagekey = e
                    },
                    expression: "imagekey"
                }
            })], 1), i("v-dialog", {
                attrs: {
                    "max-width": "80%",
                    scrollable: ""
                },
                model: {
                    value: t.showMediaLibrary,
                    callback: function(e) {
                        t.showMediaLibrary = e
                    },
                    expression: "showMediaLibrary"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Choose image")) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showMediaLibrary = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [t.hint ? i("div", {
                staticClass: "mt-2",
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("media-library", {
                attrs: {
                    columns: t.$vuetify.breakpoint.mobile ? 1 : 6,
                    type: "image"
                },
                on: {
                    change: t.changed
                },
                model: {
                    value: t.imagekey,
                    callback: function(e) {
                        t.imagekey = e
                    },
                    expression: "imagekey"
                }
            })], 1)], 1)], 1)], 1)
        }
          , Bg = []
          , Fg = {
            name: "ImageSetting",
            props: ["value", "label", "backgroundColor", "color", "hint"],
            components: {
                MediaLibrary: lu
            },
            computed: {
                shared() {
                    return this.$root.shared
                }
            },
            data: ()=>({
                showMediaLibrary: !1,
                imagekey: null
            }),
            methods: {
                changed(t) {
                    this.showMediaLibrary = !1,
                    this.shared && (t = this.$api.getImageUrl(t)),
                    this.$emit("input", t),
                    this.imagekey = t
                },
                change() {
                    this.showMediaLibrary = !0
                },
                clear() {
                    this.changed(null)
                }
            },
            created() {
                this.imagekey = this.value
            }
        }
          , Eg = Fg
          , Og = Object(p["a"])(Eg, Vg, Bg, !1, null, null, null)
          , Mg = Og.exports;
        g()(Og, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var Ag = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("label", {
                staticClass: "v-label theme--light pr-4"
            }, [t._v(t._s(t.label))]), t.hint ? i("div", {
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("v-btn-toggle", {
                attrs: {
                    mandatory: t.mandatory,
                    color: "zoezi-edit-color"
                },
                on: {
                    change: function(e) {
                        return t.$emit("input", t.justify)
                    }
                },
                model: {
                    value: t.justify,
                    callback: function(e) {
                        t.justify = e
                    },
                    expression: "justify"
                }
            }, [i("v-btn", {
                attrs: {
                    value: "justify-start"
                }
            }, [i("v-icon", [t._v("mdi-format-align-left")])], 1), i("v-btn", {
                attrs: {
                    value: "justify-center"
                }
            }, [i("v-icon", [t._v("mdi-format-align-center")])], 1), i("v-btn", {
                attrs: {
                    value: "justify-space-around"
                }
            }, [i("v-icon", [t._v("mdi-format-align-justify")])], 1), i("v-btn", {
                attrs: {
                    value: "justify-end"
                }
            }, [i("v-icon", [t._v("mdi-format-align-right")])], 1)], 1)], 1)
        }
          , Rg = []
          , Lg = {
            name: "AlignmentSetting",
            props: ["value", "label", "mandatory", "hint"],
            data: ()=>({
                justify: null
            }),
            created() {
                this.justify = this.value
            }
        }
          , jg = Lg
          , Ng = Object(p["a"])(jg, Ag, Rg, !1, null, null, null)
          , Wg = Ng.exports;
        g()(Ng, {
            VBtn: O["a"],
            VBtnToggle: np["a"],
            VIcon: y["a"]
        });
        var qg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("label", {
                staticClass: "v-label theme--light pr-4"
            }, [t._v(t._s(t.label))]), i("div", [i("v-card", {
                staticClass: "mb-4 z-clickable",
                attrs: {
                    width: "110",
                    height: "60"
                },
                on: {
                    click: function(e) {
                        return t.change()
                    }
                }
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", [t.videokey ? i("v-img", {
                attrs: {
                    src: t.$api.getImageUrl(t.videokey, 200),
                    height: "60px",
                    contain: ""
                }
            }) : i("v-btn", {
                attrs: {
                    text: "",
                    color: "zoezi-edit-color",
                    height: "100%",
                    width: "100%"
                }
            }, [t._v(t._s(t.$translate("Change")))])], 1), t.videokey ? i("v-col", [i("v-btn", {
                staticClass: "d-inline-block",
                staticStyle: {
                    "margin-top": "6px"
                },
                attrs: {
                    icon: "",
                    color: t.color
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.clear.apply(null, arguments)
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1) : t._e()], 1)], 1)], 1), i("v-dialog", {
                attrs: {
                    "max-width": "80%",
                    scrollable: ""
                },
                model: {
                    value: t.showMediaLibrary,
                    callback: function(e) {
                        t.showMediaLibrary = e
                    },
                    expression: "showMediaLibrary"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Choose a video")) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showMediaLibrary = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", [t.hint ? i("div", {
                staticClass: "mt-2",
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("media-library", {
                attrs: {
                    columns: t.$vuetify.breakpoint.mobile ? 1 : 6,
                    type: "video"
                },
                on: {
                    change: t.changed
                },
                model: {
                    value: t.videokey,
                    callback: function(e) {
                        t.videokey = e
                    },
                    expression: "videokey"
                }
            })], 1)], 1)], 1)], 1)
        }
          , Hg = []
          , Ug = {
            name: "VideoSetting",
            props: ["value", "label", "hint"],
            components: {
                MediaLibrary: lu
            },
            data: ()=>({
                showMediaLibrary: !1,
                videokey: null
            }),
            methods: {
                changed(t) {
                    this.showMediaLibrary = !1,
                    this.$emit("input", t),
                    this.videokey = t
                },
                change() {
                    this.showMediaLibrary = !0
                },
                clear() {
                    this.changed(null)
                }
            },
            created() {
                this.videokey = this.value
            }
        }
          , Yg = Ug
          , Gg = Object(p["a"])(Yg, qg, Hg, !1, null, null, null)
          , Kg = Gg.exports;
        g()(Gg, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VRow: A["a"]
        });
        var Qg = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.label))]), i("v-list", {
                key: t.renderKey
            }, [i("draggable", {
                attrs: {
                    tag: "ContentsContainer"
                },
                on: {
                    change: function(e) {
                        return t.$emit("input", t.componentlist)
                    }
                },
                model: {
                    value: t.componentlist,
                    callback: function(e) {
                        t.componentlist = e
                    },
                    expression: "componentlist"
                }
            }, t._l(t.componentlist, (function(e, s) {
                return i("v-list-item", {
                    key: e.id
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    staticClass: "black--text",
                    attrs: {
                        cols: "10"
                    },
                    on: {
                        click: function(i) {
                            return t.setSelectedEditComponent(e)
                        }
                    }
                }, [e.component ? i("div", {
                    staticStyle: {
                        "line-height": "40px"
                    }
                }, [i("v-icon", {
                    staticClass: "mr-1"
                }, [t._v(t._s(t.getIcon(e)))]), t._v(" " + t._s(t.$translate(t.getTitle(e))) + " ")], 1) : i("div", [t._v(t._s(t.$translate("No component")))])]), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }, [i("v-btn", {
                    staticStyle: {
                        "margin-left": "8px"
                    },
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(e) {
                            return t.removeItem(t.componentlist, s)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)], 1)], 1)
            }
            )), 1)], 1), !t.prop.typeinfo || !t.prop.typeinfo.max || t.prop.typeinfo.max > t.componentlist.length ? i("v-btn", {
                staticClass: "mb-2",
                attrs: {
                    color: "zoezi-edit-color",
                    fab: "",
                    small: ""
                },
                on: {
                    click: function(e) {
                        return t.addItem(t.componentlist, t.prop)
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1) : t._e()], 1)
        }
          , Jg = []
          , Xg = {
            name: "ComponentListSetting",
            components: {
                Draggable: bt.a
            },
            props: ["value", "label", "component", "prop"],
            data: ()=>({
                renderKey: 0,
                componentlist: null
            }),
            methods: {
                removeItem(t, e) {
                    t.splice(e, 1),
                    this.$emit("input", this.componentlist),
                    ++this.renderKey
                },
                addItem(t) {
                    let e = {};
                    this.prop.typeinfo && this.prop.typeinfo.component && (e.component = this.prop.typeinfo.component),
                    this.prop.typeinfo && this.prop.typeinfo.setNewConfig && this.prop.typeinfo.setNewConfig(e, this.component),
                    t.splice(t.length, 0, Yx.makeEmptyConfig(e)),
                    this.setSelectedEditComponent(t[t.length - 1]),
                    this.$emit("input", this.componentlist),
                    ++this.renderKey
                },
                componentInfo(t) {
                    return Yx.getComponent(t)
                },
                setSelectedEditComponent(t) {
                    this.$store.dispatch("setEditComponentConfig", {
                        config: t,
                        parentComponent: this.component
                    })
                },
                getTitle(t) {
                    return t.props.title ? t.props.title : this.componentInfo(t.component).zoezi.title
                },
                getIcon(t) {
                    return t.props.icon ? t.props.icon : this.componentInfo(t.component).zoezi.icon
                }
            },
            created() {
                this.componentlist = this.value
            }
        }
          , Zg = Xg
          , tf = Object(p["a"])(Zg, Qg, Jg, !1, null, null, null)
          , ef = tf.exports;
        g()(tf, {
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VRow: A["a"]
        });
        var sf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.label))]), i("v-list", {
                key: t.renderKey
            }, [i("draggable", {
                attrs: {
                    tag: "ContentsContainer"
                },
                on: {
                    change: function(e) {
                        t.$emit("input", t.namelist),
                        t.$emit("change")
                    }
                },
                model: {
                    value: t.namelist,
                    callback: function(e) {
                        t.namelist = e
                    },
                    expression: "namelist"
                }
            }, t._l(t.namelist, (function(e, s) {
                return i("v-list-item", {
                    key: e.id
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "10"
                    }
                }, [i("v-text-field", {
                    on: {
                        input: function(e) {
                            return t.$emit("input", t.namelist)
                        },
                        change: function(e) {
                            return t.$emit("change")
                        }
                    },
                    model: {
                        value: e.name,
                        callback: function(i) {
                            t.$set(e, "name", i)
                        },
                        expression: "item.name"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }, [i("v-btn", {
                    staticStyle: {
                        "margin-top": "12px",
                        "margin-left": "8px"
                    },
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(e) {
                            return t.removeItem(t.namelist, s)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)], 1)], 1)
            }
            )), 1)], 1), i("v-btn", {
                staticClass: "mb-2",
                attrs: {
                    color: "zoezi-edit-color",
                    fab: "",
                    small: ""
                },
                on: {
                    click: function(e) {
                        return t.addItem(t.namelist)
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1)
        }
          , af = []
          , of = {
            name: "NameListSetting",
            components: {
                Draggable: bt.a
            },
            props: ["value", "label", "prop", "component"],
            data: ()=>({
                renderKey: 0,
                namelist: null
            }),
            methods: {
                removeItem(t, e) {
                    t.splice(e, 1),
                    this.$emit("input", this.namelist),
                    this.$emit("change"),
                    ++this.renderKey
                },
                addItem(t) {
                    let e = {};
                    e.name = this.prop.typeinfo.getNewName(t),
                    t.splice(t.length, 0, Yx.makeEmptyConfig(e)),
                    this.setSelectedEditComponent(t[t.length - 1]),
                    this.$emit("input", this.namelist),
                    this.$emit("change"),
                    ++this.renderKey
                },
                componentInfo(t) {
                    return Yx.getComponent(t)
                },
                setSelectedEditComponent(t) {
                    this.$store.dispatch("setEditComponentConfig", {
                        config: t,
                        parentComponent: this.component
                    })
                }
            },
            created() {
                this.namelist = this.value
            }
        }
          , nf = of
          , rf = Object(p["a"])(nf, sf, af, !1, null, null, null)
          , lf = rf.exports;
        g()(rf, {
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var cf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.prop.typeinfo.order ? i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.label))]), i("v-list", [i("draggable", {
                attrs: {
                    tag: "ContentsContainer"
                },
                on: {
                    change: function(e) {
                        return t.$emit("input", t.selected)
                    }
                },
                model: {
                    value: t.selected,
                    callback: function(e) {
                        t.selected = e
                    },
                    expression: "selected"
                }
            }, t._l(t.selectedItems, (function(e, s) {
                return i("v-list-item", {
                    key: e.id,
                    staticStyle: {
                        cursor: "move"
                    }
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("v-col", {
                    staticClass: "black--text",
                    attrs: {
                        cols: "10"
                    }
                }, [e.imagekey ? i("v-auto-img", {
                    staticClass: "d-inline-block",
                    attrs: {
                        src: e.imagekey,
                        width: "50",
                        height: "50"
                    }
                }) : t._e(), i("span", {
                    staticClass: "ml-4"
                }, [t._v(t._s(e[t.prop.typeinfo.text]))])], 1), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }, [i("v-btn", {
                    staticStyle: {
                        "margin-left": "8px"
                    },
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(e) {
                            return t.removeItem(s)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)], 1)], 1)
            }
            )), 1)], 1), i("v-select", {
                key: t.removeKey,
                attrs: {
                    placeholder: t.selected && t.selected.length || !t.prop.typeinfo.placeholder ? t.$translate("Choose to add") : t.$translate(t.prop.typeinfo.placeholder),
                    items: t.toadd,
                    "item-text": t.prop.typeinfo.text,
                    "item-value": t.prop.typeinfo.value,
                    hint: t.hint
                },
                on: {
                    input: t.addItem
                }
            })], 1) : i("v-select", {
                attrs: {
                    label: t.label,
                    items: t.sortedItems,
                    clearable: !t.prop.typeinfo.selectFirst,
                    "item-text": t.prop.typeinfo.text,
                    "item-value": t.prop.typeinfo.value,
                    multiple: t.prop.typeinfo.multiple,
                    value: t.selected,
                    placeholder: t.$translate(t.prop.typeinfo.placeholder),
                    hint: t.hint
                },
                on: {
                    input: t.setValue
                }
            })
        }
          , df = []
          , uf = {
            name: "SelectSetting",
            components: {
                Draggable: bt.a
            },
            props: ["value", "label", "prop", "props", "hint"],
            data: ()=>({
                selected: null,
                items: [],
                removeKey: 0
            }),
            computed: {
                sortedItems() {
                    let t = this.items.filter(this.prop.typeinfo.filter ? t=>this.prop.typeinfo.filter(t, this.props) : ()=>!0);
                    return this.prop.typeinfo.nosort ? t : t.sort((t,e)=>t[this.prop.typeinfo.text].localeCompare(e[this.prop.typeinfo.text]))
                },
                toadd() {
                    return this.sortedItems.filter(t=>-1 == this.selected.indexOf(t.id))
                },
                selectedItems() {
                    return this.selected.map(t=>this.items.find(e=>e.id == t)).filter(t=>t)
                }
            },
            watch: {
                sortedItems: {
                    immediate: !0,
                    handler(t) {
                        if (this.prop.typeinfo.selectFirst && t && t.length) {
                            let e = this.prop.typeinfo.multiple ? this.selected && this.selected.length : this.selected;
                            if (!e) {
                                let e = t[0][this.prop.typeinfo.value];
                                this.setValue(this.prop.typeinfo.multiple ? [e] : e)
                            }
                        }
                    }
                }
            },
            methods: {
                setValue(t) {
                    this.selected = t && this.prop.typeinfo.multiple ? t.filter(t=>null !== t) : t,
                    this.$emit("input", this.selected)
                },
                addItem(t) {
                    this.selected.push(t),
                    this.$emit("input", this.selected)
                },
                removeItem(t) {
                    this.selected.splice(t, 1),
                    this.$emit("input", this.selected),
                    ++this.removeKey
                }
            },
            mounted() {
                this.selected = this.prop.typeinfo.multiple && this.value && "object" !== typeof this.value ? [this.value] : this.value,
                this.prop.typeinfo.multiple && !this.value && (this.selected = []);
                let t = this.prop.typeinfo.getItems();
                t.then ? t.then(t=>this.items = t) : this.items = t
            }
        }
          , hf = uf
          , mf = Object(p["a"])(hf, cf, df, !1, null, null, null)
          , pf = mf.exports;
        g()(mf, {
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VRow: A["a"],
            VSelect: Xi["a"]
        });
        var vf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-autocomplete", {
                attrs: {
                    label: t.label,
                    items: t.icons,
                    "item-text": "id",
                    "item-value": "id",
                    clearable: t.clearable,
                    color: "zoezi-edit-color",
                    hint: t.hint
                },
                on: {
                    input: t.setValue
                },
                scopedSlots: t._u([{
                    key: "selection",
                    fn: function(e) {
                        var s = e.item;
                        return [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v(t._s(s))]), t._v(t._s(s.substring(4)) + " ")]
                    }
                }, {
                    key: "item",
                    fn: function(e) {
                        var s = e.item;
                        return [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v(t._s(s))]), t._v(t._s(s.substring(4)) + " ")]
                    }
                }]),
                model: {
                    value: t.icon,
                    callback: function(e) {
                        t.icon = e
                    },
                    expression: "icon"
                }
            })
        }
          , gf = []
          , ff = {
            name: "IconSetting",
            props: {
                value: {},
                label: {},
                clearable: {
                    type: Boolean,
                    default: !0
                },
                hint: {}
            },
            data: ()=>({
                icon: null,
                icons: []
            }),
            methods: {
                setIcons() {
                    if (!this.$vuetify.breakpoint.mobile)
                        for (let t = 0; t < document.styleSheets.length; ++t)
                            try {
                                let e = document.styleSheets[t];
                                if (e.rules.length > 3e3)
                                    for (let t = 0; t < e.rules.length; ++t) {
                                        let i = e.rules[t]
                                          , s = i.selectorText && i.selectorText.match(".mdi-(.*)::before");
                                        s && this.icons.push("mdi-" + s[1])
                                    }
                            } catch {}
                },
                setValue() {
                    this.$emit("input", this.icon)
                }
            },
            created() {
                this.icon = this.value
            },
            mounted() {
                this.setIcons()
            }
        }
          , bf = ff
          , yf = Object(p["a"])(bf, vf, gf, !1, null, null, null)
          , _f = yf.exports;
        g()(yf, {
            VAutocomplete: ku["a"],
            VIcon: y["a"]
        });
        var kf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.open;
                        return [i("v-row", [i("v-col", [i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticClass: "v-label theme--light mb-2"
                        }, [i("label", {
                            class: {
                                "primary--text": s
                            }
                        }, [t._v(t._s(t.label))])])], 1), i("v-row", {
                            staticClass: "fill-width",
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticClass: "d-flex"
                        }, [t.href || t.page ? t._e() : i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("No link")))]), t.pageObject ? i("div", {
                            staticClass: "flex-grow-1"
                        }, [t._v(t._s(t.$translate("Page")) + " "), i("span", {
                            staticClass: "text--secondary"
                        }, [t._v(t._s(t.pageObject.name) + " (" + t._s(t.pageObject.path) + t._s(t.anchor ? "#" + t.anchor : "") + ")")])]) : t.href ? i("div", {
                            staticClass: "text-truncate flex-grow-1"
                        }, [t._v(t._s(t.$translate("External page")) + ": "), i("span", {
                            staticClass: "text--secondary"
                        }, [t._v(t._s(t.href))])]) : t._e(), s && t.clearable ? i("v-btn", {
                            attrs: {
                                small: "",
                                icon: ""
                            },
                            on: {
                                click: function(e) {
                                    return e.preventDefault(),
                                    t.clear()
                                }
                            }
                        }, [i("v-icon", [t._v("mdi-close")])], 1) : t._e()], 1)], 1)], 1)], 1)]
                    }
                }])
            }), i("v-expansion-panel-content", [t.hint ? i("div", {
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("v-radio-group", {
                model: {
                    value: t.internal,
                    callback: function(e) {
                        t.internal = e
                    },
                    expression: "internal"
                }
            }, [i("v-radio", {
                attrs: {
                    label: t.$translate("Internal page"),
                    value: !0
                }
            }), i("v-radio", {
                attrs: {
                    label: t.$translate("External page"),
                    value: !1
                }
            }), t.internal ? [i("v-autocomplete", {
                attrs: {
                    label: t.$translate("Page"),
                    items: t.sortedRoutes,
                    "item-text": function(t) {
                        return t.name + " (" + t.path + ")"
                    },
                    "item-value": "path"
                },
                model: {
                    value: t.page,
                    callback: function(e) {
                        t.page = e
                    },
                    expression: "page"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Anchor name")
                },
                model: {
                    value: t.anchor,
                    callback: function(e) {
                        t.anchor = e
                    },
                    expression: "anchor"
                }
            })] : [i("v-text-field", {
                attrs: {
                    label: t.$translate("URL")
                },
                model: {
                    value: t.href,
                    callback: function(e) {
                        t.href = e
                    },
                    expression: "href"
                }
            }), i("v-checkbox", {
                attrs: {
                    label: t.$translate("Open in new tab"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.newTab,
                    callback: function(e) {
                        t.newTab = e
                    },
                    expression: "newTab"
                }
            })]], 2)], 1)], 1)], 1)
        }
          , wf = []
          , Cf = {
            name: "LinkSetting",
            props: ["value", "label", "clearable", "hint"],
            data: ()=>({
                internal: !0,
                href: null,
                page: null,
                newTab: !1,
                anchor: null
            }),
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        null !== t && void 0 !== t && t.page ? (this.page = t.page,
                        this.anchor = t.anchor,
                        this.href = null,
                        this.internal = !0) : void 0 !== (null === t || void 0 === t ? void 0 : t.href) ? (this.internal = !1,
                        this.page = null,
                        this.href = t.href,
                        this.newTab = t.newTab,
                        this.anchor = null) : (this.internal = !0,
                        this.page = this.clearable ? null : "/",
                        this.href = null,
                        this.anchor = null)
                    }
                },
                internal() {
                    this.internal ? (this.page = this.clearable ? null : "/",
                    this.href = null,
                    this.anchor = null) : (this.page = null,
                    this.href = null,
                    this.anchor = null)
                },
                emitValue() {
                    this.$emit("input", this.emitValue)
                }
            },
            computed: {
                emitValue() {
                    return this.page || this.href ? this.internal ? {
                        page: this.page,
                        anchor: this.anchor
                    } : {
                        href: this.href,
                        newTab: this.newTab
                    } : null
                },
                sortedRoutes() {
                    return this.$root.siteconfig.routes.map(t=>t.props).sort((t,e)=>t.name.localeCompare(e.name))
                },
                pageObject() {
                    return this.sortedRoutes.find(t=>t.path == this.page)
                }
            },
            methods: {
                clear() {
                    this.href = null,
                    this.anchor = null,
                    this.page = null
                }
            }
        }
          , xf = Cf
          , $f = Object(p["a"])(xf, kf, wf, !1, null, null, null)
          , Sf = $f.exports;
        g()($f, {
            VAutocomplete: ku["a"],
            VBtn: O["a"],
            VCheckbox: b["a"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRadio: Gs["a"],
            VRadioGroup: Ks["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var Df = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-autocomplete", {
                attrs: {
                    label: t.label,
                    items: t.sortedRoutes,
                    "item-text": function(t) {
                        return t.name + " (" + t.path + ")"
                    },
                    "item-value": "path",
                    value: t.value,
                    clearable: t.clearable
                },
                on: {
                    input: function(e) {
                        return t.$emit("input", e)
                    }
                }
            })
        }
          , zf = []
          , Tf = {
            name: "zoezi-page-setting",
            props: ["value", "label", "clearable", "routeFilter", "props"],
            computed: {
                filteredRoutes() {
                    let t = this.$root.siteconfig.routes;
                    return this.routeFilter && (t = t.filter(t=>this.routeFilter(t, this.props))),
                    t
                },
                sortedRoutes() {
                    return this.filteredRoutes.map(t=>t.props).sort((t,e)=>t.name.localeCompare(e.name))
                }
            }
        }
          , If = Tf
          , Pf = Object(p["a"])(If, Df, zf, !1, null, null, null)
          , Vf = Pf.exports;
        g()(Pf, {
            VAutocomplete: ku["a"]
        });
        var Bf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "black--text"
            }, [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.label))]), t.hint ? i("div", {
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("v-list", {
                key: t.renderKey
            }, [i("draggable", {
                attrs: {
                    tag: "ContentsContainer"
                },
                on: {
                    change: function(e) {
                        t.$emit("input", t.productlist),
                        t.$emit("change")
                    }
                },
                model: {
                    value: t.productlist,
                    callback: function(e) {
                        t.productlist = e
                    },
                    expression: "productlist"
                }
            }, t._l(t.displaylist, (function(e, s) {
                return i("v-list-item", {
                    key: e.product_id + e.variant,
                    staticClass: "d-flex"
                }, [e.product ? i("v-avatar", {
                    staticClass: "mr-2",
                    attrs: {
                        size: "32"
                    }
                }, [i("v-auto-img", {
                    attrs: {
                        src: e.product.imagekey ? e.product.imagekey : void 0,
                        height: "32",
                        width: "32"
                    }
                })], 1) : t._e(), i("div", {
                    staticClass: "flex-grow-1"
                }, [1 != e.count ? i("span", [t._v(t._s(e.count) + " x ")]) : t._e(), t._v(t._s(e.product ? e.product.name : "Okänd produkt")), e.variant ? i("span", [t._v(", " + t._s(e.variant))]) : t._e(), e.price ? i("span", [t._v(", " + t._s(t._f("price")(e.price)))]) : t._e()]), i("v-btn", {
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(e) {
                            return t.removeItem(s)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)
            }
            )), 1)], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-text-field", {
                staticStyle: {
                    "max-width": "50px"
                },
                attrs: {
                    label: t.$translate("Quantity"),
                    type: "number",
                    disabled: t.payWhatYouWant,
                    min: "1",
                    rules: [t.countPositive]
                },
                model: {
                    value: t.newProduct.count,
                    callback: function(e) {
                        t.$set(t.newProduct, "count", t._n(e))
                    },
                    expression: "newProduct.count"
                }
            }), i("v-autocomplete", {
                staticClass: "flex-grow-1 mx-2",
                attrs: {
                    label: t.$translate("Product"),
                    items: t.products,
                    "item-text": "name",
                    "item-value": "id"
                },
                model: {
                    value: t.newProduct.product_id,
                    callback: function(e) {
                        t.$set(t.newProduct, "product_id", e)
                    },
                    expression: "newProduct.product_id"
                }
            }), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    small: "",
                    fab: "",
                    disabled: !t.newProductValid
                },
                on: {
                    click: function(e) {
                        return t.addItem()
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1), t.newProduct.product_id && t.getVariants(t.newProduct).length > 1 ? i("div", [i("v-autocomplete", {
                attrs: {
                    label: "Variant",
                    items: t.getVariants(t.newProduct),
                    "item-text": "name",
                    "item-value": "name"
                },
                model: {
                    value: t.newProduct.variant,
                    callback: function(e) {
                        t.$set(t.newProduct, "variant", e)
                    },
                    expression: "newProduct.variant"
                }
            })], 1) : t._e(), t.newProduct.product_id && t.products.find((function(e) {
                return e.id == t.newProduct.product_id
            }
            )).payWhatYouWant ? i("div", [i("v-text-field", {
                attrs: {
                    label: "Belopp",
                    type: "number",
                    rules: [t.amountPositive]
                },
                model: {
                    value: t.newProduct.price,
                    callback: function(e) {
                        t.$set(t.newProduct, "price", t._n(e))
                    },
                    expression: "newProduct.price"
                }
            })], 1) : t._e()], 1)
        }
          , Ff = []
          , Ef = {
            name: "ProductListSetting",
            props: ["value", "label", "hint"],
            components: {
                Draggable: bt.a
            },
            data: ()=>({
                renderKey: 0,
                productlist: [],
                products: [],
                newProduct: {
                    product_id: null,
                    count: 1,
                    variant: null,
                    price: null
                }
            }),
            watch: {
                payWhatYouWant(t) {
                    t && (this.newProduct.count = 1)
                }
            },
            computed: {
                displaylist() {
                    let t = function(t) {
                        for (var e in t = Object.assign({}, t),
                        t)
                            null !== t[e] && void 0 !== t[e] || delete t[e];
                        return t
                    };
                    return this.productlist.map(e=>({
                        product: this.products.find(t=>t.id == e.product_id),
                        ...t(e)
                    }))
                },
                newProductValid() {
                    let t = this.productlist.find(t=>t.product_id == this.newProduct.product_id && t.variant == this.newProduct.variant);
                    return this.newProduct.product_id && (this.newProduct.variant || this.getVariants(this.newProduct).length <= 1) && !t && this.newProduct.count > 0
                },
                payWhatYouWant() {
                    return this.newProduct.product_id && this.products.find(t=>t.id == this.newProduct.product_id).payWhatYouWant
                }
            },
            methods: {
                loadProducts() {
                    this.$api.get("/api/public/trainingcard/type/get", {
                        trial: !0
                    }).then(t=>this.products = t.filter(t=>"course" != t.type).sort((t,e)=>t.name.localeCompare(e.name)))
                },
                removeItem(t) {
                    this.productlist.splice(t, 1),
                    this.$emit("input", this.productlist),
                    this.$emit("change"),
                    ++this.renderKey
                },
                addItem() {
                    let t = Object.assign({}, this.newProduct);
                    this.productlist.splice(this.productlist.length, 0, t),
                    this.$emit("input", this.productlist),
                    this.$emit("change"),
                    ++this.renderKey,
                    Object.assign(this.newProduct, {
                        product_id: null,
                        count: 1,
                        variant: null,
                        price: null
                    })
                },
                getVariants(t) {
                    let e = this.products.find(e=>e.id == t.product_id);
                    return e.variants || []
                },
                amountPositive(t) {
                    return !!(t && Number(t) > 0) || this.$translate("Enter amount")
                },
                countPositive(t) {
                    return !!(t && Number(t) > 0) || this.$translate("Enter quantity")
                }
            },
            created() {
                this.productlist = this.value
            },
            mounted() {
                this.loadProducts()
            }
        }
          , Of = Ef
          , Mf = Object(p["a"])(Of, Bf, Ff, !1, null, null, null)
          , Af = Mf.exports;
        g()(Mf, {
            VAutocomplete: ku["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VTextField: z["a"]
        });
        var Rf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.hint ? i("div", {
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "pr-2",
                staticStyle: {
                    width: "30%"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.label,
                    type: "number",
                    step: "0.1",
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.size,
                    callback: function(e) {
                        t.size = e
                    },
                    expression: "size"
                }
            })], 1), i("div", {
                staticClass: "pl-2",
                staticStyle: {
                    width: "70%"
                }
            }, [i("v-select", {
                attrs: {
                    items: t.units,
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.unit,
                    callback: function(e) {
                        t.unit = e
                    },
                    expression: "unit"
                }
            })], 1)])])
        }
          , Lf = []
          , jf = {
            name: "CssSizeSetting",
            props: {
                value: {},
                label: {},
                allowNumber: {
                    type: Boolean
                },
                hint: {}
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        let e = this.units.map(t=>t.value).join("|")
                          , i = new RegExp(`^([0-9.]+)(${e})$`)
                          , s = t && t.match(i);
                        s ? (this.size = Number(s[1]),
                        this.unit = s[2]) : (this.size = null,
                        this.unit = "px")
                    }
                },
                emitValue(t) {
                    this.$emit("input", null === t || void 0 === t ? void 0 : t.replace(",", "."))
                }
            },
            computed: {
                emitValue() {
                    return this.size ? this.size + this.unit : null
                },
                units() {
                    return [{
                        value: "",
                        text: "Times text size"
                    }, {
                        value: "px",
                        text: "Pixels (px)"
                    }, {
                        value: "%",
                        text: "Percent (%)"
                    }, {
                        value: "rem",
                        text: "Font size relative (rem)"
                    }, {
                        value: "vw",
                        text: "Viewport width relative (vw)"
                    }, {
                        value: "vh",
                        text: "Viewport height relative (vh)"
                    }].filter(t=>this.allowNumber || "" !== t.value).map(t=>({
                        ...t,
                        text: this.$translate(t.text)
                    }))
                }
            },
            data: ()=>({
                size: null,
                unit: "px"
            })
        }
          , Nf = jf
          , Wf = Object(p["a"])(Nf, Rf, Lf, !1, null, null, null)
          , qf = Wf.exports;
        g()(Wf, {
            VSelect: Xi["a"],
            VTextField: z["a"]
        });
        var Hf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                staticClass: "mb-2",
                attrs: {
                    accordion: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                model: {
                    value: t.open,
                    callback: function(e) {
                        t.open = e
                    },
                    expression: "open"
                }
            }, [i("h4", {
                staticClass: "text--primary"
            }, [t._v(t._s(t.label))])]), i("v-expansion-panel-content", [i("p", {
                staticStyle: {
                    "line-height": "1"
                }
            }, [i("small", [t._v(t._s(t.$translate("Leave the fields empty to inherit from the common setting. The specified value is always inherited by larger units if no value is set.")))])]), i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticStyle: {
                    width: "17%",
                    margin: "0 1%"
                }
            }, [i("v-icon", [t._v("mdi-cellphone")]), i("br"), i("v-text-field", {
                attrs: {
                    label: t.$translate("Mobile"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: "1",
                    max: "12",
                    hint: "< 600px"
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.xs,
                    callback: function(e) {
                        t.xs = e
                    },
                    expression: "xs"
                }
            })], 1), i("div", {
                staticStyle: {
                    width: "18%",
                    margin: "0 1%"
                }
            }, [i("v-icon", [t._v("mdi-tablet-android")]), i("br"), i("v-text-field", {
                attrs: {
                    label: t.$translate("Tablet"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: "1",
                    max: "12",
                    hint: "600-960px"
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.sm,
                    callback: function(e) {
                        t.sm = e
                    },
                    expression: "sm"
                }
            })], 1), i("div", {
                staticStyle: {
                    width: "18%",
                    margin: "0 1%"
                }
            }, [i("v-icon", [t._v("mdi-laptop")]), i("br"), i("v-text-field", {
                attrs: {
                    label: t.$translate("Laptop"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: "1",
                    max: "12",
                    hint: "960-1280px"
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.md,
                    callback: function(e) {
                        t.md = e
                    },
                    expression: "md"
                }
            })], 1), i("div", {
                staticStyle: {
                    width: "20%",
                    margin: "0 1%"
                }
            }, [i("v-icon", [t._v("mdi-monitor")]), i("br"), i("v-text-field", {
                attrs: {
                    label: t.$translate("Computer"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: "1",
                    max: "12",
                    hint: "1280-1920px"
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.lg,
                    callback: function(e) {
                        t.lg = e
                    },
                    expression: "lg"
                }
            })], 1), i("div", {
                staticStyle: {
                    width: "17%",
                    margin: "0 1%"
                }
            }, [i("v-icon", [t._v("mdi-desktop-mac")]), i("v-text-field", {
                attrs: {
                    label: t.$translate("Wide"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: "1",
                    max: "12",
                    hint: "1920px >"
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.xl,
                    callback: function(e) {
                        t.xl = e
                    },
                    expression: "xl"
                }
            })], 1)])])], 1)], 1)
        }
          , Uf = []
          , Yf = {
            name: "BreakpointSetting",
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.xs = null === t || void 0 === t ? void 0 : t.xs,
                        this.sm = null === t || void 0 === t ? void 0 : t.sm,
                        this.md = null === t || void 0 === t ? void 0 : t.md,
                        this.lg = null === t || void 0 === t ? void 0 : t.lg,
                        this.xl = null === t || void 0 === t ? void 0 : t.xl
                    }
                }
            },
            props: ["value", "label"],
            data: ()=>({
                xs: null,
                sm: null,
                md: null,
                lg: null,
                xl: null,
                open: !1
            }),
            methods: {
                setValue() {
                    this.$emit("input", {
                        xs: this.xs,
                        sm: this.sm,
                        md: this.md,
                        lg: this.lg,
                        xl: this.xl
                    })
                }
            }
        }
          , Gf = Yf
          , Kf = Object(p["a"])(Gf, Hf, Uf, !1, null, null, null)
          , Qf = Kf.exports;
        g()(Kf, {
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VTextField: z["a"]
        });
        var Jf = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", [i("label", {
                staticClass: "v-label theme--light pr-4"
            }, [t._v(t._s(t.label))])]), t.hint ? i("div", {
                domProps: {
                    textContent: t._s(t.hint)
                }
            }) : t._e(), i("v-btn-toggle", {
                staticClass: "square-alignment",
                attrs: {
                    mandatory: t.mandatory,
                    color: "zoezi-edit-color"
                },
                on: {
                    change: function(e) {
                        return t.$emit("input", t.position)
                    }
                },
                model: {
                    value: t.position,
                    callback: function(e) {
                        t.position = e
                    },
                    expression: "position"
                }
            }, [i("v-btn", {
                attrs: {
                    value: "left top",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-top-left")])], 1), i("v-btn", {
                attrs: {
                    value: "center top",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-up")])], 1), i("v-btn", {
                attrs: {
                    value: "right top",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-top-right")])], 1), i("v-btn", {
                attrs: {
                    value: "left center",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-left")])], 1), i("v-btn", {
                attrs: {
                    value: "center center",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-image-filter-center-focus")])], 1), i("v-btn", {
                attrs: {
                    value: "right center",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-right")])], 1), i("v-btn", {
                attrs: {
                    value: "left bottom",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-bottom-left")])], 1), i("v-btn", {
                attrs: {
                    value: "center bottom",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-down")])], 1), i("v-btn", {
                attrs: {
                    value: "right bottom",
                    small: ""
                }
            }, [i("v-icon", [t._v("mdi-arrow-bottom-right")])], 1)], 1)], 1)
        }
          , Xf = []
          , Zf = {
            name: "BackgroundPositionSetting",
            props: ["value", "label", "mandatory", "hint"],
            data: ()=>({
                position: null
            }),
            created() {
                this.position = this.value
            }
        }
          , tb = Zf
          , eb = (i("b152"),
        Object(p["a"])(tb, Jf, Xf, !1, null, null, null))
          , ib = eb.exports;
        g()(eb, {
            VBtn: O["a"],
            VBtnToggle: np["a"],
            VIcon: y["a"]
        });
        var sb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$scopedSlots.activator ? t._t("activator", null, {
                show: t.doShowDialog
            }) : i("v-btn", {
                attrs: {
                    text: "",
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.showDialog = !0
                    }
                }
            }, [t._v(t._s(t.add ? t.$translate("Create new component") : t.$translate("Edit") + " " + (t.named ? t.name : t.label)))]), i("v-dialog", {
                attrs: {
                    persistent: t.changed,
                    "max-width": "80vw",
                    scrollable: "",
                    fullscreen: t.$store.state.codeMaximizeWindow
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                ref: "card",
                attrs: {
                    height: "80vh"
                }
            }, [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.add ? t.$translate("Create new component") : t.$translate("Edit") + " " + (t.named ? t.name : t.label)) + " "), i("div", {
                staticClass: "ml-auto"
            }, [i("v-btn", {
                staticClass: "zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.$store.commit("setCodeMaximizeWindow", !t.$store.state.codeMaximizeWindow),
                        t.refreshEditors()
                    }
                }
            }, [i("v-icon", [t._v(t._s(t.$store.state.codeMaximizeWindow ? "mdi-window-restore" : "mdi-window-maximize"))])], 1), t.changed ? t._e() : i("v-btn", {
                staticClass: "zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t.hint ? i("div", {
                staticClass: "mt-2"
            }, [t._v(" " + t._s(t.hint) + " ")]) : t._e(), t.named ? i("div", [i("v-row", [i("v-col", {
                attrs: {
                    cols: "2"
                }
            }, [i("icon-setting", {
                attrs: {
                    label: t.$translate("Icon"),
                    value: t.icon,
                    clearable: !1
                },
                on: {
                    input: function(e) {
                        t.icon = e
                    }
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: t.add ? 10 : 7
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Name"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.name,
                    callback: function(e) {
                        t.name = e
                    },
                    expression: "name"
                }
            })], 1), t.add ? t._e() : i("v-col", {
                attrs: {
                    cols: "2"
                }
            }, [t._v(" <" + t._s(t.id) + " /> ")]), t.add ? t._e() : i("v-col", {
                attrs: {
                    cols: "1"
                }
            }, [i("v-btn", {
                attrs: {
                    color: "error"
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1,
                        t.$emit("remove", t.emitValue)
                    }
                }
            }, [t._v(t._s(t.$translate("Remove")))])], 1)], 1)], 1) : t._e(), t.showCreateOwnComponentDialog ? i("v-dialog", {
                attrs: {
                    "max-width": "500px"
                },
                model: {
                    value: t.showCreateOwnComponentDialog,
                    callback: function(e) {
                        t.showCreateOwnComponentDialog = e
                    },
                    expression: "showCreateOwnComponentDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "zoezi-edit-color headline align-start flex-column pa-2"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Convert to reusable component")) + " "), i("v-btn", {
                staticClass: "float-right zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showCreateOwnComponentDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("div", {
                staticClass: "my-4"
            }, [t._v(" " + t._s(t.$translate('You can convert this component to a "Own component" so that it can be used in multiple places on the website.')) + " ")]), i("icon-setting", {
                attrs: {
                    label: t.$translate("Icon"),
                    value: t.icon,
                    clearable: !1
                },
                on: {
                    input: function(e) {
                        t.icon = e
                    }
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Name"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.name,
                    callback: function(e) {
                        t.name = e
                    },
                    expression: "name"
                }
            }), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.icon || !t.name
                },
                on: {
                    click: t.convertToOwnComponent
                }
            }, [t._v(t._s(t.$translate("Convert to reusable component")))])], 1)], 1)], 1) : t._e(), t.isDefault || t.add ? i("div", {
                staticClass: "d-flex"
            }, [t.useAi ? i("v-text-field", {
                staticClass: "fill-width flex-grow-1",
                attrs: {
                    label: "Beskriv vad du vill skapa",
                    color: "zoezi-edit-color",
                    loading: t.aiLoading,
                    disabled: t.aiLoading
                },
                on: {
                    keyup: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.createUsingAi.apply(null, arguments)
                    }
                },
                scopedSlots: t._u([{
                    key: "append",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                icon: "",
                                loading: t.aiLoading
                            },
                            on: {
                                click: t.createUsingAi
                            }
                        }, [i("v-icon", [t._v("mdi-send-circle-outline")])], 1)]
                    },
                    proxy: !0
                }], null, !1, 158219112),
                model: {
                    value: t.aIprompt,
                    callback: function(e) {
                        t.aIprompt = e
                    },
                    expression: "aIprompt"
                }
            }) : t._e(), i("v-spacer"), t.component ? i("div", {
                staticClass: "ml-2 mt-4"
            }, [i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    loading: t.suggestionLoading
                },
                on: {
                    click: t.getSuggestion
                }
            }, [t._v(t._s(t.$translate("Convert to reusable component")))])], 1) : t._e()], 1) : i("div", {
                staticClass: "d-flex"
            }, [t.useAi ? i("v-text-field", {
                staticClass: "fill-width flex-grow-1",
                attrs: {
                    label: "Beskriv vad du vill ändra",
                    color: "zoezi-edit-color",
                    loading: t.aiLoading,
                    disabled: t.aiLoading
                },
                on: {
                    keyup: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.changeUsingAi.apply(null, arguments)
                    }
                },
                scopedSlots: t._u([{
                    key: "append",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                icon: "",
                                loading: t.aiLoading
                            },
                            on: {
                                click: t.changeUsingAi
                            }
                        }, [i("v-icon", [t._v("mdi-send-circle-outline")])], 1)]
                    },
                    proxy: !0
                }], null, !1, 4194450698),
                model: {
                    value: t.aIprompt,
                    callback: function(e) {
                        t.aIprompt = e
                    },
                    expression: "aIprompt"
                }
            }) : t._e(), i("v-spacer"), t.component ? i("div", {
                staticClass: "ml-2 mt-4"
            }, [i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    loading: t.suggestionLoading
                },
                on: {
                    click: t.getSuggestion
                }
            }, [t._v(t._s(t.$translate("Convert to reusable component")))])], 1) : t._e()], 1), i("v-tabs", {
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.tabChange
                }
            }, [t.cssOnly ? t._e() : i("v-tab", [t._v(t._s(t.$translate("HTML")))]), t.htmlOnly || t.cssOnly ? t._e() : i("v-tab", [t._v(t._s(t.$translate("JavaScript")))]), t.htmlOnly ? t._e() : i("v-tab", [t._v(t._s(t.$translate("CSS")))]), t.cssOnly ? t._e() : i("v-tab-item", [i("codemirror", {
                key: "html" + t.showDiffEditor,
                ref: "html",
                staticClass: "zoezi-vue-code-setting-cm",
                style: {
                    height: t.editorHeight + "px"
                },
                attrs: {
                    merge: t.showDiffEditor,
                    options: t.cmOptionHtmlPlusMerge
                },
                on: {
                    input: function(e) {
                        return t.testCompileTemplate(e)
                    },
                    focus: function(e) {
                        t.testCompileTemplate(t.html),
                        t.refreshEditor(t.$refs.html)
                    },
                    keydown: function(e) {
                        return (e.type.indexOf("key") || 83 === e.keyCode) && e.ctrlKey ? (e.preventDefault(),
                        e.stopPropagation(),
                        t.save.apply(null, arguments)) : null
                    }
                },
                model: {
                    value: t.html,
                    callback: function(e) {
                        t.html = e
                    },
                    expression: "html"
                }
            }), i("div", {
                staticStyle: {
                    color: "red",
                    "white-space": "pre-line"
                },
                domProps: {
                    textContent: t._s(t.templateError)
                }
            })], 1), t.htmlOnly || t.cssOnly ? t._e() : i("v-tab-item", [i("codemirror", {
                key: "js" + t.showDiffEditor,
                ref: "js",
                staticClass: "zoezi-vue-code-setting-cm",
                style: {
                    height: t.editorHeight + "px"
                },
                attrs: {
                    merge: t.showDiffEditor,
                    options: t.cmOptionJsPlusMerge
                },
                on: {
                    focus: function(e) {
                        return t.refreshEditor(t.$refs.js)
                    },
                    keydown: function(e) {
                        return (e.type.indexOf("key") || 83 === e.keyCode) && e.ctrlKey ? (e.preventDefault(),
                        e.stopPropagation(),
                        t.save.apply(null, arguments)) : null
                    }
                },
                model: {
                    value: t.js,
                    callback: function(e) {
                        t.js = e
                    },
                    expression: "js"
                }
            })], 1), t.htmlOnly ? t._e() : i("v-tab-item", [i("codemirror", {
                key: "css" + t.showDiffEditor,
                ref: "css",
                staticClass: "zoezi-vue-code-setting-cm",
                style: {
                    height: t.editorHeight + "px"
                },
                attrs: {
                    merge: t.showDiffEditor,
                    options: t.cmOptionCssPlusMerge
                },
                on: {
                    focus: function(e) {
                        return t.refreshEditor(t.$refs.css)
                    },
                    keydown: function(e) {
                        return (e.type.indexOf("key") || 83 === e.keyCode) && e.ctrlKey ? (e.preventDefault(),
                        e.stopPropagation(),
                        t.save.apply(null, arguments)) : null
                    }
                },
                model: {
                    value: t.css,
                    callback: function(e) {
                        t.css = e
                    },
                    expression: "css"
                }
            })], 1)], 1)], 1), i("v-card-actions", [i("v-spacer"), i("v-checkbox", {
                staticClass: "mr-2",
                attrs: {
                    label: t.$translate("Show changes"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.showDiffEditor,
                    callback: function(e) {
                        t.showDiffEditor = e
                    },
                    expression: "showDiffEditor"
                }
            }), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.changed || !t.requiredValuesEntered
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))]), i("v-btn", {
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Close")))])], 1)], 1)], 1)], 2)
        }
          , ab = [];
        const ob = i("5ce8");
        var nb = {
            name: "zoezi-vue-code-setting",
            props: {
                value: {},
                label: {
                    type: String
                },
                open: {
                    type: Boolean
                },
                add: {
                    type: Boolean
                },
                named: {
                    type: Boolean
                },
                htmlOnly: {
                    type: Boolean,
                    default: !1
                },
                cssOnly: {
                    type: Boolean,
                    default: !1
                },
                hint: {},
                requireSingleTag: {
                    type: Boolean,
                    default: !0
                },
                component: {}
            },
            components: {
                IconSetting: _f
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.setValue(t)
                    }
                },
                showDialog(t) {
                    t ? (this.aIprompt = "",
                    this.showDiffEditor = !1,
                    this.templateError = "",
                    this.setValue(this.value),
                    this.refreshEditors(),
                    this.$emit("open"),
                    this.enableCtrlS()) : this.disableCtrlS()
                },
                open: {
                    immediate: !0,
                    handler(t) {
                        t && (this.showDialog = !0)
                    }
                },
                js: {
                    immediate: !0,
                    handler(t) {
                        var e;
                        void 0 == t && (this.js = (null === (e = this.value) || void 0 === e ? void 0 : e.js) || "")
                    }
                },
                html: {
                    immediate: !0,
                    handler(t) {
                        var e;
                        void 0 == t && (this.html = (null === (e = this.value) || void 0 === e ? void 0 : e.html) || "")
                    }
                },
                css: {
                    immediate: !0,
                    handler(t) {
                        var e;
                        void 0 == t && (this.css = (null === (e = this.value) || void 0 === e ? void 0 : e.css) || "")
                    }
                }
            },
            computed: {
                emitValue() {
                    let t = {
                        html: this.html,
                        js: this.js,
                        css: this.css
                    };
                    return this.named && (t.name = this.name,
                    t.id = this.id,
                    t.icon = this.icon),
                    this.htmlOnly && (t = this.html),
                    this.cssOnly && (t = this.css),
                    t
                },
                changed() {
                    var t, e, i, s, a;
                    return this.htmlOnly ? this.value != this.html : this.cssOnly ? this.value != this.css : (null === (t = this.value) || void 0 === t ? void 0 : t.html) != this.html || (null === (e = this.value) || void 0 === e ? void 0 : e.js) != this.js || (null === (i = this.value) || void 0 === i ? void 0 : i.css) != this.css || this.named && ((null === (s = this.value) || void 0 === s ? void 0 : s.name) != this.name || (null === (a = this.value) || void 0 === a ? void 0 : a.icon) != this.icon)
                },
                isDefault() {
                    return JSON.stringify(ve.props.vue.default()) == JSON.stringify(this.value)
                },
                requiredValuesEntered() {
                    var t, e, i;
                    return !this.named || (null === (t = this.name) || void 0 === t ? void 0 : t.length) && (null === (e = this.id) || void 0 === e ? void 0 : e.length) && (null === (i = this.icon) || void 0 === i ? void 0 : i.length)
                },
                cmOptionHtmlPlusMerge() {
                    if (this.showDiffEditor) {
                        var t;
                        const e = {
                            value: this.html,
                            origLeft: null,
                            orig: null === (t = this.value) || void 0 === t ? void 0 : t.html,
                            connect: "align"
                        };
                        return {
                            ...this.cmOptionHtml,
                            ...e
                        }
                    }
                    return this.cmOptionHtml
                },
                cmOptionJsPlusMerge() {
                    if (this.showDiffEditor) {
                        var t;
                        const e = {
                            value: this.js,
                            origLeft: null,
                            orig: null === (t = this.value) || void 0 === t ? void 0 : t.js,
                            connect: "align"
                        };
                        return {
                            ...this.cmOptionJs,
                            ...e
                        }
                    }
                    return this.cmOptionJs
                },
                cmOptionCssPlusMerge() {
                    if (this.showDiffEditor) {
                        var t;
                        const e = {
                            value: this.css,
                            origLeft: null,
                            orig: null === (t = this.value) || void 0 === t ? void 0 : t.css,
                            connect: "align"
                        };
                        return {
                            ...this.cmOptionCss,
                            ...e
                        }
                    }
                    return this.cmOptionCss
                }
            },
            data: ()=>({
                showDialog: !1,
                name: "",
                id: "",
                html: "",
                js: "",
                css: "",
                icon: "",
                templateError: "",
                aIprompt: "",
                aiLoading: !1,
                suggestionLoading: !1,
                cmOptionHtml: {
                    tabSize: 4,
                    indentUnit: 4,
                    matchBrackets: !0,
                    mode: "text/html",
                    readOnly: !1,
                    lineNumbers: !0,
                    lineWrapping: !0,
                    foldGutter: !0,
                    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
                },
                cmOptionJs: {
                    tabSize: 4,
                    indentUnit: 4,
                    matchBrackets: !0,
                    mode: "text/javascript",
                    readOnly: !1,
                    lineNumbers: !0,
                    lineWrapping: !0,
                    foldGutter: !0,
                    lint: {
                        esversion: 11,
                        asi: !0
                    },
                    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter", "CodeMirror-lint-markers"]
                },
                cmOptionCss: {
                    tabSize: 4,
                    indentUnit: 4,
                    matchBrackets: !0,
                    mode: "text/css",
                    readOnly: !1,
                    lineNumbers: !0,
                    lineWrapping: !0,
                    foldGutter: !0,
                    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
                },
                showDiffEditor: !1,
                showCreateOwnComponentDialog: !1,
                editorHeight: 300,
                useAi: !1
            }),
            methods: {
                save() {
                    this.changed && this.requiredValuesEntered && this.$emit("input", this.emitValue)
                },
                testCompileTemplate(t) {
                    if (this.cssOnly)
                        return void (this.templateError = null);
                    let e = ob.compile(t)
                      , i = e.errors;
                    i && !this.requireSingleTag && (i = i.filter(t=>"Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead." != t)),
                    i && i.length ? this.templateError = i.join("\n") : this.templateError = null
                },
                refreshEditors() {
                    setTimeout(()=>{
                        this.refreshEditor(this.$refs.js),
                        this.refreshEditor(this.$refs.html),
                        this.refreshEditor(this.$refs.css)
                    }
                    , 500)
                },
                refreshEditor(t) {
                    var e, i;
                    if (null !== (e = this.$refs) && void 0 !== e && null !== (i = e.card) && void 0 !== i && i.$el) {
                        const t = this.$refs.card.$el.getBoundingClientRect();
                        this.editorHeight = t.height - 290
                    }
                    t && t.codemirror && t.codemirror.refresh && t.codemirror.refresh()
                },
                doShowDialog() {
                    this.showDialog = !0
                },
                enableCtrlS() {
                    document.addEventListener("keydown", this.ctrlSSave)
                },
                disableCtrlS() {
                    document.removeEventListener("keydown", this.ctrlSSave)
                },
                beforeDestroy() {
                    this.disableCtrlS()
                },
                ctrlSSave(t) {
                    83 === t.keyCode && t.ctrlKey && (t.preventDefault(),
                    this.save())
                },
                setValue(t) {
                    t ? (this.name = this.named ? t.name : "",
                    this.id = this.named ? t.id : "",
                    this.icon = this.named ? t.icon : "",
                    this.htmlOnly ? (this.js = "",
                    this.html = t || "",
                    this.css = "") : this.cssOnly ? (this.js = "",
                    this.html = "",
                    this.css = t || "") : (this.js = t.js || "",
                    this.html = t.html || "",
                    this.css = t.css || "")) : (this.name = "",
                    this.id = "",
                    this.icon = "",
                    this.js = "",
                    this.html = "",
                    this.css = ""),
                    this.js.startsWith("export default ") || (this.js = "export default " + this.js.trimStart()),
                    this.add && !this.icon && (this.icon = "mdi-new-box"),
                    this.named && !this.id && (this.id = "zoezi-" + Object(o["p"])(16)),
                    this.refreshEditors()
                },
                createUsingAi() {
                    this.aiLoading = !0,
                    this.$api.post("/api/homepage/component/ai/create", {
                        prompt: this.aIprompt
                    }).then(t=>{
                        this.aiLoading = !1,
                        t.json().then(t=>{
                            this.html = t.html,
                            this.js = t.js,
                            this.css = t.css,
                            this.aIprompt = "",
                            this.$store.commit("showErrorDialog", {
                                title: "Komponent skapad",
                                text: t.info,
                                color: "zoezi-edit-color"
                            }),
                            this.refreshEditors()
                        }
                        )
                    }
                    )
                },
                changeUsingAi() {
                    this.aiLoading = !0,
                    this.$api.post("/api/homepage/component/ai/change", {
                        prompt: this.aIprompt,
                        component: {
                            html: this.html,
                            js: this.js,
                            css: this.css
                        }
                    }).then(t=>{
                        this.aiLoading = !1,
                        t.json().then(t=>{
                            this.html = t.html,
                            this.js = t.js,
                            this.css = t.css,
                            this.aIprompt = "",
                            this.$store.commit("showErrorDialog", {
                                title: "Ändring genomförd",
                                text: t.info,
                                color: "zoezi-edit-color"
                            }),
                            this.refreshEditors()
                        }
                        )
                    }
                    )
                },
                convertToOwnComponent() {
                    const t = {
                        html: this.html,
                        js: this.js,
                        css: this.css,
                        id: "zoezi-" + Object(o["p"])(16),
                        name: this.name,
                        icon: this.icon
                    };
                    this.showCreateOwnComponentDialog = !1,
                    this.$root.siteconfig.ownComponents || s["default"].set(this.$root.siteconfig, "ownComponents", {});
                    let e = this.component;
                    while (e && "ComponentWrapper" != e.$options.name)
                        e = e.$parent;
                    e.config.props = {},
                    e.config.component = t.id,
                    this.$root.siteconfig.ownComponents[t.id] = t,
                    this.$root.saveHomePage(),
                    Yx.updateOwnComponents(this.$root.siteconfig),
                    Yx.updateAllLiveComponents(t.id)
                },
                getSuggestion() {
                    this.suggestionLoading = !0;
                    const t = (t,e)=>{
                        this.name = t,
                        this.icon = e,
                        this.showCreateOwnComponentDialog = !0,
                        this.suggestionLoading = !1
                    }
                    ;
                    this.useAi ? this.$api.post("/api/homepage/component/ai/suggest_name", {
                        component: {
                            html: this.html,
                            js: this.js,
                            css: this.css
                        }
                    }).then(e=>{
                        e.ok ? e.json().then(e=>{
                            t(e.name, e.icon)
                        }
                        ) : t("", null)
                    }
                    ) : t("", null)
                },
                tabChange() {
                    this.refreshEditors()
                }
            }
        }
          , rb = nb
          , lb = Object(p["a"])(rb, sb, ab, !1, null, null, null)
          , cb = lb.exports;
        g()(lb, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCheckbox: b["a"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"],
            VTextField: z["a"]
        });
        var db = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.headers ? i("div", {
                staticClass: "d-flex black--text justify-space-between"
            }, t._l(t.headers, (function(e) {
                return i("div", {
                    key: e
                }, [t._v(" " + t._s(t.$translate(e)) + " ")])
            }
            )), 0) : t._e(), i("div", {
                staticClass: "d-flex"
            }, [i("v-checkbox", {
                staticClass: "flex-grow-1",
                attrs: {
                    label: t.label,
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.emitValue
                },
                model: {
                    value: t.setting.check,
                    callback: function(e) {
                        t.$set(t.setting, "check", e)
                    },
                    expression: "setting.check"
                }
            }), i("v-switch", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.setting.check
                },
                on: {
                    change: t.emitValue
                },
                model: {
                    value: t.setting.toggle,
                    callback: function(e) {
                        t.$set(t.setting, "toggle", e)
                    },
                    expression: "setting.toggle"
                }
            })], 1)])
        }
          , ub = []
          , hb = {
            name: "zoezi-check-toggle-setting",
            props: ["value", "label", "headers"],
            data: ()=>({
                setting: null
            }),
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.setting = {
                            check: t && t.check,
                            toggle: t && t.toggle
                        }
                    }
                }
            },
            methods: {
                emitValue() {
                    this.$emit("input", this.setting)
                }
            }
        }
          , mb = hb
          , pb = Object(p["a"])(mb, db, ub, !1, null, null, null)
          , vb = pb.exports;
        g()(pb, {
            VCheckbox: b["a"],
            VSwitch: ce["a"]
        });
        var gb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.open;
                        return [i("div", {
                            staticClass: "v-label theme--light mb-2"
                        }, [i("label", {
                            class: {
                                "primary--text": s
                            }
                        }, [t._v(t._s(t.label) + " (" + t._s(t.params.length) + " " + t._s(t.$translate("pcs")) + ")")])])]
                    }
                }])
            }), i("v-expansion-panel-content", [t._l(t.params, (function(e, s) {
                return i("div", {
                    key: s,
                    staticClass: "d-flex"
                }, [i("v-row", {
                    attrs: {
                        dense: ""
                    }
                }, [i("v-col", {
                    attrs: {
                        cols: "5"
                    }
                }, [i("v-text-field", {
                    attrs: {
                        label: t.$translate("Parameter")
                    },
                    on: {
                        input: t.emitValue
                    },
                    model: {
                        value: e.id,
                        callback: function(i) {
                            t.$set(e, "id", i)
                        },
                        expression: "param.id"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "5"
                    }
                }, [i("v-select", {
                    attrs: {
                        label: t.$translate("Setting"),
                        items: t.props,
                        "item-value": "name",
                        "item-text": function(e) {
                            return t.$translate(e.title)
                        }
                    },
                    on: {
                        input: t.emitValue
                    },
                    model: {
                        value: e.prop,
                        callback: function(i) {
                            t.$set(e, "prop", i)
                        },
                        expression: "param.prop"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }, [i("v-btn", {
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(i) {
                            return t.remove(e)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)], 1)], 1)
            }
            )), i("div", {
                staticClass: "d-flex"
            }, [i("v-row", {
                attrs: {
                    dense: ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "5"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Parameter")
                },
                model: {
                    value: t.newParam.id,
                    callback: function(e) {
                        t.$set(t.newParam, "id", e)
                    },
                    expression: "newParam.id"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "5"
                }
            }, [i("v-select", {
                attrs: {
                    label: t.$translate("Setting"),
                    items: t.propsExceptUsed,
                    "item-value": "name",
                    "item-text": function(e) {
                        return t.$translate(e.title)
                    }
                },
                model: {
                    value: t.newParam.prop,
                    callback: function(e) {
                        t.$set(t.newParam, "prop", e)
                    },
                    expression: "newParam.prop"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "2"
                }
            }, [i("v-btn", {
                attrs: {
                    disabled: !t.newParam.id || !t.newParam.prop,
                    color: "success",
                    fab: "",
                    small: ""
                },
                on: {
                    click: t.add
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1)], 1)], 1)], 2)], 1)], 1)
        }
          , fb = []
          , bb = {
            name: "zoezi-page-params-setting",
            props: ["label", "value", "props"],
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.params = (t || []).concat()
                    }
                }
            },
            computed: {
                propsExceptUsed() {
                    return this.props.filter(t=>!this.params.find(e=>e.prop == t.name))
                }
            },
            data: ()=>({
                params: [],
                newParam: {
                    id: "",
                    prop: null
                }
            }),
            methods: {
                emitValue() {
                    this.$emit("input", this.params.map(t=>({
                        id: t.id,
                        prop: t.prop
                    })))
                },
                add() {
                    this.params.push({
                        id: this.newParam.id,
                        prop: this.newParam.prop
                    }),
                    this.newParam.id = "",
                    this.newParam.prop = null,
                    this.emitValue()
                },
                remove(t) {
                    let e = this.params.indexOf(t);
                    this.params.splice(e, 1),
                    this.emitValue()
                }
            }
        }
          , yb = bb
          , _b = Object(p["a"])(yb, gb, fb, !1, null, null, null)
          , kb = _b.exports;
        g()(_b, {
            VBtn: O["a"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSelect: Xi["a"],
            VTextField: z["a"]
        });
        var wb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-autocomplete", {
                staticClass: "zoezi-edit-font",
                attrs: {
                    items: t.$store.state.fonts || [],
                    label: t.label,
                    color: "zoezi-edit-color",
                    "item-color": "zoezi-edit-color",
                    hint: t.hint,
                    clearable: ""
                },
                on: {
                    input: function(e) {
                        return t.$emit("input", t.font)
                    }
                },
                model: {
                    value: t.font,
                    callback: function(e) {
                        t.font = e
                    },
                    expression: "font"
                }
            })
        }
          , Cb = []
          , xb = {
            name: "zoezi-font-setting",
            props: ["value", "label", "hint"],
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.font = t
                    }
                }
            },
            data: ()=>({
                font: null
            }),
            mounted() {
                this.$store.state.fonts || this.$api.get("/api/homepage/fonts/get").then(t=>this.$store.commit("setFonts", t))
            }
        }
          , $b = xb
          , Sb = Object(p["a"])($b, wb, Cb, !1, null, null, null)
          , Db = Sb.exports;
        g()(Sb, {
            VAutocomplete: ku["a"]
        });
        var zb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.open;
                        return [i("v-row", [i("v-col", [i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticClass: "v-label theme--light mb-2"
                        }, [i("label", {
                            class: {
                                "primary--text": s
                            }
                        }, [t._v(t._s(t.label))])])], 1), i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [s ? i("v-col", [t._v(" " + t._s(t.$translate(t.hint || "Set basic colors")) + " ")]) : i("v-col", t._l(["primary", "secondary", "accent", "warning", "info", "error", "success", "primarytext", "zoezi-edit-color"], (function(e) {
                            return i("v-avatar", {
                                key: e,
                                staticClass: "mr-2",
                                attrs: {
                                    size: "30",
                                    color: t.color[e]
                                }
                            })
                        }
                        )), 1)], 1)], 1)], 1)]
                    }
                }])
            }), i("v-expansion-panel-content", [t._l(["primary", "secondary", "accent", "warning", "info", "error", "success", "primarytext", "zoezi-edit-color"], (function(e) {
                return i("v-avatar", {
                    key: e,
                    staticClass: "z-clickable mr-2",
                    style: {
                        border: t.selectedColor == e ? "2px solid black !important" : "2px solid #DDD !important"
                    },
                    attrs: {
                        size: "30",
                        color: t.color[e]
                    },
                    on: {
                        click: function(i) {
                            t.selectedColor = e
                        }
                    }
                })
            }
            )), i("div", {
                staticClass: "title",
                domProps: {
                    textContent: t._s(t.selectedColorTitle)
                }
            }), i("v-color-picker", {
                attrs: {
                    value: t.color[t.selectedColor]
                },
                on: {
                    "update:color": function(e) {
                        return t.setValue(e)
                    }
                }
            }), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        return e.preventDefault(),
                        t.clear()
                    }
                }
            }, [t._v(t._s(t.$translate("Reset colors")))])], 2)], 1)], 1)
        }
          , Tb = []
          , Ib = {
            name: "ColorThemeSettings",
            props: ["value", "label", "hint"],
            data: ()=>({
                selectedColor: "primary",
                color: {}
            }),
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.color = Object.assign({}, t)
                    }
                }
            },
            computed: {
                selectedColorTitle() {
                    const t = {
                        primary: "Primary color",
                        secondary: "Secondary color",
                        accent: "Accent color",
                        warning: "Warning color",
                        info: "Information color",
                        success: "Success color",
                        error: "Wrong color",
                        primarytext: "Color of text written on primary color",
                        "zoezi-edit-color": "Color homepage editor"
                    };
                    return this.$translate(t[this.selectedColor])
                }
            },
            methods: {
                setValue(t) {
                    this.color[this.selectedColor] = t.hex,
                    this.$emit("input", this.color)
                },
                clear() {
                    this.color = Object.assign({}, this.$vuetify.theme.defaults.light),
                    this.color["primarytext"] = "#ffffff",
                    this.$emit("input", this.color)
                }
            }
        }
          , Pb = Ib
          , Vb = i("03a4")
          , Bb = Object(p["a"])(Pb, zb, Tb, !1, null, null, null)
          , Fb = Bb.exports;
        g()(Bb, {
            VAvatar: f["a"],
            VBtn: O["a"],
            VCol: M["a"],
            VColorPicker: Vb["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VRow: A["a"]
        });
        var Eb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-card", {
                staticClass: "my-3 pl-2 pr-2"
            }, [i("v-text-field", {
                attrs: {
                    label: t.label,
                    "hide-details": ""
                },
                on: {
                    keyup: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.addItem.apply(null, arguments)
                    }
                },
                model: {
                    value: t.inputValue,
                    callback: function(e) {
                        t.inputValue = e
                    },
                    expression: "inputValue"
                }
            }), i("v-divider"), i("v-container", [i("v-row", t._l(t.localItems, (function(e, s) {
                return i("v-col", {
                    key: s,
                    attrs: {
                        cols: "auto"
                    }
                }, [i("v-chip", {
                    attrs: {
                        close: ""
                    },
                    on: {
                        "click:close": function(e) {
                            return t.removeItem(s)
                        }
                    }
                }, [t._v(t._s(e))])], 1)
            }
            )), 1)], 1)], 1)], 1)
        }
          , Ob = []
          , Mb = {
            name: "zoezi-item-list-setting",
            props: ["label", "value"],
            data: ()=>({
                inputValue: "",
                localItems: []
            }),
            computed: {
                items: {
                    get() {
                        return this.localItems
                    },
                    set(t) {
                        this.localItems = t,
                        this.$emit("input", this.localItems)
                    }
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.localItems = t || []
                    }
                }
            },
            methods: {
                addItem() {
                    this.inputValue.trim() && (this.localItems.push(this.inputValue.trim()),
                    this.inputValue = "",
                    this.$emit("input", this.localItems))
                },
                removeItem(t) {
                    this.localItems.splice(t, 1),
                    this.$emit("input", this.localItems)
                }
            }
        }
          , Ab = Mb
          , Rb = (i("029b"),
        Object(p["a"])(Ab, Eb, Ob, !1, null, null, null))
          , Lb = Rb.exports;
        g()(Rb, {
            VCard: x["a"],
            VChip: st["a"],
            VCol: M["a"],
            VContainer: Su["a"],
            VDivider: $["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var jb = {
            name: "ComponentSetting",
            props: ["value", "prop", "config"],
            components: {
                ColorSetting: Pg["a"],
                ImageSetting: Mg,
                AlignmentSetting: Wg,
                VideoSetting: Kg,
                ComponentListSetting: ef,
                NameListSetting: lf,
                SelectSetting: pf,
                IconSetting: _f,
                LinkSetting: Sf,
                PageSetting: Vf,
                ProductListSetting: Af,
                CssSizeSetting: qf,
                BreakpointSetting: Qf,
                BackgroundPositionSetting: ib,
                VueCodeSetting: cb,
                CheckToggleSetting: vb,
                PageParamsSetting: kb,
                FontSetting: Db,
                ColorThemeSettings: Fb,
                Editor: gu,
                ItemListSetting: Lb
            },
            computed: {
                component() {
                    return this.$store.state.editComponent
                },
                pageProp() {
                    var t, e, i;
                    return null === (t = this.config) || void 0 === t || null === (e = t.style) || void 0 === e || null === (i = e.pageParams) || void 0 === i ? void 0 : i.find(t=>t.prop == this.prop.name)
                },
                hint() {
                    var t;
                    return null === (t = this.prop.typeinfo) || void 0 === t ? void 0 : t.hint
                },
                translatedTitle() {
                    return this.$translate(this.prop.title)
                },
                translatedPlaceholder() {
                    var t;
                    return null !== (t = this.prop.typeinfo) && void 0 !== t && t.placeholder ? this.$translate(this.prop.typeinfo.placeholder) : null
                },
                translatedHint() {
                    var t;
                    return null !== (t = this.prop.typeinfo) && void 0 !== t && t.hint ? this.$translate(this.prop.typeinfo.hint) : null
                }
            },
            data: ()=>({
                cmOptionJs: {
                    tabSize: 2,
                    indentUnit: 2,
                    matchBrackets: !0,
                    mode: "text/javascript",
                    readOnly: !1
                },
                dateMenu: null
            }),
            methods: {
                inputChanged(t) {
                    this.$emit("input", t)
                },
                dateChanged(t) {
                    this.dateMenu = !1,
                    this.$emit("input", t)
                },
                getFlag(t) {
                    return `${location.protocol}//${this.$root.siteconfig.hostname}/assets/img/flags/${t}.png`
                },
                componentInfo(t) {
                    return Yx.getComponent(t)
                },
                setSelectedEditComponentFromConfig(t) {
                    this.$store.dispatch("setEditComponentConfig", {
                        config: t,
                        parentComponent: this.$store.state.editComponent
                    })
                },
                makeEmptyConfig() {
                    return Yx.makeEmptyConfig()
                },
                isValidPath(t) {
                    return !!Object(o["x"])(t) || "Felaktiga tecken i sökvägen"
                },
                pathChanged(t) {
                    Object(o["x"])(t) && this.inputChanged(t)
                },
                getComponents() {
                    return Yx.getComponents().map(t=>({
                        text: t.zoezi.title,
                        value: t.name
                    }))
                }
            }
        }
          , Nb = jb
          , Wb = i("5963")
          , qb = i("ba0d")
          , Hb = Object(p["a"])(Nb, Tg, Ig, !1, null, null, null)
          , Ub = Hb.exports;
        g()(Hb, {
            VAlert: He["a"],
            VBtn: O["a"],
            VDatePicker: de["a"],
            VIcon: y["a"],
            VMenu: D["a"],
            VRangeSlider: Wb["a"],
            VSlider: qb["a"],
            VSwitch: ce["a"],
            VTextField: z["a"],
            VTextarea: un["a"]
        });
        var Yb = {
            name: "zoezi-template-settings",
            zoezi: {
                icon: "mdi-cogs",
                title: "Settings homepage"
            },
            components: {
                ComponentSetting: Ub
            },
            data: ()=>({
                homepage_id: null,
                settings: [],
                unchangedSettings: [],
                saving: !1,
                expanded: []
            }),
            computed: {
                changed() {
                    let t = [];
                    return this.settings.forEach(e=>{
                        let i = this.unchangedSettings.find(t=>t.config.id == e.config.id);
                        e.props.forEach(s=>{
                            let o = i.props.find(t=>t.name == s.name);
                            Object(a["isEqual"])(o.value, s.value) || t.push({
                                setting: e,
                                prop: s
                            })
                        }
                        )
                    }
                    ),
                    t
                },
                topLevelSettings() {
                    return this.settings.filter(t=>!t.parent && "zoezi-root" != t.component)
                },
                rootSetting() {
                    let t = this.settings.filter(t=>!t.parent && "zoezi-root" == t.component);
                    return 1 == t.length ? t[0] : null
                }
            },
            methods: {
                getComponentsWithTemplateSettings(t) {
                    let e = []
                      , i = function(t, s) {
                        if ("object" !== typeof t || !t)
                            return;
                        let o = null;
                        if (t.component && "string" === typeof t.component && t.templateSettings) {
                            let e = Yx.getComponent(t.component);
                            if (e) {
                                let i = Yx.getComponentProps(t.component);
                                o = {
                                    component: t.component,
                                    c: e,
                                    props: t.templateSettings.props.map(e=>{
                                        let s = i.find(t=>t.name == e.id);
                                        return s = Object(a["cloneDeep"])(s),
                                        s.title = e.title,
                                        s.value = t.props[e.id],
                                        e.hint && (s.typeinfo || (s.typeinfo = {}),
                                        s.typeinfo.hint = e.hint),
                                        "html" == s.type && (s.typeinfo || (s.typeinfo = {}),
                                        s.typeinfo.inline = !0),
                                        s
                                    }
                                    ),
                                    config: t,
                                    parent: s,
                                    level: s ? s.level + 1 : 0,
                                    children: [],
                                    expanded: []
                                }
                            }
                        }
                        if (o && (e.push(o),
                        s)) {
                            while (s.level >= 1)
                                s = s.parent;
                            s.children.push(o)
                        }
                        let n = Array.isArray(t) ? t : Object.values(t);
                        n.forEach(t=>i(t, o || s))
                    };
                    return i(t, null),
                    e
                },
                getAllSettings(t) {
                    this.$api.get("/api/homepage/active", {
                        path: "/"
                    }).then(e=>{
                        this.homepage_id = e.id,
                        Yx.updateOwnComponents(e.config),
                        this.settings = this.getComponentsWithTemplateSettings(e.config),
                        this.expanded = [],
                        this.unchangedSettings = Object(a["cloneDeep"])(this.settings),
                        t && e.config.root && this.$root.setThemeColors(e.config.root.props.colors)
                    }
                    )
                },
                save() {
                    let t = this.changed.map(t=>({
                        id: t.setting.config.id,
                        prop: t.prop.name,
                        value: t.prop.value
                    }))
                      , e = !this.$root.edit && this.changed.find(t=>"zoezi-root" == t.setting.component && "colors" == t.prop.name);
                    this.saving = !0,
                    this.$api.post("/api/homepage/templatesettings/change", t, {
                        homepage_id: this.homepage_id
                    }).then(()=>{
                        this.saving = !1,
                        this.getAllSettings(e)
                    }
                    )
                },
                showPage() {
                    var t;
                    null === (t = window.open("/", "_blank")) || void 0 === t || t.focus()
                }
            },
            mounted() {
                this.getAllSettings(!0),
                this.$root.showMyBookings = !1
            }
        }
          , Gb = Yb
          , Kb = Object(p["a"])(Gb, Dg, zg, !1, null, null, null)
          , Qb = Kb.exports;
        g()(Kb, {
            VBtn: O["a"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"]
        });
        var Jb = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                class: t.$root.edit ? "editing" : ""
            }, [t.$root.edit && !t.$store.state.editMenu ? i("v-card", {
                attrs: {
                    width: "100%",
                    flat: "",
                    tile: ""
                },
                on: {
                    click: t.setEditComponent
                }
            }, [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [i("div", {
                staticClass: "d-flex align-center justify-center fill-width"
            }, [t._v(" " + t._s(t.$translate("Page")) + " " + t._s(t.name) + " "), i("v-spacer"), t.useAi ? i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.aiPrompt = "",
                        t.aiDialog = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-auto-fix")])], 1) : t._e(), t.aiDialog ? i("v-dialog", {
                attrs: {
                    "max-width": "600px"
                },
                model: {
                    value: t.aiDialog,
                    callback: function(e) {
                        t.aiDialog = e
                    },
                    expression: "aiDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "zoezi-edit-color headline align-start flex-column pa-2"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" Ändra sidan med hjälp av AI "), i("v-btn", {
                staticClass: "float-right zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.aiDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-text-field", {
                attrs: {
                    autofocus: "",
                    label: "Beskriv vad du vill ändra",
                    color: "zoezi-edit-color",
                    loading: t.aiLoading,
                    disabled: t.aiLoading
                },
                on: {
                    keyup: function(e) {
                        return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.changeUsingAi.apply(null, arguments)
                    }
                },
                scopedSlots: t._u([{
                    key: "append",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                icon: "",
                                loading: t.aiLoading
                            },
                            on: {
                                click: t.changeUsingAi
                            }
                        }, [i("v-icon", [t._v("mdi-send-circle-outline")])], 1)]
                    },
                    proxy: !0
                }], null, !1, 4194450698),
                model: {
                    value: t.aiPrompt,
                    callback: function(e) {
                        t.aiPrompt = e
                    },
                    expression: "aiPrompt"
                }
            })], 1)], 1)], 1) : t._e()], 1)])], 1) : t._e(), i("component-wrapper", {
                key: t.renderKey,
                ref: "component",
                attrs: {
                    config: t.config,
                    ripple: !1
                }
            })], 1)
        }
          , Xb = []
          , Zb = {
            name: "zoezi-page",
            zoezi: {
                title: "Page",
                icon: "mdi-book-open-variant",
                internal: !0
            },
            props: {
                config: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>Yx.makeEmptyConfig({
                        component: "zoezi-rowlayout"
                    })
                },
                name: {
                    title: "Page name",
                    type: String
                },
                path: {
                    title: "Link",
                    type: String,
                    fulltype: "path"
                },
                redirect: {
                    title: "Redirection",
                    type: String,
                    fulltype: "page",
                    typeinfo: {
                        routeFilter: (t,e)=>!t.props.redirect && t.props.path != e.path
                    }
                },
                description: {
                    title: "Description",
                    type: String,
                    fulltype: "textarea"
                },
                showInGoogle: {
                    title: "Show on Google",
                    type: Number,
                    fulltype: "number-slider",
                    typeinfo: {
                        min: 0,
                        max: 100,
                        step: 5
                    }
                }
            },
            data: ()=>({
                renderKey: 0,
                showDrawer: !0,
                aiPrompt: "",
                aiDialog: !1,
                aiLoading: !1,
                useAi: !1
            }),
            methods: {
                setEditComponent() {
                    this.$store.commit("setEditComponent", this)
                },
                getDocForComponents() {
                    let t = {
                        components: []
                    };
                    const e = window.$vue.$root.components.getAllComponents();
                    for (let s = 0; s < e.length; s++) {
                        var i;
                        const a = e[s];
                        t.components.push({
                            name: a.name,
                            title: null === a || void 0 === a || null === (i = a.zoezi) || void 0 === i ? void 0 : i.title,
                            props: null === a || void 0 === a ? void 0 : a.props
                        })
                    }
                    return t
                },
                save() {
                    this.$refs.component.save()
                },
                changeUsingAi() {
                    this.aiLoading = !0,
                    this.$api.post("/api/homepage/page/ai/change", {
                        doc: this.getDocForComponents(),
                        page: this.config,
                        prompt: this.aiPrompt
                    }).then(t=>{
                        this.aiLoading = !1,
                        t.json().then(t=>{
                            this.$store.commit("showErrorDialog", {
                                title: "Sida ändrad",
                                text: t.info,
                                color: "zoezi-edit-color"
                            }),
                            this.config.component = t.page.component,
                            this.config.props = t.page.props,
                            this.config.style = t.page.style,
                            this.$root.saveHomePage(),
                            this.aiDialog = !1
                        }
                        )
                    }
                    )
                }
            }
        }
          , ty = Zb
          , ey = Object(p["a"])(ty, Jb, Xb, !1, null, null, null)
          , iy = ey.exports;
        g()(ey, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var sy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                key: t.renderKey
            }, [t._l(t.rows, (function(e, s) {
                return i("component-wrapper", {
                    key: e.id,
                    attrs: {
                        config: e,
                        "can-remove": "",
                        array: t.rows
                    },
                    scopedSlots: t._u([{
                        key: "bottom-button",
                        fn: function() {
                            return [i("v-menu", {
                                attrs: {
                                    bottom: "",
                                    left: "",
                                    "offset-y": "",
                                    "nudge-right": "170px"
                                },
                                scopedSlots: t._u([{
                                    key: "activator",
                                    fn: function(e) {
                                        var s = e.on;
                                        return [i("v-btn", t._g({
                                            staticClass: "ma-2",
                                            attrs: {
                                                color: "zoezi-edit-color",
                                                fab: "",
                                                small: ""
                                            }
                                        }, s), [i("v-icon", {
                                            attrs: {
                                                small: ""
                                            }
                                        }, [t._v("mdi-cog")]), i("v-icon", {
                                            staticStyle: {
                                                "margin-left": "-8px"
                                            },
                                            attrs: {
                                                small: ""
                                            }
                                        }, [t._v("mdi-chevron-down")])], 1)]
                                    }
                                }], null, !0)
                            }, [i("v-list", {
                                attrs: {
                                    "active-class": "zoezi-edit-color"
                                }
                            }, [i("v-list-item", {
                                attrs: {
                                    "active-class": "zoezi-edit-color"
                                },
                                on: {
                                    click: function(e) {
                                        return t.removeRow(s)
                                    }
                                }
                            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-delete")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Delete row")))])], 1)], 1), i("v-menu", {
                                attrs: {
                                    bottom: "",
                                    right: "",
                                    "offset-x": ""
                                },
                                scopedSlots: t._u([{
                                    key: "activator",
                                    fn: function(e) {
                                        var s = e.on;
                                        return [i("v-list-item", t._g({}, s), [i("v-list-item-icon", [i("v-icon", [t._v("mdi-table-arrow-up")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Add row above...")))])], 1)], 1)]
                                    }
                                }], null, !0)
                            }, [i("columns-menu", {
                                on: {
                                    add: function(e) {
                                        var i = arguments.length
                                          , a = Array(i);
                                        while (i--)
                                            a[i] = arguments[i];
                                        return t.addAbove.apply(void 0, [s].concat(a))
                                    }
                                }
                            })], 1), i("v-menu", {
                                attrs: {
                                    bottom: "",
                                    right: "",
                                    "offset-x": ""
                                },
                                scopedSlots: t._u([{
                                    key: "activator",
                                    fn: function(e) {
                                        var s = e.on;
                                        return [i("v-list-item", t._g({}, s), [i("v-list-item-icon", [i("v-icon", [t._v("mdi-table-arrow-down")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Add row below...")))])], 1)], 1)]
                                    }
                                }], null, !0)
                            }, [i("columns-menu", {
                                on: {
                                    add: function(e) {
                                        var i = arguments.length
                                          , a = Array(i);
                                        while (i--)
                                            a[i] = arguments[i];
                                        return t.addBelow.apply(void 0, [s].concat(a))
                                    }
                                }
                            })], 1)], 1)], 1)]
                        },
                        proxy: !0
                    }], null, !0)
                })
            }
            )), t.$root.edit ? i("v-row", {
                staticClass: "zoezi-add-rowlayout",
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "12",
                    align: "center",
                    justify: "center"
                }
            }, [i("v-menu", {
                attrs: {
                    bottom: "",
                    right: "",
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                color: "zoezi-edit-color",
                                fab: "",
                                small: ""
                            }
                        }, s), [i("v-icon", {
                            attrs: {
                                small: ""
                            }
                        }, [t._v("mdi-plus")]), i("v-icon", {
                            staticStyle: {
                                "margin-left": "-8px"
                            },
                            attrs: {
                                small: ""
                            }
                        }, [t._v("mdi-chevron-down")])], 1)]
                    }
                }], null, !1, 1633389913)
            }, [i("columns-menu", {
                on: {
                    add: t.addLast
                }
            })], 1)], 1)], 1) : t._e()], 2)
        }
          , ay = []
          , oy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-list", {
                attrs: {
                    subheader: ""
                }
            }, [i("v-subheader", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.$translate("Choose number of columns for new row")))]), t._l(t.options, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    attrs: {
                        link: ""
                    },
                    on: {
                        click: function(i) {
                            return t.add(e)
                        }
                    }
                }, [i("v-hover", {
                    scopedSlots: t._u([{
                        key: "default",
                        fn: function(s) {
                            var a = s.hover;
                            return [i("v-list-item-content", {
                                staticStyle: {
                                    width: "256px",
                                    cursor: "pointer"
                                }
                            }, [i("v-row", {
                                staticStyle: {
                                    height: "40px"
                                },
                                attrs: {
                                    "no-gutters": ""
                                }
                            }, t._l(e.data, (function(t, e) {
                                return i("v-col", {
                                    key: e,
                                    attrs: {
                                        md: t.width
                                    }
                                }, [i("v-sheet", {
                                    staticClass: "fill-height mx-2",
                                    attrs: {
                                        color: a ? "zoezi-edit-color" : "rgb(210,210,210)"
                                    }
                                })], 1)
                            }
                            )), 1)], 1)]
                        }
                    }], null, !0)
                })], 1)
            }
            ))], 2)
        }
          , ny = []
          , ry = {
            name: "ColumnsMenu",
            data: ()=>({
                options: [{
                    id: 1,
                    data: [{
                        width: 12
                    }]
                }, {
                    id: 2,
                    data: [{
                        width: 6
                    }, {
                        width: 6
                    }]
                }, {
                    id: 3,
                    data: [{
                        width: 4
                    }, {
                        width: 4
                    }, {
                        width: 4
                    }]
                }, {
                    id: 4,
                    data: [{
                        width: 8
                    }, {
                        width: 4
                    }]
                }, {
                    id: 5,
                    data: [{
                        width: 4
                    }, {
                        width: 8
                    }]
                }]
            }),
            methods: {
                add(t) {
                    let e = t.data.map(t=>Yx.makeEmptyConfig({
                        component: "zoezi-column",
                        props: {
                            cols: t.width,
                            component: Yx.makeEmptyConfig()
                        }
                    }))
                      , i = Yx.makeEmptyConfig({
                        component: "zoezi-row",
                        props: {
                            columns: e
                        }
                    });
                    this.$emit("add", i)
                }
            }
        }
          , ly = ry
          , cy = Object(p["a"])(ly, oy, ny, !1, null, null, null)
          , dy = cy.exports;
        g()(cy, {
            VCol: M["a"],
            VHover: ss["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VRow: A["a"],
            VSheet: ue["a"],
            VSubheader: Do["a"]
        });
        var uy = {
            name: "zoezi-rowlayout",
            zoezi: {
                title: "Row layout",
                icon: "mdi-view-quilt"
            },
            components: {
                ColumnsMenu: dy
            },
            props: {
                rows: {
                    title: "Rows",
                    type: Array,
                    fulltype: "componentlist",
                    typeinfo: {
                        component: "zoezi-row"
                    },
                    default: ()=>[]
                }
            },
            data: ()=>({
                renderKey: 0
            }),
            methods: {
                save() {
                    while (this.rows.find(t=>!t || 0 == t.length)) {
                        let t = this.rows.findIndex(t=>!t || 0 == t.length);
                        this.rows.splice(t, 1)
                    }
                    this.$emit("save", {
                        rows: this.rows
                    }),
                    this.renderKey++
                },
                removeRow(t) {
                    this.rows.splice(t, 1),
                    this.save()
                },
                addAbove(t, e) {
                    this.rows.splice(t, 0, e),
                    this.save(),
                    Yx.selectComponent(e.props.columns[0].id)
                },
                addBelow(t, e) {
                    this.rows.splice(t + 1, 0, e),
                    this.save(),
                    Yx.selectComponent(e.props.columns[0].id)
                },
                addLast(t) {
                    this.rows.splice(this.rows.length, 0, t),
                    this.save(),
                    Yx.selectComponent(t.props.columns[0].id)
                }
            },
            created() {
                let t;
                this.rows.forEach(e=>{
                    if (Array.isArray(e)) {
                        t || (t = []);
                        let i = {
                            component: "zoezi-row",
                            props: {
                                columns: []
                            }
                        };
                        i.props.columns = e.map(t=>{
                            let e = Object.assign({}, t);
                            delete e.width;
                            let i = {
                                component: "zoezi-column",
                                props: {
                                    cols: t.width,
                                    component: Yx.makeEmptyConfig(e)
                                }
                            };
                            return i
                        }
                        ),
                        t.push(i)
                    }
                }
                ),
                t && (this.$parent.config.props.rows = t)
            }
        }
          , hy = uy
          , my = i("34c3")
          , py = Object(p["a"])(hy, sy, ay, !1, null, null, null)
          , vy = py.exports;
        g()(py, {
            VBtn: O["a"],
            VCol: M["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemIcon: my["a"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"],
            VRow: A["a"]
        });
        var gy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-row", {
                class: {
                    "zoezi-row-limit-width": !t.fillWidth,
                    "zoezi-edit-component-wrapper": t.isThisOrChildSelected
                },
                attrs: {
                    "no-gutters": t.noGutters
                }
            }, [t._l(t.columns, (function(t) {
                return i("component-wrapper", {
                    key: t.id,
                    attrs: {
                        config: t
                    }
                })
            }
            )), t.isThisOrChildSelected ? i("div", {
                staticClass: "zoezi-edit-component-wrapper-bottom-button"
            }, [i("div", {
                staticClass: "z-allow-clicks"
            }, [t._t("bottom-button")], 2)]) : t._e()], 2)
        }
          , fy = []
          , by = {
            name: "zoezi-row",
            zoezi: {
                title: "Row",
                icon: "mdi-table-row"
            },
            computed: {
                isThisOrChildSelected() {
                    if (!this.$root.edit)
                        return !1;
                    let t = this.$store.state.editComponent
                      , e = function(i) {
                        return i == t || !!i.$children.find(e)
                    };
                    return e(this)
                }
            },
            props: {
                columns: {
                    title: "Columns",
                    type: Array,
                    fulltype: "componentlist",
                    typeinfo: {
                        component: "zoezi-column",
                        setNewConfig: (t,e)=>{
                            let i = 0;
                            t.props = {
                                cols: 12
                            },
                            e.columns.forEach(t=>i += t.props.cols),
                            i < 12 && (t.props.cols = 12 - i)
                        }
                    },
                    default: ()=>[]
                },
                fillWidth: {
                    title: "Fill the entire width of the screen",
                    type: Boolean,
                    default: !1
                },
                noGutters: {
                    title: "Minimize distance to other rows",
                    type: Boolean,
                    default: !1
                }
            }
        }
          , yy = by
          , _y = Object(p["a"])(yy, gy, fy, !1, null, null, null)
          , ky = _y.exports;
        g()(_y, {
            VRow: A["a"]
        });
        var wy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-col", {
                ref: "col",
                class: t.widthClass,
                style: t.style,
                attrs: {
                    sm: t.sm,
                    md: t.md,
                    lg: t.lg,
                    xl: t.xl,
                    cols: t.xs
                }
            }, [i("component-wrapper", {
                attrs: {
                    config: t.component
                }
            })], 1)
        }
          , Cy = []
          , xy = {
            name: "zoezi-column",
            zoezi: {
                title: "Column",
                icon: "mdi-table-column"
            },
            watch: {
                "$vuetify.breakpoint.width": {
                    immediate: !0,
                    handler() {
                        s["default"].nextTick(()=>{
                            let t = this.$refs.col ? this.$refs.col.clientWidth : 0;
                            this.widthClass = 0 == t ? void 0 : t < 600 ? "zoezi-xs" : t < 960 ? "zoezi-sm" : t < 1264 ? "zoezi-md" : t < 1904 ? "zoezi-lg" : "zoezi-xl"
                        }
                        )
                    }
                }
            },
            props: {
                cols: {
                    title: "Width (1-12)",
                    type: Number,
                    typeinfo: {
                        min: 1,
                        max: 12
                    },
                    default: 12
                },
                cols_adv: {
                    title: "Advanced column settings",
                    type: Object,
                    fulltype: "breakpointsetting"
                },
                padding: {
                    title: "Padding",
                    type: String,
                    fulltype: "csssize",
                    global: !0
                },
                component: {
                    title: "Component",
                    type: Object,
                    fulltype: "component",
                    default: ()=>Yx.makeEmptyConfig()
                }
            },
            computed: {
                xs() {
                    var t;
                    return (null === (t = this.cols_adv) || void 0 === t ? void 0 : t.xs) || 12
                },
                sm() {
                    var t;
                    return null === (t = this.cols_adv) || void 0 === t ? void 0 : t.sm
                },
                md() {
                    var t;
                    return (null === (t = this.cols_adv) || void 0 === t ? void 0 : t.md) || this.cols
                },
                lg() {
                    var t;
                    return null === (t = this.cols_adv) || void 0 === t ? void 0 : t.lg
                },
                xl() {
                    var t;
                    return null === (t = this.cols_adv) || void 0 === t ? void 0 : t.xl
                },
                style() {
                    return this.padding ? {
                        padding: this.padding
                    } : null
                }
            },
            data: ()=>({
                widthClass: ""
            })
        }
          , $y = xy
          , Sy = Object(p["a"])($y, wy, Cy, !1, null, null, null)
          , Dy = Sy.exports;
        g()(Sy, {
            VCol: M["a"]
        });
        var zy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("identification", {
                attrs: {
                    title: t.$translate("Select login method")
                }
            })
        }
          , Ty = []
          , Iy = {
            name: "zoezi-login",
            zoezi: {
                title: "Log in",
                icon: "mdi-login"
            },
            props: {
                linkAfterLogin: {
                    title: "Go to link after logging in",
                    type: String,
                    fulltype: "page",
                    default: "/"
                }
            },
            components: {
                Identification: js["a"]
            },
            watch: {
                "$store.state.isLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        t && this.$route.path != this.linkAfterLogin && !this.$root.edit && this.$router.push({
                            path: this.linkAfterLogin
                        })
                    }
                }
            }
        }
          , Py = Iy
          , Vy = Object(p["a"])(Py, zy, Ty, !1, null, null, null)
          , By = Vy.exports
          , Fy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.dialog ? i("v-dialog", {
                attrs: {
                    "max-width": "850px",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("v-card-title", {
                staticClass: "headline",
                domProps: {
                    textContent: t._s(t.typeTitle)
                }
            }), i("v-card-text", [null === t.terms ? i("div", [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : i("div", {
                domProps: {
                    innerHTML: t._s(t.terms)
                }
            })]), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1) : i("div", [i("h2", {
                domProps: {
                    textContent: t._s(t.typeTitle)
                }
            }), t.editOnly ? t._e() : [null === t.terms ? i("div", [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : i("div", {
                domProps: {
                    innerHTML: t._s(t.terms)
                }
            })], t.hasEditPermission ? i("v-btn", {
                attrs: {
                    color: "primary",
                    text: ""
                },
                on: {
                    click: function(e) {
                        t.showEditDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Edit conditions")))]) : t._e(), i("v-dialog", {
                attrs: {
                    "max-width": "850px",
                    scrollable: ""
                },
                model: {
                    value: t.showEditDialog,
                    callback: function(e) {
                        t.showEditDialog = e
                    },
                    expression: "showEditDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline",
                domProps: {
                    textContent: t._s(t.typeTitle)
                }
            }), i("v-card-text", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("editor", {
                staticStyle: {
                    "margin-top": "50px"
                },
                attrs: {
                    bubble: !0
                },
                model: {
                    value: t.changedTerms,
                    callback: function(e) {
                        t.changedTerms = e
                    },
                    expression: "changedTerms"
                }
            })], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.saving,
                    disabled: t.terms == t.changedTerms
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))]), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.showEditDialog = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1)], 1)], 1)], 2)
        }
          , Ey = [];
        const Oy = [{
            id: "general",
            name: "General terms and conditions"
        }, {
            id: "name",
            name: "Privacy Policy"
        }];
        var My = {
            name: "zoezi-terms",
            zoezi: {
                title: "Terms",
                icon: "mdi-check"
            },
            components: {
                Editor: gu
            },
            props: {
                type: {
                    title: "Type of condition",
                    type: String,
                    fulltype: "select",
                    typeinfo: {
                        getItems() {
                            return Oy.map(t=>({
                                ...t,
                                name: window.$translate(t.name)
                            }))
                        },
                        text: "name",
                        value: "id",
                        multiple: !1
                    },
                    default: "general"
                },
                dialog: {
                    title: "Show in dialog",
                    type: Boolean,
                    default: !1
                },
                editOnly: {
                    title: "Show editing link only",
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                terms: null,
                changedTerms: null,
                showDialog: !1,
                showEditDialog: !1,
                saving: !1
            }),
            watch: {
                dialog: {
                    immediate: !0,
                    handler(t) {
                        t && (this.showDialog = !0),
                        this.getTerms()
                    }
                },
                showDialog(t) {
                    t || this.$emit("hidden")
                },
                showEditDialog(t) {
                    t && (this.changedTerms = this.terms)
                }
            },
            computed: {
                hasEditPermission() {
                    var t, e, i;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.user) || void 0 === e || null === (i = e.permissions) || void 0 === i ? void 0 : i.find(t=>"Settings" == t)
                },
                typeTitle() {
                    var t;
                    return this.$translate(null === (t = Oy.find(t=>t.id == this.type)) || void 0 === t ? void 0 : t.name)
                }
            },
            methods: {
                getTerms() {
                    this.$api.get("/api/public/terms/get", {
                        type: this.type
                    }).then(t=>this.terms = t)
                },
                save() {
                    this.saving = !0,
                    this.$api.post("/api/terms/change", {
                        text: this.changedTerms
                    }, {
                        type: this.type
                    }).then(()=>{
                        this.saving = !1,
                        this.showEditDialog = !1,
                        this.getTerms()
                    }
                    )
                }
            }
        }
          , Ay = My
          , Ry = Object(p["a"])(Ay, Fy, Ey, !1, null, null, null)
          , Ly = Ry.exports;
        g()(Ry, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VProgressCircular: Q["a"],
            VSpacer: J["a"]
        });
        var jy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "z-max-500 z-center-margin"
            }, [null === t.hashOk ? i("div", [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                staticClass: "ml-2",
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : t.hashOk ? i("v-form", {
                on: {
                    submit: function(e) {
                        return e.preventDefault(),
                        t.resetPassword.apply(null, arguments)
                    }
                }
            }, [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "6",
                    md: "12"
                }
            }, [i("v-text-field", {
                staticClass: "ml-2 ml-md-0",
                attrs: {
                    label: t.$translate("New password"),
                    type: "password"
                },
                model: {
                    value: t.password,
                    callback: function(e) {
                        t.password = e
                    },
                    expression: "password"
                }
            })], 1)], 1), i("div", {
                staticClass: "d-flex mb-2"
            }, [i("zoezi-button", {
                attrs: {
                    text: t.$translate("Change password and log in"),
                    disabled: !t.passwordLoginOk,
                    type: "submit",
                    loading: t.loading
                },
                on: {
                    click: t.resetPassword
                }
            })], 1)], 1) : i("div", [i("v-alert", {
                attrs: {
                    color: "error"
                }
            }, [i("p", [t._v(t._s(t.$translate("RESETPASSWORDLINK_NOT_ACTIVE")))])])], 1)], 1)
        }
          , Ny = []
          , Wy = {
            name: "zoezi-reset-password",
            zoezi: {
                title: "Reset password",
                icon: "mdi-account-key-outline"
            },
            data: ()=>({
                hashOk: null,
                passwordLimit: "zoezidev.se" == location.hostname || window.__devenv ? 3 : 6,
                password: "",
                loading: !1
            }),
            computed: {
                passwordLoginOk() {
                    return this.password && this.password.length >= this.passwordLimit
                }
            },
            methods: {
                resetPassword() {
                    this.loading = !0;
                    let t = this.$route.query.hash;
                    this.$api.post("/api/memberapi/resetPassword", null, {
                        hash: t,
                        newPassword: this.password
                    }).then(t=>{
                        t.json().then(t=>{
                            let e = {
                                login: t.mail,
                                password: this.password
                            };
                            this.$api.post("/api/v8.0/memberapi/login", e).then(t=>{
                                t.json().then(e=>{
                                    t.ok && (this.$store.commit("setLoggedIn", {
                                        isLoggedIn: !0,
                                        user: e
                                    }),
                                    this.$root.followLink("/"))
                                }
                                )
                            }
                            )
                        }
                        )
                    }
                    )
                }
            },
            mounted() {
                this.$store.commit("setCheckoutHidden", !0),
                this.$route.query.hash ? this.$api.post("/api/memberapi/resetPassword/hash/active", null, {
                    hash: this.$route.query.hash
                }).then(t=>{
                    t.json().then(t=>{
                        this.hashOk = t.active
                    }
                    )
                }
                ) : this.hashOk = !1
            },
            destroyed() {
                this.$store.commit("setCheckoutHidden", !1)
            }
        }
          , qy = Wy
          , Hy = Object(p["a"])(qy, jy, Ny, !1, null, null, null)
          , Uy = Hy.exports;
        g()(Hy, {
            VAlert: He["a"],
            VCol: M["a"],
            VForm: Ye["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VTextField: z["a"]
        });
        var Yy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading && t.hash ? i("div", [t._v(" " + t._s(t.$translate("Loading...")) + " "), i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : t.name ? i("div", [i("h1", [t._v(t._s(t.name))]), t.removed ? i("div", [t._v(t._s(t.$translate("Watch removed")))]) : i("v-btn", {
                on: {
                    click: t.stopWatching
                }
            }, [t._v(t._s(t.$translate("Stop watching")))])], 1) : i("div", [t._v(" " + t._s(t.$translate("Watch removed")) + " ")])
        }
          , Gy = []
          , Ky = {
            name: "zoezi-unsubscribe",
            data: ()=>({
                loading: !0,
                name: null,
                watcher_id: null,
                removed: !1
            }),
            computed: {
                hash() {
                    return this.$route.query.watcher
                }
            },
            methods: {
                stopWatching() {
                    this.hash && this.$api.post("/api/public/watch/remove", null, {
                        hash: this.hash
                    }).then(()=>{
                        this.getWatcher()
                    }
                    )
                },
                getWatcher() {
                    this.hash && this.$api.get("/api/public/watch/get", {
                        hash: this.hash
                    }).then(t=>{
                        this.loading = !1,
                        this.name = t.name,
                        this.removed = !!t.removed
                    }
                    )
                }
            },
            mounted() {
                this.getWatcher()
            }
        }
          , Qy = Ky
          , Jy = Object(p["a"])(Qy, Yy, Gy, !1, null, null, null)
          , Xy = Jy.exports;
        g()(Jy, {
            VBtn: O["a"],
            VProgressCircular: Q["a"]
        });
        var Zy = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.loading ? i("div", [i("div", {
                staticStyle: {
                    display: "flex",
                    "justify-content": "center"
                }
            }, [i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary",
                    size: "64",
                    width: "2"
                }
            })], 1)]) : t.success ? i("div", [i("h3", [t._v(t._s(t.$translate("You are now unsubscribed from newsletters")))])]) : void 0 !== t.success ? i("div", [i("h3", [t._v(t._s(t.$translate("An error occurred when attempting to unsubscribe")))])]) : t._e()
        }
          , t_ = []
          , e_ = {
            name: "zoezi-mailing-unsubscribe",
            data: ()=>({
                loading: !1,
                success: void 0
            }),
            mounted() {
                this.$route.query.hash && (this.loading = !0,
                this.$api.post("/api/mailing/unsubscribe", null, {
                    unsubscribeId: this.$route.query.hash
                }).then(t=>{
                    this.success = t.ok,
                    this.loading = !1
                }
                ).catch(()=>{
                    this.success = !1,
                    this.loading = !1
                }
                ))
            }
        }
          , i_ = e_
          , s_ = Object(p["a"])(i_, Zy, t_, !1, null, null, null)
          , a_ = s_.exports;
        g()(s_, {
            VProgressCircular: Q["a"]
        });
        var o_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.hideCookieBar ? t._e() : i("div", {
                staticStyle: {
                    position: "fixed",
                    width: "100vw",
                    "background-color": "white",
                    "z-index": "10",
                    "border-top": "1px solid #c9c9c9"
                },
                style: {
                    bottom: t.mobile ? "56px" : 0
                }
            }, [i("div", {
                staticClass: "d-flex zoezi-row-limit-width pa-8"
            }, [i("div", [t._v(t._s(t.$translate("COOKIEBARMESSAGE")) + " "), i("span", {
                staticClass: "z-clickable primary--text text-decoration-underline",
                on: {
                    click: function(e) {
                        t.showDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("COOKIEBARLINK")))])]), t._v(" "), i("v-spacer"), t._v(" "), i("zoezi-button", {
                staticClass: "ml-2",
                attrs: {
                    radius: "25px",
                    large: "",
                    thin: "",
                    text: t.$translate("Allow cookies")
                },
                on: {
                    click: t.accept
                }
            }), t.mobile ? i("v-dialog", {
                attrs: {
                    "max-width": "calc(100vw - 44px)",
                    "content-class": "z-overflow",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [t.showDialog ? i("v-btn", {
                staticStyle: {
                    position: "absolute",
                    right: "2px",
                    top: "calc(5vh - 18px)",
                    "z-index": "5"
                },
                attrs: {
                    color: "primary",
                    fab: "",
                    small: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext"
                }
            }, [t._v("mdi-close")])], 1) : t._e(), i("v-card", {
                staticStyle: {
                    "overflow-y": "auto"
                },
                attrs: {
                    color: "#e9e9e9",
                    "min-height": "90vh"
                }
            }, [i("div", {
                staticClass: "elevation-4 d-flex",
                staticStyle: {
                    background: "white"
                }
            }, [i("div", {
                staticClass: "ma-4"
            }, [i("v-auto-img", {
                staticStyle: {
                    filter: "invert(1)",
                    margin: "auto"
                },
                attrs: {
                    src: t.$root.siteconfig.appbar.props.logo,
                    "max-width": "120px"
                }
            })], 1), i("v-spacer"), i("div", {
                staticClass: "d-flex align-end mb-2 mr-1"
            }, t._l(t.sections, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "z-no-focus mr-1",
                    staticStyle: {
                        "border-color": "#e5e5e5"
                    },
                    attrs: {
                        outlined: "",
                        color: t.selectedSection == e ? void 0 : "#eeeeee"
                    },
                    on: {
                        click: function(i) {
                            t.selectedSection = e
                        }
                    }
                }, [i("div", {
                    staticClass: "pa-1"
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v(t._s(e.icon))])], 1)])
            }
            )), 1)], 1), i("v-card-text", {
                staticStyle: {
                    "min-height": "50vh"
                }
            }, [i("div", {
                staticClass: "px-8 pt-8 pb-4 d-flex flex-column fill-height"
            }, [i("div", {
                staticClass: "text-h5 mb-8",
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.title))
                }
            }), "overview" == t.selectedSection.id || "mandatory" == t.selectedSection.id ? [i("p", {
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.text))
                }
            })] : "thirdparty" == t.selectedSection.id ? [t._l(t.selectedSection.text, (function(e) {
                return i("p", {
                    key: e,
                    domProps: {
                        textContent: t._s(t.$translate(e))
                    }
                })
            }
            )), i("v-switch", {
                attrs: {
                    label: t.$translate(t.thirdparty ? "Activated" : "Inactivated")
                },
                model: {
                    value: t.thirdparty,
                    callback: function(e) {
                        t.thirdparty = e
                    },
                    expression: "thirdparty"
                }
            })] : "policy" == t.selectedSection.id ? [i("p", {
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.text))
                }
            }), i("p", [t._v(t._s(t.$translate("More information about our")) + " "), i("a", {
                attrs: {
                    target: "blank",
                    href: t.policyLink.href
                }
            }, [t._v(t._s(t.$translate("PRIVACY_POLICY")))])])] : t._e()], 2)]), i("v-card-actions", [i("div", {
                staticClass: "d-flex flex-column fill-width"
            }, [i("v-divider", {
                staticClass: "mb-4"
            }), i("div", {
                staticClass: "d-flex flex-row",
                class: {
                    "justify-center": t.mobile
                }
            }, [i("zoezi-button", {
                attrs: {
                    text: t.$translate("Accept all"),
                    radius: "25px",
                    large: "",
                    thin: ""
                },
                on: {
                    click: t.accept
                }
            })], 1)], 1)])], 1)], 1) : i("v-dialog", {
                attrs: {
                    "max-width": t.mobile ? "calc(100vw - 60px)" : 1200,
                    "content-class": "z-overflow"
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                attrs: {
                    color: "#e9e9e9",
                    "min-height": "50vh"
                }
            }, [i("v-btn", {
                staticStyle: {
                    position: "absolute",
                    right: "-28px",
                    top: "-28px"
                },
                attrs: {
                    color: "primary",
                    fab: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    color: "primarytext",
                    large: ""
                }
            }, [t._v("mdi-close")])], 1), i("v-row", {
                staticStyle: {
                    "min-height": "50vh"
                },
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                staticClass: "elevation-8",
                class: {
                    "d-flex": t.mobile
                },
                staticStyle: {
                    "background-color": "white"
                },
                attrs: {
                    cols: "12",
                    md: "5"
                }
            }, [i("div", {
                staticClass: "ma-4"
            }, [i("v-auto-img", {
                staticStyle: {
                    filter: "invert(1)",
                    margin: "auto"
                },
                attrs: {
                    src: t.$root.siteconfig.appbar.props.logo,
                    "max-width": "120px"
                }
            })], 1), t.mobile ? i("div", {
                staticClass: "d-flex align-end mb-2"
            }, t._l(t.sections, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "z-no-focus mx-2",
                    staticStyle: {
                        "border-color": "#e5e5e5"
                    },
                    attrs: {
                        outlined: "",
                        color: t.selectedSection == e ? void 0 : "#eeeeee",
                        height: "32px"
                    },
                    on: {
                        click: function(i) {
                            t.selectedSection = e
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "primary"
                    }
                }, [t._v(t._s(e.icon))])], 1)
            }
            )), 1) : t._l(t.sections, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "ma-4 pa-2 z-no-focus",
                    staticStyle: {
                        "border-color": "#e5e5e5"
                    },
                    attrs: {
                        outlined: "",
                        color: t.selectedSection == e ? void 0 : "#eeeeee"
                    },
                    on: {
                        click: function(i) {
                            t.selectedSection = e
                        }
                    }
                }, [i("div", {
                    staticClass: "text-subtitle-2 text-uppercase d-flex"
                }, [i("v-icon", {
                    attrs: {
                        large: "",
                        color: "primary"
                    }
                }, [t._v(t._s(e.icon))]), i("div", {
                    staticClass: "ml-4 d-flex align-center"
                }, [t._v(t._s(t.$translate(e.title)))])], 1)])
            }
            ))], 2), i("v-col", {
                staticClass: "pa-0",
                attrs: {
                    cols: "12",
                    md: "7"
                }
            }, [i("div", {
                staticClass: "px-8 pt-8 pb-4 d-flex flex-column fill-height"
            }, [i("div", {
                staticClass: "text-h5 mb-8",
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.title))
                }
            }), "overview" == t.selectedSection.id || "mandatory" == t.selectedSection.id ? [i("p", {
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.text))
                }
            })] : "thirdparty" == t.selectedSection.id ? [t._l(t.selectedSection.text, (function(e) {
                return i("p", {
                    key: e,
                    domProps: {
                        textContent: t._s(t.$translate(e))
                    }
                })
            }
            )), i("v-switch", {
                attrs: {
                    label: t.$translate(t.thirdparty ? "Activated" : "Inactivated")
                },
                model: {
                    value: t.thirdparty,
                    callback: function(e) {
                        t.thirdparty = e
                    },
                    expression: "thirdparty"
                }
            })] : "policy" == t.selectedSection.id ? [i("p", {
                domProps: {
                    textContent: t._s(t.$translate(t.selectedSection.text))
                }
            }), i("p", [t._v(t._s(t.$translate("More information about our")) + " "), i("a", {
                attrs: {
                    target: "blank",
                    href: t.policyLink.href
                }
            }, [t._v(t._s(t.$translate("PRIVACY_POLICY")))])])] : t._e(), i("v-spacer"), i("v-divider", {
                staticClass: "mb-4"
            }), i("div", {
                staticClass: "d-flex flex-row",
                class: {
                    "justify-center": t.mobile
                }
            }, [i("zoezi-button", {
                attrs: {
                    text: t.$translate("Accept all"),
                    radius: "25px",
                    large: "",
                    thin: ""
                },
                on: {
                    click: t.accept
                }
            })], 1)], 2)])], 1)], 1)], 1)], 1)])
        }
          , n_ = []
          , r_ = {
            name: "zoezi-cookie-bar",
            zoezi: {
                title: "Cookie dialog",
                icon: "mdi-cookie"
            },
            props: {
                policyLink: {
                    title: "Privacy policy",
                    type: Object,
                    fulltype: "link",
                    default: ()=>({
                        href: "https://zoezi.se/privacy-policy/",
                        newTab: !0
                    })
                }
            },
            watch: {
                selectedSection: {
                    immediate: !0,
                    handler(t) {
                        t || (this.selectedSection = this.sections[0])
                    }
                },
                thirdparty(t) {
                    t != !!Object(o["m"])("acceptTrackingCookies") && (t ? Object(o["F"])("acceptTrackingCookies", "true", 3650) : Object(o["h"])("acceptTrackingCookies"))
                },
                showDialog(t) {
                    t || (this.setHideCookieBar(),
                    this.showDialogDelay = !1)
                }
            },
            data: ()=>({
                hideCookieBar: null,
                thirdparty: !1,
                showDialog: !1,
                selectedSection: null,
                sections: [{
                    id: "overview",
                    icon: "mdi-shield-alert-outline",
                    title: "Overview",
                    text: "COOKIE_OVERVIEW_TEXT"
                }, {
                    id: "mandatory",
                    icon: "mdi-check-circle-outline",
                    title: "Necessary cookies",
                    text: "COOKIE_NECESSARY_TEXT"
                }, {
                    id: "thirdparty",
                    icon: "mdi-export",
                    title: "Cookies from third party",
                    text: ["COOKIE_GA_TEXT", "COOKIE_IMPROVEHP_TEXT"]
                }, {
                    id: "policy",
                    icon: "mdi-file-document-outline",
                    title: "Cookie Policy",
                    text: "COOKIE_POLICY_TEXT"
                }]
            }),
            computed: {
                mobile() {
                    return this.$vuetify.breakpoint.mobile
                }
            },
            methods: {
                accept() {
                    this.thirdparty = !0,
                    this.showDialog = !1,
                    this.setHideCookieBar()
                },
                setHideCookieBar() {
                    Object(o["F"])("hideCookieBar", "true", 3650),
                    this.hideCookieBar = !0
                }
            },
            mounted() {
                this.hideCookieBar = !!Object(o["m"])("hideCookieBar"),
                this.thirdparty = !!Object(o["m"])("acceptTrackingCookies"),
                this.$root.$on("setThirdpartyCookieStatus", t=>{
                    t ? this.accept() : (this.thirdparty = !1,
                    this.setHideCookieBar())
                }
                )
            }
        }
          , l_ = r_
          , c_ = Object(p["a"])(l_, o_, n_, !1, null, null, null)
          , d_ = c_.exports;
        g()(c_, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VDialog: K["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VSwitch: ce["a"]
        });
        var u_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t.$root.mobilePreview || t.$root.revisionPreview ? t._e() : i("v-app-bar", {
                attrs: {
                    app: !t.$root.edit || !t.$store.state.editMenu,
                    prominent: t.reallyProminent,
                    color: t.transparent ? "transparent" : t.backgroundColor,
                    "hide-on-scroll": t.hideOnScroll,
                    flat: t.transparent,
                    src: t.transparent ? void 0 : t.$api.getImageUrl(t.backgroundImage)
                }
            }, [i("div", {
                staticClass: "d-flex align-center",
                staticStyle: {
                    height: "90%",
                    cursor: "pointer"
                },
                on: {
                    click: function(e) {
                        t.$root.edit || t.goto("/")
                    }
                }
            }, [t.logo ? i("img", {
                staticClass: "z-page-logo",
                attrs: {
                    alt: "Logo",
                    src: t.$api.getImageUrl(t.logo, 400)
                }
            }) : t._e()]), i("v-row", {
                key: t.menuKey,
                staticClass: "hidden-sm-and-down",
                class: t.reallyProminent ? "fill-height" : void 0,
                attrs: {
                    justify: t.reallyProminent ? "center" : void 0,
                    align: t.reallyProminent ? "center" : void 0
                }
            }, [i("v-col", {
                class: "d-flex " + t.justify,
                attrs: {
                    cols: "12"
                }
            }, [i("draggable", {
                attrs: {
                    disabled: !t.$root.edit,
                    group: "menuitem",
                    tag: "ContentsContainer"
                },
                on: {
                    change: function(e) {
                        return t.$root.saveHomePage()
                    }
                },
                model: {
                    value: t.$root.siteconfig.buttons,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig, "buttons", e)
                    },
                    expression: "$root.siteconfig.buttons"
                }
            }, t._l(t.visibleMenuItems, (function(e, s) {
                return i("component-wrapper", {
                    key: e.id,
                    staticClass: "d-inline-block",
                    attrs: {
                        config: e,
                        "can-remove": ""
                    },
                    on: {
                        remove: function(e) {
                            return t.removeMenuItem(s)
                        },
                        addsubmenuitem: function(e) {
                            return t.showAddMenuItemDialog(s)
                        }
                    }
                })
            }
            )), 1)], 1)], 1), i("v-spacer"), i("div", {
                staticClass: "d-flex fill-height align-center"
            }, [t.$root.edit ? i("v-fab-transition", [i("v-btn", {
                staticClass: "hidden-sm-and-down mx-2",
                attrs: {
                    fab: "",
                    small: "",
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.showAddMenuItemDialog(null)
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1) : t._e(), t.rightComponent ? i("component-wrapper", {
                attrs: {
                    config: t.rightComponent
                }
            }) : t._e()], 1)], 1), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showAddMenuItem,
                    callback: function(e) {
                        t.showAddMenuItem = e
                    },
                    expression: "showAddMenuItem"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(t._s(t.$translate("Add new menu option")))]), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Title"),
                    color: "zoezi-edit-color"
                },
                on: {
                    input: function(e) {
                        return t.updateNewPageLink()
                    }
                },
                model: {
                    value: t.newMenuItem.title,
                    callback: function(e) {
                        t.$set(t.newMenuItem, "title", e)
                    },
                    expression: "newMenuItem.title"
                }
            }), t.newMenuItem.addPage ? i("v-text-field", {
                attrs: {
                    label: t.$translate("Link"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.newMenuItem.path,
                    callback: function(e) {
                        t.$set(t.newMenuItem, "path", e)
                    },
                    expression: "newMenuItem.path"
                }
            }) : i("v-autocomplete", {
                attrs: {
                    label: t.$translate("Link"),
                    items: t.sortedRoutes,
                    "item-text": "name",
                    "item-value": "path"
                },
                model: {
                    value: t.newMenuItem.path,
                    callback: function(e) {
                        t.$set(t.newMenuItem, "path", e)
                    },
                    expression: "newMenuItem.path"
                }
            }), i("v-switch", {
                attrs: {
                    label: t.$translate("Add new page"),
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.addPageChanged
                },
                model: {
                    value: t.newMenuItem.addPage,
                    callback: function(e) {
                        t.$set(t.newMenuItem, "addPage", e)
                    },
                    expression: "newMenuItem.addPage"
                }
            }), t.newMenuItem.addPage ? [i("h3", [t._v(t._s(t.$translate("Select page template for new page")))]), i("page-template-palette", {
                model: {
                    value: t.newMenuItem.page,
                    callback: function(e) {
                        t.$set(t.newMenuItem, "page", e)
                    },
                    expression: "newMenuItem.page"
                }
            })] : t._e()], 2), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.newMenuItemValid
                },
                on: {
                    click: t.addNewMenuItem
                }
            }, [t._v(" " + t._s(t.$translate("Add")) + " ")])], 1)], 1)], 1)], 1)
        }
          , h_ = []
          , m_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-2"
            }, [i("v-item-group", {
                attrs: {
                    "active-class": "zoezi-edit-color"
                },
                model: {
                    value: t.selectedPageTemplate,
                    callback: function(e) {
                        t.selectedPageTemplate = e
                    },
                    expression: "selectedPageTemplate"
                }
            }, t._l(t.rows, (function(e, s) {
                return i("v-row", {
                    key: s
                }, t._l(e, (function(e) {
                    return i("v-col", {
                        key: e.id,
                        attrs: {
                            cols: 12 / t.columns
                        }
                    }, [i("v-item", {
                        attrs: {
                            value: e
                        },
                        scopedSlots: t._u([{
                            key: "default",
                            fn: function(s) {
                                var a = s.active;
                                return [i("v-hover", {
                                    scopedSlots: t._u([{
                                        key: "default",
                                        fn: function(s) {
                                            var o = s.hover;
                                            return [i("v-card", {
                                                class: a || o ? ["zoezi-edit-color"] : void 0,
                                                attrs: {
                                                    width: "200",
                                                    elevation: o ? 24 : 6,
                                                    ripple: ""
                                                },
                                                on: {
                                                    click: function(i) {
                                                        t.selectedPageTemplate = e,
                                                        t.$emit("input", e)
                                                    }
                                                }
                                            }, [t.showRemove && t.isSuperUser && o ? i("v-btn", {
                                                staticClass: "float-right",
                                                attrs: {
                                                    icon: "",
                                                    color: "white"
                                                },
                                                on: {
                                                    click: function(i) {
                                                        return t.remove(e)
                                                    }
                                                }
                                            }, [i("v-icon", {}, [t._v("mdi-close")])], 1) : t._e(), i("v-card-text", {
                                                class: a || o ? "zoezi-edit-text-color" : void 0,
                                                attrs: {
                                                    justify: "center",
                                                    align: "center"
                                                }
                                            }, [i("v-icon", {
                                                class: a || o ? "zoezi-edit-text-color" : ""
                                            }, [t._v(t._s(e.icon))]), i("br"), t._v(" " + t._s(e.name) + " ")], 1)], 1)]
                                        }
                                    }], null, !0)
                                })]
                            }
                        }], null, !0)
                    })], 1)
                }
                )), 1)
            }
            )), 1)], 1)
        }
          , p_ = []
          , v_ = {
            name: "PageTemplatePalette",
            props: {
                value: {},
                showRemove: {
                    type: Boolean
                }
            },
            watch: {
                value() {
                    this.selectedPageTemplate = this.value
                }
            },
            computed: {
                rows() {
                    return Object(a["chunk"])(this.pageTemplates, this.columns)
                },
                isSuperUser() {
                    return this.$store.state.isLoggedIn && this.$store.state.user && this.$store.state.user.superUser
                }
            },
            data: ()=>({
                columns: 2,
                pageTemplates: [],
                selectedPageTemplate: null
            }),
            methods: {
                getTemplates() {
                    this.$api.get("/api/homepage/pagetemplate/get").then(t=>this.pageTemplates = t)
                },
                remove(t) {
                    this.$store.commit("showConfirmDialog", {
                        title: this.$translate("Remove page template"),
                        text: this.$translate("Are you sure you want to remove the page template {0}?").format(t.name),
                        actionText: this.$translate("Remove"),
                        action: ()=>{
                            this.$api.post("/api/homepage/pagetemplate/remove", null, {
                                id: t.id
                            }).then(()=>{
                                this.getTemplates()
                            }
                            )
                        }
                    })
                }
            },
            mounted() {
                this.getTemplates()
            }
        }
          , g_ = v_
          , f_ = Object(p["a"])(g_, m_, p_, !1, null, null, null)
          , b_ = f_.exports;
        g()(f_, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VHover: ss["a"],
            VIcon: y["a"],
            VItem: ou["a"],
            VItemGroup: nu["b"],
            VRow: A["a"]
        });
        var y_ = i("41cb")
          , __ = {
            name: "zoezi-appbar",
            zoezi: {
                title: "Menubar",
                icon: "mdi-menu"
            },
            props: {
                logo: {
                    title: "Logo",
                    type: String,
                    fulltype: "image"
                },
                backgroundColor: {
                    title: "Background color",
                    type: String,
                    fulltype: "color"
                },
                color: {
                    title: "Text color",
                    type: String,
                    fulltype: "color"
                },
                activeColor: {
                    title: "Color of selected menu option",
                    type: String,
                    fulltype: "color"
                },
                prominent: {
                    title: "High menu bar",
                    type: Boolean
                },
                hideOnScroll: {
                    title: "Hide menu on scroll",
                    type: Boolean
                },
                backgroundImage: {
                    title: "Background image",
                    type: String,
                    fulltype: "image"
                },
                transparent: {
                    title: "Transparent menu bar",
                    type: Boolean
                },
                uppercase: {
                    title: "Capital letters in the menu",
                    type: Boolean
                },
                fullWidth: {
                    title: "Full width for menu on mobile",
                    type: Boolean
                },
                showCheckinButton: {
                    title: "Show button for Check-in on mobile",
                    type: Boolean,
                    default: !0
                },
                checkinResources: {
                    title: "Resources to be displayed at mobile check-in",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        clearable: !0,
                        multiple: !0,
                        text: "name",
                        value: "id",
                        placeholder: "Show all resources",
                        getItems: ()=>window.$zoeziapi.get("/api/door/get", {
                            site_id: (void 0).$store.state.selectedSiteId
                        })
                    },
                    default: ()=>[]
                },
                justify: {
                    title: "Menu button placement",
                    type: String,
                    fulltype: "alignment"
                },
                rightComponent: {
                    title: "Component to the right",
                    type: Object,
                    fulltype: "component",
                    typeinfo: {
                        clearable: !0
                    },
                    default: ()=>Yx.makeEmptyConfig({
                        component: "zoezi-account-button"
                    })
                }
            },
            components: {
                Draggable: bt.a,
                PageTemplatePalette: b_
            },
            data: ()=>({
                showAddMenuItem: !1,
                menuKey: 0,
                newMenuItem: {
                    title: "",
                    addPage: !0,
                    submenu: null,
                    path: "/",
                    page: {}
                }
            }),
            computed: {
                sortedRoutes() {
                    return this.$root.siteconfig.routes.map(t=>t.props).sort((t,e)=>t.name.localeCompare(e.name))
                },
                newMenuItemValid() {
                    return this.newMenuItem.title.length && this.newMenuItem.path.length && Object(o["x"])(this.newMenuItem.path) && (!this.newMenuItem.addPage || !this.$root.siteconfig.routes.find(t=>t.props.path == this.newMenuItem.path) && this.newMenuItem.page.config && this.newMenuItem.page.config.component)
                },
                visibleMenuItems() {
                    return this.$root.siteconfig.buttons
                },
                reallyProminent() {
                    return this.prominent && !this.$vuetify.breakpoint.mobile
                }
            },
            watch: {
                "$vuetify.breakpoint.mobile"(t) {
                    t || this.$store.commit("setShowMobileMenu", !1)
                }
            },
            methods: {
                removeMenuItem(t) {
                    this.$root.siteconfig.buttons.splice(t, 1),
                    this.$root.saveHomePage(),
                    this.menuKey++
                },
                addNewMenuItem() {
                    let t = Yx.makeEmptyConfig({
                        component: "zoezi-menuitem",
                        props: {
                            link: this.newMenuItem.path,
                            title: this.newMenuItem.title,
                            subitems: []
                        }
                    })
                      , e = null === this.newMenuItem.submenu ? this.$root.siteconfig.buttons : this.$root.siteconfig.buttons[this.newMenuItem.submenu].props.subitems;
                    if (e.splice(e.length, 0, t),
                    Yx.addNewComponent(t),
                    this.showAddMenuItem = !1,
                    this.newMenuItem.addPage) {
                        let t = this.newMenuItem.page.config;
                        t = Yx.makeEmptyConfig({
                            component: "zoezi-page",
                            props: {
                                config: t,
                                name: this.newMenuItem.title,
                                path: this.newMenuItem.path
                            }
                        }),
                        Object(y_["a"])(t, this.$router),
                        this.$root.siteconfig.routes.push(t),
                        this.$router.push({
                            path: t.props.path
                        })
                    }
                    this.$root.saveHomePage()
                },
                updateNewPageLink() {
                    this.newMenuItem.addPage && (this.newMenuItem.path = Object(o["A"])(this.newMenuItem.title))
                },
                showAddMenuItemDialog(t) {
                    Object.assign(this.newMenuItem, {
                        title: "",
                        addPage: !0,
                        submenu: t,
                        path: "/",
                        page: {}
                    }),
                    this.showAddMenuItem = !0
                },
                addPageChanged() {
                    this.newMenuItem.addPage ? this.updateNewPageLink() : this.newMenuItem.path = "/"
                },
                goto(t) {
                    this.$route.path != t && this.$router.push({
                        path: t
                    })
                }
            }
        }
          , k_ = __
          , w_ = i("40dc")
          , C_ = Object(p["a"])(k_, u_, h_, !1, null, null, null)
          , x_ = C_.exports;
        g()(C_, {
            VAppBar: w_["a"],
            VAutocomplete: ku["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VFabTransition: la["c"],
            VIcon: y["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VSwitch: ce["a"],
            VTextField: z["a"]
        });
        var $_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-bottombar",
                style: {
                    "background-color": t.$root.colorToHex(t.backgroundColor)
                }
            }, [t._l(t.buttons, (function(e) {
                return i("component-wrapper", {
                    key: e.id,
                    style: {
                        width: 100 / (t.buttons.length + 1) + "%"
                    },
                    attrs: {
                        config: e
                    }
                })
            }
            )), i("component-wrapper", {
                style: {
                    width: 100 / (t.buttons.length + 1) + "%"
                },
                attrs: {
                    config: t.menuButton
                }
            })], 2)
        }
          , S_ = []
          , D_ = {
            name: "zoezi-bottombar",
            zoezi: {
                title: "Bottom row",
                icon: "mdi-dock-bottom"
            },
            props: {
                buttonsNotLoggedIn: {
                    title: "Buttons - logged out",
                    type: Array,
                    fulltype: "componentlist",
                    default: ()=>[Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "Join",
                            icon: "mdi-card-account-details-star-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "Book",
                            icon: "mdi-home-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "SHOP_VERB",
                            icon: "mdi-cart-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "Log in",
                            icon: "mdi-account-lock-outline"
                        }
                    })],
                    typeinfo: {
                        component: "zoezi-bottom-bar-button",
                        max: 4
                    }
                },
                buttonsLoggedIn: {
                    title: "Buttons - logged in",
                    type: Array,
                    fulltype: "componentlist",
                    default: ()=>[Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "Workouts",
                            icon: "mdi-card-account-details-star-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "Discover",
                            icon: "mdi-home-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "SHOP_VERB",
                            icon: "mdi-cart-outline"
                        }
                    }), Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "My page",
                            icon: "mdi-account-details-outline"
                        }
                    })],
                    typeinfo: {
                        component: "zoezi-bottom-bar-button",
                        max: 4
                    }
                },
                menuButton: {
                    title: "Menu button",
                    type: Object,
                    fulltype: "component",
                    typeinfo: {
                        component: "zoezi-bottom-bar-button"
                    },
                    default: ()=>Yx.makeEmptyConfig({
                        component: "zoezi-bottom-bar-button",
                        props: {
                            title: "More",
                            icon: "mdi-dots-horizontal-circle-outline",
                            openMobileMenu: !0
                        }
                    })
                },
                backgroundColor: {
                    title: "Background color",
                    type: String,
                    fulltype: "color",
                    default: "#ffffff"
                }
            },
            watch: {
                "$vuetify.breakpoint.width": {
                    immediate: !0,
                    handler() {
                        s["default"].nextTick(()=>{
                            let t = this.$refs.r ? this.$refs.c.clientWidth : 0;
                            this.width = t
                        }
                        )
                    }
                }
            },
            computed: {
                buttons() {
                    return this.$store.state.isLoggedIn ? this.buttonsLoggedIn : this.buttonsNotLoggedIn
                }
            },
            data: ()=>({})
        }
          , z_ = D_
          , T_ = (i("4a98"),
        Object(p["a"])(z_, $_, S_, !1, null, null, null))
          , I_ = T_.exports
          , P_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-app", {
                style: {
                    "font-family": t.font
                }
            }, [t.$root.edit && t.$store.state.editMenu ? i("edit-menu") : t._e(), i("component-wrapper", {
                key: t.$vuetify.application.left + "|" + t.$vuetify.application.right,
                style: {
                    left: t.$vuetify.application.left + "px",
                    right: t.$vuetify.application.right + "px",
                    position: "relative",
                    top: t.$root.edit && t.$store.state.editMenu ? "48px" : "0px"
                },
                attrs: {
                    config: t.$root.siteconfig.appbar
                }
            }), !t.$root.edit || t.$store.state.editMenu || t.isInIframe ? t._e() : i("edit-panel", {
                ref: "editpanel",
                attrs: {
                    selectedcomponent: t.$root.selectedEditComponent
                }
            }), !t.isInIframe && t.$root.edit && t.$root.mobilePreview ? i("div", [i("iframe", {
                ref: "mobilePreview",
                staticStyle: {
                    position: "absolute",
                    left: "calc(25% + 75%/2 - 375px/2)",
                    top: "200px",
                    width: "375px",
                    height: "700px",
                    border: "1px solid black",
                    "z-index": "100"
                },
                attrs: {
                    src: t.thisHref
                },
                on: {
                    load: t.mobilePreviewLoaded
                }
            }), i("component-wrapper", {
                staticStyle: {
                    position: "absolute",
                    left: "calc(25% + 75%/2 - 375px/2)",
                    top: "900px",
                    width: "375px",
                    height: "56px",
                    "z-index": "100",
                    opacity: "0"
                },
                attrs: {
                    config: t.$root.siteconfig.bottombar
                }
            })], 1) : t._e(), !t.isInIframe && t.$root.edit && null !== t.$root.revisionPreview ? i("div", [i("div", {
                staticClass: "d-flex my-4",
                staticStyle: {
                    "margin-left": "460px"
                }
            }, [i("div", {
                staticClass: "d-flex flex-column ml-4"
            }, [i("div", {
                staticClass: "headline"
            }, [t._v(t._s(t.$translate("Here below version {0} is shown").format(t.$root.revisionPreview)))]), i("div", [t._v(t._s(t.$root.revisionPreview.created) + ", " + t._s(t.$root.revisionPreview.author))])]), i("v-btn", {
                staticClass: "mx-8",
                attrs: {
                    color: "error"
                },
                on: {
                    click: function(e) {
                        return t.$root.revertToRevision(t.$root.revisionPreview.id)
                    }
                }
            }, [t._v(t._s(t.$translate("Restore to this version"))), i("v-icon", [t._v("mdi-restore")])], 1), i("v-btn", {
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.$root.revisionPreview = null
                    }
                }
            }, [t._v(t._s(t.$translate("Return to current version")))])], 1), !t.isInIframe && t.$root.edit && null !== t.$root.revisionPreview ? i("iframe", {
                key: t.revisionRenderKey,
                staticStyle: {
                    position: "absolute",
                    left: "460px",
                    top: "80px",
                    width: "calc(100% - 460px)",
                    height: "100vh",
                    border: "none",
                    "z-index": "100"
                },
                attrs: {
                    src: t.thisHref + "?revision_id=" + t.$root.revisionPreview.id
                }
            }) : t._e()]) : t._e(), i("v-main", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: !t.$root.mobilePreview && null == t.$root.revisionPreview,
                    expression: "!$root.mobilePreview && $root.revisionPreview == null"
                }],
                class: {
                    "ma-0": t.$root.siteconfig.appbar.props.transparent && !t.$root.edit,
                    "pa-0": t.$root.siteconfig.appbar.props.transparent && !t.$root.edit
                }
            }, [i("router-view"), t.$root.edit && t.$store.state.editMenu && t.$store.state.editComponent ? i("edit-popover", {
                attrs: {
                    component: t.$store.state.editComponent
                }
            }) : t._e(), t.showFooter ? i("v-footer", {
                key: t.footerRenderKey,
                attrs: {
                    padless: ""
                }
            }, [t.$root.edit ? i("v-card", {
                attrs: {
                    width: "100%",
                    flat: "",
                    tile: ""
                },
                on: {
                    click: function(e) {
                        return t.$store.commit("setEditComponent", t.$refs.footer.$children[0])
                    }
                }
            }, [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(t._s(t.$translate("Footer")))])], 1) : t._e(), i("component-wrapper", {
                ref: "footer",
                staticStyle: {
                    width: "100%"
                },
                attrs: {
                    config: t.$root.siteconfig.footer
                }
            })], 1) : t._e(), i("component-wrapper", {
                attrs: {
                    config: t.$root.siteconfig.cookieBar
                }
            }), t.$root.edit || t.isInIframe || !t.hasEditPermission || t.noEditMode || t.isExpoApp() ? t._e() : i("v-btn", {
                staticStyle: {
                    "z-index": "20"
                },
                style: {
                    bottom: t.$vuetify.breakpoint.mobile ? "calc(56px + 16px)" : "16px"
                },
                attrs: {
                    loading: t.$store.state.editModeInitializing,
                    color: "zoezi-edit-color",
                    fab: "",
                    bottom: "",
                    left: "",
                    fixed: ""
                },
                on: {
                    click: function(e) {
                        return t.$root.setEditMode()
                    }
                }
            }, [i("v-icon", [t._v("mdi-cog")])], 1), t.numBookings && t.$root.showMyBookings ? i("v-btn", {
                style: {
                    bottom: t.$vuetify.breakpoint.mobile ? "calc(56px + 16px)" : "16px"
                },
                attrs: {
                    color: "primary",
                    fab: "",
                    bottom: "",
                    right: "",
                    fixed: ""
                },
                on: {
                    click: t.gotoMyPages
                }
            }, [i("v-badge", {
                key: t.numBookings,
                staticClass: "animate__animated animate__heartBeat",
                attrs: {
                    content: t.numBookings,
                    color: "red",
                    value: t.numBookings,
                    left: ""
                }
            }, [i("v-icon", {
                style: {
                    color: t.$root.siteconfig.appbar.props.color
                }
            }, [t._v("mdi-ticket")])], 1)], 1) : t._e(), i("mobile-menu", {
                attrs: {
                    showCheckinButton: t.$root.siteconfig.appbar.props.showCheckinButton,
                    checkinResources: t.$root.siteconfig.appbar.props.checkinResources
                }
            })], 1), t.$vuetify.breakpoint.mobile ? i("component-wrapper", {
                attrs: {
                    config: t.$root.siteconfig.bottombar
                }
            }) : t._e(), i("error-dialog"), i("snack-bar"), i("missing-member-fields"), i("shopping-cart"), i("checkout-done-dialog"), i("add-user-dialog"), i("change-user-dialog"), i("portal-target", {
                attrs: {
                    name: "toolbox",
                    multiple: ""
                }
            }), i("confirm-dialog"), i("adyen-redirect"), i("save-card-dialog"), t.$store.state.user ? i("checkin-dialog", {
                attrs: {
                    resources: t.$store.state.checkinDialog.resources,
                    onlyShowQrScanner: t.$store.state.checkinDialog.onlyShowQrScanner
                },
                model: {
                    value: t.$store.state.checkinDialog.show,
                    callback: function(e) {
                        t.$set(t.$store.state.checkinDialog, "show", e)
                    },
                    expression: "$store.state.checkinDialog.show"
                }
            }) : t._e(), t.showGroupInviteDialog ? i("group-invite-dialog") : t._e()], 1)
        }
          , V_ = []
          , B_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-snackbar", {
                class: t.animate ? "animate__animated animate__shakeX animate__infinite" : void 0,
                staticStyle: {
                    "z-index": "1500"
                },
                attrs: {
                    timeout: -1,
                    transition: !1
                },
                scopedSlots: t._u([{
                    key: "action",
                    fn: function(e) {
                        var s = e.attrs;
                        return [i("v-btn", t._b({
                            staticClass: "zoezi-button-thin",
                            attrs: {
                                color: t.$store.state.snackBar.color,
                                text: ""
                            },
                            on: {
                                click: function(e) {
                                    t.$store.state.snackBar.show = !1
                                }
                            }
                        }, "v-btn", s, !1), [t._v(" Stäng ")])]
                    }
                }]),
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [t._v(" " + t._s(t.$store.state.snackBar.text) + " ")])
        }
          , F_ = []
          , E_ = {
            name: "zoezi-snackbar",
            watch: {
                "$store.state.snackBar.show"(t) {
                    this.show = !!t,
                    t && (this.animate = !0,
                    this.timeout && clearTimeout(this.timeout),
                    this.timeout = setTimeout(()=>{
                        this.animate = !1,
                        this.timeout = null
                    }
                    , 1e3))
                },
                show(t) {
                    t || (this.$store.state.snackBar.show = !1)
                }
            },
            data: ()=>({
                show: !1,
                animate: !1,
                timeout: null
            })
        }
          , O_ = E_
          , M_ = i("2db4")
          , A_ = Object(p["a"])(O_, B_, F_, !1, null, null, null)
          , R_ = A_.exports;
        g()(A_, {
            VBtn: O["a"],
            VSnackbar: M_["a"]
        });
        var L_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-snackbar", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: !t.$store.state.missingMemberFields.disabled,
                    expression: "!$store.state.missingMemberFields.disabled"
                }],
                class: t.animate ? "animate__animated animate__shakeX animate__infinite" : void 0,
                attrs: {
                    timeout: -1,
                    transition: !1,
                    color: "primary"
                },
                scopedSlots: t._u([{
                    key: "action",
                    fn: function(e) {
                        var s = e.attrs;
                        return [i("v-btn", t._b({
                            staticClass: "zoezi-button-thin primarytext--text",
                            attrs: {
                                text: ""
                            },
                            on: {
                                click: function(e) {
                                    t.showDialog = !0
                                }
                            }
                        }, "v-btn", s, !1), [t._v(" " + t._s(t.$translate("Fill in now")) + " ")])]
                    }
                }]),
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [i("span", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.$translate("We're missing some information about you")))]), t.$store.state.user ? i("v-dialog", {
                attrs: {
                    "max-width": "500px",
                    scrollable: "",
                    persistent: t.persistentDialog
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Welcome")) + " " + t._s(t.$store.state.user.firstname) + "! "), t.persistentDialog ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("div", {
                staticClass: "mt-4"
            }, [t._v(t._s(t.$translate("We would like to get to know you a little better")))]), i("v-form", {
                model: {
                    value: t.formValid,
                    callback: function(e) {
                        t.formValid = e
                    },
                    expression: "formValid"
                }
            }, t._l(t.missingFields, (function(e) {
                return i("form-field", {
                    key: e.key,
                    attrs: {
                        field: e,
                        star: ""
                    },
                    model: {
                        value: e.value,
                        callback: function(i) {
                            t.$set(e, "value", i)
                        },
                        expression: "field.value"
                    }
                })
            }
            )), 1)], 1), i("div", {
                staticClass: "d-flex flex-column ma-2"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin mb-2 primarytext--text",
                attrs: {
                    block: "",
                    color: "primary",
                    disabled: !t.formValid,
                    loading: t.saving
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))])], 1)], 1)], 1) : t._e()], 1)
        }
          , j_ = []
          , N_ = {
            name: "zoezi-missing-member-fields",
            components: {
                FormField: Ee["a"]
            },
            watch: {
                "$store.state.missingMemberFields.show"(t) {
                    this.show = !!t,
                    t && (this.animate = !0,
                    this.timeout && clearTimeout(this.timeout),
                    this.timeout = setTimeout(()=>{
                        this.animate = !1,
                        this.timeout = null
                    }
                    , 1e3))
                },
                show(t) {
                    t || (this.$store.state.missingMemberFields.show = !1)
                },
                "$store.state.user"() {
                    this.checkMissingFields()
                },
                "$store.state.settings.fields"() {
                    this.checkMissingFields()
                },
                hasMissingRequiredFields(t) {
                    t ? (this.showDialog = !0,
                    this.$store.commit("setCheckoutHidden", !0)) : this.$store.commit("setCheckoutHidden", !1)
                },
                "$store.state.isLoggedIn"(t) {
                    t || (this.showDialog = !1,
                    this.$store.commit("showMissingMemberFields", !1),
                    this.missingFields = null)
                }
            },
            computed: {
                hasMissingRequiredFields() {
                    if (this.missingFields && this.missingFields.length) {
                        var t;
                        let e = null === (t = this.missingFields) || void 0 === t ? void 0 : t.find(t=>t.required);
                        return !!e
                    }
                    return !1
                },
                persistentDialog() {
                    return this.hasMissingRequiredFields
                }
            },
            data: ()=>({
                show: !1,
                animate: !1,
                timeout: null,
                showDialog: !1,
                protectedFields: ["personalCodeNumber", "phone", "oldphone", "city", "zipCode", "address", "extraInfo", "gender", "birthdate"],
                missingFields: null,
                formValid: !1,
                saving: !1
            }),
            methods: {
                checkMissingFields() {
                    var t, e;
                    if (this.showDialog && this.missingFields)
                        return;
                    let i = this.$store.state.user
                      , s = null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.fields;
                    if (!i || !s || i.superUser)
                        return;
                    this.missingFields = [];
                    let a = []
                      , o = [];
                    s.forEach(t=>{
                        if (t.required && t.builtIn && "personalCodeNumber" == t.name && i.noPcode)
                            return;
                        if (i.isProtected && t.required && t.builtIn && -1 != this.protectedFields.indexOf(t.name))
                            return;
                        if (t.required && t.builtIn && i.company && -1 != ["firstname", "gender", "birthdate"].indexOf(t.name))
                            return;
                        let e = t.builtIn ? t.name : "xf" + t.name;
                        if (-1 == ["password", "checkbox", "image"].indexOf(t.type) && t.changeable_by_member && !i[e]) {
                            t = Object.assign({}, t, {
                                value: null,
                                key: t.builtIn + t.name
                            });
                            let e = t.required ? a : o;
                            e.push(t)
                        }
                    }
                    ),
                    a.length + o.length > 0 && (this.missingFields = a.concat(o))
                },
                save() {
                    let t = {};
                    this.missingFields.forEach(e=>{
                        e.builtIn ? t[e.name] = e.value : (t.xf || (t.xf = {}),
                        t.xf[e.name] = e.value)
                    }
                    ),
                    this.saving = !0,
                    this.$api.post("/api/memberapi/change", t).then(t=>{
                        this.saving = !1,
                        t.ok ? (this.showDialog = !1,
                        this.$store.commit("showMissingMemberFields", !1)) : t.json().then(t=>{
                            let e = this.$translate(t.message);
                            this.$store.commit("showSnackBar", {
                                text: e
                            })
                        }
                        )
                    }
                    )
                }
            }
        }
          , W_ = N_
          , q_ = Object(p["a"])(W_, L_, j_, !1, null, null, null)
          , H_ = q_.exports;
        g()(q_, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VSnackbar: M_["a"]
        });
        var U_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                style: {
                    "--animate-duration": t.animationDuration + "ms"
                }
            }, [i("transition", {
                attrs: {
                    appear: "",
                    "enter-active-class": "animate__animated animate__slideInRight",
                    "leave-active-class": "animate__animated animate__slideOutRight"
                }
            }, [t.$store.state.showMobileMenu ? i("div", {
                directives: [{
                    name: "click-outside",
                    rawName: "v-click-outside",
                    value: {
                        handler: t.onClickOutside
                    },
                    expression: "{handler: onClickOutside}"
                }],
                staticClass: "zoezi-mobile-menu-inner elevation-4",
                staticStyle: {
                    "max-height": "calc(100vh - 112px)"
                }
            }, [i("v-sheet", {
                attrs: {
                    color: t.$root.siteconfig.appbar.props.backgroundColor
                }
            }, [i("v-list", {
                staticStyle: {
                    background: "inherit"
                },
                attrs: {
                    nav: "",
                    dense: ""
                }
            }, [i("v-list-item-group", t._l(t.$root.siteconfig.buttons, (function(t) {
                return i("component-wrapper", {
                    key: t.id,
                    attrs: {
                        config: t,
                        "can-remove": ""
                    }
                })
            }
            )), 1)], 1), t.$store.state.isLoggedIn && t.canCheckin && t.showCheckinButton ? i("div", {
                staticClass: "px-4 pt-4 pb-2"
            }, [i("checkin-button", {
                attrs: {
                    component: {
                        component: "zoezi-button",
                        props: {
                            block: !0,
                            text: t.$translate("CHECKIN")
                        }
                    },
                    checkinResources: t.checkinResources
                },
                on: {
                    clicked: function(e) {
                        t.$store.state.showMobileMenu = !1
                    }
                }
            })], 1) : t._e(), t.canChangeDomain ? i("div", {
                staticClass: "px-4 pb-2"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.changeDomain
                }
            }, [t._v(t._s(t.$translate("Change domain")))])], 1) : t._e(), t.canChangeToStaffPage ? i("div", {
                staticClass: "px-4 pb-2"
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.changeToStaffPage
                }
            }, [t._v(t._s(t.$translate("Staff page")))])], 1) : t._e()], 1)], 1) : t._e()])], 1)
        }
          , Y_ = []
          , G_ = {
            name: "zoezi-mobile-menu",
            components: {
                CheckinButton: Dp
            },
            props: {
                showCheckinButton: {
                    title: "Show button to Check in",
                    type: Boolean,
                    default: !0
                },
                checkinResources: {
                    title: "Resources to be displayed at check-in",
                    type: Array,
                    fulltype: "select",
                    typeinfo: {
                        multiple: !0,
                        text: "name",
                        value: "id",
                        getItems: ()=>[]
                    },
                    default: ()=>[]
                }
            },
            methods: {
                onClickOutside() {
                    this.$store.commit("setShowMobileMenu", !1)
                },
                changeDomain() {
                    window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "changeDomain"
                    }))
                },
                changeToStaffPage() {
                    window.ReactNativeWebView && window.ReactNativeWebView.postMessage(JSON.stringify({
                        type: "changeToStaffPage"
                    }))
                },
                showCheckinDialog() {
                    this.$store.commit("showCheckinDialog", {
                        checkinResources: this.checkinResources
                    })
                }
            },
            computed: {
                canCheckin() {
                    return Object(o["u"])() || this.$api.hasPermission("Entry handling")
                },
                canChangeDomain() {
                    return Object(o["t"])() && window.canChangeDomain
                },
                canChangeToStaffPage() {
                    var t;
                    return Object(o["t"])() && (null === (t = this.$store.state.user) || void 0 === t ? void 0 : t.isAdmin)
                },
                computedCheckinResources() {
                    return this.checkinResources.map(t=>({
                        ...t,
                        name: t.name || t.title
                    }))
                }
            },
            data: ()=>({
                animationDuration: 400
            })
        }
          , K_ = G_
          , Q_ = (i("8fe9"),
        i("a293"))
          , J_ = Object(p["a"])(K_, U_, Y_, !1, null, null, null)
          , X_ = J_.exports;
        g()(J_, {
            VBtn: O["a"],
            VList: S["a"],
            VListItemGroup: ca["a"],
            VSheet: ue["a"]
        }),
        rr()(J_, {
            ClickOutside: Q_["a"]
        });
        var Z_ = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-bottom-sheet"), t.showCartInfoBar ? i("div", {
                staticStyle: {
                    height: "104px"
                }
            }) : t._e(), i("transition", {
                attrs: {
                    name: "bottom-sheet-transition"
                }
            }, [t.showCartInfoBar ? i("div", {
                staticClass: "v-dialog__content v-dialog__content--active",
                staticStyle: {
                    "z-index": "202",
                    height: "auto"
                },
                style: {
                    bottom: t.$vuetify.breakpoint.mobile ? "56px" : "0px"
                },
                attrs: {
                    tabindex: "-1"
                },
                on: {
                    click: function(e) {
                        t.cart.showCheckout = !0
                    }
                }
            }, [i("div", {
                staticClass: "v-dialog v-bottom-sheet v-dialog--active v-dialog--persistent",
                staticStyle: {
                    "max-width": "600px"
                }
            }, [i("div", [i("v-sheet", {
                staticClass: "d-flex flex-row",
                attrs: {
                    color: "primarytext"
                }
            }, [i("v-icon", {
                staticClass: "ml-2",
                attrs: {
                    color: "primary",
                    large: ""
                }
            }, [t._v("mdi-cart-outline")]), i("div", {
                staticClass: "ma-4 font-weight-bold"
            }, [i("v-scale-transition", {
                attrs: {
                    "leave-absolute": ""
                }
            }, [i("div", {
                key: "cartText" + t.cartText,
                domProps: {
                    textContent: t._s(t.cartText)
                }
            })]), i("div", [t._v(t._s(t.cartPriceString))])], 1), i("v-spacer"), i("v-btn", {
                staticClass: "ma-4 zoezi-button-thin",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.cart.showCheckout = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Go to Checkout")))])], 1)], 1)])]) : t._e()]), t.cart && t.cart.showCheckout && !t.$store.state.checkoutHidden ? i("bottom-dialog", {
                attrs: {
                    scrollable: "",
                    "max-width": "850px",
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.cart.showCheckout,
                    callback: function(e) {
                        t.$set(t.cart, "showCheckout", e)
                    },
                    expression: "cart.showCheckout"
                }
            }, [i("v-card", {
                staticClass: "zoezi-bottom-sheet",
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Complete the purchase")) + " "), t.checkoutLoading ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.cart.showCheckout = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "z-no-x-scroll pb-0",
                class: {
                    "px-2": t.$vuetify.breakpoint.mobile
                },
                staticStyle: {
                    "min-height": "50vh"
                }
            }, [i("checkout", {
                ref: "checkout",
                staticClass: "overflow-y-auto",
                attrs: {
                    useCart: !0,
                    cartName: t.cartName,
                    items: [],
                    "expand-first-item": !1,
                    "show-summary": !0,
                    "show-back-link": !1,
                    "show-payment-button": !1,
                    "new-style-done-dialog": !0,
                    "site-id": t.cart.site_id,
                    "content-target": "checkoutcontent",
                    dialog: !0
                },
                on: {
                    done: function(e) {
                        return t.clearCart()
                    },
                    loading: function(e) {
                        t.checkoutLoading = e
                    },
                    changeNumberOfItems: t.changeNumberOfItems,
                    changeItemUsers: t.changeItemUsers,
                    readyToPay: function(e) {
                        t.readyToPay = e
                    },
                    cost: function(e) {
                        t.cost = e
                    },
                    mustSelectUsers: function(e) {
                        t.mustSelectUsers = e
                    },
                    paymentMethod: function(e) {
                        t.paymentMethod = e
                    }
                },
                scopedSlots: t._u([{
                    key: "content",
                    fn: function() {
                        return [i("stepper-content", {
                            attrs: {
                                steps: t.steps
                            },
                            scopedSlots: t._u([{
                                key: "checkout",
                                fn: function() {
                                    return [i("portal-target", {
                                        attrs: {
                                            name: "checkoutcontent"
                                        }
                                    })]
                                },
                                proxy: !0
                            }, {
                                key: "membership",
                                fn: function() {
                                    return [i("membership-checkout", {
                                        attrs: {
                                            items: t.checkoutItems,
                                            "cart-name": t.cartName
                                        }
                                    })]
                                },
                                proxy: !0
                            }], null, !1, 1914947961),
                            model: {
                                value: t.currentStep,
                                callback: function(e) {
                                    t.currentStep = e
                                },
                                expression: "currentStep"
                            }
                        })]
                    },
                    proxy: !0
                }], null, !1, 3838837526)
            })], 1), i("v-card-actions", [i("stepper", {
                ref: "stepper",
                attrs: {
                    steps: t.steps,
                    disabled: t.checkoutLoading,
                    "show-title": t.steps.length > 1
                },
                on: {
                    cancel: function(e) {
                        t.cart.showCheckout = !1
                    }
                },
                model: {
                    value: t.currentStep,
                    callback: function(e) {
                        t.currentStep = e
                    },
                    expression: "currentStep"
                }
            })], 1)], 1)], 1) : t._e()], 1)
        }
          , tk = []
          , ek = {
            name: "zoezi-shopping-cart",
            watch: {
                checkoutItems(t, e) {
                    e && e.length && this.cart && this.cart.showCheckout && (!t || 0 == t.length) && (this.cart.showCheckout = !1,
                    this.cart.showBottomBar = !1)
                },
                membershipStillRequired: {
                    immediate: !0,
                    handler(t) {
                        t ? this.currentStep = 0 : this.$booking.isMembershipRequired(this.checkoutItems) ? this.currentStep = 1 : this.currentStep = 0
                    }
                }
            },
            computed: {
                cartName() {
                    return this.$store.state.carts ? Object.keys(this.$store.state.carts).find(t=>{
                        let e = this.$store.state.carts[t];
                        return e.showBottomBar || e.showCheckout
                    }
                    ) : null
                },
                cart() {
                    return this.products && 0 != this.products.length && null !== this.cartName ? this.$store.state.carts[this.cartName] : null
                },
                checkoutItems() {
                    return this.cart ? this.cart.items.map(t=>{
                        let e = {};
                        return Object.assign(e, t),
                        e.product = this.products.find(e=>e.id == t.product_id),
                        e
                    }
                    ) : []
                },
                productCount() {
                    let t = 0;
                    return this.checkoutItems.forEach(e=>t += e.count || 1),
                    t
                },
                cartPriceString() {
                    return Object(o["l"])(this.checkoutItems)
                },
                showCartInfoBar() {
                    return !this.$root.edit && this.checkoutItems.length > 0 && this.cart && this.cart.showBottomBar && !this.cart.showCheckout && !this.$store.state.checkoutHidden
                },
                cartText() {
                    if (1 == this.checkoutItems.length) {
                        let t = this.checkoutItems[0];
                        const e = this.$translate("pcs")
                          , i = this.$translate("article");
                        let s = t.product ? t.product.name : t.service ? t.service.name : i;
                        return 1 == t.count ? s : `${t.count} ${e} ${s}`
                    }
                    return 1 == this.productCount ? "1 " + this.$translate("article") : `${this.productCount} ${this.$translate("articles")}`
                },
                membershipStillRequired() {
                    return this.$booking.isMembershipStillRequired(this.checkoutItems)
                },
                steps() {
                    let t = this.cost > 0 ? `${this.$translate("Pay")} ${Object(o["i"])(this.cost)}` : this.$translate("Confirm Purchase");
                    this.$store.state.user ? this.mustSelectUsers ? t = this.$translate("Who will receive the product?") : "unknown" == this.paymentMethod || "invoice" == this.paymentMethod || "directdebit" == this.paymentMethod ? t = `${this.$translate("Confirm purchase")} ${Object(o["i"])(this.cost)}` : !this.paymentMethod && this.cost > 0 && (t = this.$translate("Choose payment method")) : t = this.$translate("Identify yourself");
                    let e = [];
                    if (this.$booking.isMembershipRequired(this.checkoutItems)) {
                        let t = !this.$booking.isMembershipStillRequired(this.checkoutItems);
                        e.push({
                            title: this.$translate("Membership"),
                            id: "membership",
                            complete: t,
                            nextTitle: this.$translate(t ? "Continue" : "Choose membership")
                        })
                    }
                    let i = {
                        label: this.$translate("Continue shopping"),
                        clicked: ()=>this.cart.showCheckout = !1,
                        disabled: !1
                    };
                    return e.push({
                        title: this.$translate("Complete"),
                        id: "checkout",
                        nextTitle: t,
                        nextColor: "#7bbd1b",
                        nextDark: !0,
                        nextClicked: this.pay,
                        nextLoading: this.checkoutLoading,
                        complete: this.readyToPay,
                        extraButton: i
                    }),
                    e
                }
            },
            components: {
                BottomDialog: $e["a"],
                Checkout: xe["a"],
                Stepper: Se["a"],
                StepperContent: Oe["a"],
                MembershipCheckout: Xs["a"]
            },
            data: ()=>({
                products: [],
                checkoutLoading: !1,
                readyToPay: !1,
                cost: 0,
                currentStep: 0,
                mustSelectUsers: !1,
                paymentMethod: null
            }),
            methods: {
                clearCart() {
                    this.$store.dispatch("removeCart", {
                        cartName: this.cartName
                    })
                },
                changeNumberOfItems(t, e) {
                    this.$store.dispatch("changeItemCountInCart", {
                        cartName: this.cartName,
                        product_id: t.product_id,
                        variant: t.variant,
                        count: e,
                        tmp_id: t.tmp_id
                    })
                },
                changeItemUsers(t, e) {
                    this.$store.dispatch("changeItemUsersInCart", {
                        cartName: this.cartName,
                        product_id: t.product_id,
                        variant: t.variant,
                        users: e
                    })
                },
                loadProducts() {
                    this.$api.get("/api/public/trainingcard/type/get", {
                        trial: !0
                    }).then(t=>{
                        this.products = t
                    }
                    )
                },
                pay() {
                    this.$refs.checkout.completePurchase()
                }
            },
            mounted() {
                this.loadProducts()
            }
        }
          , ik = ek
          , sk = i("288c")
          , ak = Object(p["a"])(ik, Z_, tk, !1, null, null, null)
          , ok = ak.exports;
        g()(ak, {
            VBottomSheet: sk["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VIcon: y["a"],
            VScaleTransition: la["e"],
            VSheet: ue["a"],
            VSpacer: J["a"]
        });
        var nk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": this.orderconfirmation && this.orderconfirmation.length ? 500 : 360
                },
                model: {
                    value: t.c.show,
                    callback: function(e) {
                        t.$set(t.c, "show", e)
                    },
                    expression: "c.show"
                }
            }, [i("v-sheet", {
                attrs: {
                    color: "primary"
                }
            }, [i("div", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.c.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("div", {
                staticClass: "mb-4 d-flex justify-center white--text"
            }, [i("v-icon", {
                staticClass: "white--text",
                attrs: {
                    "x-large": ""
                }
            }, [t._v("mdi-checkbox-marked-circle-outline")]), i("span", {
                staticClass: "text-h4 ml-4"
            }, [t._v(t._s(t.$translate("Done!")))])], 1), i("div", {
                staticClass: "d-flex"
            }, [i("v-avatar", {
                staticClass: "mx-2",
                attrs: {
                    size: "60"
                }
            }, [i("v-auto-img", {
                attrs: {
                    src: t.$root.siteconfig.appbar.props.logo
                }
            })], 1), i("v-card", {
                staticClass: "ma-2"
            }, [i("v-card-text", [i("div", [i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.thankYouText))])])])], 1)], 1), t.orderconfirmation && t.orderconfirmation.length ? i("div", {
                staticClass: "d-flex"
            }, [i("v-card", {
                staticClass: "ma-2",
                attrs: {
                    "min-width": "80%"
                }
            }, [i("v-card-text", [i("div", {
                staticClass: "d-flex font-weight-bold"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("You bought")))])]), t._l(t.orderconfirmation, (function(e, s) {
                return i("div", {
                    key: s
                }, [t._v(" " + t._s(e.title) + " ")])
            }
            )), t.totalFromServer > 0 ? [i("v-divider"), i("div", {
                staticClass: "d-flex"
            }, [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Total")))]), i("div", [t._v(t._s(t._f("price")(t.totalFromServer)))])])] : t._e(), "invoice" == t.paidByMethod ? i("div", [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate("The invoice is sent to the provided email address.")) + " "), i("br"), t._v(" " + t._s(t.$translate('You can also retrieve it later under "My Pages">"Payments".')) + " ")])], 1) : "directdebit" == t.paidByMethod ? i("div", [i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate('You can view the direct debit invoice under "My pages">"Payments" afterwards.')) + " ")])], 1) : i("div", [t.hasReceipt ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: ""
                },
                on: {
                    click: t.getReceipt
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-document-outline")]), t._v(" " + t._s(t.$translate("Get receipt")) + " ")], 1) : t._e()], 1)], 2)], 1), i("v-avatar", {
                staticClass: "elevation-2",
                attrs: {
                    size: "64",
                    color: "white"
                }
            }, [i("v-icon", {
                attrs: {
                    "x-large": "",
                    color: "primary"
                }
            }, [t._v("mdi-cart-outline")])], 1)], 1) : t._e()])], 1)
        }
          , rk = []
          , lk = {
            name: "zoezi-checkout-done-dialog",
            computed: {
                c() {
                    return this.$store.state.checkoutDoneDialog
                },
                orderconfirmation() {
                    return this.c.orderconfirmation
                },
                totalFromServer() {
                    return this.c.totalFromServer
                },
                paidByMethod() {
                    return this.c.paidByMethod
                },
                hasReceipt() {
                    return this.orderconfirmation && this.orderconfirmation.length && this.orderconfirmation[0].bundle_id && "unknown" != this.paidByMethod
                },
                thankYouText() {
                    return this.c.thankYouText || this.$translate("Thank you for your purchase!")
                }
            },
            methods: {
                getReceipt() {
                    let t = this.orderconfirmation[0].bundle_id;
                    if (Object(o["t"])()) {
                        let e = {
                            api: {
                                url: "current",
                                path: "/api/memberapi/receipt/get",
                                args: {
                                    id: t
                                }
                            },
                            type: "pdf"
                        };
                        window.ReactNativeWebView.postMessage(JSON.stringify({
                            type: "openFile",
                            data: e
                        }))
                    } else
                        this.$api.get("/api/memberapi/receipt/get", {
                            id: t
                        }, {
                            blob: !0
                        }).then(t=>{
                            Object(o["g"])({
                                filename: this.$translate("Receipt") + ".pdf",
                                data: t,
                                type: "application/pdf"
                            })
                        }
                        )
                }
            }
        }
          , ck = lk
          , dk = Object(p["a"])(ck, nk, rk, !1, null, null, null)
          , uk = dk.exports;
        g()(dk, {
            VAlert: He["a"],
            VAvatar: f["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VDialog: K["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VSheet: ue["a"]
        });
        var hk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.e.show ? i("bottom-dialog", {
                attrs: {
                    "max-width": "550px",
                    dialog: !t.$vuetify.breakpoint.mobile,
                    scrollable: ""
                },
                model: {
                    value: t.e.show,
                    callback: function(e) {
                        t.$set(t.e, "show", e)
                    },
                    expression: "e.show"
                }
            }, [i("v-card", {
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text",
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.e.title) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.e.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("v-form", {
                attrs: {
                    autocomplete: "off"
                },
                model: {
                    value: t.addUserFormValid,
                    callback: function(e) {
                        t.addUserFormValid = e
                    },
                    expression: "addUserFormValid"
                }
            }, [t._l(t.visibleChildRegisterFields, (function(e) {
                return i("form-field", {
                    key: e.name,
                    attrs: {
                        field: e,
                        star: "",
                        probe: !1
                    },
                    model: {
                        value: e.value,
                        callback: function(i) {
                            t.$set(e, "value", i)
                        },
                        expression: "field.value"
                    }
                })
            }
            )), t.foundUser ? i("div", {
                staticClass: "mt-2"
            }, [i("div", [t._v(t._s(t.$translate("Connect with")) + " "), i("span", {
                staticClass: "font-weight-bold"
            }, [t._v(t._s(t.foundUser.name))])])]) : t.searchResult ? i("div", {
                staticClass: "mt-2"
            }, [i("div", [t._v(t._s(t.$translate("Found")))]), t._l(t.searchResult, (function(e) {
                return i("div", {
                    key: e.id
                }, [i("span", {
                    staticClass: "font-weight-bold"
                }, [t._v(t._s(e.name))]), t.isConnected(e) ? i("v-btn", {
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            return t.change(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Change association to")) + " " + t._s(e.name.split(" ")[0]))]) : i("v-btn", {
                    attrs: {
                        text: "",
                        color: "primary"
                    },
                    on: {
                        click: function(i) {
                            t.foundUser = e
                        }
                    }
                }, [t._v(t._s(t.$translate("Pair with")) + " " + t._s(e.name.split(" ")[0]))])], 1)
            }
            )), i("v-btn", {
                attrs: {
                    text: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.stopSearching = !0
                    }
                }
            }, [t._v(t._s(t.$translate("I want to add new")))])], 2) : t.enteredOwnPcode ? i("div", [i("span", {
                staticClass: "error--text"
            }, [t._v(t._s(t.$translate("You have entered your own social security number")))])]) : t._e(), !t.foundUser && t.searchResult || t.enteredOwnPcode ? t._e() : i("div", {
                staticClass: "zoezi-family-booking-rules"
            }, [i("v-expansion-panels", {
                model: {
                    value: t.expandedPanel,
                    callback: function(e) {
                        t.expandedPanel = e
                    },
                    expression: "expandedPanel"
                }
            }, [i("v-expansion-panel", {
                staticClass: "no-elevation"
            }, [i("v-expansion-panel-header", [i("div", {
                staticClass: "zoezi-activity-section"
            }, [i("h3", [t._v(t._s(t.$translate("Booking rules for the family member")))]), i("small", [t._v(t._s(t.$translate("Here, you can change how you and your family member can book and modify each other's accounts")))])])]), i("v-expansion-panel-content", [i("v-checkbox", {
                attrs: {
                    label: t.$translate(t.foundUser ? "Apply to manage the account for" : "Manage the account for") + " " + t.firstname
                },
                model: {
                    value: t.manage,
                    callback: function(e) {
                        t.manage = e
                    },
                    expression: "manage"
                }
            }), i("v-checkbox", {
                attrs: {
                    label: t.$translate(t.foundUser ? "Apply to book for" : "Book for") + " " + t.firstname
                },
                model: {
                    value: t.book,
                    callback: function(e) {
                        t.book = e
                    },
                    expression: "book"
                }
            }), i("v-checkbox", {
                attrs: {
                    label: t.$translate("You should always pay for") + " " + t.firstname
                },
                model: {
                    value: t.pay,
                    callback: function(e) {
                        t.pay = e
                    },
                    expression: "pay"
                }
            }), i("v-checkbox", {
                attrs: {
                    label: t.$translate(t.allowBookText)
                },
                model: {
                    value: t.book_me,
                    callback: function(e) {
                        t.book_me = e
                    },
                    expression: "book_me"
                }
            }), i("v-checkbox", {
                attrs: {
                    label: t.$translate(t.allowManageText)
                },
                model: {
                    value: t.manage_me,
                    callback: function(e) {
                        t.manage_me = e
                    },
                    expression: "manage_me"
                }
            })], 1)], 1)], 1)], 1)], 2)], 1), !t.foundUser && t.searchResult || t.enteredOwnPcode ? t._e() : i("v-card-actions", [i("v-spacer"), t.foundUser ? t.manage || t.book ? i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.changingPermission,
                    disabled: !t.addUserFormValid
                },
                on: {
                    click: t.changePermission
                }
            }, [t._v(t._s(t.$translate("Send application to")) + " " + t._s(t.firstname))]) : t.manage || t.book || !t.manage_me && !t.book_me ? t._e() : i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.changingPermission,
                    disabled: !t.addUserFormValid
                },
                on: {
                    click: t.changePermission
                }
            }, [t._v(t._s(t.addText))]) : i("v-btn", {
                attrs: {
                    color: "primary",
                    loading: t.addUserLoading,
                    disabled: !t.addUserFormValid || !(t.book || t.manage || t.book_me || t.manage_me)
                },
                on: {
                    click: t.addUser
                }
            }, [t._v(t._s(t.$translate("Add")) + " " + t._s(t.firstname))])], 1)], 1)], 1) : t._e()
        }
          , mk = []
          , pk = {
            name: "zoezi-add-user-dialog",
            components: {
                BottomDialog: $e["a"]
            },
            watch: {
                "e.show"() {
                    if (this.e.show) {
                        this.childRegisterFields = this.$store.state.settings.fields.filter(t=>this.e.booking_fields ? t.child : t.register || t.builtIn && "personalCodeNumber" == t.name && (t.show || t.changeable_by_member)).map(t=>(t = Object.assign({}, t, {
                            value: null,
                            required: this.e.booking_fields ? t.required_child : t.required
                        }),
                        t));
                        let t = this.childRegisterFields.find(t=>t.builtIn && "mail" == t.name);
                        t && (this.childRegisterFields.splice(this.childRegisterFields.indexOf(t), 1),
                        this.childRegisterFields.unshift(t),
                        this.mailField = t);
                        let e = this.childRegisterFields.find(t=>t.builtIn && "personalCodeNumber" == t.name);
                        e && (this.childRegisterFields.splice(this.childRegisterFields.indexOf(e), 1),
                        this.childRegisterFields.unshift(e),
                        this.pcodeField = e),
                        this.book = this.manage = !0,
                        this.book_me = this.manage_me = this.pay = !1,
                        this.searchResult = null,
                        this.foundUser = null,
                        this.stopSearching = !1
                    }
                },
                "mailField.value"() {
                    this.searchUser()
                },
                "pcodeField.value"() {
                    this.searchUser()
                },
                stopSearching(t) {
                    t && (this.foundUser = null,
                    this.searchResult = null)
                }
            },
            data: ()=>({
                childRegisterFields: [],
                foundUser: null,
                addUserFormValid: !1,
                addUserLoading: !1,
                book: !1,
                manage: !1,
                pay: !1,
                book_me: !1,
                manage_me: !1,
                mailField: null,
                pcodeField: null,
                searchResult: null,
                stopSearching: !1,
                changingPermission: !1,
                matchingFields: [],
                expandedPanel: 0
            }),
            computed: {
                e() {
                    return this.$store.state.addUserDialog
                },
                firstname() {
                    var t;
                    return (this.foundUser ? this.foundUser.name.split(" ")[0] : null === (t = this.childRegisterFields.find(t=>t.builtIn && "firstname" == t.name)) || void 0 === t ? void 0 : t.value) || this.$translate("the person")
                },
                allowBookText() {
                    return this.$translate("Allow {0} to book and cancel activities for you").format(this.firstname)
                },
                allowManageText() {
                    return this.$translate("Allow {0} to manage your account").format(this.firstname)
                },
                visibleChildRegisterFields() {
                    return this.enteredOwnPcode ? [this.pcodeField] : this.foundUser || this.searchResult ? this.matchingFields : this.childRegisterFields
                },
                addText() {
                    if (this.manage_me || this.book_me) {
                        let t = this.manage_me ? "Add {0} as manager" : "Add {0} as booker";
                        return this.$translate(t).format(this.firstname)
                    }
                    return ""
                },
                enteredOwnPcode() {
                    return this.pcodeField && this.pcodeField.value && Object(o["C"])(this.pcodeField.value) == this.$store.state.user.personalCodeNumber
                }
            },
            methods: {
                addUser() {
                    let t = {
                        xf: {}
                    };
                    this.childRegisterFields.forEach(e=>{
                        e.builtIn ? t[e.name] = e.value : t.xf[e.name] = e.value
                    }
                    ),
                    this.e.homesite_id && (t.homesite_id = this.e.homesite_id),
                    this.addUserLoading = !0,
                    this.$api.post("/api/memberapi/child/add", t, {
                        book: this.book,
                        manage: this.manage,
                        book_me: this.book_me,
                        manage_me: this.manage_me,
                        pay: this.pay,
                        full: !this.e.booking_fields
                    }).then(t=>{
                        this.addUserLoading = !1,
                        t.json().then(e=>{
                            if (t.ok) {
                                var i, s;
                                null === (i = (s = this.e).callback) || void 0 === i || i.call(s, e),
                                this.e.show = !1
                            } else {
                                let t = this.$translate(e.message);
                                this.$store.commit("showSnackBar", {
                                    text: t
                                })
                            }
                        }
                        )
                    }
                    )
                },
                searchUser() {
                    if (this.stopSearching)
                        return;
                    this.foundUser = null,
                    this.searchResult = null,
                    this.matchingFields = [];
                    let t = this.pcodeField && Object(o["y"])(this.pcodeField.value) ? this.pcodeField.value : null
                      , e = this.mailField && Object(o["w"])(this.mailField.value) ? this.mailField.value : null;
                    (t || e) && this.$api.get("/api/user/probe", {
                        personalCodeNumber: t,
                        mail: e
                    }).then(i=>{
                        i.exists && (this.matchingFields = [],
                        t && this.matchingFields.push(this.pcodeField),
                        e && this.matchingFields.push(this.mailField),
                        i.users = i.users.filter(t=>t.id != this.$store.state.user.id),
                        1 != i.users.length || e || this.isConnected(i.users[0]) ? i.users.length && (this.searchResult = i.users) : this.foundUser = i.users[0])
                    }
                    )
                },
                changePermission() {
                    this.changingPermission = !0;
                    let t = {
                        id: this.foundUser.id,
                        book_me: this.book_me,
                        manage_me: this.manage_me,
                        book: this.book,
                        manage: this.manage
                    };
                    this.$api.post("/api/memberapi/change", t).then(()=>{
                        this.changingPermission = !1,
                        this.e.show = !1
                    }
                    )
                },
                isConnected(t) {
                    return !!this.$store.state.user.canManage.find(e=>e.id == t.id) || !!this.$store.state.user.canBookFor.find(e=>e.id == t.id)
                },
                change(t) {
                    this.$store.commit("showChangeUserDialog", {
                        user_id: t.id
                    })
                }
            }
        }
          , vk = pk
          , gk = Object(p["a"])(vk, hk, mk, !1, null, null, null)
          , fk = gk.exports;
        g()(gk, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCheckbox: b["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VForm: Ye["a"],
            VIcon: y["a"],
            VSpacer: J["a"]
        });
        var bk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.e.show ? i("bottom-dialog", {
                attrs: {
                    "max-width": "550px",
                    scrollable: "",
                    dialog: !0
                },
                model: {
                    value: t.e.show,
                    callback: function(e) {
                        t.$set(t.e, "show", e)
                    },
                    expression: "e.show"
                }
            }, [i("v-card", {
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.user && t.user.name) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.e.show = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t._l(t.permissions, (function(e) {
                return i("v-checkbox", {
                    key: e.id,
                    attrs: {
                        label: e.title,
                        disabled: e.disabled
                    },
                    model: {
                        value: t.permissionValues[e.id],
                        callback: function(i) {
                            t.$set(t.permissionValues, e.id, i)
                        },
                        expression: "permissionValues[p.id]"
                    }
                })
            }
            )), t.fullUserLoading ? i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            }) : t.initialPermissionValues.manage ? i("account", {
                attrs: {
                    user: t.fullUser,
                    "debounce-emit": !1
                },
                on: {
                    input: t.userChanged
                }
            }) : t._e()], 2), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: "",
                    loading: t.saving,
                    disabled: !t.valuesChanged
                },
                on: {
                    click: t.changeUser
                }
            }, [t._v(t._s(t.$translate(t.saveTitle)))])], 1)], 1)], 1) : t._e()
        }
          , yk = []
          , _k = {
            name: "zoezi-change-user-dialog",
            components: {
                BottomDialog: $e["a"],
                Account: To
            },
            watch: {
                "e.show": {
                    immediate: !0,
                    handler(t) {
                        t && (Object.assign(this.permissionValues, this.initialPermissionValues),
                        this.changedUserData = null,
                        this.loadUser())
                    }
                },
                "$store.state.user"() {
                    this.e.show && this.user_id && this.loadUser()
                }
            },
            data: ()=>({
                fullUser: null,
                changeUserFormValid: !1,
                fullUserLoading: !1,
                permissionValues: {
                    book: !1,
                    book_me: !1,
                    manage: !1,
                    manage_me: !1,
                    pay: !1
                },
                changedUserData: null,
                saving: !1
            }),
            computed: {
                e() {
                    return this.$store.state.changeUserDialog
                },
                user_id() {
                    return this.e.user_id
                },
                firstname() {
                    let t = this.user
                      , e = t.name.split(" ")[0];
                    return e
                },
                firstnames() {
                    let t = this.firstname
                      , e = ["s", "x", "z"].includes(t[t.length - 1]) ? t : t + "s";
                    return e
                },
                user() {
                    let t = this.$store.state.user
                      , e = this.user_id;
                    return t.canBookFor.find(t=>t.id == e) || t.bookers.find(t=>t.id == e) || t.canManage.find(t=>t.id == e) || t.managers.find(t=>t.id == e) || t.paysFor.find(t=>t.id == e)
                },
                initialPermissionValues() {
                    let t = this.$store.state.user
                      , e = this.user_id;
                    return {
                        book: t.canBookFor.some(t=>t.id == e),
                        book_me: t.bookers.some(t=>t.id == e),
                        manage: t.canManage.some(t=>t.id == e),
                        manage_me: t.managers.some(t=>t.id == e),
                        pay: t.paysFor.find(t=>t.id == e)
                    }
                },
                permissions() {
                    if (!this.user)
                        return [];
                    let t = this.firstname
                      , e = this.firstnames;
                    return [{
                        title: this.$translate("{0} can book for you").format(t),
                        id: "book_me"
                    }, {
                        title: this.bookRequested ? this.$translate("You have applied to book for {0}").format(t) : this.$translate("You can book for {0}").format(t),
                        id: "book",
                        disabled: this.bookRequested
                    }, {
                        title: this.$translate("{0} manages your account").format(t),
                        id: "manage_me"
                    }, {
                        title: this.manageRequested ? this.$translate("You have applied to manage {0} account").format(e) : this.$translate("You can manage {0} account").format(e),
                        id: "manage",
                        disabled: this.manageRequested
                    }, {
                        title: this.$translate("You pay for {0}").format(t),
                        id: "pay"
                    }]
                },
                valuesChanged() {
                    return !!this.changedUserData || !Object(a["isEqual"])(this.initialPermissionValues, this.permissionValues)
                },
                bookRequested() {
                    let t = this.$store.state.user;
                    return !!t.requestssent.find(t=>t.user.id == this.user.id && t.book)
                },
                manageRequested() {
                    let t = this.$store.state.user;
                    return !!t.requestssent.find(t=>t.user.id == this.user.id && t.manage)
                },
                submitData() {
                    let t = Object.assign({}, this.changedUserData);
                    return t.id = this.user.id,
                    ["book", "book_me", "manage", "manage_me", "pay"].forEach(e=>{
                        this.initialPermissionValues[e] == this.permissionValues[e] || this.permissions.find(t=>t.id == e).disabled || (t[e] = this.permissionValues[e])
                    }
                    ),
                    t
                },
                saveTitle() {
                    return !this.submitData.book && !this.submitData.manage || this.initialPermissionValues.manage ? "Save" : this.changedUserData ? "Save and apply" : "Apply"
                }
            },
            methods: {
                userChanged(t) {
                    this.changedUserData = t
                },
                changeUser() {
                    this.saving = !0,
                    this.$api.post("/api/memberapi/change", this.submitData).then(()=>{
                        this.changedUserData = null,
                        this.saving = !1,
                        this.e.show = !1
                    }
                    )
                },
                loadUser() {
                    this.fullUser = null,
                    this.permissionValues.manage && (this.fullUserLoading = !0,
                    this.$api.get("/api/memberapi/child/get", {
                        id: this.user_id
                    }).then(t=>{
                        this.fullUser = t,
                        this.fullUserLoading = !1
                    }
                    ).catch(()=>{
                        this.fullUserLoading = !1
                    }
                    ))
                }
            }
        }
          , kk = _k
          , wk = Object(p["a"])(kk, bk, yk, !1, null, null, null)
          , Ck = wk.exports;
        g()(wk, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCheckbox: b["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"]
        });
        var xk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.e.show,
                    callback: function(e) {
                        t.$set(t.e, "show", e)
                    },
                    expression: "e.show"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "fill-width"
            }, [t._v(" " + t._s(t.e.title) + " "), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.e.show = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [t._v(" " + t._s(t.e.text) + " ")]), i("v-card-actions", [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    outlined: ""
                },
                on: {
                    click: function(e) {
                        t.e.show = !1
                    }
                }
            }, [t._v(t._s(t.$translate("Cancel")))]), i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        t.e.show = !1,
                        t.e.action()
                    }
                }
            }, [t._v(" " + t._s(t.e.actionText) + " ")])], 1)], 1)], 1)
        }
          , $k = []
          , Sk = {
            name: "zoezi-confirm-dialog",
            computed: {
                e() {
                    return this.$store.state.confirmDialog
                }
            }
        }
          , Dk = Sk
          , zk = Object(p["a"])(Dk, xk, $k, !1, null, null, null)
          , Tk = zk.exports;
        g()(zk, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSpacer: J["a"]
        });
        var Ik = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("bottom-dialog", {
                attrs: {
                    dialog: !t.$vuetify.breakpoint.mobile,
                    "max-width": "550px",
                    persistent: ""
                },
                model: {
                    value: t.completingPurchase,
                    callback: function(e) {
                        t.completingPurchase = e
                    },
                    expression: "completingPurchase"
                }
            }, [i("v-card", {
                attrs: {
                    tile: "",
                    elevation: "0"
                }
            }, [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text",
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Complete the purchase")) + " ")])]), i("v-card-text", {
                staticClass: "text-center"
            }, [i("v-progress-circular", {
                staticClass: "mt-4 mb-2",
                attrs: {
                    indeterminate: "",
                    color: "primary",
                    size: "64",
                    width: "2"
                }
            }), i("div", [t._v(" " + t._s(t.$translate("Wait for the purchase to be completed...")) + " ")])], 1)], 1)], 1)
        }
          , Pk = []
          , Vk = {
            name: "zoezi-adyen-redirect",
            components: {
                BottomDialog: $e["a"]
            },
            data: ()=>({
                completingPurchase: !1,
                unsubscribeChannel: null
            }),
            watch: {
                redirectResult: {
                    immediate: !0,
                    handler() {
                        this.redirectResult && (this.completingPurchase = !0,
                        this.$store.dispatch("removeCart", {
                            cartName: ""
                        }),
                        this.sendDetails(),
                        this.setupListener())
                    }
                }
            },
            computed: {
                redirectResult() {
                    return this.$route.query.redirectResult
                },
                secret() {
                    return this.$route.query.secret
                },
                channel2() {
                    return this.$route.query.channel2
                }
            },
            methods: {
                unsubscribe() {
                    var t;
                    null === (t = this.unsubscribeChannel) || void 0 === t || t.call(this),
                    this.unsubscribeChannel = null,
                    this.completingPurchase = !1,
                    this.$router.replace({
                        query: {
                            ...this.$route.query,
                            secret: void 0,
                            channel2: void 0,
                            redirectResult: void 0
                        }
                    })
                },
                sendDetails() {
                    const t = e=>{
                        let i = {
                            redirectResult: this.redirectResult
                        };
                        this.$api.post("/api/adyen/paymentdetails", {
                            details: i,
                            secret: this.secret
                        }).catch(()=>{
                            console.log("Failed to send payment details"),
                            e > 0 && setTimeout(()=>t(e - 1), 1e4)
                        }
                        )
                    }
                    ;
                    t(3)
                },
                setupListener() {
                    this.unsubscribeChannel = this.$api.subscribeChannel(this.channel2, t=>{
                        "adyen:details-status" == t.type || ("adyen:system-error" === t.type ? (this.$store.commit("showSnackBar", {
                            text: "Köpet avbröts eller kunde inte genomföras"
                        }),
                        this.unsubscribe()) : "payment" === t.type && (t.success ? this.$store.commit("showCheckoutDoneDialog", {
                            orderconfirmation: t.orderconfirmation,
                            paidByMethod: null,
                            totalFromServer: null
                        }) : this.$store.commit("showSnackBar", {
                            text: "Köpet avbröts eller kunde inte genomföras"
                        }),
                        this.unsubscribe()))
                    }
                    )
                }
            },
            destroyed() {
                this.unsubscribe()
            }
        }
          , Bk = Vk
          , Fk = Object(p["a"])(Bk, Ik, Pk, !1, null, null, null)
          , Ek = Fk.exports;
        g()(Fk, {
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VProgressCircular: Q["a"]
        });
        var Ok = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-snackbar", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: !t.$store.state.missingMemberFields.disabled,
                    expression: "!$store.state.missingMemberFields.disabled"
                }],
                class: t.animate ? "animate__animated animate__shakeX animate__infinite" : void 0,
                attrs: {
                    timeout: -1,
                    transition: !1,
                    color: "primary"
                },
                scopedSlots: t._u([{
                    key: "action",
                    fn: function(e) {
                        var s = e.attrs;
                        return [i("v-btn", t._b({
                            staticClass: "zoezi-button-thin primarytext--text",
                            attrs: {
                                text: ""
                            },
                            on: {
                                click: function(e) {
                                    t.showDialog = !0
                                }
                            }
                        }, "v-btn", s, !1), [t._v(" " + t._s(t.$translate("Fill in now")) + " ")])]
                    }
                }]),
                model: {
                    value: t.show,
                    callback: function(e) {
                        t.show = e
                    },
                    expression: "show"
                }
            }, [i("span", {
                staticClass: "primarytext--text"
            }, [t._v(t._s(t.$translate("We are missing your card details")))]), t.$store.state.user ? i("v-dialog", {
                attrs: {
                    "max-width": "500px",
                    scrollable: "",
                    persistent: t.persistentDialog
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [t._v(" " + t._s(t.$translate("Add card details")) + " "), t.persistentDialog ? t._e() : i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("div", {
                staticClass: "my-4"
            }, [t._v(" " + t._s(t.$translate("You have upcoming payments that will be taken from your credit card. You need to update your card information and add a credit card for the withdrawal to succeed.")) + " ")]), i("my-payment-methods", {
                attrs: {
                    "show-value-card": !1,
                    "show-cards": !0,
                    "show-direct-debit": !1
                }
            })], 1)], 1)], 1) : t._e()], 1)
        }
          , Mk = []
          , Ak = {
            name: "zoezi-save-card-dialog",
            watch: {
                "$store.state.user": {
                    immediate: !0,
                    handler(t) {
                        if (!t)
                            return;
                        const e = t.hasPendingCardPayments && !t.savedCard;
                        this.show = e,
                        this.showDialog = e
                    }
                }
            },
            components: {
                MyPaymentMethods: wn
            },
            data: ()=>({
                show: !1,
                animate: !1,
                timeout: null,
                showDialog: !1,
                persistentDialog: !1
            }),
            methods: {
                refetchUser() {
                    this.$api.get("/api/memberapi/get/current").then(t=>{
                        this.$store.commit("setUserData", {
                            user: t
                        })
                    }
                    )
                }
            },
            mounted() {
                this.$api.subscribe({
                    type: "payment",
                    callback: ()=>{
                        this.show && this.refetchUser()
                    }
                })
            }
        }
          , Rk = Ak
          , Lk = Object(p["a"])(Rk, Ok, Mk, !1, null, null, null)
          , jk = Lk.exports;
        g()(Lk, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSnackbar: M_["a"]
        });
        var Nk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("bottom-dialog", {
                attrs: {
                    dialog: !t.$vuetify.breakpoint.mobile,
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", {
                attrs: {
                    flat: "",
                    tile: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("CHECKIN")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), t.$store.state.isLoggedIn ? i("v-card-text", {
                staticClass: "text-center mt-4"
            }, [t.doors.length ? i("div", t._l(t.doors, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "mb-6"
                }, [i("v-badge", {
                    staticClass: "fill-width",
                    attrs: {
                        color: "red",
                        overlap: "",
                        content: "1 klipp",
                        value: !!e.punch,
                        "offset-x": "40"
                    }
                }, [i("v-btn", {
                    staticClass: "zoezi-button-thin",
                    class: e.buttonClass,
                    attrs: {
                        color: e.buttonColor,
                        block: "",
                        loading: e.opening,
                        disabled: !t.inRangeOf(e)
                    },
                    on: {
                        click: function(i) {
                            return t.doorClick(e)
                        }
                    }
                }, [e.require_qrcode ? i("v-icon", {
                    attrs: {
                        left: ""
                    }
                }, [t._v("mdi-qrcode-scan")]) : t._e(), e.position ? i("v-icon", {
                    attrs: {
                        left: ""
                    }
                }, [t._v("mdi-map-marker")]) : t._e(), t._v(" " + t._s(e.name) + " ")], 1), e.position ? i("div", [t.position ? t.position && !t.inRangeOf(e) ? i("div", {
                    staticClass: "red--text"
                }, [t._v(t._s(t.$translate("You are too far away from this door. Move closer to be able to open it.")))]) : t._e() : i("div", {
                    staticClass: "red--text"
                }, [t._v(t._s(t.$translate("You do not have positioning enabled. Activate it to be able to open this door.")))])]) : t._e()], 1)], 1)
            }
            )), 0) : i("div", [t._v(" " + t._s(t.$translate("Right now there are no doors you can open")) + " ")]), t.showQrScannerBtn ? i("div", [i("div", [t._v(t._s(t.$translate("Are you standing by a QR-code?")))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                class: t.scannerDoor.buttonClass,
                attrs: {
                    color: t.scannerDoor.buttonColor,
                    block: "",
                    loading: t.scannerDoor.opening
                },
                on: {
                    click: function(e) {
                        t.qrDoor = t.scannerDoor,
                        t.showQrScanner = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v(t._s(t.scannerDoor.icon))]), t._v(" " + t._s(t.$translate(t.scannerDoor.text)) + " ")], 1)], 1) : t._e()]) : i("v-card-text", {
                staticClass: "text-center mt-4"
            }, [i("div", [t._v(t._s(t.$translate("You need to log in to be able to check in")))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "primary",
                    block: "",
                    to: "/login"
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Log in")) + " ")])], 1)], 1)], 1), t.showQrScanner ? i("bottom-dialog", {
                attrs: {
                    dialog: !t.$vuetify.breakpoint.mobile
                },
                model: {
                    value: t.showQrScanner,
                    callback: function(e) {
                        t.showQrScanner = e
                    },
                    expression: "showQrScanner"
                }
            }, [i("v-card", {
                attrs: {
                    flat: "",
                    tile: ""
                }
            }, [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Scan QR-code")) + " "), i("v-spacer"), i("v-btn", {
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showQrScanner = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1), t.qrDoor && t.qrDoor.loading ? i("div", {
                staticClass: "d-flex align-center justify-center text-center px-4 py-8"
            }, [t.qrDoor.opening ? i("v-progress-circular", {
                attrs: {
                    color: "primary",
                    indeterminate: "",
                    size: "32"
                }
            }) : i("v-icon", {
                staticClass: "text-h3 my-auto",
                attrs: {
                    color: t.qrDoor.buttonColor
                }
            }, [t._v(t._s(t.qrDoor.success ? "mdi-checkbox-marked-circle" : "mdi-alert-circle"))]), t.qrDoor.opening ? t._e() : i("span", {
                staticClass: "text-h4 ml-2"
            }, [t._v(t._s(t.$translate(t.qrDoor.reason)))])], 1) : i("div", [t.canCheckinOthers ? i("div", {
                staticStyle: {
                    width: "95%",
                    margin: "0 auto"
                }
            }, [i("p", {
                staticClass: "text-center my-1 subtitle-1"
            }, [t._v(t._s(t.$translate("Select who you want to check in with the QR code")))]), i("div", t._l(t.canBookFor, (function(e) {
                return i("v-chip", {
                    key: e.id,
                    staticClass: "ma-1",
                    attrs: {
                        color: e.blocks && e.blocks.find((function(t) {
                            return t.block_entry
                        }
                        )) ? "error" : t.usersToCheckIn.find((function(t) {
                            return t.id == e.id
                        }
                        )) ? "success" : ""
                    },
                    on: {
                        click: function(i) {
                            return t.selectUser(e)
                        }
                    }
                }, [t._v(" " + t._s(e.name) + " ")])
            }
            )), 1)]) : t._e(), i("qr-scanner", {
                staticClass: "pa-2",
                attrs: {
                    "auto-start": ""
                },
                on: {
                    scan: t.qrCodeScanned
                }
            })], 1)], 1)], 1) : t._e(), i("v-dialog", {
                attrs: {
                    width: "500"
                },
                model: {
                    value: t.multipleCheckin,
                    callback: function(e) {
                        t.multipleCheckin = e
                    },
                    expression: "multipleCheckin"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline pa-2 primary primarytext--text d-flex fill-width"
            }, [t._v(" " + t._s(t.$translate("Checking in")) + ": ")]), i("v-card-text", {
                staticClass: "mt-4"
            }, t._l(t.usersToCheckIn, (function(e) {
                return i("div", {
                    key: e.id,
                    staticClass: "mt-2"
                }, [i("v-row", {
                    attrs: {
                        "no-gutters": ""
                    }
                }, [i("zoezi-user-avatar", {
                    attrs: {
                        user: e,
                        size: 32
                    }
                }), i("span", {
                    staticStyle: {
                        margin: "auto 0 auto 8px"
                    }
                }, [t._v(t._s(e.name))]), i("v-spacer"), !0 === e.success ? i("v-icon", {
                    attrs: {
                        color: "success",
                        size: "32"
                    }
                }, [t._v("mdi-checkbox-marked-circle")]) : !1 === e.success ? i("v-tooltip", {
                    attrs: {
                        top: ""
                    },
                    scopedSlots: t._u([{
                        key: "activator",
                        fn: function(e) {
                            var s = e.on
                              , a = e.attrs;
                            return [i("v-icon", t._g(t._b({
                                attrs: {
                                    color: "red",
                                    size: "32"
                                }
                            }, "v-icon", a, !1), s), [t._v(" mdi-alert-circle ")])]
                        }
                    }], null, !0)
                }, [i("span", [t._v(t._s(t.$translate(e.reason)))])]) : i("v-progress-circular", {
                    attrs: {
                        color: "primary",
                        indeterminate: "",
                        size: "32"
                    }
                })], 1)], 1)
            }
            )), 0), i("v-card-actions", [i("v-btn", {
                attrs: {
                    block: "",
                    color: "primary",
                    loading: !t.allCheckedIn
                },
                on: {
                    click: t.closeMultipleCheckin
                }
            }, [t._v(" " + t._s(t.$translate(t.allCheckedIn ? "Ready" : "Loading")) + " ")])], 1)], 1)], 1)], 1)
        }
          , Wk = []
          , qk = {
            name: "zoezi-checkin-dialog",
            props: {
                value: {
                    type: Boolean,
                    default: !1
                },
                onlyShowQrScanner: {
                    type: Boolean,
                    default: !1
                },
                resources: {
                    type: Array,
                    default: ()=>[]
                }
            },
            components: {
                BottomDialog: $e["a"],
                QrScanner: Gh,
                ZoeziUserAvatar: co["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t && this.updatePosition(),
                        this.onlyShowQrScanner ? (this.showQrScanner = t,
                        this.qrDoor = null) : this.showDialog = t
                    }
                },
                showQrScanner(t) {
                    t || this.showDialog || this.$emit("input", t)
                },
                showDialog(t) {
                    this.$emit("input", t)
                },
                "$store.state.now30s"() {
                    this.value && this.updatePosition()
                },
                "$store.state.user": {
                    immediate: !0,
                    handler(t) {
                        var e;
                        this.usersToCheckIn = [],
                        !t || null !== (e = t.blocks) && void 0 !== e && e.find(t=>t.block_entry) || this.usersToCheckIn.push(this.canBookFor.find(e=>e.id == t.id))
                    }
                },
                "$store.state.selectedSiteId"() {
                    this.updateDoors()
                },
                resources() {
                    this.updateDoors()
                }
            },
            data: ()=>({
                showDialog: !1,
                showQrScanner: !1,
                showQrScannerBtn: !1,
                multipleCheckin: !1,
                unsubscribe: null,
                doors: [],
                qrDoor: null,
                scannerDoor: {
                    id: null,
                    buttonColor: "primary",
                    buttonClass: null,
                    opening: !1,
                    require_qrcode: !0,
                    position: null,
                    defaultText: "Scan QR-code",
                    defaultIcon: "mdi-qrcode-scan",
                    text: null,
                    icon: null
                },
                position: null,
                usersToCheckIn: []
            }),
            computed: {
                canBookFor() {
                    return this.$store.state.user ? this.$store.state.user.canBookFor.map(t=>({
                        id: t.id,
                        name: t.id == this.$store.state.user.id ? this.$translate("Myself") : t.name,
                        imagekey: t.imagekey,
                        success: "loading",
                        blocks: t.blocks
                    })) : []
                },
                canCheckinOthers() {
                    if (!this.$store.state.user)
                        return !1;
                    let t = this.canBookFor.filter(t=>this.$store.state.user.id != t.id);
                    return t.length > 0
                },
                allCheckedIn() {
                    return !!this.$store.state.user && this.usersToCheckIn.every(t=>"loading" != t.success)
                }
            },
            methods: {
                selectUser(t) {
                    var e;
                    null !== (e = t.blocks) && void 0 !== e && e.find(t=>t.block_entry) || (this.usersToCheckIn.find(e=>e.id == t.id) ? this.usersToCheckIn = this.usersToCheckIn.filter(e=>e != t) : this.usersToCheckIn.push(t))
                },
                qrCodeScanned(t) {
                    if (this.qrDoor && this.qrDoor != this.scannerDoor)
                        this.showQrScanner = !1,
                        this.openDoor(this.qrDoor, t, null);
                    else {
                        let e = ()=>{
                            this.showDialog ? (this.showQrScanner = !1,
                            this.qrDoor.loading = !1) : setTimeout(()=>{
                                this.showQrScanner = !1,
                                this.qrDoor.loading = !1,
                                delete this.qrDoor["reason"],
                                delete this.qrDoor["success"]
                            }
                            , 5e3)
                        }
                        ;
                        const i = ()=>{
                            this.qrDoor && this.showDoorEffect(this.qrDoor, !1),
                            this.$store.commit("showErrorDialog", {
                                title: this.$translate("Could not open the door")
                            })
                        }
                        ;
                        this.$api.get("/api/door/scan", {
                            data: t
                        }).then(s=>{
                            if (s) {
                                s.punch && console.log("Confirm deducting punch card");
                                let i = this.doors.find(t=>t.id == s.id);
                                this.qrDoor || (this.qrDoor = i || this.scannerDoor,
                                this.qrDoor.loading = !0),
                                i ? this.openDoor(this.qrDoor, t, null, e) : this.checkin(this.qrDoor, t, e)
                            } else
                                i()
                        }
                        ).catch(i)
                    }
                },
                updatePosition() {
                    window.navigator ? window.navigator.geolocation.getCurrentPosition(t=>{
                        this.position = t ? [t.coords.latitude, t.coords.longitude] : null
                    }
                    ) : this.position = null
                },
                inRangeOf(t) {
                    if (!t.position)
                        return !0;
                    if (!this.position)
                        return !1;
                    const e = .2;
                    let[i,s] = t.position.split(",");
                    const a = Number.haversine(this.position[0], this.position[1], Number(i), Number(s));
                    return a <= e
                },
                updateDoors() {
                    var t, e;
                    null !== (t = this.$store.state.settings) && void 0 !== t && null !== (e = t.modules) && void 0 !== e && e.MobileEntry && this.$api.get("/api/door/get", {
                        site_id: this.$store.state.selectedSiteId
                    }).then(t=>{
                        var e;
                        t.forEach(t=>{
                            t.opening = !1,
                            t.buttonColor = "primary"
                        }
                        ),
                        null !== (e = this.resources) && void 0 !== e && e.length && (t = t.filter(t=>Object(a["includes"])(this.resources, t.id))),
                        this.doors = t.sort((t,e)=>t.name.localeCompare(e.name))
                    }
                    ).catch(()=>{
                        this.doors = []
                    }
                    )
                },
                doorClick(t) {
                    t.require_qrcode ? (this.qrDoor = t,
                    this.showQrScanner = !0) : this.openDoor(t)
                },
                showDoorEffect(t, e) {
                    t.buttonColor = e ? "success" : "error",
                    t.buttonClass = e ? "animate__animated animate__flipInX" : "animate__animated animate__shakeX",
                    t.text = e ? "Welcome" : "GENERIC_ERROR",
                    t.icon = e ? "mdi-check-bold" : "mdi-google-downasaur",
                    this.multipleCheckin || setTimeout(()=>{
                        this.closeDialog(t, e)
                    }
                    , 5e3)
                },
                closeDialog(t, e) {
                    t.buttonColor = "primary",
                    t.buttonClass = null,
                    t.text = t.defaultText,
                    t.icon = t.defaultIcon,
                    this.showDialog = !this.onlyShowQrScanner && !e
                },
                checkin(t, e, i=null) {
                    this.usersToCheckIn.filter(t=>t.id != this.$store.state.user.id).length > 0 ? (t.opening = !0,
                    this.multipleCheckin = !0,
                    this.usersToCheckIn.forEach(s=>{
                        s.success = "loading",
                        this.$api.post("/api/memberapi/entry/qrcode", {
                            qrcode_entry_id: e,
                            user_id: s.id
                        }).then(e=>{
                            let a = e.json().then(e=>{
                                const i = null === e || void 0 === e ? void 0 : e.success;
                                this.showDoorEffect(t, !!i),
                                s.success = !!i || !1,
                                s.reason || (s.reason = e.reason),
                                t.success = i,
                                t.reason = i ? "Welcome" : e.reason
                            }
                            );
                            i && a.then(i)
                        }
                        ).catch(()=>{
                            s.success = !1,
                            s.reason = "Incheckning misslyckades",
                            this.showDoorEffect(t, !1)
                        }
                        )
                    }
                    ),
                    t.opening = !1) : (t.opening = !0,
                    this.$api.post("/api/memberapi/entry/qrcode", {
                        qrcode_entry_id: e
                    }).then(e=>{
                        t.opening = !1;
                        let s = e.json().then(e=>{
                            const i = null === e || void 0 === e ? void 0 : e.success;
                            this.showDoorEffect(t, !!i),
                            t.success = i,
                            t.reason = i ? "Welcome" : e.reason
                        }
                        );
                        i && s.then(i)
                    }
                    ))
                },
                openDoor(t, e, i, s=null) {
                    t.opening = !0;
                    const a = this.position && this.position.join(",");
                    let o = !1;
                    0 == this.usersToCheckIn.length && this.usersToCheckIn.push(this.canBookFor.find(t=>t.id == this.$store.state.user.id)),
                    this.usersToCheckIn.forEach(n=>{
                        this.$api.post("/api/door/open", null, {
                            id: t.id || i,
                            data: e,
                            position: a,
                            entry_user_id: n.id
                        }).then(i=>{
                            let a = i.json().then(s=>{
                                var a;
                                (o || (o = i.ok && !!s),
                                e) ? (this.qrDoor.success = o,
                                this.qrDoor.reason = o ? "Welcome" : null !== (a = null === s || void 0 === s ? void 0 : s.message) && void 0 !== a ? a : "GENERIC_ERROR",
                                this.qrDoor.opening = !1) : t.opening = !1;
                                this.showDoorEffect(t, o),
                                o || this.$store.commit("showErrorDialog", {
                                    title: this.$translate("Could not open the door")
                                })
                            }
                            );
                            s && a.then(s)
                        }
                        )
                    }
                    )
                },
                checkQrEntry() {
                    this.$api.get("/api/memberapi/qr_resource_available").then(t=>this.showQrScannerBtn = t)
                },
                closeMultipleCheckin() {
                    this.multipleCheckin = !1,
                    this.closeDialog(this.qrDoor, this.usersToCheckIn.every(t=>!0 === t.success))
                }
            },
            mounted() {
                this.scannerDoor.text = this.scannerDoor.defaultText,
                this.scannerDoor.icon = this.scannerDoor.defaultIcon,
                this.$nextTick(()=>{
                    this.checkQrEntry(),
                    this.updateDoors()
                }
                ),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "resourcebookingservice",
                    callback: (t,e)=>{
                        ["add", "change"].includes(e.action) || e.data.find(t=>t.continuousBooking) && this.updateDoors()
                    }
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , Hk = qk
          , Uk = Object(p["a"])(Hk, Nk, Wk, !1, null, null, null)
          , Yk = Uk.exports;
        g()(Uk, {
            VBadge: Ue["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VChip: st["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VProgressCircular: Q["a"],
            VRow: A["a"],
            VSpacer: J["a"],
            VTooltip: bl["a"]
        });
        var Gk = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-dialog", {
                attrs: {
                    "max-width": "600px"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [t.$store.state.isLoggedIn ? i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", [t._v(t._s(t.$translate("Group invite")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", {
                staticClass: "d-flex justify-space-between align-center mt-4"
            }, [i("span", [i("v-icon", {
                staticClass: "mr-2",
                attrs: {
                    color: "primary"
                }
            }, [t._v("mdi-information")]), t._v(" " + t._s(t.$translate("You have been invited to the group")) + " " + t._s(t.groupInvite.group.name) + " ")], 1)]), i("v-card-actions", {
                staticClass: "justify-end"
            }, [i("v-btn", {
                attrs: {
                    loading: t.loading,
                    color: "primary"
                },
                on: {
                    click: t.joinGroup
                }
            }, [t._v(" " + t._s(t.$translate("Join group")) + " ")])], 1)], 1) : i("v-card", [i("v-card-title", {
                staticClass: "headline align-start flex-column pa-2 primary primarytext--text"
            }, [i("div", {
                staticClass: "font-weight-bold fill-width"
            }, [i("span", [t._v(t._s(t.$translate("Group invite")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "primary primarytext--text"
            }, [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("Login"), i("v-alert", {
                staticClass: "ma-2",
                attrs: {
                    type: "info",
                    dense: "",
                    outlined: "",
                    dismissible: ""
                }
            }, [t._v(" " + t._s(t.$translate("You need to be logged in to join the group")) + " ")])], 1)], 1)], 1)], 1)
        }
          , Kk = []
          , Qk = {
            name: "zoezi-group-invite-dialog",
            data: ()=>({
                loading: !1,
                groupInvite: {},
                dialog: !1
            }),
            components: {
                Login: By
            },
            watch: {
                groupInviteKey: {
                    immediate: !0,
                    handler() {
                        this.groupInviteKey && this.getGroupInvite(this.groupInviteKey)
                    }
                }
            },
            computed: {
                groupInviteKey() {
                    const t = this.$root.siteconfig.pages.mypagesGroupInvite || "groupinvite";
                    return this.$route.query[t]
                }
            },
            methods: {
                getGroupInvite(t) {
                    this.$api.get("/api/public/group/get_from_invite", {
                        key: t
                    }).then(e=>{
                        null !== e && void 0 !== e && e.id && (this.$store.state.isLoggedIn && !e.users.includes(this.$store.state.user.id) ? (this.groupInvite = {
                            group: e,
                            key: t
                        },
                        this.dialog = !0) : this.$store.state.isLoggedIn || (this.groupInvite = {
                            group: e,
                            key: t
                        },
                        this.dialog = !0))
                    }
                    )
                },
                joinGroup() {
                    this.loading = !0,
                    this.$api.post("/api/memberapi/group/join", null, {
                        invitekey: this.groupInvite.key
                    }).then(t=>{
                        this.dialog = !1,
                        this.loading = !1,
                        t.ok || t.json().then(t=>{
                            this.$store.commit("showErrorDialog", {
                                title: this.$translate("Error"),
                                text: `${this.$translate("Something went wrong")} ${this.$translate(t.message)}`
                            })
                        }
                        )
                    }
                    ).catch(()=>{
                        this.$store.commit("showSnackBar", {
                            title: "Error",
                            text: "Error accepting group invite"
                        }),
                        this.loading = !1
                    }
                    )
                }
            }
        }
          , Jk = Qk
          , Xk = Object(p["a"])(Jk, Gk, Kk, !1, null, null, null)
          , Zk = Xk.exports;
        g()(Xk, {
            VAlert: He["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"]
        });
        var tw = {
            name: "zoezi-root",
            zoezi: {
                title: "Root",
                icon: "mdi-file-tree-outline",
                internal: !0
            },
            props: {
                name: {
                    type: String,
                    title: "Homepage name"
                },
                title: {
                    type: String,
                    title: "Browser title"
                },
                favicon: {
                    type: String,
                    title: "Favicon",
                    fulltype: "image"
                },
                showFooter: {
                    type: Boolean,
                    title: "Show footer"
                },
                font: {
                    type: String,
                    title: "Font",
                    fulltype: "font"
                },
                colors: {
                    type: Object,
                    title: "Primary colors",
                    fulltype: "colortheme"
                },
                cookieBar: {
                    type: Object,
                    title: "Cookie dialog",
                    fulltype: "component",
                    typeinfo: {
                        clearable: !0
                    }
                },
                gtm: {
                    type: String,
                    title: "Google Tagmanager ID",
                    section: "Tracking"
                },
                ga4: {
                    type: String,
                    title: "Google Analytics 4 ID",
                    section: "Tracking"
                },
                pixel: {
                    type: String,
                    title: "Meta Pixel ID",
                    section: "Tracking"
                },
                domainname: {
                    type: String,
                    title: "Domain name"
                }
            },
            data: ()=>({
                footerRenderKey: 0,
                mobileRenderKey: 0,
                revisionRenderKey: 0,
                debouncedUndo: null,
                debouncedRedo: null
            }),
            components: {
                SnackBar: R_,
                MissingMemberFields: H_,
                MobileMenu: X_,
                ShoppingCart: ok,
                CheckoutDoneDialog: uk,
                AddUserDialog: fk,
                ChangeUserDialog: Ck,
                ConfirmDialog: Tk,
                AdyenRedirect: Ek,
                SaveCardDialog: jk,
                CheckinDialog: Yk,
                GroupInviteDialog: Zk
            },
            watch: {
                "$root.siteconfig": {
                    deep: !0,
                    handler(t) {
                        let e = this.$refs.mobilePreview;
                        this.$root.edit && e && e.contentWindow && e.contentWindow.postMessage({
                            action: "setSiteConfig",
                            data: t
                        })
                    }
                },
                font() {
                    this.$root.loadFont(this.font)
                },
                title() {
                    this.$root.setTitle()
                },
                "$root.revisionPreview"() {
                    this.revisionRenderKey++
                },
                "$store.state.isLoggedIn"(t) {
                    t || console.log("Should goto /")
                },
                "$store.state.editComponent"() {
                    var t, e;
                    this.isInIframe && (console.log("Postmessage of setEditComponent for id " + (null === (t = this.$store.state.editComponentConfig) || void 0 === t ? void 0 : t.id)),
                    window.top.postMessage({
                        action: "setEditComponent",
                        data: null === (e = this.$store.state.editComponentConfig) || void 0 === e ? void 0 : e.id
                    }))
                }
            },
            computed: {
                showGroupInviteDialog() {
                    const t = this.$root.siteconfig.pages.mypagesGroupInvite || "groupinvite";
                    return !!this.$route.query[t]
                },
                isInIframe() {
                    try {
                        return window.self !== window.top
                    } catch (t) {
                        return !0
                    }
                },
                thisHref() {
                    return window.location.protocol + "//" + window.location.host + window.location.pathname
                },
                noEditMode() {
                    return !!Object(o["r"])("noeditmode")
                },
                hasEditPermission() {
                    return this.$store.state.isLoggedIn && this.$store.state.user && !!this.$store.state.user.permissions.find(t=>"Change homepage" == t) && this.$store.state.settings && ("flex" == this.$store.state.settings.zoeziMyBusiness || "basic" == this.$store.state.settings.zoeziMyBusiness && this.$store.state.user.superUser)
                },
                numBookings() {
                    let t = this.$store.getters.comingBookings;
                    if (!t)
                        return 0;
                    let e = 0;
                    return t.workouts && (e += t.workouts.length),
                    t.resourcebookings && (e += t.resourcebookings.length),
                    t.coursebookings && (e += t.coursebookings.length),
                    e
                }
            },
            methods: {
                isExpoApp: o["t"],
                mobilePreviewLoaded() {
                    this.$root.mobilePreviewLoading = !1
                },
                goto(t) {
                    this.$route.path != t && this.$router.push({
                        path: t
                    })
                },
                gotoMyPages() {
                    let t = this.$root.getDefaultPage("mypages");
                    this.$route.path != t ? this.goto(t) : this.$vuetify.goTo(0)
                },
                fetchAndProcessRevisions(t) {
                    this.$root.edit && this.$api.get("/api/homepage/revision/get", {
                        homepage_id: this.$root.homepage_id
                    }).then(e=>{
                        const i = e
                          , s = this.$root.revisionPreview ? this.$root.revisionPreview.id : this.$root.current_revision_id
                          , a = i.findIndex(t=>t.id == s);
                        "undo" === t && a < i.length - 1 ? this.$root.revisionPreview = i[a + 1] : "redo" === t && (this.$root.revisionPreview = a > 0 ? i[a - 1] : null)
                    }
                    )
                },
                undo() {
                    this.fetchAndProcessRevisions("undo")
                },
                redo() {
                    this.fetchAndProcessRevisions("redo")
                },
                addKeyListeners() {
                    document.addEventListener("keydown", t=>{
                        t.ctrlKey && "z" === t.key ? this.debouncedUndo() : t.ctrlKey && "y" === t.key && this.debouncedRedo()
                    }
                    )
                }
            },
            created() {
                this.debouncedUndo = Object(a["debounce"])(this.undo, 300),
                this.debouncedRedo = Object(a["debounce"])(this.redo, 300),
                window.addEventListener("message", t=>{
                    if (t.data)
                        if ("setEditComponent" == t.data.action) {
                            let e, i = function(t, s) {
                                Array.isArray(t) ? t.forEach(t=>{
                                    i(t, s)
                                }
                                ) : t && (t.id == s ? e = t : "object" === typeof t && Object.values(t).forEach(t=>{
                                    i(t, s)
                                }
                                ))
                            };
                            console.log("Got Postmessage of setEditComponent for id " + t.data.data),
                            i(this.$root.siteconfig, t.data.data),
                            console.log(e),
                            e && this.$store.dispatch("setEditComponentConfig", {
                                config: e,
                                parentComponent: null
                            })
                        } else
                            "setRoute" == t.data.action ? this.$root.followLink(t.data.data) : "setSiteConfig" == t.data.action && t.source == window.top && Object(a["merge"])(this.$root.siteconfig, t.data.data)
                }
                ),
                this.$root.edit && this.addKeyListeners()
            }
        }
          , ew = tw
          , iw = i("7496")
          , sw = i("553a")
          , aw = i("f6c4")
          , ow = Object(p["a"])(ew, P_, V_, !1, null, null, null)
          , nw = ow.exports;
        g()(ow, {
            VApp: iw["a"],
            VBadge: Ue["a"],
            VBtn: O["a"],
            VCard: x["a"],
            VCardTitle: G["c"],
            VFooter: sw["a"],
            VIcon: y["a"],
            VMain: aw["a"]
        });
        var rw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", [i("h2", [t._v(t._s(t.$translate("Settings for mobile application")))])]), t.isZMB ? i("div", [i("div", [i("v-switch", {
                attrs: {
                    label: t.$translate("Present app as MyBusiness")
                },
                model: {
                    value: t.isFlex,
                    callback: function(e) {
                        t.isFlex = e
                    },
                    expression: "isFlex"
                }
            })], 1), "flex" == t.isZMB && t.isFlex ? i("div", [i("v-select", {
                attrs: {
                    items: t.sortedSites,
                    "item-text": "title",
                    label: "Select",
                    "persistent-hint": "",
                    "return-object": "",
                    "single-line": ""
                },
                model: {
                    value: t.selectedSite,
                    callback: function(e) {
                        t.selectedSite = e
                    },
                    expression: "selectedSite"
                }
            })], 1) : t._e(), i("div", {
                staticClass: "d-flex"
            }, [i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin mx-2",
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.changed,
                    loading: t.saving
                },
                on: {
                    click: t.save
                }
            }, [t._v(t._s(t.$translate("Save")))]), i("v-btn", {
                staticClass: "zoezi-button-thin mx-2",
                attrs: {
                    color: "zoezi-edit-color",
                    outlined: ""
                },
                on: {
                    click: t.showPage
                }
            }, [t._v(t._s(t.$translate("Show the page")))])], 1)]) : t._e(), i("v-snackbar", {
                attrs: {
                    timeout: t.alert.timeout,
                    color: t.alert.success ? "success" : "error",
                    bold: ""
                },
                scopedSlots: t._u([{
                    key: "action",
                    fn: function(e) {
                        var s = e.attrs;
                        return [i("v-btn", t._b({
                            staticClass: "zoezi-button-thin",
                            attrs: {
                                color: t.$store.state.snackBar.color,
                                text: ""
                            },
                            on: {
                                click: function(e) {
                                    t.alert.show = !1
                                }
                            }
                        }, "v-btn", s, !1), [t._v(" " + t._s(t.$translate("Close")) + " ")])]
                    }
                }]),
                model: {
                    value: t.alert.show,
                    callback: function(e) {
                        t.$set(t.alert, "show", e)
                    },
                    expression: "alert.show"
                }
            }, [i("strong", [t._v(t._s(t.$translate(t.alert.success ? "Settings saved" : "Failed to save settings")))])])], 1)
        }
          , lw = []
          , cw = {
            name: "zoezi-exposettings",
            zoezi: {
                icon: "mdi-cogs",
                title: "Mobile App Settings"
            },
            data: ()=>({
                oldOption: null,
                sortedSites: [],
                selectedSite: null,
                isFlex: !1,
                saving: !1,
                alert: {
                    show: !1,
                    timeout: 2e3,
                    success: !0
                }
            }),
            methods: {
                getSortedSites() {
                    var t;
                    return (null === (t = this.$root.sites) || void 0 === t ? void 0 : t.filter(t=>0 == t.shared).sort((t,e)=>t.name.localeCompare(e.name)).map(t=>(t.title = `${t.name} (${t.basepath})`,
                    t))) || []
                },
                showPage() {
                    var t, e, i;
                    this.isFlex ? null === (e = window.open(null === (i = this.selectedSite) || void 0 === i ? void 0 : i.basepath, "_blank")) || void 0 === e || e.focus() : null === (t = window.open("/member", "_blank")) || void 0 === t || t.focus()
                },
                save() {
                    this.saving = !0;
                    const t = this.isFlex ? this.selectedSite.basepath : "legacy";
                    this.$api.post("/api/settings/app/homepage", null, {
                        path: t
                    }).then(t=>{
                        this.saving = !1,
                        200 == t.status ? this.alert.success = !0 : this.alert.success = !1
                    }
                    ).catch(()=>{
                        this.alert.success = !1
                    }
                    ).finally(()=>{
                        this.alert.show = !0,
                        this.fetchSettings()
                    }
                    )
                },
                fetchSettings() {
                    this.$api.get("/api/settings/app/get").then(t=>{
                        t.zoezimybusinesshomepage ? "legacy" == t.zoezimybusinesshomepage ? (this.selectedSite = this.sortedSites[0],
                        this.oldOption = "legacy") : (this.isFlex = !0,
                        this.selectedSite = this.sortedSites.find(e=>e.basepath == t.zoezimybusinesshomepage),
                        this.oldOption = this.selectedSite) : (this.selectedSite = this.sortedSites[0],
                        this.oldOption = this.selectedSite)
                    }
                    )
                }
            },
            computed: {
                isZMB() {
                    var t;
                    return (null === (t = this.$store.state.settings) || void 0 === t ? void 0 : t.zoeziMyBusiness) || !1
                },
                changed() {
                    return "legacy" == this.oldOption ? this.isFlex : this.selectedSite && this.selectedSite != this.oldOption || !this.isFlex
                }
            },
            mounted() {
                this.$root.loadSites().then(()=>{
                    this.sortedSites = this.getSortedSites(),
                    this.sortedSites.unshift({
                        title: "Standard (/)",
                        basepath: "/"
                    }),
                    this.fetchSettings()
                }
                )
            }
        }
          , dw = cw
          , uw = Object(p["a"])(dw, rw, lw, !1, null, null, null)
          , hw = uw.exports;
        g()(uw, {
            VBtn: O["a"],
            VSelect: Xi["a"],
            VSnackbar: M_["a"],
            VSpacer: J["a"],
            VSwitch: ce["a"]
        });
        var mw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-timeline", [i("v-timeline-item", {
                attrs: {
                    "fill-dot": "",
                    right: "",
                    color: t.event.background_color
                },
                scopedSlots: t._u([{
                    key: "icon",
                    fn: function() {
                        return [i("v-btn", {
                            attrs: {
                                icon: "",
                                color: "white"
                            }
                        }, [t._v(t._s(t.event.time))])]
                    },
                    proxy: !0
                }])
            }, [i("div", {
                style: {
                    color: t.event.color,
                    "font-weight": "bold"
                }
            }, [t._v(t._s(t.event.title))])])], 1)
        }
          , pw = []
          , vw = {
            name: "zoezi-teamsport-eventtype-preview",
            props: {
                event: {
                    type: Object,
                    required: !0
                }
            }
        }
          , gw = vw
          , fw = Object(p["a"])(gw, mw, pw, !1, null, null, null)
          , bw = fw.exports;
        g()(fw, {
            VBtn: O["a"],
            VTimeline: Vp["a"],
            VTimelineItem: Bp["a"]
        });
        var yw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-edit-font"
            }, [i("v-navigation-drawer", {
                style: {
                    height: t.$vuetify.breakpoint.mobile ? "100vh" : "calc(100vh - 56px)"
                },
                attrs: {
                    app: "",
                    width: t.$vuetify.breakpoint.mobile ? "100vw" : "460px",
                    fixed: "",
                    stateless: ""
                },
                model: {
                    value: t.$root.showEditPanel,
                    callback: function(e) {
                        t.$set(t.$root, "showEditPanel", e)
                    },
                    expression: "$root.showEditPanel"
                }
            }, [i("v-toolbar", {
                attrs: {
                    color: "zoezi-edit-color",
                    dark: "",
                    flat: ""
                },
                scopedSlots: t._u([{
                    key: "extension",
                    fn: function() {
                        return [t.extraTab ? i("v-tabs", {
                            attrs: {
                                "icons-and-text": "",
                                left: ""
                            },
                            model: {
                                value: t.selectedExtraTab,
                                callback: function(e) {
                                    t.selectedExtraTab = e
                                },
                                expression: "selectedExtraTab"
                            }
                        }, ["versionhistory" == t.extraTab ? i("v-tab", [t._v(" " + t._s(t.$translate("Version history"))), i("v-icon", [t._v("mdi-history")])], 1) : t._e(), "versionhistory" == t.extraTab ? i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("revision-history")], 1) : t._e(), "medialibrary" == t.extraTab ? i("v-tab", [t._v(" " + t._s(t.$translate("Media Library"))), i("v-icon", [t._v("mdi-manage-multiple")])], 1) : t._e(), "medialibrary" == t.extraTab ? i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("media-library", {
                            attrs: {
                                "can-show": !0
                            }
                        })], 1) : t._e(), "homepages" == t.extraTab ? [i("v-tab", [t._v(" " + t._s(t.$translate("Homepages"))), i("v-icon", [t._v("mdi-book-open-page-variant")])], 1), t.hasEditSharedPagesPermission ? i("v-tab", [t._v(" " + t._s(t.$translate("Template pages"))), i("v-icon", [t._v("mdi-content-copy")])], 1) : t._e(), i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("home-pages", {
                            attrs: {
                                shared: !1
                            }
                        })], 1), t.hasEditSharedPagesPermission ? i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("home-pages", {
                            attrs: {
                                shared: !0
                            }
                        })], 1) : t._e()] : t._e(), i("v-btn", {
                            attrs: {
                                right: "",
                                fixed: "",
                                icon: ""
                            },
                            on: {
                                click: function(e) {
                                    t.extraTab = null
                                }
                            }
                        }, [i("v-icon", [t._v("mdi-close")])], 1)], 2) : i("v-tabs", {
                            attrs: {
                                "icons-and-text": "",
                                "fixed-tabs": !t.$vuetify.breakpoint.mobile
                            },
                            model: {
                                value: t.selectedTab,
                                callback: function(e) {
                                    t.selectedTab = e
                                },
                                expression: "selectedTab"
                            }
                        }, [i("v-tab", [t._v(" " + t._s(t.$translate("Settings"))), i("v-icon", [t._v("mdi-cog")])], 1), i("v-tab", [t._v(" " + t._s(t.$translate("Pages"))), i("v-icon", [t._v("mdi-book-open-page-variant")])], 1), i("v-tab", [t._v(" " + t._s(t.$translate("Component"))), i("v-icon", [t._v("mdi-target")])], 1), i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("general-settings", {
                            ref: "general"
                        })], 1), i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("page-settings")], 1), i("v-tab-item", {
                            style: t.tabStyle
                        }, [i("component-settings")], 1)], 1)]
                    },
                    proxy: !0
                }])
            }, [i("v-img", {
                staticClass: "shrink mr-2 d-inline-block",
                attrs: {
                    alt: "Logo",
                    contain: "",
                    src: t.$api.getAssetUrl("/assets/img/zoezi_icon.png"),
                    transition: "scale-transition",
                    height: "36",
                    width: "100",
                    position: "top left"
                }
            }), i("v-toolbar-title", [t._v(" " + t._s(t.$root.siteconfig.root.props.name) + " ")]), i("v-spacer"), i("v-menu", {
                attrs: {
                    bottom: "",
                    left: "",
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                icon: ""
                            }
                        }, s), [i("v-icon", [t._v("mdi-dots-vertical")])], 1)]
                    }
                }])
            }, [i("v-list", [i("v-list-item", {
                on: {
                    click: function(e) {
                        t.extraTab = "versionhistory"
                    }
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-history")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Version history")))])], 1)], 1), i("v-list-item", {
                on: {
                    click: function(e) {
                        t.extraTab = "medialibrary"
                    }
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-image-multiple")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Media Library")))])], 1)], 1), i("v-list-item", {
                on: {
                    click: function(e) {
                        t.extraTab = "homepages"
                    }
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-book-open-page-variant")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Homepages")))])], 1)], 1), t.$vuetify.breakpoint.mobile ? i("v-list-item", {
                on: {
                    click: function(e) {
                        return t.leaveEditMode()
                    }
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-close")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Close editing mode")))])], 1)], 1) : t._e()], 1)], 1)], 1)], 1), t.$vuetify.breakpoint.mobile ? t._e() : i("v-bottom-navigation", {
                attrs: {
                    fixed: "",
                    dark: "",
                    "background-color": "zoezi-edit-color",
                    shift: "",
                    width: "460px"
                }
            }, [i("div", {
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple",
                    value: {
                        center: !0
                    },
                    expression: "{center: true}"
                }, {
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: t.$translate(t.$root.mobilePreview ? "Switch to preview computer" : "Switch to mobile preview"),
                    expression: "$translate($root.mobilePreview ? 'Switch to preview computer' : 'Switch to mobile preview')"
                }],
                staticClass: "pa-4 hover-button hidden-sm-and-down",
                staticStyle: {
                    cursor: "pointer"
                },
                on: {
                    click: t.toggleMobilePreview
                }
            }, [t.$root.mobilePreview ? i("v-icon", [t._v("mdi-desktop-mac")]) : i("v-icon", [t._v("mdi-cellphone")])], 1), i("div", {
                directives: [{
                    name: "ripple",
                    rawName: "v-ripple",
                    value: {
                        center: !0
                    },
                    expression: "{center: true}"
                }],
                staticClass: "pa-4 hover-button hidden-sm-and-down",
                staticStyle: {
                    cursor: "pointer"
                },
                on: {
                    click: function(e) {
                        return t.$store.commit("setEditMenu", !t.$store.state.editMenu)
                    }
                }
            }, [i("v-icon", [t._v("mdi-dock-top")])], 1), i("v-spacer"), t.$root.isBuilding ? i("v-btn", {
                attrs: {
                    loading: t.$root.isBuilding
                }
            }) : t._e(), t.$root.current_revision_id == t.$root.published_revision_id || t.$root.siteconfig.autoPublish ? i("div", {
                staticClass: "ma-1 pr-2"
            }, [i("div", {
                staticClass: "d-flex flex-column fill-height text-center",
                staticStyle: {
                    color: "rgb(255,255,255,0.7)"
                }
            }, [i("v-icon", {
                staticStyle: {
                    color: "rgb(255,255,255,0.7)"
                }
            }, [t._v("mdi-cloud-check-outline")]), t._v(" " + t._s(t.$translate("OK!")) + " ")], 1)]) : i("v-btn", {
                on: {
                    click: function(e) {
                        return t.$root.publish()
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Publish")) + " "), i("v-icon", [t._v("mdi-cloud-upload-outline")])], 1), i("v-btn", {
                on: {
                    click: function(e) {
                        return t.leaveEditMode()
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)], 1)
        }
          , _w = []
          , kw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                staticStyle: {
                    "padding-right": "1px"
                },
                attrs: {
                    accordion: "",
                    flat: ""
                },
                model: {
                    value: t.currentOpenSettingsPanel,
                    callback: function(e) {
                        t.currentOpenSettingsPanel = e
                    },
                    expression: "currentOpenSettingsPanel"
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Identity")))])]), i("v-expansion-panel-content", [i("component-props-setting", {
                attrs: {
                    config: t.$root.siteconfig.root
                },
                on: {
                    save: t.delayedSave
                }
            })], 1)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Font")))])]), i("v-expansion-panel-content", [i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 1"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h1,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h1", e)
                    },
                    expression: "$root.siteconfig.fonts.h1"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 2"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h2,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h2", e)
                    },
                    expression: "$root.siteconfig.fonts.h2"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 3"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h3,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h3", e)
                    },
                    expression: "$root.siteconfig.fonts.h3"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 4"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h4,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h4", e)
                    },
                    expression: "$root.siteconfig.fonts.h4"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 5"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h5,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h5", e)
                    },
                    expression: "$root.siteconfig.fonts.h5"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Heading") + " 6"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.h6,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "h6", e)
                    },
                    expression: "$root.siteconfig.fonts.h6"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Paragraph text")
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.p,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "p", e)
                    },
                    expression: "$root.siteconfig.fonts.p"
                }
            }), i("text-style-setting", {
                attrs: {
                    label: t.$translate("Menu")
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.fonts.menu,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.fonts, "menu", e)
                    },
                    expression: "$root.siteconfig.fonts.menu"
                }
            })], 1)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Standard pages")))])]), i("v-expansion-panel-content", [i("page-setting", {
                attrs: {
                    label: t.$translate("My pages"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.mypages,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "mypages", e)
                    },
                    expression: "$root.siteconfig.pages.mypages"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for tab name")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.mypagesTab,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "mypagesTab", e)
                    },
                    expression: "$root.siteconfig.pages.mypagesTab"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for group invite")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.mypagesGroupInvite,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "mypagesGroupInvite", e)
                    },
                    expression: "$root.siteconfig.pages.mypagesGroupInvite"
                }
            }), t.hasTeamsports ? i("div", [i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for teamsport tab name")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.mypagesTeamsporttab,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "mypagesTeamsporttab", e)
                    },
                    expression: "$root.siteconfig.pages.mypagesTeamsporttab"
                }
            })], 1) : t._e(), i("page-setting", {
                attrs: {
                    label: t.$translate("Group training"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.grouptraining,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "grouptraining", e)
                    },
                    expression: "$root.siteconfig.pages.grouptraining"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for workout")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.grouptrainingParam,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "grouptrainingParam", e)
                    },
                    expression: "$root.siteconfig.pages.grouptrainingParam"
                }
            }), t.hasCourses ? i("div", [i("page-setting", {
                attrs: {
                    label: t.$translate("Courses"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.courses,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "courses", e)
                    },
                    expression: "$root.siteconfig.pages.courses"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for course name")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.coursesParamName,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "coursesParamName", e)
                    },
                    expression: "$root.siteconfig.pages.coursesParamName"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for courseID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.coursesParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "coursesParamId", e)
                    },
                    expression: "$root.siteconfig.pages.coursesParamId"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for course category")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.coursesParamCategoryId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "coursesParamCategoryId", e)
                    },
                    expression: "$root.siteconfig.pages.coursesParamCategoryId"
                }
            })], 1) : t._e(), i("page-setting", {
                attrs: {
                    label: t.$translate("Shop"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.shop,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "shop", e)
                    },
                    expression: "$root.siteconfig.pages.shop"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for product name")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.productParamName,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "productParamName", e)
                    },
                    expression: "$root.siteconfig.pages.productParamName"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for productID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.productParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "productParamId", e)
                    },
                    expression: "$root.siteconfig.pages.productParamId"
                }
            }), t.hasTeamsports ? i("div", [i("page-setting", {
                attrs: {
                    label: t.$translate("Competitions"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.teamsport,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "teamsport", e)
                    },
                    expression: "$root.siteconfig.pages.teamsport"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page paramater for competitionID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.competitionParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "competitionParamId", e)
                    },
                    expression: "$root.siteconfig.pages.competitionParamId"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for competition name")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.competitionParamName,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "competitionParamName", e)
                    },
                    expression: "$root.siteconfig.pages.competitionParamName"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for teamsport category")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.teamsportParamCategoryId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "teamsportParamCategoryId", e)
                    },
                    expression: "$root.siteconfig.pages.teamsportParamCategoryId"
                }
            }), i("page-setting", {
                attrs: {
                    label: t.$translate("Match"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.match,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "match", e)
                    },
                    expression: "$root.siteconfig.pages.match"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for matchID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.matchParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "matchParamId", e)
                    },
                    expression: "$root.siteconfig.pages.matchParamId"
                }
            }), i("page-setting", {
                attrs: {
                    label: t.$translate("Game class overview"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.gameClassOverview,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "gameClassOverview", e)
                    },
                    expression: "$root.siteconfig.pages.gameClassOverview"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for game class ID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.gameClassOverviewParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "gameClassOverviewParamId", e)
                    },
                    expression: "$root.siteconfig.pages.gameClassOverviewParamId"
                }
            }), i("page-setting", {
                attrs: {
                    label: t.$translate("Division"),
                    clearable: !1
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.division,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "division", e)
                    },
                    expression: "$root.siteconfig.pages.division"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Page parameter for divisionID")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.$root.siteconfig.pages.divisionParamId,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig.pages, "divisionParamId", e)
                    },
                    expression: "$root.siteconfig.pages.divisionParamId"
                }
            })], 1) : t._e()], 1)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Component settings")))])]), i("v-expansion-panel-content", t._l(t.componentsWithGlobalSettings, (function(e) {
                return i("div", {
                    key: e.component.name
                }, [i("div", {
                    staticClass: "d-flex"
                }, [i("v-icon", [t._v(t._s(e.component.zoezi.icon))]), i("h3", {
                    staticClass: "ml-2"
                }, [t._v(t._s(t.$translate(e.component.zoezi.title)))])], 1), t._l(e.props, (function(s) {
                    return i("component-setting", {
                        key: s.name,
                        attrs: {
                            prop: s
                        },
                        on: {
                            input: t.delayedSave
                        },
                        model: {
                            value: t.$root.siteconfig.componentDefaults[e.component.name][s.name],
                            callback: function(i) {
                                t.$set(t.$root.siteconfig.componentDefaults[e.component.name], s.name, i)
                            },
                            expression: "$root.siteconfig.componentDefaults[c.component.name][prop.name]"
                        }
                    })
                }
                ))], 2)
            }
            )), 0)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Own components")))])]), i("v-expansion-panel-content", [i("own-components-list")], 1)], 1), i("v-expansion-panel", [i("v-expansion-panel-header", [i("h2", [t._v(t._s(t.$translate("Advanced")))])]), i("v-expansion-panel-content", [i("v-switch", {
                attrs: {
                    label: t.$translate("Publish directly upon change"),
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.$root.siteconfig.autoPublish,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig, "autoPublish", e)
                    },
                    expression: "$root.siteconfig.autoPublish"
                }
            }), i("v-switch", {
                attrs: {
                    label: t.$translate("Make a compact version"),
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.save
                },
                model: {
                    value: t.$root.compact,
                    callback: function(e) {
                        t.$set(t.$root, "compact", e)
                    },
                    expression: "$root.compact"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Domain name"),
                    color: "zoezi-edit-color"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.domainname,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig, "domainname", e)
                    },
                    expression: "$root.siteconfig.domainname"
                }
            }), i("vue-code-setting", {
                attrs: {
                    value: t.$root.siteconfig.css,
                    label: t.$translate("Stylesheet (CSS)"),
                    "css-only": ""
                },
                on: {
                    input: t.saveCss
                }
            }), i("vue-code-setting", {
                attrs: {
                    label: t.$translate("HTML code that is inserted at the end of <head>"),
                    "html-only": "",
                    "require-single-tag": !1
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.$root.siteconfig.headHtml,
                    callback: function(e) {
                        t.$set(t.$root.siteconfig, "headHtml", e)
                    },
                    expression: "$root.siteconfig.headHtml"
                }
            })], 1)], 1)], 1)
        }
          , ww = []
          , Cw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t._l(t.visibleProps.filter((function(t) {
                return !t.section
            }
            )), (function(e) {
                return i("component-setting", {
                    key: e.name,
                    attrs: {
                        prop: e,
                        config: t.config
                    },
                    on: {
                        input: function(e) {
                            return t.$emit("save")
                        }
                    },
                    model: {
                        value: t.config.props[e.name],
                        callback: function(i) {
                            t.$set(t.config.props, e.name, i)
                        },
                        expression: "config.props[prop.name]"
                    }
                })
            }
            )), i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, t._l(t.propSections, (function(e) {
                return i("v-expansion-panel", {
                    key: e.name
                }, [i("v-expansion-panel-header", {
                    staticClass: "pa-0"
                }, [i("h2", [t._v(t._s(t.$translate(e.name)))])]), i("v-expansion-panel-content", t._l(e.props, (function(e) {
                    return i("component-setting", {
                        key: e.name,
                        attrs: {
                            prop: e,
                            config: t.config
                        },
                        on: {
                            input: function(e) {
                                return t.$emit("save")
                            }
                        },
                        model: {
                            value: t.config.props[e.name],
                            callback: function(i) {
                                t.$set(t.config.props, e.name, i)
                            },
                            expression: "config.props[prop.name]"
                        }
                    })
                }
                )), 1)], 1)
            }
            )), 1)], 2)
        }
          , xw = []
          , $w = {
            name: "zoezi-component-props-setting",
            props: {
                config: Object
            },
            components: {
                ComponentSetting: Ub
            },
            computed: {
                cprops() {
                    return this.config ? Yx.getComponentProps(this.config.component) : []
                },
                visibleProps() {
                    return this.cprops.filter(t=>{
                        var e, i;
                        if (null === (e = t.typeinfo) || void 0 === e || !e.visible)
                            return !0;
                        let s = null === (i = t.typeinfo) || void 0 === i ? void 0 : i.visible
                          , a = "!" == s[0];
                        a && (s = s.substring(1));
                        let o = this.config.props[s];
                        return a ? !o : !!o
                    }
                    )
                },
                propSections() {
                    let t = [];
                    return this.visibleProps.filter(t=>t.section).forEach(e=>{
                        let i = t.find(t=>t.name == e.section);
                        i || (i = {
                            name: e.section,
                            props: []
                        },
                        t.push(i)),
                        i.props.push(e)
                    }
                    ),
                    t
                }
            }
        }
          , Sw = $w
          , Dw = Object(p["a"])(Sw, Cw, xw, !1, null, null, null)
          , zw = Dw.exports;
        g()(Dw, {
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"]
        });
        var Tw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.open;
                        return [i("label", {
                            class: {
                                "primary--text": s
                            }
                        }, [t._v(t._s(t.label))])]
                    }
                }])
            }), i("v-expansion-panel-content", [i("v-tabs", {
                attrs: {
                    "icons-and-text": ""
                }
            }, [t._l(t.breakpoints, (function(e) {
                return i("v-tab", {
                    key: e.id
                }, [t._v(" " + t._s(e.name)), i("v-icon", [t._v(t._s(e.icon))])], 1)
            }
            )), t._l(t.breakpoints, (function(e) {
                return i("v-tab-item", {
                    key: e.id
                }, [i("font-setting", {
                    attrs: {
                        label: t.$translate("Font")
                    },
                    model: {
                        value: t.style[e.id].font,
                        callback: function(i) {
                            t.$set(t.style[e.id], "font", i)
                        },
                        expression: "style[b.id].font"
                    }
                }), i("css-size-setting", {
                    attrs: {
                        label: t.$translate("Size")
                    },
                    model: {
                        value: t.style[e.id].size,
                        callback: function(i) {
                            t.$set(t.style[e.id], "size", i)
                        },
                        expression: "style[b.id].size"
                    }
                }), i("v-checkbox", {
                    attrs: {
                        label: t.$translate("Bold"),
                        color: "zoezi-edit-color"
                    },
                    model: {
                        value: t.style[e.id].bold,
                        callback: function(i) {
                            t.$set(t.style[e.id], "bold", i)
                        },
                        expression: "style[b.id].bold"
                    }
                }), i("v-checkbox", {
                    attrs: {
                        label: t.$translate("Cursive"),
                        color: "zoezi-edit-color"
                    },
                    model: {
                        value: t.style[e.id].italic,
                        callback: function(i) {
                            t.$set(t.style[e.id], "italic", i)
                        },
                        expression: "style[b.id].italic"
                    }
                }), i("v-checkbox", {
                    attrs: {
                        label: t.$translate("Uppercase letters"),
                        color: "zoezi-edit-color"
                    },
                    model: {
                        value: t.style[e.id].uppercase,
                        callback: function(i) {
                            t.$set(t.style[e.id], "uppercase", i)
                        },
                        expression: "style[b.id].uppercase"
                    }
                }), i("css-size-setting", {
                    attrs: {
                        label: t.$translate("Kerning")
                    },
                    model: {
                        value: t.style[e.id].letterspacing,
                        callback: function(i) {
                            t.$set(t.style[e.id], "letterspacing", i)
                        },
                        expression: "style[b.id].letterspacing"
                    }
                }), i("css-size-setting", {
                    attrs: {
                        label: t.$translate("Line spacing"),
                        allowNumber: !0
                    },
                    model: {
                        value: t.style[e.id].lineheight,
                        callback: function(i) {
                            t.$set(t.style[e.id], "lineheight", i)
                        },
                        expression: "style[b.id].lineheight"
                    }
                }), i("color-setting", {
                    attrs: {
                        label: t.$translate("Color")
                    },
                    model: {
                        value: t.style[e.id].color,
                        callback: function(i) {
                            t.$set(t.style[e.id], "color", i)
                        },
                        expression: "style[b.id].color"
                    }
                })], 1)
            }
            ))], 2)], 1)], 1)], 1)
        }
          , Iw = []
          , Pw = {
            name: "zoezi-text-style-setting",
            props: ["value", "label"],
            components: {
                FontSetting: Db,
                CssSizeSetting: qf,
                ColorSetting: Pg["a"]
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        t || (t = {}),
                        this.style = t,
                        this.breakpoints.forEach(t=>{
                            this.style[t.id] || (this.style = Object.assign({}, this.style),
                            s["default"].set(this.style, t.id, {}))
                        }
                        )
                    }
                },
                style: {
                    deep: !0,
                    handler(t) {
                        this.$emit("input", t)
                    }
                }
            },
            data: ()=>({
                style: null,
                breakpoints: [{
                    id: "mobile",
                    name: "Mobil",
                    icon: "mdi-cellphone-iphone"
                }, {
                    id: "desktop",
                    name: "Dator",
                    icon: "mdi-desktop-mac"
                }]
            })
        }
          , Vw = Pw
          , Bw = Object(p["a"])(Vw, Tw, Iw, !1, null, null, null)
          , Fw = Bw.exports;
        g()(Bw, {
            VCheckbox: b["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"]
        });
        var Ew = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticStyle: {
                    background: "white"
                }
            }, [i("vue-code-setting", {
                attrs: {
                    add: !0,
                    named: ""
                },
                on: {
                    open: t.openCreateDialog,
                    input: t.save
                },
                model: {
                    value: t.newComponent,
                    callback: function(e) {
                        t.newComponent = e
                    },
                    expression: "newComponent"
                }
            }), i("v-list", t._l(t.$root.siteconfig.ownComponents, (function(e) {
                return i("vue-code-setting", {
                    key: e.id,
                    attrs: {
                        add: !1,
                        named: "",
                        value: e
                    },
                    on: {
                        input: t.save,
                        remove: t.remove
                    },
                    scopedSlots: t._u([{
                        key: "activator",
                        fn: function(s) {
                            var a = s.show;
                            return [i("v-list-item", {
                                on: {
                                    click: function(t) {
                                        return t.stopPropagation(),
                                        a.apply(null, arguments)
                                    }
                                }
                            }, [i("div", {
                                staticClass: "black--text"
                            }, [i("v-icon", [t._v(t._s(e.icon))]), t._v(" " + t._s(e.name))], 1)])]
                        }
                    }], null, !0)
                })
            }
            )), 1)], 1)
        }
          , Ow = []
          , Mw = {
            name: "zoezi-own-components-list",
            components: {
                VueCodeSetting: cb
            },
            data: ()=>({
                newComponent: {
                    name: "",
                    html: "",
                    js: "",
                    css: ""
                },
                newComponentProps: {
                    name: "Ny komponent",
                    html: '<v-btn color="primary" @click="inc">\n    {{text}} ({{count}})\n</v-btn>\n',
                    js: "export default {\n    props: {\n        text: {\n            title: 'Knapptext',\n            type: String,\n            default: 'Klicka här'\n        }\n    },\n    data: () => ({\n        count: 1\n    }),\n    methods: {\n        inc() {\n            this.count++;\n        }\n    }\n}",
                    css: ""
                }
            }),
            methods: {
                openCreateDialog() {
                    this.newComponent = Object.assign({}, {
                        name: this.newComponentProps.name,
                        html: this.newComponentProps.html,
                        js: this.newComponentProps.js,
                        css: this.newComponentProps.css
                    })
                },
                save(t) {
                    t.name && (this.$root.siteconfig.ownComponents || s["default"].set(this.$root.siteconfig, "ownComponents", {}),
                    this.$root.siteconfig.ownComponents[t.id] = t,
                    this.$root.saveHomePage(),
                    Yx.updateOwnComponents(this.$root.siteconfig),
                    Yx.updateAllLiveComponents(t.id))
                },
                remove(t) {
                    s["default"].delete(this.$root.siteconfig.ownComponents, t.id),
                    this.$root.saveHomePage(),
                    Yx.updateOwnComponents(this.$root.siteconfig),
                    Yx.updateAllLiveComponents(t.id)
                }
            }
        }
          , Aw = Mw
          , Rw = Object(p["a"])(Aw, Ew, Ow, !1, null, null, null)
          , Lw = Rw.exports;
        g()(Rw, {
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"]
        });
        var jw = {
            name: "GeneralSettings",
            components: {
                ComponentSetting: Ub,
                ComponentPropsSetting: zw,
                TextStyleSetting: Fw,
                OwnComponentsList: Lw,
                PageSetting: Vf,
                VueCodeSetting: cb
            },
            data: ()=>({
                currentOpenSettingsPanel: 0
            }),
            watch: {
                componentsWithGlobalSettings: {
                    immediate: !0,
                    handler(t) {
                        let e = !1
                          , i = this.$root.siteconfig.componentDefaults;
                        i || (this.$root.siteconfig.componentDefaults = i = {},
                        e = !0),
                        t.forEach(t=>{
                            i[t.component.name] || (i[t.component.name] = {},
                            e = !0),
                            t.props.forEach(s=>{
                                void 0 === i[t.component.name][s.name] && (i[t.component.name][s.name] = Object(a["isFunction"])(s.default) ? s.default() : s.default,
                                void 0 !== i[t.component.name][s.name] && (e = !0))
                            }
                            )
                        }
                        ),
                        e && this.save()
                    }
                },
                "$root.siteconfig.componentDefaults": {
                    deep: !0,
                    handler() {
                        this.setDefaults()
                    }
                }
            },
            computed: {
                componentsWithGlobalSettings() {
                    return Yx.getAllGlobalSettings()
                },
                rootProps() {
                    return Yx.getComponentProps(this.$root.siteconfig.root.component)
                },
                hasTeamsports() {
                    var t, e;
                    return 0 != (null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.teamsports)
                },
                hasCourses() {
                    var t, e;
                    return null === (t = this.$store.state) || void 0 === t || null === (e = t.settings) || void 0 === e ? void 0 : e.modules.Courses
                }
            },
            methods: {
                save() {
                    this.$root.saveHomePage()
                },
                delayedSave: Object(a["debounce"])((function() {
                    this.save()
                }
                ), 1e3),
                saveTitle() {
                    this.$root.setTitle(),
                    this.delayedSave()
                },
                saveFavicon() {
                    document.getElementById("favicon").href = this.$root.siteconfig.favicon ? this.$api.getImageUrl(this.$root.siteconfig.favicon, 50) : "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
                    this.delayedSave()
                },
                saveFont() {
                    this.$root.loadFont(this.$root.siteconfig.font),
                    this.save()
                },
                saveSiteName() {
                    let t = this.$root.sites.find(t=>t.id == this.$root.homepage_id);
                    t && (t.name = this.$root.siteconfig.root.props.name,
                    t.basepath = this.$root.basepath),
                    this.delayedSave()
                },
                saveCss(t) {
                    this.$root.siteconfig.css = t,
                    this.delayedSave()
                },
                setDefaults() {
                    Yx.setComponentDefaults(this.$root.siteconfig),
                    this.componentsWithGlobalSettings.forEach(t=>{
                        let e, i = t=>{
                            let i = (s,a)=>{
                                e || "ComponentWrapper" != s.$options.name || (this.firstWrapper = s),
                                s.$children.forEach(t=>i(t, a)),
                                s.$options.name == t && a.push(s)
                            }
                              , s = [];
                            return i(this.$root, s),
                            s
                        }
                        , s = i(t.component.name);
                        s.forEach(t=>{
                            while (t && "ComponentWrapper" != t.$options.name)
                                t = t.$parent;
                            t && t.update && t.update()
                        }
                        )
                    }
                    )
                },
                saveRootProp(t, e) {
                    "colors" == t.name && this.$root.setThemeColors(e),
                    this.delayedSave()
                }
            }
        }
          , Nw = jw
          , Ww = Object(p["a"])(Nw, kw, ww, !1, null, null, null)
          , qw = Ww.exports;
        g()(Ww, {
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VSwitch: ce["a"],
            VTextField: z["a"]
        });
        var Hw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticStyle: {
                    "padding-right": "1px"
                }
            }, [i("div", {
                staticClass: "text-right"
            }, [t.$vuetify.breakpoint.mobile ? i("v-btn", {
                attrs: {
                    color: "primary",
                    text: ""
                },
                on: {
                    click: function(e) {
                        return t.hideEditPanel()
                    }
                }
            }, [t._v(t._s(t.$translate("Select component on page"))), i("v-icon", {
                attrs: {
                    right: ""
                }
            }, [t._v("mdi-arrow-right")])], 1) : t._e()], 1), t.config ? i("v-tabs", {
                staticClass: "z-no-arrows",
                attrs: {
                    "fixed-tabs": "",
                    "icons-and-text": "",
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.currentOpenSettingsPanel,
                    callback: function(e) {
                        t.currentOpenSettingsPanel = e
                    },
                    expression: "currentOpenSettingsPanel"
                }
            }, [i("v-tab", [t._v(" " + t._s(t.brokenComponentTitle)), i("v-icon", [t._v(t._s(t.componentIcon))])], 1), i("v-tab", [t._v(" " + t._s(t.$translate("Content"))), i("v-icon", [t._v("mdi-cog")])], 1), i("v-tab", [t._v(" " + t._s(t.$translate("Advanced"))), i("v-icon", [t._v("mdi-radioactive")])], 1), i("v-tab-item", {
                staticClass: "pa-4"
            }, [t.isPage ? i("div", [i("page-template-palette", {
                ref: "pagetemplatepalette",
                attrs: {
                    "show-remove": ""
                },
                on: {
                    input: function(e) {
                        return t.pageTemplateChanged()
                    }
                },
                model: {
                    value: t.pageTemplate,
                    callback: function(e) {
                        t.pageTemplate = e
                    },
                    expression: "pageTemplate"
                }
            }), t.isSuperUser ? i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        t.showSavePageTemplateDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Save page as a template")))]) : t._e(), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showSavePageTemplateDialog,
                    callback: function(e) {
                        t.showSavePageTemplateDialog = e
                    },
                    expression: "showSavePageTemplateDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(t._s(t.$translate("Save template")))]), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Name"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.newPageTemplateName,
                    callback: function(e) {
                        t.newPageTemplateName = e
                    },
                    expression: "newPageTemplateName"
                }
            }), i("icon-setting", {
                attrs: {
                    label: t.$translate("Icon")
                },
                model: {
                    value: t.newPageTemplateIcon,
                    callback: function(e) {
                        t.newPageTemplateIcon = e
                    },
                    expression: "newPageTemplateIcon"
                }
            })], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.newPageTemplateValid
                },
                on: {
                    click: t.savePageAsPageTemplate
                }
            }, [t._v(" " + t._s(t.$translate("Save")) + " ")])], 1)], 1)], 1)], 1) : i("component-palette", {
                key: t.paletteKey,
                attrs: {
                    component: t.component
                }
            })], 1), i("v-tab-item", {
                staticClass: "pa-4"
            }, [i("div", {
                key: t.config ? t.config.id + "_" + t.config.component : void 0
            }, [0 == t.cprops.length ? i("h2", {
                staticClass: "secondary--text"
            }, [t._v(t._s(t.$translate("The component lacks settings")))]) : t._e(), i("component-props-setting", {
                attrs: {
                    config: t.config
                },
                on: {
                    save: t.delayedSave
                }
            }), t.wrapper && t.wrapper.canRemove ? i("div", {
                staticClass: "ml-4"
            }, [i("v-btn", {
                attrs: {
                    fab: "",
                    color: "error"
                },
                on: {
                    click: t.remove
                }
            }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1) : t._e(), t.parentComponent ? i("div", [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.$translate("Parent component")))]), i("div", {
                staticClass: "black--text",
                staticStyle: {
                    cursor: "pointer"
                },
                on: {
                    click: function(e) {
                        return t.$store.commit("setEditComponent", t.parentComponent)
                    }
                }
            }, [i("div", {
                staticStyle: {
                    "line-height": "40px"
                }
            }, [i("v-icon", [t._v(t._s(t.parentComponent.$options.zoezi.icon))]), t._v(" " + t._s(t.$translate(t.parentComponent.$options.zoezi.title)) + " ")], 1)])]) : t._e(), t.ownComponent ? i("vue-code-setting", {
                attrs: {
                    add: !1,
                    named: !0,
                    value: t.ownComponent
                },
                on: {
                    input: t.saveOwnComponent
                }
            }) : t._e(), t.$store.state.editMenu ? t._e() : i("v-btn", {
                staticClass: "mt-2",
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        t.showComponentTree = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Show component tree")))]), t.canBeCopied ? i("div", {
                staticClass: "d-flex mt-4"
            }, [i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: t.copyComponent
                }
            }, [t._v(" " + t._s(t.$translate("Copy")) + " "), i("v-chip", {
                staticClass: "ml-2",
                staticStyle: {
                    "text-transform": "none"
                },
                attrs: {
                    small: ""
                }
            }, [i("v-icon", {
                staticClass: "mr-1"
            }, [t._v(t._s(t.componentIcon))]), t._v(" " + t._s(t.componentTitle) + " ")], 1)], 1)], 1) : t._e(), t.canBeCopied ? i("div", {
                staticClass: "d-flex mt-4"
            }, [i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.copiedComponent
                },
                on: {
                    click: t.pasteComponent
                }
            }, [t._v(" " + t._s(t.$translate("Paste")) + " "), t.copiedComponent ? i("v-chip", {
                staticClass: "ml-2",
                staticStyle: {
                    "text-transform": "none"
                },
                attrs: {
                    small: ""
                }
            }, [i("v-icon", {
                staticClass: "mr-1"
            }, [t._v(t._s(t.copiedComponent.zoezi.icon))]), t._v(" " + t._s(t.$translate(t.copiedComponent.zoezi.title)) + " ")], 1) : t._e()], 1), t.copiedComponent ? i("div", {
                staticClass: "ml-2 black--text d-flex align-center"
            }, [t._v(t._s(t.$translate("Replaces")) + " "), i("v-icon", {
                staticClass: "ml-2 mr-1"
            }, [t._v(t._s(t.componentIcon))]), t._v(t._s(t.componentTitle))], 1) : i("div", {
                staticClass: "ml-2 black--text d-flex align-center"
            }, [i("v-icon", {
                staticClass: "mr-1"
            }, [t._v("mdi-clipboard-alert-outline")]), t._v(t._s(t.$translate("Nothing in clipboard")))], 1)], 1) : t._e()], 1)]), i("v-tab-item", {
                staticClass: "pa-4"
            }, [t.config && t.config.style ? i("div", {
                key: t.config.id
            }, [i("margin-padding-setting", {
                attrs: {
                    label: t.$translate("Margin"),
                    value: {
                        left: t.config.style.marginLeft,
                        right: t.config.style.marginRight,
                        top: t.config.style.marginTop,
                        bottom: t.config.style.marginBottom
                    }
                },
                on: {
                    input: t.setMargins
                }
            }), i("margin-padding-setting", {
                attrs: {
                    label: t.$translate("Padding"),
                    value: {
                        left: t.config.style.paddingLeft,
                        right: t.config.style.paddingRight,
                        top: t.config.style.paddingTop,
                        bottom: t.config.style.paddingBottom
                    }
                },
                on: {
                    input: t.setPaddings
                }
            }), i("color-setting", {
                attrs: {
                    label: t.$translate("Background color")
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.config.style.backgroundColor,
                    callback: function(e) {
                        t.$set(t.config.style, "backgroundColor", e)
                    },
                    expression: "config.style.backgroundColor"
                }
            }), i("color-setting", {
                attrs: {
                    label: t.$translate("Text color")
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.config.style.color,
                    callback: function(e) {
                        t.$set(t.config.style, "color", e)
                    },
                    expression: "config.style.color"
                }
            }), i("alignment-setting", {
                attrs: {
                    label: t.$translate("Text alignment")
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.config.style.textAlign,
                    callback: function(e) {
                        t.$set(t.config.style, "textAlign", e)
                    },
                    expression: "config.style.textAlign"
                }
            }), i("visibility-setting", {
                attrs: {
                    label: t.$translate("Visibility")
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.config.style.visible,
                    callback: function(e) {
                        t.$set(t.config.style, "visible", e)
                    },
                    expression: "config.style.visible"
                }
            }), i("v-switch", {
                attrs: {
                    label: t.$translate("Fill vertically"),
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.delayedSave
                },
                model: {
                    value: t.config.style.fillHeight,
                    callback: function(e) {
                        t.$set(t.config.style, "fillHeight", e)
                    },
                    expression: "config.style.fillHeight"
                }
            }), i("v-switch", {
                attrs: {
                    label: t.$translate("Show only when scrolled into view"),
                    color: "zoezi-edit-color"
                },
                on: {
                    change: t.delayedSave
                },
                model: {
                    value: t.config.style.lazy,
                    callback: function(e) {
                        t.$set(t.config.style, "lazy", e)
                    },
                    expression: "config.style.lazy"
                }
            }), i("animation-setting", {
                attrs: {
                    label: t.$translate("Animation"),
                    seekers: "",
                    entrances: ""
                },
                on: {
                    input: t.save
                },
                model: {
                    value: t.config.style.animation,
                    callback: function(e) {
                        t.$set(t.config.style, "animation", e)
                    },
                    expression: "config.style.animation"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("CSS classes"),
                    color: "zoezi-edit-color"
                },
                on: {
                    input: t.delayedSave
                },
                model: {
                    value: t.config.style.classes,
                    callback: function(e) {
                        t.$set(t.config.style, "classes", e)
                    },
                    expression: "config.style.classes"
                }
            }), i("page-params-setting", {
                attrs: {
                    label: t.$translate("Page parameters"),
                    props: t.cprops
                },
                on: {
                    input: t.savePageParams
                },
                model: {
                    value: t.config.style.pageParams,
                    callback: function(e) {
                        t.$set(t.config.style, "pageParams", e)
                    },
                    expression: "config.style.pageParams"
                }
            }), i("component-template-settings", {
                attrs: {
                    label: t.$translate("Template settings"),
                    config: t.config,
                    props: t.cprops
                }
            })], 1) : t._e()])], 1) : i("div", {
                staticClass: "pa-4"
            }, [t.$vuetify.breakpoint.mobile ? t._e() : i("h2", {
                staticClass: "black--text"
            }, [t._v(t._s(t.$translate("Click on a component on the page to edit its content here")))])]), t.showComponentTree ? i("toolbox-window", {
                attrs: {
                    "max-width": "800px",
                    scrollable: "",
                    label: t.$translate("Component tree"),
                    close: "",
                    center: ""
                },
                on: {
                    close: function(e) {
                        t.showComponentTree = !1
                    }
                }
            }, [i("component-tree", {
                attrs: {
                    "min-height": 500,
                    "max-height": "90vh",
                    "show-header": !1,
                    "show-close": !1
                },
                on: {
                    select: function(e) {
                        return t.$store.commit("setEditComponent", e)
                    }
                }
            })], 1) : t._e()], 1)
        }
          , Uw = []
          , Yw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panels", {
                attrs: {
                    accordion: "",
                    flat: ""
                }
            }, [i("v-expansion-panel", [i("v-expansion-panel-header", {
                staticClass: "pa-0",
                scopedSlots: t._u([{
                    key: "default",
                    fn: function(e) {
                        var s = e.open;
                        return [i("v-row", {
                            attrs: {
                                "no-gutters": ""
                            }
                        }, [i("v-col", {
                            staticClass: "v-label theme--light mb-2"
                        }, [i("label", {
                            class: {
                                "primary--text": s
                            }
                        }, [t._v(t._s(t.label))])])], 1)]
                    }
                }])
            }), i("v-expansion-panel-content", [i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "2",
                    offset: "5"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Top"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: t.min
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.top,
                    callback: function(e) {
                        t.top = e
                    },
                    expression: "top"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "1",
                    offset: "4"
                }
            }, [i("v-btn", {
                attrs: {
                    icon: "",
                    color: "primary"
                },
                on: {
                    click: function(e) {
                        return e.preventDefault(),
                        t.clear.apply(null, arguments)
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "2"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Left"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: t.min
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.left,
                    callback: function(e) {
                        t.left = e
                    },
                    expression: "left"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [i("v-slider", {
                attrs: {
                    min: "0",
                    max: "100"
                },
                on: {
                    input: function(e) {
                        return t.setAll()
                    },
                    change: function(e) {
                        return t.setAll()
                    }
                },
                model: {
                    value: t.all,
                    callback: function(e) {
                        t.all = e
                    },
                    expression: "all"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "2"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Right"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: t.min
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.right,
                    callback: function(e) {
                        t.right = e
                    },
                    expression: "right"
                }
            })], 1)], 1), i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    cols: "2",
                    offset: "5"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Bottom"),
                    type: "number",
                    color: "zoezi-edit-color",
                    min: t.min
                },
                on: {
                    input: t.setValue
                },
                model: {
                    value: t.bottom,
                    callback: function(e) {
                        t.bottom = e
                    },
                    expression: "bottom"
                }
            })], 1)], 1)], 1)], 1)], 1)
        }
          , Gw = []
          , Kw = {
            name: "MarginPaddingSetting",
            props: ["value", "label", "min"],
            data: ()=>({
                all: null,
                left: null,
                right: null,
                bottom: null,
                top: null
            }),
            methods: {
                setValue() {
                    this.$emit("input", {
                        top: this.top,
                        left: this.left,
                        bottom: this.bottom,
                        right: this.right
                    })
                },
                setAll() {
                    0 != this.all && this.changeAll()
                },
                changeAll() {
                    this.top = this.bottom = this.left = this.right = this.all,
                    this.setValue()
                },
                clear() {
                    this.all = void 0,
                    this.changeAll()
                }
            },
            created() {
                this.left = this.value.left,
                this.right = this.value.right,
                this.bottom = this.value.bottom,
                this.top = this.value.top,
                this.left == this.right && this.left == this.bottom && this.left == this.top && void 0 !== this.left && (this.all = this.left)
            }
        }
          , Qw = Kw
          , Jw = Object(p["a"])(Qw, Yw, Gw, !1, null, null, null)
          , Xw = Jw.exports;
        g()(Jw, {
            VBtn: O["a"],
            VCol: M["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSlider: qb["a"],
            VTextField: z["a"]
        });
        var Zw = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-card", {
                staticClass: "d-flex flex-column zoezi-edit-font",
                attrs: {
                    "max-height": t.maxHeight,
                    "min-height": t.minHeight
                }
            }, [t.showHeader ? i("v-card-title", {
                staticClass: "headline zoezi-edit-color pb-4"
            }, [t._v(t._s(t.$translate("Component tree")) + " "), i("v-btn", {
                staticClass: "ml-auto d-flex",
                attrs: {
                    right: "",
                    icon: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    }
                }
            }, [i("v-icon", {
                staticClass: "white--text"
            }, [t._v("mdi-close")])], 1)], 1) : t._e(), i("v-card-text", {
                staticStyle: {
                    "overflow-y": "auto"
                }
            }, [i("v-treeview", {
                staticStyle: {
                    cursor: "pointer"
                },
                attrs: {
                    color: "zoezi-edit-color",
                    items: t.treeItems,
                    active: t.active,
                    activatable: "",
                    "open-all": ""
                },
                on: {
                    "update:active": t.treeChange
                },
                scopedSlots: t._u([{
                    key: "prepend",
                    fn: function(e) {
                        var s = e.item;
                        return [s.icon ? i("v-icon", [t._v(" " + t._s(s.icon) + " ")]) : t._e()]
                    }
                }])
            })], 1), i("v-spacer"), t.showClose ? i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    text: ""
                },
                on: {
                    click: function(e) {
                        return t.$emit("close")
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Close")) + " ")])], 1) : t._e()], 1)
        }
          , tC = []
          , eC = {
            name: "ComponentTree",
            props: ["show-header", "show-close", "min-height", "max-height"],
            data: ()=>({
                treeItems: [],
                active: []
            }),
            methods: {
                getComponentTree() {
                    let t = function(e) {
                        return !!e.zoezi || e.children.find(t)
                    }
                      , e = (i,s)=>{
                        const a = Yx.getAllComponents();
                        let o = a.find(t=>t.name == i.$options.name)
                          , n = this.$translate(o ? o.zoezi.title : i.$options.name)
                          , r = {
                            id: i._uid,
                            name: n,
                            children: [],
                            zoezi: !!o,
                            icon: o && o.zoezi.icon
                        };
                        i.$children.forEach(t=>e(t, r.children)),
                        t(r) && (!r.zoezi && r.children.length ? r.children.forEach(t=>s.push(t)) : s.push(r))
                    }
                      , i = function(t, e) {
                        if (t.$options.name == e)
                            return t;
                        let s = null;
                        return t.$children.forEach(t=>{
                            let a = i(t, e);
                            s || (s = a)
                        }
                        ),
                        s
                    }
                      , s = [];
                    return e(i(this.$root, "zoezi-root"), s),
                    s
                },
                treeChange(t) {
                    if (t && 1 == t.length) {
                        let e = function(t, i) {
                            if (t._uid == i)
                                return t;
                            let s = null;
                            return t.$children.forEach(t=>{
                                let a = e(t, i);
                                s || (s = a)
                            }
                            ),
                            s
                        }
                          , i = e(this.$root, t[0]);
                        this.$emit("select", i)
                    }
                }
            },
            created() {
                this.treeItems = this.getComponentTree(),
                this.$store.state.editComponent && (this.active = [this.$store.state.editComponent._uid])
            }
        }
          , iC = eC
          , sC = i("eb2a")
          , aC = Object(p["a"])(iC, Zw, tC, !1, null, null, null)
          , oC = aC.exports;
        g()(aC, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VIcon: y["a"],
            VSpacer: J["a"],
            VTreeview: sC["a"]
        });
        var nC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "my-8"
            }, [i("v-select", {
                attrs: {
                    label: t.label,
                    items: t.items,
                    multiple: "",
                    color: "zoezi-edit-color"
                },
                scopedSlots: t._u([{
                    key: "selection",
                    fn: function(e) {
                        return [i("span", {
                            staticClass: "mr-2"
                        }, [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v(t._s(e.item.icon))]), t._v(" " + t._s(t.$translate(e.item.text)))], 1)]
                    }
                }, {
                    key: "item",
                    fn: function(e) {
                        return [i("v-list-item", t._g({
                            attrs: {
                                attrs: e.attrs,
                                dense: "",
                                color: "zoezi-edit-color"
                            }
                        }, e.on), [i("v-checkbox", {
                            staticClass: "mt-0",
                            attrs: {
                                dense: "",
                                color: "zoezi-edit-color"
                            },
                            model: {
                                value: e.item.selected,
                                callback: function(i) {
                                    t.$set(e.item, "selected", i)
                                },
                                expression: "data.item.selected"
                            }
                        }, [i("template", {
                            slot: "label"
                        }, [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v(t._s(e.item.icon))]), t._v(" " + t._s(t.$translate(e.item.text)) + " ")], 1)], 2)], 1)]
                    }
                }]),
                model: {
                    value: t.selectedTypes,
                    callback: function(e) {
                        t.selectedTypes = e
                    },
                    expression: "selectedTypes"
                }
            }), t.selectedTypes.includes("card") ? i("v-autocomplete", {
                attrs: {
                    multiple: "",
                    items: t.cards,
                    "item-text": "name",
                    "item-value": "id",
                    label: t.$translate("Training card"),
                    hint: t.$translate("Visible if the user has any of the selected training cards"),
                    color: "zoezi-edit-color"
                },
                on: {
                    input: t.emitChange
                },
                model: {
                    value: t.selectedCards,
                    callback: function(e) {
                        t.selectedCards = e
                    },
                    expression: "selectedCards"
                }
            }) : t._e(), t.selectedTypes.includes("role") ? i("v-autocomplete", {
                attrs: {
                    multiple: "",
                    items: t.roles,
                    "item-text": "name",
                    "item-value": "id",
                    label: t.$translate("Roles"),
                    hint: t.$translate("Visible if the user has any of the selected roles"),
                    color: "zoezi-edit-color",
                    "item-color": "zoezi-edit-color",
                    "persistent-hint": ""
                },
                on: {
                    input: t.emitChange
                },
                model: {
                    value: t.selectedRoles,
                    callback: function(e) {
                        t.selectedRoles = e
                    },
                    expression: "selectedRoles"
                }
            }) : t._e(), t.selectedTypes.includes("permission") ? i("v-autocomplete", {
                attrs: {
                    multiple: "",
                    items: t.permissions,
                    "item-text": "name",
                    "item-value": "id",
                    label: t.$translate("Access rights"),
                    hint: t.$translate("Visible if the user has all selected permissions"),
                    color: "zoezi-edit-color",
                    "item-color": "zoezi-edit-color",
                    "persistent-hint": ""
                },
                on: {
                    input: t.emitChange
                },
                model: {
                    value: t.selectedPermissions,
                    callback: function(e) {
                        t.selectedPermissions = e
                    },
                    expression: "selectedPermissions"
                }
            }) : t._e(), t.selectedTypes.includes("advanced") ? [i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.$translate("JavaScript function")))]), i("codemirror", {
                staticStyle: {
                    border: "1px solid gray"
                },
                attrs: {
                    options: t.cmOptionJs
                },
                on: {
                    input: t.emitChange
                },
                model: {
                    value: t.code,
                    callback: function(e) {
                        t.code = e
                    },
                    expression: "code"
                }
            }), i("div", {
                staticStyle: {
                    color: "red"
                }
            }, [t._v(t._s(t.jsError))])] : t._e()], 2)
        }
          , rC = [];
        function lC() {
            return window.$zoeziapi.get("/api/trainingcard/type/get/all").then(t=>t.filter(t=>"trainingcard" == t.type || "resourcebooking" == t.type))
        }
        function cC() {
            return window.$zoeziapi.get("/api/staff/roles")
        }
        function dC() {
            return window.$zoeziapi.get("/api/staff/permissions/get", {
                builtIn: !0
            })
        }
        var uC = {
            name: "VisiblitySetting",
            props: ["value", "label"],
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.code = null,
                        this.selectedCards = [],
                        this.selectedRoles = [],
                        this.selectedPermissions = [],
                        t ? "string" === typeof t ? (this.selectedTypes = ["advanced"],
                        this.code = t) : "object" === typeof t && (this.selectedTypes = Array.isArray(t.type) ? t.type : [t.type],
                        this.code = t.code,
                        this.selectedCards = t.cards,
                        this.selectedRoles = t.roles,
                        this.selectedPermissions = t.permissions) : this.selectedTypes = ["always"],
                        this.items.forEach(t=>{
                            t.selected = this.selectedTypes.includes(t.value)
                        }
                        )
                    }
                },
                code: {
                    immediate: !0,
                    handler() {
                        this.checkJs()
                    }
                },
                selectedTypes(t, e) {
                    if (t.length > e.length) {
                        let i = Object(a["difference"])(t, e);
                        i.forEach(t=>{
                            let e = this.items.find(e=>e.value == t).ifSelectedRemove.split(",");
                            e.forEach(e=>{
                                if ("*" == e)
                                    this.selectedTypes = [t];
                                else {
                                    let t = this.selectedTypes.indexOf(e);
                                    -1 !== t && this.selectedTypes.splice(t, 1)
                                }
                            }
                            )
                        }
                        )
                    } else
                        0 == t.length && (this.selectedTypes = ["always"]);
                    this.items.forEach(t=>{
                        t.selected = this.selectedTypes.includes(t.value)
                    }
                    ),
                    this.emitChange()
                }
            },
            data: ()=>({
                selectedTypes: null,
                code: null,
                selectedCards: [],
                selectedRoles: [],
                selectedPermissions: [],
                cards: [],
                roles: [],
                permissions: [],
                items: [{
                    value: "always",
                    text: "Always show",
                    icon: "mdi-eye",
                    selected: !1,
                    ifSelectedRemove: "*"
                }, {
                    value: "never",
                    text: "Never show",
                    icon: "mdi-eye-off",
                    selected: !1,
                    ifSelectedRemove: "*"
                }, {
                    value: "isLoggedIn",
                    text: "Show if logged in",
                    icon: "mdi-door-open",
                    selected: !1,
                    ifSelectedRemove: "isNotLoggedIn,always,never"
                }, {
                    value: "isNotLoggedIn",
                    text: "Show if logged out",
                    icon: "mdi-door-closed",
                    selected: !1,
                    ifSelectedRemove: "isLoggedIn,always,never"
                }, {
                    value: "desktop",
                    text: "Show on computer",
                    icon: "mdi-desktop-mac",
                    selected: !1,
                    ifSelectedRemove: "mobile,always,never"
                }, {
                    value: "mobile",
                    text: "Show on mobile",
                    icon: "mdi-cellphone-iphone",
                    selected: !1,
                    ifSelectedRemove: "desktop,always,never"
                }, {
                    value: "card",
                    text: "Show for certain training card",
                    icon: "mdi-card-bulleted-outline",
                    selected: !1,
                    ifSelectedRemove: "always,never"
                }, {
                    value: "role",
                    text: "Show for a specific role",
                    icon: "mdi-account-group",
                    selected: !1,
                    ifSelectedRemove: "always,never"
                }, {
                    value: "permission",
                    text: "Show for certain access right",
                    icon: "mdi-shield-account",
                    selected: !1,
                    ifSelectedRemove: "always,never"
                }, {
                    value: "advanced",
                    text: "Advanced condition",
                    icon: "mdi-cog",
                    selected: !1,
                    ifSelectedRemove: "always,never"
                }],
                cmOptionJs: {
                    tabSize: 2,
                    indentUnit: 2,
                    matchBrackets: !0,
                    mode: "text/javascript",
                    readOnly: !1,
                    lineNumbers: !1,
                    lineWrapping: !0,
                    foldGutter: !1,
                    lint: {
                        esversion: 11,
                        asi: !0
                    },
                    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter", "CodeMirror-lint-markers"]
                },
                jsError: null
            }),
            methods: {
                emitChange() {
                    let t = {
                        type: this.selectedTypes,
                        code: this.code,
                        cards: this.selectedCards,
                        roles: this.selectedRoles,
                        permissions: this.selectedPermissions
                    };
                    1 == t.type.length && "always" == t.type[0] && (t = null),
                    this.$emit("input", t)
                },
                checkJs() {
                    let t;
                    if (this.jsError = null,
                    this.selectedTypes.includes("advanced") && this.code) {
                        try {
                            t = new Function(this.code),
                            t = t.bind({
                                $vuetify: this.$vuetify,
                                $store: this.$store,
                                $booking: this.$booking
                            })
                        } catch (e) {
                            this.jsError = "Compilation error: " + e
                        }
                        if (t) {
                            let i;
                            try {
                                i = t(),
                                "boolean" !== typeof i && (this.jsError = "Function should return a boolean value, not " + typeof i)
                            } catch (e) {
                                this.jsError = "Execution error: " + e
                            }
                        }
                    }
                }
            },
            created() {
                lC().then(t=>this.cards = t.sort((t,e)=>t.name.localeCompare(e.name))),
                cC().then(t=>this.roles = t.map(t=>({
                    ...t,
                    name: this.$translate(t.name)
                })).sort((t,e)=>t.name.localeCompare(e.name))),
                dC().then(t=>this.permissions = t.map(t=>({
                    id: t.id,
                    name: this.$translate(t.id)
                })).sort((t,e)=>t.name.localeCompare(e.name)))
            }
        }
          , hC = uC
          , mC = Object(p["a"])(hC, nC, rC, !1, null, null, null)
          , pC = mC.exports;
        g()(mC, {
            VAutocomplete: ku["a"],
            VCheckbox: b["a"],
            VIcon: y["a"],
            VListItem: wt["a"],
            VSelect: Xi["a"]
        });
        var vC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-select", {
                attrs: {
                    label: t.label,
                    "item-text": "id",
                    items: t.items,
                    clearable: "",
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.selected,
                    callback: function(e) {
                        t.selected = e
                    },
                    expression: "selected"
                }
            })
        }
          , gC = []
          , fC = {
            name: "AnimationSetting",
            props: {
                value: {
                    type: String
                },
                label: {
                    type: String
                },
                entrances: {
                    type: Boolean
                },
                exits: {
                    type: Boolean
                },
                seekers: {
                    type: Boolean
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.selected = t
                    }
                },
                selected() {
                    this.$emit("input", this.selected)
                }
            },
            computed: {
                items() {
                    return this.allItems.filter(t=>{
                        let e = t.type;
                        return t.type || (e = t.id.includes("In") ? "entrance" : t.id.includes("Out") ? "exit" : "seeker"),
                        "seeker" == e ? this.seekers : "entrance" == e ? this.entrances : "exit" == e ? this.exits : void 0
                    }
                    )
                }
            },
            data: ()=>({
                selected: [],
                allItems: [{
                    id: "bounce"
                }, {
                    id: "flash"
                }, {
                    id: "pulse"
                }, {
                    id: "rubberBand"
                }, {
                    id: "shakeX"
                }, {
                    id: "shakeY"
                }, {
                    id: "headShake"
                }, {
                    id: "swing"
                }, {
                    id: "tada"
                }, {
                    id: "wobble"
                }, {
                    id: "jello"
                }, {
                    id: "heartBeat"
                }, {
                    id: "backInDown"
                }, {
                    id: "backInLeft"
                }, {
                    id: "backInRight"
                }, {
                    id: "backInUp"
                }, {
                    id: "backOutDown"
                }, {
                    id: "backOutLeft"
                }, {
                    id: "backOutRight"
                }, {
                    id: "backOutUp"
                }, {
                    id: "bounceIn"
                }, {
                    id: "bounceInDown"
                }, {
                    id: "bounceInLeft"
                }, {
                    id: "bounceInRight"
                }, {
                    id: "bounceInUp"
                }, {
                    id: "bounceOut"
                }, {
                    id: "bounceOutDown"
                }, {
                    id: "bounceOutLeft"
                }, {
                    id: "bounceOutRight"
                }, {
                    id: "bounceOutUp"
                }, {
                    id: "fadeIn"
                }, {
                    id: "fadeInDown"
                }, {
                    id: "fadeInDownBig"
                }, {
                    id: "fadeInLeft"
                }, {
                    id: "fadeInLeftBig"
                }, {
                    id: "fadeInRight"
                }, {
                    id: "fadeInRightBig"
                }, {
                    id: "fadeInUp"
                }, {
                    id: "fadeInUpBig"
                }, {
                    id: "fadeInTopLeft"
                }, {
                    id: "fadeInTopRight"
                }, {
                    id: "fadeInBottomLeft"
                }, {
                    id: "fadeInBottomRight"
                }, {
                    id: "fadeOut"
                }, {
                    id: "fadeOutDown"
                }, {
                    id: "fadeOutDownBig"
                }, {
                    id: "fadeOutLeft"
                }, {
                    id: "fadeOutLeftBig"
                }, {
                    id: "fadeOutRight"
                }, {
                    id: "fadeOutRightBig"
                }, {
                    id: "fadeOutUp"
                }, {
                    id: "fadeOutUpBig"
                }, {
                    id: "fadeOutTopLeft"
                }, {
                    id: "fadeOutTopRight"
                }, {
                    id: "fadeOutBottomRight"
                }, {
                    id: "fadeOutBottomLeft"
                }, {
                    id: "flip"
                }, {
                    id: "flipInX"
                }, {
                    id: "flipInY"
                }, {
                    id: "flipOutX"
                }, {
                    id: "flipOutY"
                }, {
                    id: "lightSpeedInRight"
                }, {
                    id: "lightSpeedInLeft"
                }, {
                    id: "lightSpeedOutRight"
                }, {
                    id: "lightSpeedOutLeft"
                }, {
                    id: "rotateIn"
                }, {
                    id: "rotateInDownLeft"
                }, {
                    id: "rotateInDownRight"
                }, {
                    id: "rotateInUpLeft"
                }, {
                    id: "rotateInUpRight"
                }, {
                    id: "rotateOut"
                }, {
                    id: "rotateOutDownLeft"
                }, {
                    id: "rotateOutDownRight"
                }, {
                    id: "rotateOutUpLeft"
                }, {
                    id: "rotateOutUpRight"
                }, {
                    id: "hinge"
                }, {
                    id: "jackInTheBox",
                    type: "seeker"
                }, {
                    id: "rollIn"
                }, {
                    id: "rollOut"
                }, {
                    id: "zoomIn"
                }, {
                    id: "zoomInDown"
                }, {
                    id: "zoomInLeft"
                }, {
                    id: "zoomInRight"
                }, {
                    id: "zoomInUp"
                }, {
                    id: "zoomOut"
                }, {
                    id: "zoomOutDown"
                }, {
                    id: "zoomOutLeft"
                }, {
                    id: "zoomOutRight"
                }, {
                    id: "zoomOutUp"
                }, {
                    id: "slideInDown"
                }, {
                    id: "slideInLeft"
                }, {
                    id: "slideInRight"
                }, {
                    id: "slideInUp"
                }, {
                    id: "slideOutDown"
                }, {
                    id: "slideOutLeft"
                }, {
                    id: "slideOutRight"
                }, {
                    id: "slideOutUp"
                }]
            })
        }
          , bC = fC
          , yC = Object(p["a"])(bC, vC, gC, !1, null, null, null)
          , _C = yC.exports;
        g()(yC, {
            VSelect: Xi["a"]
        });
        var kC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("span", {
                staticClass: "v-label theme--light mb-2"
            }, [t._v(t._s(t.label) + " (" + t._s(t.config.templateSettings && t.config.templateSettings.name ? t.config.templateSettings.props.length ? t.templateSettings.props.length + " " + t.$translate("pcs") : t.$translate("Headline set") : t.$translate("None")) + ")")]), i("v-btn", {
                staticClass: "float-right zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    text: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !0
                    }
                }
            }, [t._v(t._s(t.$translate("Edit")))]), i("v-dialog", {
                attrs: {
                    "max-width": "850",
                    scrollable: ""
                },
                model: {
                    value: t.showDialog,
                    callback: function(e) {
                        t.showDialog = e
                    },
                    expression: "showDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Edit")) + " " + t._s(t.label.toLowerCase()) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Settings header")
                },
                model: {
                    value: t.templateSettings.name,
                    callback: function(e) {
                        t.$set(t.templateSettings, "name", e)
                    },
                    expression: "templateSettings.name"
                }
            }), i("draggable", {
                model: {
                    value: t.templateSettings.props,
                    callback: function(e) {
                        t.$set(t.templateSettings, "props", e)
                    },
                    expression: "templateSettings.props"
                }
            }, t._l(t.templateSettings.props, (function(e, s) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "mb-4 pa-2",
                    attrs: {
                        elevation: "2"
                    }
                }, [i("v-row", {
                    staticClass: "no-gutters v-label theme--light"
                }, [i("v-col", [t._v(" " + t._s(t.props.find((function(t) {
                    return t.name == e.id
                }
                )).title) + " ")])], 1), i("v-row", {
                    attrs: {
                        "no-gutters": "",
                        cols: "12"
                    }
                }, [i("v-col", {
                    staticClass: "black--text",
                    attrs: {
                        cols: "10"
                    }
                }, [i("v-text-field", {
                    attrs: {
                        label: t.$translate("Title")
                    },
                    model: {
                        value: e.title,
                        callback: function(i) {
                            t.$set(e, "title", i)
                        },
                        expression: "item.title"
                    }
                }), i("v-text-field", {
                    attrs: {
                        label: t.$translate("Help text")
                    },
                    model: {
                        value: e.hint,
                        callback: function(i) {
                            t.$set(e, "hint", i)
                        },
                        expression: "item.hint"
                    }
                })], 1), i("v-col", {
                    attrs: {
                        cols: "2"
                    }
                }, [i("v-btn", {
                    staticStyle: {
                        "margin-left": "8px"
                    },
                    attrs: {
                        color: "error",
                        fab: "",
                        small: ""
                    },
                    on: {
                        click: function(e) {
                            return t.removeItem(t.templateSettings.props, s)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-delete")])], 1)], 1)], 1)], 1)
            }
            )), 1), 0 == t.templateSettings.props.length ? i("div", [t._v(" " + t._s(t.$translate("No template settings have been added")) + " ")]) : t._e(), i("v-row", [i("v-col", {
                attrs: {
                    cols: "8"
                }
            }, [i("v-select", {
                attrs: {
                    label: t.$translate("Setting"),
                    items: t.props.filter((function(e) {
                        return !t.templateSettings.props.find((function(t) {
                            return t.id == e.name
                        }
                        ))
                    }
                    )),
                    "item-text": function(e) {
                        return t.$translate(e.title)
                    },
                    "return-object": ""
                },
                model: {
                    value: t.newProp,
                    callback: function(e) {
                        t.newProp = e
                    },
                    expression: "newProp"
                }
            })], 1), i("v-col", {
                attrs: {
                    cols: "4"
                }
            }, [i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.newProp
                },
                on: {
                    click: t.addProp
                }
            }, [t._v(t._s(t.$translate("Add")))])], 1)], 1)], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.canSave
                },
                on: {
                    click: t.save
                }
            }, [t._v(" " + t._s(t.$translate("Save")) + " ")])], 1)], 1)], 1)], 1)
        }
          , wC = []
          , CC = {
            name: "zoezi-component-template-settings",
            props: ["label", "config", "props"],
            components: {
                Draggable: bt.a
            },
            watch: {
                config: {
                    immediate: !0,
                    handler(t) {
                        this.reset(t)
                    }
                },
                showDialog() {
                    this.reset(this.config)
                }
            },
            data: ()=>({
                showDialog: !1,
                templateSettings: {
                    name: null,
                    props: []
                },
                newProp: null
            }),
            computed: {
                canSave() {
                    var t;
                    return 0 == this.templateSettings.props.length || (null === (t = this.templateSettings.name) || void 0 === t ? void 0 : t.length)
                }
            },
            methods: {
                reset(t) {
                    t && t.templateSettings ? this.templateSettings = Object(a["cloneDeep"])(t.templateSettings) : this.templateSettings = {
                        name: null,
                        props: []
                    },
                    this.newProp = null
                },
                save() {
                    let t = Object(a["cloneDeep"])(this.templateSettings);
                    this.$set(this.config, "templateSettings", t),
                    this.$root.saveHomePage(),
                    this.showDialog = !1
                },
                removeItem(t, e) {
                    t.splice(e, 1)
                },
                addProp() {
                    this.templateSettings.props.push({
                        id: this.newProp.name,
                        title: this.newProp.title,
                        hint: ""
                    }),
                    this.newProp = null
                }
            }
        }
          , xC = CC
          , $C = Object(p["a"])(xC, kC, wC, !1, null, null, null)
          , SC = $C.exports;
        g()($C, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCol: M["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VRow: A["a"],
            VSelect: Xi["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var DC = {
            name: "ComponentSettings",
            components: {
                ComponentPalette: eh,
                ColorSetting: Pg["a"],
                PageTemplatePalette: b_,
                AlignmentSetting: Wg,
                MarginPaddingSetting: Xw,
                ComponentTree: oC,
                VisibilitySetting: pC,
                AnimationSetting: _C,
                VueCodeSetting: cb,
                PageParamsSetting: kb,
                ComponentTemplateSettings: SC,
                ToolboxWindow: Cl["a"],
                IconSetting: _f,
                ComponentPropsSetting: zw
            },
            computed: {
                cprops() {
                    return this.config ? Yx.getComponentProps(this.config.component) : []
                },
                visibleProps() {
                    return this.cprops.filter(t=>{
                        var e, i;
                        if (null === (e = t.typeinfo) || void 0 === e || !e.visible)
                            return !0;
                        let s = null === (i = t.typeinfo) || void 0 === i ? void 0 : i.visible
                          , a = "!" == s[0];
                        a && (s = s.substring(1));
                        let o = this.config.props[s];
                        return a ? !o : !!o
                    }
                    )
                },
                propSections() {
                    let t = [];
                    return this.visibleProps.filter(t=>t.section).forEach(e=>{
                        let i = t.find(t=>t.name == e.section);
                        i || (i = {
                            name: e.section,
                            props: []
                        },
                        t.push(i)),
                        i.props.push(e)
                    }
                    ),
                    t
                },
                isPage() {
                    return this.component && "zoezi-page" == this.component.$options.name
                },
                thisComponentInfo() {
                    return this.config ? Yx.getComponent(this.config.component) : null
                },
                parentComponent() {
                    var t;
                    let e = null === (t = this.component) || void 0 === t ? void 0 : t.$parent;
                    const i = Yx.getAllComponents();
                    while (e && !i.find(t=>t.name == e.$options.name))
                        e = e.$parent;
                    return e
                },
                parentComponentConfig() {
                    return this.parentComponent ? this.parentComponent.$parent.config : null
                },
                config() {
                    return this.$store.state.editComponentConfig
                },
                component() {
                    return this.$store.state.editComponent
                },
                wrapper() {
                    return this.component && this.component.$parent
                },
                isSuperUser() {
                    return this.$store.state.isLoggedIn && this.$store.state.user && this.$store.state.user.superUser
                },
                newPageTemplateValid() {
                    return this.newPageTemplateName && this.newPageTemplateName.length && this.newPageTemplateIcon
                },
                componentTitle() {
                    var t, e;
                    return this.$translate((null === (t = this.thisComponentInfo) || void 0 === t || null === (e = t.zoezi) || void 0 === e ? void 0 : e.title) || "")
                },
                componentIcon() {
                    var t, e;
                    return (null === (t = this.thisComponentInfo) || void 0 === t || null === (e = t.zoezi) || void 0 === e ? void 0 : e.icon) || "mdi-sheep"
                },
                brokenComponentTitle() {
                    let t = this.componentTitle;
                    return "Gruppträningsschema" == t ? "Grupp- tränings- schema" : t
                },
                ownComponent() {
                    var t, e;
                    let i = null === (t = this.component) || void 0 === t ? void 0 : t.$options.name;
                    return this.component && (null === (e = this.$root.siteconfig) || void 0 === e ? void 0 : e.ownComponents[i])
                },
                canBeCopied() {
                    var t, e;
                    return "zoezi-root" != (null === (t = this.thisComponentInfo) || void 0 === t ? void 0 : t.name) && "zoezi-page" != (null === (e = this.thisComponentInfo) || void 0 === e ? void 0 : e.name)
                },
                copiedComponent() {
                    return this.$store.state.copiedComponent ? Yx.getComponent(this.$store.state.copiedComponent.component) : null
                }
            },
            watch: {
                config() {
                    this.setPanel()
                },
                component() {
                    this.setPanel()
                }
            },
            data: ()=>({
                currentOpenSettingsPanel: 0,
                paletteKey: 0,
                pageTemplate: {},
                showSavePageTemplateDialog: !1,
                newPageTemplateName: "",
                newPageTemplateIcon: null,
                showComponentTree: !1,
                savePending: !1
            }),
            methods: {
                setPanel() {
                    this.config && (this.config.style || this.$set(this.config, "style", {
                        marginLeft: void 0,
                        marginRight: void 0,
                        marginTop: void 0,
                        marginBottom: void 0,
                        paddingLeft: void 0,
                        paddingRight: void 0,
                        paddingTop: void 0,
                        paddingBottom: void 0
                    }),
                    this.config.component && "zoezi-empty" != this.config.component ? this.currentOpenSettingsPanel = 1 : this.currentOpenSettingsPanel = 0,
                    this.cprops.forEach(t=>{
                        void 0 === t.default || void 0 !== this.config.props[t.name] || t.global || (this.config.props[t.name] = "function" === typeof t.default ? t.default() : t.default)
                    }
                    )),
                    ++this.paletteKey
                },
                save() {
                    this.wrapper && this.wrapper.save ? this.wrapper.save() : this.$root.saveHomePage()
                },
                remove() {
                    this.wrapper.remove(),
                    this.$store.commit("setEditComponent", null)
                },
                saveNow() {
                    this.debouncedSave.cancel(),
                    this.save()
                },
                saveNowIfNeeded() {
                    this.debouncedSave.flush()
                },
                delayedSave() {
                    this.debouncedSave(),
                    this.wrapper && this.wrapper.update && this.wrapper.update()
                },
                pageTemplateChanged() {
                    let t = this.$root.siteconfig.routes.find(t=>t.props.path == this.$route.path).props.config;
                    Object.assign(t, this.pageTemplate.config),
                    this.component.save()
                },
                setMargins(t) {
                    let e = this.config.style;
                    e.marginLeft = t.left,
                    e.marginRight = t.right,
                    e.marginTop = t.top,
                    e.marginBottom = t.bottom,
                    this.delayedSave()
                },
                setPaddings(t) {
                    let e = this.config.style;
                    e.paddingLeft = t.left,
                    e.paddingRight = t.right,
                    e.paddingTop = t.top,
                    e.paddingBottom = t.bottom,
                    this.delayedSave()
                },
                hideEditPanel() {
                    this.$root.showEditPanel = !1
                },
                savePageAsPageTemplate() {
                    let t = this.$root.siteconfig.routes.find(t=>t.props.path == this.$route.path);
                    t = t.props.config,
                    t = Object(a["cloneDeep"])(t);
                    let e = function(t) {
                        Object(a["forEach"])(t, (i,s)=>{
                            Object(a["isObject"])(i) ? e(i) : "id" == s && t.component && delete t.id
                        }
                        )
                    };
                    e(t),
                    delete t.path,
                    delete t.style;
                    let i = this.newPageTemplateName
                      , s = this.newPageTemplateIcon
                      , o = {
                        config: t,
                        name: i,
                        icon: s
                    };
                    this.$api.post("/api/homepage/pagetemplate/add", o).then(()=>{
                        this.$refs.pagetemplatepalette.getTemplates(),
                        this.showSavePageTemplateDialog = !1
                    }
                    )
                },
                saveOwnComponent(t) {
                    t.name && (this.$root.siteconfig.ownComponents[t.id] = t,
                    this.$root.saveHomePage(),
                    Yx.updateOwnComponents(this.$root.siteconfig),
                    Yx.updateAllLiveComponents(t.id))
                },
                savePageParams(t) {
                    this.$set(this.config.style, "pageParams", t),
                    this.save()
                },
                copyComponent() {
                    let t = Object(a["cloneDeep"])(this.config);
                    this.$store.commit("copyComponent", t)
                },
                pasteComponent() {
                    let t = Object(a["cloneDeep"])(this.$store.state.copiedComponent)
                      , e = function(t) {
                        if ("object" !== typeof t || !t)
                            return;
                        t.component && "string" === typeof t.component && t.id && (t.id = Yx.makeEmptyConfig().id);
                        let i = Array.isArray(t) ? t : Object.values(t);
                        i.forEach(t=>{
                            e(t)
                        }
                        )
                    };
                    e(t),
                    Object.assign(this.config, t),
                    this.$root.saveHomePage()
                }
            },
            mounted() {
                this.setPanel(),
                this.debouncedSave = Object(a["debounce"])(()=>this.save(), 1e3),
                window.addEventListener("beforeunload", this.saveNowIfNeeded)
            },
            destroyed() {
                window.removeEventListener("beforeunload", this.saveNowIfNeeded)
            }
        }
          , zC = DC
          , TC = Object(p["a"])(zC, Hw, Uw, !1, null, null, null)
          , IC = TC.exports;
        g()(TC, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VChip: st["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSpacer: J["a"],
            VSwitch: ce["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"],
            VTextField: z["a"]
        });
        var PC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-4",
                staticStyle: {
                    "padding-right": "1px"
                }
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Search"),
                    "append-icon": "mdi-magnify",
                    "single-line": "",
                    "hide-details": "",
                    color: "zoezi-edit-color",
                    clearable: ""
                },
                model: {
                    value: t.search,
                    callback: function(e) {
                        t.search = e
                    },
                    expression: "search"
                }
            }), i("v-list", [i("v-list-item-group", {
                attrs: {
                    color: "zoezi-edit-color"
                }
            }, t._l(t.sortedRoutes, (function(e) {
                return i("v-list-item", {
                    key: e.path,
                    attrs: {
                        to: e.path,
                        "exact-path": ""
                    }
                }, [e.redirect ? i("v-list-item-icon", [i("v-icon", [t._v("mdi-redo")])], 1) : t._e(), i("v-list-item-content", [t._v(" " + t._s(e.name) + " ")])], 1)
            }
            )), 1)], 1), i("add-page", {
                model: {
                    value: t.showAddPageDialog,
                    callback: function(e) {
                        t.showAddPageDialog = e
                    },
                    expression: "showAddPageDialog"
                }
            }), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    fab: ""
                },
                on: {
                    click: function(e) {
                        t.showAddPageDialog = !0
                    }
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1), t.canRemove ? i("v-btn", {
                staticClass: "ml-4",
                attrs: {
                    fab: "",
                    color: "error"
                },
                on: {
                    click: t.removePage
                }
            }, [i("v-icon", [t._v("mdi-delete")])], 1) : t._e()], 1)
        }
          , VC = []
          , BC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate(t.duplicate ? "Duplicate page" : "Create new page")) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Title"),
                    color: "zoezi-edit-color"
                },
                on: {
                    input: function(e) {
                        return t.updateNewPageLink()
                    }
                },
                model: {
                    value: t.title,
                    callback: function(e) {
                        t.title = e
                    },
                    expression: "title"
                }
            }), i("v-text-field", {
                attrs: {
                    label: t.$translate("Path"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.path,
                    callback: function(e) {
                        t.path = e
                    },
                    expression: "path"
                }
            }), t.duplicate ? t._e() : i("page-template-palette", {
                model: {
                    value: t.newPage,
                    callback: function(e) {
                        t.newPage = e
                    },
                    expression: "newPage"
                }
            })], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.validNewPage
                },
                on: {
                    click: t.addPage
                }
            }, [t._v(" " + t._s(t.$translate(t.duplicate ? "Duplicate page" : "Create new page")) + " ")])], 1)], 1)], 1)
        }
          , FC = []
          , EC = {
            name: "zoezi-addpage",
            components: {
                PageTemplatePalette: b_
            },
            props: ["value", "duplicate"],
            watch: {
                value: {
                    immediate: !0,
                    handler() {
                        this.dialog = this.value,
                        this.value && (this.title = this.$translate("New page"),
                        this.path = "/" + this.title.replace(" ", "").toLowerCase())
                    }
                },
                dialog() {
                    this.$emit("input", this.dialog)
                }
            },
            data: ()=>({
                dialog: !0,
                title: "New page",
                path: "/newpage",
                newPage: {}
            }),
            computed: {
                normalizedNewPage() {
                    let t = this.path;
                    return t && !t.startsWith("/") && (t = "/" + t),
                    t
                },
                validNewPage() {
                    return !!(this.title.length && this.normalizedNewPage && Object(o["x"])(this.normalizedNewPage) && !this.$root.siteconfig.routes.find(t=>t.props.path == this.normalizedNewPage) && (this.duplicate || this.newPage.config && this.newPage.config.component))
                }
            },
            methods: {
                updateNewPageLink() {
                    this.path = Object(o["A"])(this.title)
                },
                addPage() {
                    let t = this.duplicate ? this.$root.siteconfig.routes.find(t=>t.props.path == this.$route.path) : this.newPage.config;
                    t = Object.assign({}, t),
                    t = Yx.makeEmptyConfig({
                        component: "zoezi-page",
                        props: {
                            config: t,
                            name: this.title,
                            path: this.normalizedNewPage,
                            showInGoogle: 50
                        }
                    }),
                    Object(y_["a"])(t, this.$router),
                    this.$root.siteconfig.routes.push(t),
                    this.$root.saveHomePage(),
                    this.$router.push({
                        path: this.normalizedNewPage
                    }),
                    this.dialog = !1
                }
            }
        }
          , OC = EC
          , MC = Object(p["a"])(OC, BC, FC, !1, null, null, null)
          , AC = MC.exports;
        g()(MC, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VIcon: y["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var RC = {
            name: "PageSettings",
            components: {
                AddPage: AC
            },
            data: ()=>({
                currentPanel: 0,
                showAddPageDialog: !1,
                search: ""
            }),
            computed: {
                sortedRoutes() {
                    let t = (this.search || "").toLowerCase();
                    return this.$root.siteconfig.routes.map(t=>t.props).filter(e=>!t || e.path.includes(t) || e.name.toLowerCase().includes(t)).sort((t,e)=>t.name.localeCompare(e.name))
                },
                canRemove() {
                    return "/" != this.$route.path
                }
            },
            methods: {
                removePage() {
                    let t = this.$root.siteconfig.routes.map(t=>t.props).findIndex(t=>t.path == this.$route.path);
                    -1 != t && (this.$root.siteconfig.routes.splice(t, 1),
                    this.$root.saveHomePage(),
                    this.$root.followLink("/"))
                }
            }
        }
          , LC = RC
          , jC = Object(p["a"])(LC, PC, VC, !1, null, null, null)
          , NC = jC.exports;
        g()(jC, {
            VBtn: O["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemGroup: ca["a"],
            VListItemIcon: my["a"],
            VTextField: z["a"]
        });
        var WC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-4"
            }, [i("v-list", {
                attrs: {
                    "two-line": ""
                }
            }, [i("v-list-item-group", {
                attrs: {
                    color: "zoezi-edit-color",
                    mandatory: ""
                },
                model: {
                    value: t.currentRevision,
                    callback: function(e) {
                        t.currentRevision = e
                    },
                    expression: "currentRevision"
                }
            }, t._l(t.revisions, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    on: {
                        click: function(i) {
                            return t.loadRevision(e.id)
                        }
                    }
                }, [i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(e.time) + " (version " + t._s(e.id) + ")")]), i("v-list-item-subtitle", [t._v(t._s(e.author))])], 1)], 1)
            }
            )), 1)], 1), t.truncateAt ? i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color"
                },
                on: {
                    click: function(e) {
                        t.truncateAt = null
                    }
                }
            }, [t._v(" " + t._s(t.$translate("Load more versions")) + " ")]) : t._e()], 1)
        }
          , qC = []
          , HC = {
            name: "RevisionHistory",
            components: {},
            data: ()=>({
                allRevisions: [],
                currentRevision: 0,
                truncateAt: 50
            }),
            watch: {
                "$root.revisionPreview"() {
                    this.currentRevision = this.$root.revisionPreview ? this.revisions.findIndex(t=>t.id == this.$root.revisionPreview.id) : 0
                }
            },
            computed: {
                revisions() {
                    return this.truncateAt ? this.allRevisions.slice(0, this.truncateAt) : this.allRevisions
                }
            },
            methods: {
                getRevisions() {
                    this.$api.get("/api/homepage/revision/get", {
                        homepage_id: this.$root.homepage_id
                    }).then(t=>{
                        this.allRevisions = t.map(t=>({
                            id: t.id,
                            time: t.created,
                            author: t.author
                        }))
                    }
                    )
                },
                loadRevision(t) {
                    t == this.$root.current_revision_id ? this.$root.revisionPreview = null : this.$root.revisionPreview = this.revisions.find(e=>e.id == t)
                }
            },
            mounted() {
                this.getRevisions()
            }
        }
          , UC = HC
          , YC = Object(p["a"])(UC, WC, qC, !1, null, null, null)
          , GC = YC.exports;
        g()(YC, {
            VBtn: O["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemGroup: ca["a"],
            VListItemSubtitle: Ct["b"],
            VListItemTitle: Ct["c"]
        });
        var KC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-4"
            }, [i("v-list", [i("v-list-item-group", {
                attrs: {
                    color: "zoezi-edit-color"
                }
            }, t._l(t.sortedSites, (function(e) {
                return i("v-list-item", {
                    key: e.id,
                    class: {
                        "v-item--active": e.id == t.$root.homepage_id,
                        "v-list-item--active": e.id == t.$root.homepage_id
                    },
                    on: {
                        click: function(i) {
                            return t.switchHomepage(e)
                        }
                    }
                }, [i("v-list-item-content", {
                    attrs: {
                        title: e.domainname
                    }
                }, [t._v(" " + t._s(e.name) + " ")]), e.domainname ? i("v-list-item-icon", {
                    on: {
                        click: function(i) {
                            return t.switchHomepage(e, !0)
                        }
                    }
                }, [i("v-icon", [t._v("mdi-pencil")])], 1) : t._e(), t.$root.sites.length > 1 ? i("v-list-item-icon", {
                    on: {
                        click: function(i) {
                            return i.stopPropagation(),
                            t.removeSite(e.id)
                        }
                    }
                }, [i("v-icon", {
                    attrs: {
                        color: "error"
                    }
                }, [t._v("mdi-delete")])], 1) : t._e()], 1)
            }
            )), 1)], 1), i("v-dialog", {
                attrs: {
                    "max-width": "500"
                },
                model: {
                    value: t.showAddHomePageDialog,
                    callback: function(e) {
                        t.showAddHomePageDialog = e
                    },
                    expression: "showAddHomePageDialog"
                }
            }, [i("v-card", [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Add new homepage")) + " "), i("v-btn", {
                staticClass: "ml-auto zoezi-edit-color",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.showAddHomePageDialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: t.$translate("Name"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.newHomePage.name,
                    callback: function(e) {
                        t.$set(t.newHomePage, "name", e)
                    },
                    expression: "newHomePage.name"
                }
            }), t.copyOther ? i("v-text-field", {
                attrs: {
                    label: t.$translate("Domain"),
                    color: "zoezi-edit-color",
                    loading: t.loadingHomePages
                },
                model: {
                    value: t.copyFromSystem,
                    callback: function(e) {
                        t.copyFromSystem = e
                    },
                    expression: "copyFromSystem"
                }
            }) : t._e(), t.copyOther ? i("v-select", {
                attrs: {
                    items: t.homepages,
                    "item-value": "id",
                    "item-text": "name",
                    label: t.$translate("Choose homepage")
                },
                model: {
                    value: t.otherHomePage,
                    callback: function(e) {
                        t.otherHomePage = e
                    },
                    expression: "otherHomePage"
                }
            }) : t._e(), i("label", {
                staticClass: "v-label theme--light"
            }, [t._v(t._s(t.$translate("Choose homepage template")))]), i("home-page-template-palette", {
                model: {
                    value: t.newHomePage.template,
                    callback: function(e) {
                        t.$set(t.newHomePage, "template", e)
                    },
                    expression: "newHomePage.template"
                }
            }), t.shared ? i("v-checkbox", {
                attrs: {
                    label: t.$translate("Save as template page"),
                    color: "zoezi-edit-color"
                },
                model: {
                    value: t.newHomePage.shared,
                    callback: function(e) {
                        t.$set(t.newHomePage, "shared", e)
                    },
                    expression: "newHomePage.shared"
                }
            }) : t._e()], 1), i("v-card-actions", [i("v-spacer"), i("v-btn", {
                staticClass: "zoezi-button-thin",
                attrs: {
                    color: "zoezi-edit-color",
                    disabled: !t.validNewHomePage
                },
                on: {
                    click: t.addHomePage
                }
            }, [t._v(" " + t._s(t.$translate("Add")) + " ")])], 1)], 1)], 1), i("v-btn", {
                attrs: {
                    color: "zoezi-edit-color",
                    fab: ""
                },
                on: {
                    click: t.showAddForm
                }
            }, [i("v-icon", [t._v("mdi-plus")])], 1)], 1)
        }
          , QC = []
          , JC = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "pa-2"
            }, [i("v-item-group", {
                attrs: {
                    "active-class": "zoezi-edit-color"
                },
                model: {
                    value: t.selectedPageTemplate,
                    callback: function(e) {
                        t.selectedPageTemplate = e
                    },
                    expression: "selectedPageTemplate"
                }
            }, t._l(t.rows, (function(e, s) {
                return i("v-row", {
                    key: s
                }, t._l(e, (function(e) {
                    return i("v-col", {
                        key: e.id,
                        attrs: {
                            cols: 12 / t.columns
                        }
                    }, [i("v-item", {
                        attrs: {
                            value: e
                        },
                        scopedSlots: t._u([{
                            key: "default",
                            fn: function(s) {
                                var a = s.active;
                                return [i("v-hover", {
                                    scopedSlots: t._u([{
                                        key: "default",
                                        fn: function(s) {
                                            var o = s.hover;
                                            return [i("v-card", {
                                                class: a || o ? ["zoezi-edit-color"] : void 0,
                                                attrs: {
                                                    width: "200",
                                                    elevation: o ? 24 : 6,
                                                    ripple: ""
                                                },
                                                on: {
                                                    click: function(i) {
                                                        t.selectedPageTemplate = e,
                                                        t.$emit("input", e)
                                                    }
                                                }
                                            }, [i("v-card-text", {
                                                class: a || o ? "zoezi-edit-text-color" : void 0,
                                                attrs: {
                                                    justify: "center",
                                                    align: "center"
                                                }
                                            }, [i("v-icon", {
                                                class: a || o ? "zoezi-edit-text-color" : ""
                                            }, [t._v(t._s(e.icon))]), i("br"), t._v(" " + t._s(t.$translate(e.title)) + " ")], 1)], 1)]
                                        }
                                    }], null, !0)
                                })]
                            }
                        }], null, !0)
                    })], 1)
                }
                )), 1)
            }
            )), 1)], 1)
        }
          , XC = []
          , ZC = {
            name: "HomePageTemplatePalette",
            props: ["value"],
            computed: {
                rows() {
                    return Object(a["chunk"])(this.pageTemplates, this.columns)
                }
            },
            data: ()=>({
                columns: 2,
                pageTemplates: [{
                    id: "empty",
                    title: "Empty",
                    icon: "mdi-square-outline",
                    config: {}
                }, {
                    id: "copy",
                    title: "Copy of this page",
                    icon: "mdi-content-copy",
                    config: {}
                }, {
                    id: "copyother",
                    title: "Copy of another page",
                    icon: "mdi-content-copy",
                    config: {}
                }, {
                    id: "gym",
                    title: "Gymmet",
                    icon: "mdi-kettlebell",
                    config: {}
                }, {
                    id: "yoga",
                    title: "Yoga-studion",
                    icon: "mdi-yoga",
                    config: {}
                }],
                selectedPageTemplate: null
            })
        }
          , tx = ZC
          , ex = Object(p["a"])(tx, JC, XC, !1, null, null, null)
          , ix = ex.exports;
        g()(ex, {
            VCard: x["a"],
            VCardText: G["b"],
            VCol: M["a"],
            VHover: ss["a"],
            VIcon: y["a"],
            VItem: ou["a"],
            VItemGroup: nu["b"],
            VRow: A["a"]
        });
        var sx = {
            name: "zoezi-homepages",
            props: {
                shared: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                HomePageTemplatePalette: ix
            },
            watch: {
                copyFromSystem(t) {
                    this.copyOther && t && (t.endsWith(".gymsystem.se") || t.endsWith(".zoezi.se") || t.endsWith(".lokalsystem.se")) && this.getHomePages(t)
                },
                "newHomePage.template.id"(t) {
                    "copyother" == t && this.getHomePages(this.copyFromSystem)
                }
            },
            data: ()=>({
                newHomePage: {
                    name: "Ny hemsida",
                    basepath: "",
                    template: {},
                    shared: !1
                },
                showAddHomePageDialog: !1,
                copyFromSystem: "zoezidev.se",
                otherHomePage: null,
                homepages: [],
                loadingHomePages: !1
            }),
            computed: {
                sortedSites() {
                    return this.$root.sites.filter(t=>t.shared == this.shared).sort((t,e)=>t.name.localeCompare(e.name))
                },
                validNewHomePage() {
                    return !this.$root.sites.find(t=>t.name == this.newHomePage.name) && this.newHomePage.template.id
                },
                copyOther() {
                    return "copyother" == this.newHomePage.template.id
                }
            },
            methods: {
                switchHomepage(t, e) {
                    t.domainname && !e ? document.location.href = "https://" + t.domainname : t.id != this.$root.homepage_id && this.$root.switchHomepage(t.id)
                },
                removeSite(t) {
                    let e = this.$root.homepage_id == t ? this.$root.sites.filter(t=>t.id != this.$root.homepage_id)[0] : null;
                    this.$api.post("/api/homepage/remove", null, {
                        id: t
                    }).then(()=>{
                        e ? this.$root.switchHomepage(e.id) : this.$root.loadSites()
                    }
                    )
                },
                showAddForm() {
                    this.showAddHomePageDialog = !0;
                    let t = 1;
                    this.$root.sites.forEach(e=>{
                        var i;
                        let s = null === (i = e.basepath) || void 0 === i ? void 0 : i.match(/\/(\d+)$/);
                        s && Number(s[1]) >= t && (t = Number(s[1]))
                    }
                    ),
                    this.newHomePage.basepath = "/homepage/" + (t + 1),
                    this.newHomePage.shared = this.shared
                },
                addHomePage() {
                    "empty" == this.newHomePage.template.id ? this.$root.addEmptyHomepage(this.newHomePage.name, this.newHomePage.basepath, this.newHomePage.shared) : "copy" == this.newHomePage.template.id ? this.$root.addCopyOfThisHomepage(this.newHomePage.name, this.newHomePage.basepath, this.newHomePage.shared) : "copyother" == this.newHomePage.template.id ? this.getHomePageConfig().then(t=>{
                        this.$root.addHomePageWithConfig(this.newHomePage.name, t, this.newHomePage.basepath, this.newHomePage.shared)
                    }
                    ) : this.$root.addHomePageWithConfig(this.newHomePage.name, this.newHomePage.template.config, null, this.newHomePage.shared)
                },
                getHostname(t) {
                    return t.startsWith("https://") || (t = "https://" + t),
                    t
                },
                getHomePageConfig() {
                    return fetch(`${this.getHostname(this.copyFromSystem)}/api/homepage/get?id=${this.otherHomePage}`).then(t=>t.json().then(t=>(console.log("Config: " + JSON.stringify(t)),
                    t.config)))
                },
                getHomePages(t) {
                    this.homepages = [],
                    this.loadingHomepages = !0,
                    fetch(this.getHostname(t) + "/api/homepage/get/all").then(t=>t.json().then(t=>{
                        this.homepages = t.sort((t,e)=>t.name.localeCompare(e.name)),
                        this.loadingHomepages = !1
                    }
                    ))
                }
            },
            mounted() {
                this.$root.sitesLoaded || this.$root.loadSites()
            }
        }
          , ax = sx
          , ox = Object(p["a"])(ax, KC, QC, !1, null, null, null)
          , nx = ox.exports;
        g()(ox, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardActions: G["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VCheckbox: b["a"],
            VDialog: K["a"],
            VIcon: y["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemGroup: ca["a"],
            VListItemIcon: my["a"],
            VSelect: Xi["a"],
            VSpacer: J["a"],
            VTextField: z["a"]
        });
        var rx = {
            name: "EditPanel",
            components: {
                GeneralSettings: qw,
                ComponentSettings: IC,
                PageSettings: NC,
                MediaLibrary: lu,
                RevisionHistory: GC,
                HomePages: nx
            },
            watch: {
                "$store.state.editComponent"() {
                    this.selectedTab = 2
                },
                "$store.state.editComponentConfig"() {
                    this.selectedTab = 2
                },
                "$store.state.isLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        t || this.$store.state.isCheckingIfLoggedIn || this.leaveEditMode()
                    }
                },
                "$store.state.isCheckingIfLoggedIn": {
                    immediate: !0,
                    handler(t) {
                        t || this.$store.state.isLoggedIn || this.leaveEditMode()
                    }
                },
                shouldJumpToSharedPages(t) {
                    this.selectedExtraTab = t ? 1 : 0
                }
            },
            data: ()=>({
                selectedTab: 0,
                selectedExtraTab: 0,
                extraTab: null,
                homepageChangeSubscription: null
            }),
            computed: {
                tabStyle() {
                    let t = this.$vuetify.breakpoint.mobile ? "calc(100vh - 112px)" : "calc(100vh - 112px - 56px)";
                    return {
                        height: t,
                        "overflow-y": "auto",
                        "overflow-x": "hidden"
                    }
                },
                hasEditSharedPagesPermission() {
                    return this.$store.state.isLoggedIn && this.$store.state.user && (!!this.$store.state.user.permissions.find(t=>"Change shared homepage" == t) || this.$store.state.user.superUser)
                },
                shouldJumpToSharedPages() {
                    return !!this.$root.sites.find(t=>t.id == this.$root.homepage_id && t.shared) && this.hasEditSharedPagesPermission && "homepages" == this.extraTab
                }
            },
            methods: {
                toggleMobilePreview() {
                    this.$root.mobilePreviewLoading || (this.$root.mobilePreview || (this.$root.mobilePreviewLoading = !0),
                    this.$root.mobilePreview = !this.$root.mobilePreview)
                },
                reload() {
                    location.reload()
                },
                leaveEditMode() {
                    this.$root.edit = !1,
                    this.$root.mobilePreview = !1,
                    window.localStorage.removeItem("editmode")
                }
            },
            mounted() {
                this.homepageChangeSubscription = this.$api.subscribe({
                    type: "homepage",
                    action: "change",
                    callback: (t,e)=>{
                        e.data.forEach(t=>{
                            t.id == this.$root.homepage_id && (t.current_revision_id == this.$root.current_revision_id || this.$store.state.saving || this.$root.reloadHomepageInEditMode(t.current_revision_id))
                        }
                        )
                    }
                })
            },
            destroyed() {
                this.homepageChangeSubscription && this.homepageChangeSubscription()
            }
        }
          , lx = rx
          , cx = i("b81c")
          , dx = i("f774")
          , ux = i("71d9")
          , hx = i("2a7f")
          , mx = Object(p["a"])(lx, yw, _w, !1, null, null, null)
          , px = mx.exports;
        g()(mx, {
            VBottomNavigation: cx["a"],
            VBtn: O["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemIcon: my["a"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"],
            VNavigationDrawer: dx["a"],
            VSpacer: J["a"],
            VTab: Ut["a"],
            VTabItem: Yt["a"],
            VTabs: Gt["a"],
            VToolbar: ux["a"],
            VToolbarTitle: hx["a"]
        }),
        rr()(mx, {
            Ripple: lr["a"]
        });
        var vx = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.$root.edit && t.$store.state.editMenu ? i("v-app-bar", {
                staticClass: "zoezi-edit-font",
                attrs: {
                    app: "",
                    height: "48"
                }
            }, [i("div", {
                staticClass: "d-flex",
                staticStyle: {
                    width: "100%",
                    "margin-top": "6px"
                }
            }, [i("div", {
                staticClass: "d-flex"
            }, [i("v-img", {
                staticClass: "shrink mr-2 d-inline-block",
                attrs: {
                    alt: "Logo",
                    contain: "",
                    src: t.$api.getAssetUrl("/assets/img/zoezi_icon.png"),
                    height: "36",
                    width: "36",
                    position: "top left"
                }
            }), i("v-btn", {
                attrs: {
                    small: t.$vuetify.breakpoint.smAndDown,
                    text: ""
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-multiple")]), i("span", {
                staticClass: "hidden-sm-and-down"
            }, [t._v(t._s(t.$translate("Files")))])], 1), i("v-menu", {
                attrs: {
                    "offset-y": "",
                    "close-on-content-click": !1
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                small: t.$vuetify.breakpoint.smAndDown,
                                text: ""
                            }
                        }, s), [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v("mdi-book-open-page-variant")]), i("span", {
                            staticClass: "hidden-sm-and-down"
                        }, [t._v("Sidor")])], 1)]
                    }
                }], null, !1, 2784691061),
                model: {
                    value: t.showPagesMenu,
                    callback: function(e) {
                        t.showPagesMenu = e
                    },
                    expression: "showPagesMenu"
                }
            }, [i("v-list", {
                staticClass: "zoezi-edit-font zoezi-edit-menu-pages-list"
            }, [i("v-list-item", {
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.showAddPageDialog = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-plus-outline")]), t._v("Skapa ny... "), i("add-page", {
                model: {
                    value: t.showAddPageDialog,
                    callback: function(e) {
                        t.showAddPageDialog = e
                    },
                    expression: "showAddPageDialog"
                }
            })], 1), i("v-list-item", {
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.showDuplicatePageDialog = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-multiple-outline")]), t._v(t._s(t.$translate("Duplicate")) + "... "), i("add-page", {
                attrs: {
                    duplicate: !0
                },
                model: {
                    value: t.showDuplicatePageDialog,
                    callback: function(e) {
                        t.showDuplicatePageDialog = e
                    },
                    expression: "showDuplicatePageDialog"
                }
            })], 1), i("v-list-item", {
                on: {
                    click: function(e) {
                        e.stopPropagation(),
                        t.showManagePagesDialog = !0
                    }
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-file-edit-outline")]), t._v(t._s(t.$translate("Manage pages")) + "... "), i("manage-pages", {
                model: {
                    value: t.showManagePagesDialog,
                    callback: function(e) {
                        t.showManagePagesDialog = e
                    },
                    expression: "showManagePagesDialog"
                }
            })], 1), i("v-divider"), i("v-list-item", [i("v-text-field", {
                attrs: {
                    label: t.$translate("Search page"),
                    "append-icon": "mdi-magnify",
                    "single-line": "",
                    "hide-details": "",
                    color: "zoezi-edit-color",
                    clearable: ""
                },
                model: {
                    value: t.searchPage,
                    callback: function(e) {
                        t.searchPage = e
                    },
                    expression: "searchPage"
                }
            })], 1), t._l(t.sortedRoutes, (function(e) {
                return i("v-list-item", {
                    key: e.path,
                    attrs: {
                        to: e.path,
                        "exact-path": ""
                    }
                }, [i("v-list-item-content", [t._v(" " + t._s(e.name) + " ")])], 1)
            }
            ))], 2)], 1), i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                small: t.$vuetify.breakpoint.smAndDown,
                                text: ""
                            }
                        }, s), [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v("mdi-cube-outline")]), i("span", {
                            staticClass: "hidden-sm-and-down"
                        }, [t._v(t._s(t.$translate("Components")))])], 1)]
                    }
                }], null, !1, 2074322732)
            }, [i("component-tree", {
                attrs: {
                    "show-close": !1,
                    "show-header": !1,
                    "max-height": "calc(100vh - 48px)"
                },
                on: {
                    select: function(e) {
                        return t.$store.commit("setEditComponent", e)
                    }
                }
            })], 1), i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                small: t.$vuetify.breakpoint.smAndDown,
                                text: ""
                            }
                        }, s), [i("v-icon", {
                            attrs: {
                                left: ""
                            }
                        }, [t._v("mdi-cube-outline")]), i("span", {
                            staticClass: "hidden-sm-and-down"
                        }, [t._v(t._s(t.$translate("Own components")))])], 1)]
                    }
                }], null, !1, 902570330)
            }, [i("own-components-list")], 1)], 1), i("div", {
                staticClass: "d-flex flex-column flex-grow-1 text-center"
            }, [i("div", {
                staticClass: "hidden-sm-and-down"
            }, [i("div", {
                staticClass: "text-uppercase text--secondary subtitle-2"
            }, [t._v(t._s(t.$translate("Editing")))]), i("div", {
                directives: [{
                    name: "zoezi-editable",
                    rawName: "v-zoezi-editable",
                    value: {
                        setProp: function(e) {
                            return t.currentRoute.name = e
                        },
                        html: !1,
                        multiline: !1
                    },
                    expression: "{setProp: (value) => currentRoute.name = value, html: false, multiline: false}"
                }]
            }, [t._v(t._s(t.currentRoute.name))])])]), i("div", {
                staticClass: "d-flex"
            }, [i("v-btn", {
                attrs: {
                    small: t.$vuetify.breakpoint.smAndDown,
                    text: ""
                }
            }, [i("v-icon", [t._v("mdi-magnify")])], 1), i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("v-btn", t._g({
                            attrs: {
                                small: t.$vuetify.breakpoint.smAndDown,
                                text: ""
                            }
                        }, s), [i("v-icon", [t._v("mdi-cog")])], 1)]
                    }
                }], null, !1, 4126934023)
            }, [i("v-list", {
                staticClass: "zoezi-edit-font"
            }, [i("v-list-item", {
                on: {
                    click: function(e) {
                        return t.$store.commit("setEditMenu", !t.$store.state.editMenu)
                    }
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-dock-left")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Switch to sidebar")))])], 1)], 1), i("v-list-item", {
                on: {
                    click: t.leaveEditMode
                }
            }, [i("v-list-item-icon", [i("v-icon", [t._v("mdi-close")])], 1), i("v-list-item-content", [i("v-list-item-title", [t._v(t._s(t.$translate("Close editing mode")))])], 1)], 1)], 1)], 1), i("v-btn", {
                attrs: {
                    small: t.$vuetify.breakpoint.smAndDown,
                    text: ""
                }
            }, [i("v-icon", {
                attrs: {
                    left: ""
                }
            }, [t._v("mdi-account")]), i("span", {
                staticClass: "hidden-sm-and-down"
            }, [t._v(t._s(t.$store.state.user.firstname))])], 1)], 1)])]) : t._e()
        }
          , gx = []
          , fx = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-dialog", {
                attrs: {
                    "max-width": "500",
                    scrollable: ""
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [i("v-card", {
                staticStyle: {
                    "overflow-y": "auto",
                    "min-height": "90vh"
                }
            }, [i("v-card-title", {
                staticClass: "headline zoezi-edit-color"
            }, [t._v(" " + t._s(t.$translate("Manage pages")) + " "), i("v-btn", {
                staticClass: "ml-auto",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", {
                staticClass: "white--text"
            }, [t._v("mdi-close")])], 1)], 1), i("v-card-text", {
                staticClass: "pt-4"
            }, [i("v-text-field", {
                attrs: {
                    label: "Sök sida",
                    "append-icon": "mdi-magnify",
                    "single-line": "",
                    "hide-details": "",
                    color: "zoezi-edit-color",
                    clearable: ""
                },
                model: {
                    value: t.searchPage,
                    callback: function(e) {
                        t.searchPage = e
                    },
                    expression: "searchPage"
                }
            }), i("v-expansion-panels", {
                staticClass: "mt-2",
                model: {
                    value: t.expandedPage,
                    callback: function(e) {
                        t.expandedPage = e
                    },
                    expression: "expandedPage"
                }
            }, t._l(t.sortedRoutes, (function(e, s) {
                return i("v-expansion-panel", {
                    key: s
                }, [i("v-expansion-panel-header", [t._v(t._s(e.name))]), i("v-expansion-panel-content", [i("v-text-field", {
                    attrs: {
                        label: t.$translate("Title"),
                        color: "zoezi-edit-color"
                    },
                    on: {
                        input: t.delayedSave
                    },
                    model: {
                        value: e.name,
                        callback: function(i) {
                            t.$set(e, "name", i)
                        },
                        expression: "page.name"
                    }
                }), i("v-text-field", {
                    attrs: {
                        label: t.$translate("Path"),
                        color: "zoezi-edit-color"
                    },
                    on: {
                        input: t.delayedSave
                    },
                    model: {
                        value: e.path,
                        callback: function(i) {
                            t.$set(e, "path", i)
                        },
                        expression: "page.path"
                    }
                }), i("v-btn", {
                    attrs: {
                        text: "",
                        color: "error"
                    },
                    on: {
                        click: function(i) {
                            return t.removePage(e)
                        }
                    }
                }, [t._v(t._s(t.$translate("Delete page")))])], 1)], 1)
            }
            )), 1)], 1)], 1)], 1)
        }
          , bx = []
          , yx = {
            name: "zoezi-manage-pages",
            props: ["value"],
            watch: {
                value: {
                    immediate: !0,
                    handler() {
                        this.dialog = this.value,
                        this.dialog && (this.searchPage = "",
                        this.expandedPage = null,
                        this.copyRoutes())
                    }
                },
                dialog() {
                    this.$emit("input", this.dialog)
                }
            },
            computed: {
                sortedRoutes() {
                    let t = (this.searchPage || "").toLowerCase();
                    return this.routesCopy.filter(e=>!t || e.path.includes(t) || e.name.toLowerCase().includes(t)).sort((t,e)=>t.name.localeCompare(e.name))
                }
            },
            data: ()=>({
                dialog: !0,
                searchPage: "",
                debouncedSave: null,
                routesCopy: [],
                expandedPage: null
            }),
            methods: {
                removePage(t) {
                    let e = this.$root.siteconfig.routes.map(t=>t.props).findIndex(e=>e === t);
                    this.$root.siteconfig.routes.splice(e, 1),
                    this.$root.saveHomePage(),
                    this.copyRoutes(),
                    this.expandedPage = null,
                    this.$route.path == t.path && this.$router.push({
                        path: "/"
                    })
                },
                delayedSave() {
                    this.debouncedSave()
                },
                copyRoutes() {
                    this.routesCopy = this.$root.siteconfig.routes.map(t=>t.props).sort((t,e)=>t.name.localeCompare(e.name))
                }
            },
            mounted() {
                this.debouncedSave = Object(a["debounce"])(()=>this.$root.saveHomePage(), 1e3)
            }
        }
          , _x = yx
          , kx = Object(p["a"])(_x, fx, bx, !1, null, null, null)
          , wx = kx.exports;
        g()(kx, {
            VBtn: O["a"],
            VCard: x["a"],
            VCardText: G["b"],
            VCardTitle: G["c"],
            VDialog: K["a"],
            VExpansionPanel: ee["a"],
            VExpansionPanelContent: ie["a"],
            VExpansionPanelHeader: se["a"],
            VExpansionPanels: ae["a"],
            VIcon: y["a"],
            VTextField: z["a"]
        });
        var Cx = {
            name: "zoezi-edit-menu",
            components: {
                ComponentTree: oC,
                AddPage: AC,
                ManagePages: wx,
                OwnComponentsList: Lw
            },
            computed: {
                currentRoute() {
                    return this.$root.siteconfig.routes.map(t=>t.props).find(t=>t.path == this.$route.path)
                },
                sortedRoutes() {
                    let t = (this.searchPage || "").toLowerCase();
                    return this.$root.siteconfig.routes.map(t=>t.props).filter(e=>!t || e.path.includes(t) || e.name.toLowerCase().includes(t)).sort((t,e)=>t.name.localeCompare(e.name))
                },
                currentPageComponent() {
                    let t = document.getElementById(this.currentRoute.id);
                    return t && t.__vue__
                }
            },
            data: ()=>({
                showPagesMenu: !1,
                showAddPageDialog: !1,
                showDuplicatePageDialog: !1,
                showManagePagesDialog: !1,
                searchPage: ""
            }),
            methods: {
                leaveEditMode() {
                    this.$root.edit = !1,
                    this.$root.mobilePreview = !1,
                    window.localStorage.removeItem("editmode")
                }
            }
        }
          , xx = Cx
          , $x = Object(p["a"])(xx, vx, gx, !1, null, null, null)
          , Sx = $x.exports;
        g()($x, {
            VAppBar: w_["a"],
            VBtn: O["a"],
            VDivider: $["a"],
            VIcon: y["a"],
            VImg: at["a"],
            VList: S["a"],
            VListItem: wt["a"],
            VListItemContent: Ct["a"],
            VListItemIcon: my["a"],
            VListItemTitle: Ct["c"],
            VMenu: D["a"],
            VTextField: z["a"]
        });
        var Dx = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("toolbox-window", {
                attrs: {
                    label: t.$translate("Tool")
                }
            }, [i("component-settings", {
                staticClass: "zoezi-edit-popover-settings"
            })], 1)
        }
          , zx = []
          , Tx = {
            name: "zoezi-edit-popover",
            components: {
                ComponentSettings: IC,
                ToolboxWindow: Cl["a"]
            }
        }
          , Ix = Tx
          , Px = (i("d260"),
        Object(p["a"])(Ix, Dx, zx, !1, null, "0ca3796d", null))
          , Vx = Px.exports
          , Bx = i("3222")
          , Fx = i.n(Bx)
          , Ex = (i("a04c"),
        i("8f94"))
          , Ox = i.n(Ex)
          , Mx = (i("a7be"),
        i("d69f"),
        i("f9d4"),
        i("4895"),
        i("cbc8"),
        i("697e"),
        i("aedd"),
        i("a2c1e"),
        i("8d70"),
        i("8822"),
        i("0dd0"),
        i("18d1"),
        i("c885"),
        i("bb47"),
        i("641c"))
          , Ax = i.n(Mx)
          , Rx = i("d800");
        window.diff_match_patch = Ax.a,
        window.DIFF_DELETE = -1,
        window.DIFF_INSERT = 1,
        window.DIFF_EQUAL = 0,
        window.JSHINT = Rx["JSHINT"],
        window.__editModeAvailable = !0;
        var Lx = ()=>{
            s["default"].use(Fx.a),
            s["default"].use(Ox.a),
            s["default"].component("EditPanel", px),
            s["default"].component("EditMenu", Sx),
            s["default"].component("EditPopover", Vx)
        }
        ;
        let jx = function(t) {
            let e, i = t.indexOf("export default"), s = t.indexOf("{");
            -1 != i && i < s && (t = t.substring(i + 14));
            try {
                e = new Function("return " + t)
            } catch {
                e = new Function("return {}")
            }
            return e()
        };
        const Nx = i("5ce8")
          , Wx = (t,e)=>{
            t && t.forEach(t=>{
                try {
                    let i = Nx.compileToFunctions(t.template);
                    if (i && i.render) {
                        let s = jx(t.code);
                        s.render = i.render,
                        s.staticRenderFns = i.staticRenderFns,
                        s.zoezi = {
                            title: t.name,
                            icon: "mdi-sheep",
                            ...s.zoezi
                        },
                        s.name = "zoezi-addon-" + t.id,
                        Object(o["c"])("zoezi-style-" + t.id, t.css),
                        e.push(s)
                    }
                } catch {}
            }
            )
        }
        ;
        let qx = [Z, lt, pt, Bt, $t, uh, jt, B["a"], Qt, ne, ve, ke, Ke, ii, Vi, Ai, os, oh, fs, va, Da, Ba, La, Ua, Xa, ao, Bo, Qd, Lu, zu, fh, xe["a"], ju["a"], wn, ua, Ch, Se["a"], Oe["a"], $e["a"], Th, Yu, Eh, L, Si, jh, Gh, tm, ym, $m, Pm, Mm, Wm, Km, ep, cp, Zo, vp, kp, ln, Dc, Bc, mm, jp, Dp, rg, tc, dr, wr, Lr, Pl, Ep, Cv, mv, yv, Hd, Tv, cm["a"], ov, ev]
          , Hx = [...qx, iy, vy, ky, Dy, By, Ly, Uy, Xy, a_, d_, lm, x_, I_, nw, Xv, bw];
        s["default"].component("ContentsContainer", pg),
        s["default"].component("component-wrapper", lg["a"]),
        s["default"].component("v-auto-img", _g),
        s["default"].component("v-btn", O["a"]),
        s["default"].component("v-draggable", bt.a),
        s["default"].component("ErrorDialog", Sg),
        s["default"].component("FormField", Ee["a"]),
        s["default"].component("MediaLibrary", lu),
        s["default"].component("zoezi-template-settings", Qb),
        Hx.push(Qb),
        s["default"].component("zoezi-exposettings", hw),
        Hx.push(hw),
        Lx(Hx);
        let Ux = function(t) {
            let e = "text";
            return void 0 !== t.fulltype ? e = t.fulltype : t.type === String ? e = "text" : t.type === Boolean ? e = "checkbox" : t.type == Number && (e = "number"),
            e
        };
        var Yx = e["a"] = {
            registerVueComponents(t, e) {
                Wx(t, Hx),
                this.updateOwnComponents(e),
                Hx.forEach(t=>{
                    s["default"].component(t.name, t)
                }
                ),
                this.setComponentDefaults(e)
            },
            updateOwnComponents(t) {
                if (t.ownComponents) {
                    Object.values(t.ownComponents).forEach(t=>{
                        try {
                            let e = Object.assign({}, jx(t.js));
                            e.zoezi = {
                                title: t.name,
                                icon: t.icon,
                                own: !0
                            },
                            e.name = t.id;
                            let i = s["default"].compile(t.html);
                            e.render = i.render,
                            e.staticRenderFns = i.staticRenderFns,
                            Object(o["c"])("zoezi-style-" + t.id, t.css);
                            let a = this.getComponent(e.name);
                            a ? Object.assign(a, e) : Hx.push(e),
                            s["default"].component(t.id, e)
                        } catch {}
                    }
                    ),
                    this.setComponentDefaults(t);
                    let e = Hx.filter(t=>t.zoezi && t.zoezi.own)
                      , i = e.filter(e=>!t.ownComponents[e.name]);
                    i.forEach(t=>{
                        let e = Hx.indexOf(t);
                        Hx.splice(e, 1)
                    }
                    )
                }
            },
            getComponent(t) {
                return Hx.find(e=>e.name == t)
            },
            getComponentProps(t) {
                let e = []
                  , i = this.getComponent(t);
                if (!i)
                    return [];
                for (const [s,a] of Object.entries(i.props || {})) {
                    if (!a.type || a.type == Function || a.type == Array && !a.fulltype || a.type == Object && !a.fulltype || !a.title)
                        continue;
                    let t = {
                        name: s,
                        title: a.title,
                        type: Ux(a),
                        default: a.default,
                        typeinfo: a.typeinfo,
                        global: a.global,
                        section: a.section
                    };
                    e.push(t)
                }
                return e
            },
            getAllComponents() {
                return Hx
            },
            getComponents() {
                return Hx.filter(t=>t.zoezi && !t.zoezi.internal)
            },
            getAllGlobalSettings() {
                return this.getAllComponents().map(t=>{
                    let e = this.getComponentProps(t.name).filter(t=>t.global);
                    return {
                        component: t,
                        props: e
                    }
                }
                ).filter(t=>t.props.length)
            },
            addComponents(t) {
                Object(a["remove"])(t, t=>!!t.component),
                Object(a["find"])(t, t=>"component" == t.id).options = Hx.map(t=>({
                    id: t.name,
                    name: t.title
                })).sort((t,e)=>t.name.localeCompare(e.name)),
                Hx.forEach(e=>{
                    for (const [i,s] of Object.entries(e.props || {})) {
                        if (s.type == Function || s.type == Array)
                            continue;
                        let a = Ux(s)
                          , o = function(t, e) {
                            let i = e.find(t=>"component" == t.id);
                            return t.component == i.value
                        }
                          , n = function(t) {
                            return t.component ? t.component + "." + t.id : t.id
                        }
                          , r = {
                            id: "props." + i,
                            label: s.title,
                            type: a,
                            visible: o,
                            component: e.name,
                            initial: s.default,
                            getKey: n
                        };
                        t.push(r)
                    }
                }
                )
            },
            addNewComponent(t) {
                this.makeEmptyConfig(t),
                this.selectComponent(t.id)
            },
            makeEmptyConfig(t) {
                var e;
                t = {
                    id: "0".repeat(64).replace(/0/g, (function() {
                        return (~~(16 * Math.random())).toString(16)
                    }
                    )),
                    component: "zoezi-empty",
                    props: {},
                    ...t
                },
                this.getComponentProps(t.component).forEach(e=>{
                    void 0 === e.default || void 0 !== t.props[e.name] || e.global || (t.props[e.name] = Object(a["isFunction"])(e.default) ? e.default() : e.default)
                }
                );
                let i = this.getComponent(t.component);
                return null !== i && void 0 !== i && null !== (e = i.zoezi) && void 0 !== e && e.getDefaultStyle && (t.style = Object.assign({}, i.zoezi.getDefaultStyle())),
                t
            },
            selectComponent(t) {
                s["default"].nextTick(()=>{
                    let e = document.getElementById(t)
                      , i = function(t) {
                        t && (t.__vue__ && t.__vue__.select ? t.__vue__.select() : i(t.parentElement))
                    };
                    i(e)
                }
                )
            },
            setComponentDefaults(t) {
                let e = function(e, i) {
                    var s, a;
                    return null === (s = t.componentDefaults) || void 0 === s || null === (a = s[e]) || void 0 === a ? void 0 : a[i]
                };
                this.getAllGlobalSettings().forEach(t=>{
                    t.props.forEach(i=>{
                        if (void 0 !== t.component.props[i.name]) {
                            let s = e(t.component.name, i.name);
                            void 0 !== s && (t.component.props[i.name].default = s)
                        }
                    }
                    )
                }
                )
            },
            getLiveComponents(t) {
                let e, i = (s,a)=>{
                    s && (e || "ComponentWrapper" != s.$options.name || (this.firstWrapper = s),
                    s.$children.forEach(t=>i(t, a)),
                    s.$options.name == t && a.push(s))
                }
                , s = [];
                return i(window.$vue, s),
                s
            },
            updateAllLiveComponents(t) {
                let e = this.getLiveComponents(t);
                e.forEach(t=>{
                    while (t && "ComponentWrapper" != t.$options.name)
                        t = t.$parent;
                    t && t.update && t.update()
                }
                )
            },
            getCompiler() {
                return Nx
            }
        }
    },
    a933: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-expansion-panel-header", {
                staticClass: "pa-2",
                attrs: {
                    color: t.color
                }
            }, [i("div", {
                staticClass: "pa-2 d-flex"
            }, [i("div", {
                staticClass: "d-flex align-center"
            }, [i("v-icon", {
                attrs: {
                    color: "black"
                },
                domProps: {
                    textContent: t._s(t.icon)
                }
            })], 1), i("div", {
                staticClass: "ml-2 flex-grow-1"
            }, [i("div", {
                staticClass: "font-weight-bold",
                domProps: {
                    textContent: t._s(t.title)
                }
            }), i("div", {
                staticClass: "text--secondary",
                domProps: {
                    textContent: t._s(t.subtitle)
                }
            })])])])
        }
          , a = []
          , o = {
            name: "zoezi-expansionpanel-header",
            props: {
                icon: {
                    title: "Icon",
                    type: String,
                    fulltype: "icon"
                },
                title: {
                    title: "Title",
                    type: String
                },
                subtitle: {
                    title: "Subtitle",
                    type: String
                },
                color: {
                    title: "Color",
                    type: String,
                    default: "#f0f0f0"
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = i("6544")
          , c = i.n(l)
          , d = i("c865")
          , u = i("132d")
          , h = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = h.exports;
        c()(h, {
            VExpansionPanelHeader: d["a"],
            VIcon: u["a"]
        })
    },
    aa24: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("v-select", {
                style: t.style,
                attrs: {
                    items: t.languages,
                    "item-value": "code",
                    "item-text": "name",
                    "return-object": "",
                    solo: !t.showLabel,
                    flat: !t.showLabel,
                    dense: !t.showLabel,
                    label: t.showLabel ? t.$translate(t.label) : null,
                    "hide-details": !t.showLabel,
                    "background-color": "transparent"
                },
                on: {
                    change: t.setLanguage
                },
                scopedSlots: t._u([{
                    key: "selection",
                    fn: function(e) {
                        var s = e.item;
                        return [i("div", {
                            staticClass: "selected-language"
                        }, [i("img", {
                            staticClass: "flag-icon",
                            attrs: {
                                src: t.getFlag(s.code)
                            }
                        }), t._v(" "), t.compact ? t._e() : [t._v(t._s(s.name))]], 2)]
                    }
                }, {
                    key: "item",
                    fn: function(e) {
                        var s = e.item;
                        return [i("img", {
                            staticClass: "flag-icon",
                            attrs: {
                                src: t.getFlag(s.code)
                            }
                        }), t._v(" " + t._s(s.name) + " ")]
                    }
                }]),
                model: {
                    value: t.currentLanguage,
                    callback: function(e) {
                        t.currentLanguage = e
                    },
                    expression: "currentLanguage"
                }
            })
        }
          , a = []
          , o = {
            name: "zoezi-language-menu",
            zoezi: {
                title: "Language selector",
                icon: "mdi-flag"
            },
            props: {
                showLabel: {
                    title: "Show label",
                    type: Boolean,
                    default: !1
                },
                label: {
                    title: "Label",
                    type: String,
                    default: "Language"
                },
                compact: {
                    title: "Compact style",
                    type: Boolean,
                    default: !1
                }
            },
            data: ()=>({
                languages: [{
                    name: "English",
                    code: "en"
                }, {
                    name: "Svenska",
                    code: "sv"
                }],
                currentLanguage: null
            }),
            computed: {
                style() {
                    return this.compact ? {
                        "max-width": "70px"
                    } : null
                }
            },
            watch: {
                "$store.state.language": {
                    immediate: !0,
                    handler(t) {
                        this.currentLanguage = this.languages.find(e=>e.code === t)
                    }
                }
            },
            methods: {
                getFlag(t) {
                    return t ? this.$api.getAssetUrl(`/assets/img/flags/${t}.png`) : ""
                },
                setLanguage(t) {
                    this.$store.dispatch("setLanguage", {
                        language: t.code,
                        changeOnServer: !0
                    }),
                    this.currentLanguage = t
                }
            }
        }
          , n = o
          , r = (i("fe8d"),
        i("2877"))
          , l = i("6544")
          , c = i.n(l)
          , d = i("b974")
          , u = Object(r["a"])(n, s, a, !1, null, "b86b5094", null);
        e["a"] = u.exports;
        c()(u, {
            VSelect: d["a"]
        })
    },
    ac27: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                style: {
                    "--animate-duration": t.animationDuration + "ms"
                }
            }, [i("transition", {
                attrs: {
                    appear: "",
                    "enter-active-class": t.enterActiveClass,
                    "leave-active-class": t.leaveActiveClass,
                    mode: "out-in",
                    duration: t.animationDuration / 2
                }
            }, [t.steps.length > t.currentStep ? i("div", {
                key: t.steps[t.currentStep].id
            }, [t._t(t.steps[t.currentStep].id, null, {
                step: t.steps[t.currentStep]
            })], 2) : t._e()])], 1)
        }
          , a = []
          , o = {
            name: "zoezi-stepper-content",
            zoezi: {
                title: "Stepper - content",
                internal: !0
            },
            props: {
                value: {
                    type: Number
                },
                steps: {
                    type: Array
                },
                animationDuration: {
                    type: Number,
                    default: 700
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.setStep(this.currentStep, t)
                    }
                }
            },
            data: ()=>({
                currentStep: 0,
                animationForwardDirection: !0
            }),
            computed: {
                enterActiveClass() {
                    return "animate__animated animate__bounceIn" + (this.animationForwardDirection ? "Right" : "Left")
                },
                leaveActiveClass() {
                    return "animate__animated animate__bounceOut" + (this.animationForwardDirection ? "Left" : "Right")
                }
            },
            methods: {
                getScrollParent(t) {
                    return null == t ? null : t.scrollHeight > t.clientHeight ? t : this.getScrollParent(t.parentNode)
                },
                setStep(t, e) {
                    if (this.animationForwardDirection = e >= t,
                    this.currentStep = e,
                    this.$el) {
                        let t = this.getScrollParent(this.$el);
                        t && t.scroll({
                            top: 0,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , n = o
          , r = i("2877")
          , l = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = l.exports
    },
    acee: function(t, e, i) {
        "use strict";
        i("eaff")
    },
    ae17: function(t, e, i) {},
    b152: function(t, e, i) {
        "use strict";
        i("d4b3")
    },
    b434: function(t, e, i) {},
    b67f: function(t, e, i) {},
    b690: function(t, e, i) {},
    b6fd: function(t, e, i) {
        "use strict";
        i("f019")
    },
    b9bd: function(t, e, i) {},
    ba3d: function(t, e, i) {},
    ba48: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return t.disabled ? i("div", {
                domProps: {
                    textContent: t._s(t.countText)
                }
            }) : i("v-menu", {
                attrs: {
                    "offset-y": ""
                },
                scopedSlots: t._u([{
                    key: "activator",
                    fn: function(e) {
                        var s = e.on;
                        return [i("div", t._g({
                            staticClass: "flex-shrink-0"
                        }, s), [t._v(" " + t._s(t.countText) + " "), i("v-icon", [t._v("mdi-chevron-down")])], 1)]
                    }
                }])
            }, [i("v-list", {
                staticStyle: {
                    "overflow-y": "auto",
                    "max-height": "460px"
                },
                attrs: {
                    dense: ""
                }
            }, t._l(t.itemCounts, (function(e) {
                return i("v-list-item", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: t.zero || e.value,
                        expression: "zero || item.value"
                    }],
                    key: e.value,
                    on: {
                        click: function(i) {
                            return t.$emit("input", e.value)
                        }
                    }
                }, [t._v(" " + t._s(e.text) + " ")])
            }
            )), 1)], 1)
        }
          , a = [];
        function o(t) {
            let e = [];
            e.push({
                text: window.$translate("Remove"),
                value: 0
            });
            const i = window.$translate("pcs");
            for (let s = 1; s <= t; ++s)
                e.push({
                    text: `${s} ${i}`,
                    value: s
                });
            return e
        }
        var n = {
            name: "zoezi-product-count",
            props: {
                value: {},
                disabled: {
                    type: Boolean,
                    default: !1
                },
                zero: {
                    type: Boolean,
                    default: !0
                }
            },
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        this.count = t,
                        t > this.itemCounts.length - 1 && (this.itemCounts = o(t))
                    }
                }
            },
            computed: {
                countText() {
                    var t;
                    return null === (t = this.itemCounts.find(t=>t.value == this.value)) || void 0 === t ? void 0 : t.text
                }
            },
            data: ()=>({
                count: null,
                itemCounts: o(10)
            })
        }
          , r = n
          , l = i("2877")
          , c = i("6544")
          , d = i.n(c)
          , u = i("132d")
          , h = i("8860")
          , m = i("da13")
          , p = i("e449")
          , v = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = v.exports;
        d()(v, {
            VIcon: u["a"],
            VList: h["a"],
            VListItem: m["a"],
            VMenu: p["a"]
        })
    },
    baef: function(t, e, i) {
        "use strict";
        i("156e")
    },
    bd52: function(t, e, i) {
        "use strict";
        i("2b81")
    },
    c005: function(t, e, i) {
        "use strict";
        i("85f6")
    },
    c03b: function(t, e, i) {
        "use strict";
        i("7536")
    },
    c054: function(t, e, i) {},
    c1c9: function(t, e, i) {},
    c1ee: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return "text" == t.field.type ? i("v-text-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    "error-messages": t.errorMessages,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "password" == t.field.type ? i("div", [i("v-text-field", {
                attrs: {
                    type: "password",
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    "error-messages": t.errorMessages,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }), i("v-text-field", {
                attrs: {
                    type: "password",
                    label: t.$translate("Repeat") + " " + t.$translate(t.field.title).toLowerCase(),
                    "prepend-icon": t.icon,
                    disabled: t.field.readonly,
                    rules: [t.requiredValue, t.passwordVerify],
                    hint: t.$translate(t.field.hint),
                    dense: t.dense
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.field.value && !0 === t.passwordVerify() ? "success" : "error"
                            }
                        }, [t._v(t._s(t.field.value && !0 === t.passwordVerify() ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0),
                model: {
                    value: t.verifyValue,
                    callback: function(e) {
                        t.verifyValue = e
                    },
                    expression: "verifyValue"
                }
            })], 1) : "email" == t.field.type ? i("v-text-field", {
                attrs: {
                    type: "text",
                    inputmode: "email",
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    "error-messages": t.errorMessages,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "personalCodeNumber" == t.field.type ? i("v-text-field", {
                attrs: {
                    type: "text",
                    inputmode: "numeric",
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    "error-messages": t.errorMessages,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.personalCodeNumberChange
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "number" == t.field.type ? i("v-text-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    type: "number",
                    inputmode: "numeric",
                    value: t.value,
                    disabled: t.field.readonly,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense,
                    min: t.field.min,
                    max: t.field.max
                },
                on: {
                    input: function(e) {
                        return t.emitValue(e, "number")
                    }
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "textarea" == t.field.type ? i("v-textarea", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense,
                    rows: t.value ? 3 : 1
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "date" == t.field.type ? i("date-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense,
                    min: t.field.min,
                    max: t.field.max
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "time" == t.field.type ? i("time-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "checkbox" == t.field.type ? i("v-checkbox", {
                attrs: {
                    label: t.$translate(t.field.title),
                    "prepend-icon": t.icon,
                    "input-value": t.value,
                    disabled: t.field.readonly,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    change: t.emitValue
                }
            }) : "datetime" == t.field.type ? i("v-row", {
                attrs: {
                    "no-gutters": ""
                }
            }, [i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("date-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    disabled: t.field.readonly
                },
                on: {
                    input: t.datetimeChange
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0),
                model: {
                    value: t.date,
                    callback: function(e) {
                        t.date = e
                    },
                    expression: "date"
                }
            })], 1), i("v-col", {
                attrs: {
                    md: "6",
                    cols: "12"
                }
            }, [i("time-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    disabled: t.field.readonly
                },
                on: {
                    input: t.datetimeChange
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0),
                model: {
                    value: t.time,
                    callback: function(e) {
                        t.time = e
                    },
                    expression: "time"
                }
            })], 1)], 1) : "price" == t.field.type ? i("v-text-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    type: "number",
                    value: t.value,
                    disabled: t.field.readonly,
                    suffix: "kr",
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "select" == t.field.type || "multiselect" == t.field.type ? i("v-select", {
                attrs: {
                    label: t.$translate(t.field.title),
                    items: t.field.data,
                    "prepend-icon": t.icon,
                    clearable: !t.field.required,
                    multiple: "multiselect" == t.field.type,
                    value: t.value,
                    disabled: t.field.readonly,
                    rules: t.rules,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense,
                    "item-text": t.getItemText
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "site" == t.field.type ? i("v-select", {
                attrs: {
                    label: t.$translate(t.field.title),
                    items: t.$store.state.settings.sites,
                    "item-value": "id",
                    "prepend-icon": t.icon,
                    clearable: !t.field.required,
                    multiple: !1,
                    value: t.value,
                    disabled: t.field.readonly,
                    rules: t.rules,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense,
                    "item-text": "name"
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "phone" == t.field.type ? i("v-text-field", {
                attrs: {
                    label: t.$translate(t.field.title),
                    type: "tel",
                    inputmode: "tel",
                    rules: t.rules,
                    "prepend-icon": t.icon,
                    value: t.value,
                    disabled: t.field.readonly,
                    "error-messages": t.errorMessages,
                    autofocus: t.field.autofocus,
                    hint: t.$translate(t.field.hint),
                    "persistent-hint": !!t.field.hint,
                    dense: t.dense
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "language" == t.field.type ? i("language-menu", {
                attrs: {
                    label: t.$translate(t.field.title),
                    "show-label": ""
                }
            }) : "color" == t.field.type ? i("color-setting", {
                attrs: {
                    label: t.$translate(t.field.title),
                    type: "bottomdialog",
                    colorList: t.field.colors,
                    value: t.value,
                    rules: t.rules
                },
                on: {
                    input: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }) : "radiogroup" == t.field.type ? i("v-radio-group", {
                key: t.field.name,
                attrs: {
                    rules: t.rules,
                    value: t.value,
                    label: t.$translate(t.field.title)
                },
                on: {
                    change: t.emitValue
                },
                scopedSlots: t._u([t.star && t.field.required ? {
                    key: "append",
                    fn: function() {
                        return [i("v-icon", {
                            attrs: {
                                small: "",
                                color: t.valueOk ? "success" : "error"
                            }
                        }, [t._v(t._s(t.valueOk ? "mdi-check" : "mdi-star"))])]
                    },
                    proxy: !0
                } : null], null, !0)
            }, t._l(t.field.data, (function(t) {
                return i("v-radio", {
                    key: t.value,
                    attrs: {
                        label: t.text,
                        value: t.value
                    }
                })
            }
            )), 1) : i("div", [t._v(" " + t._s(t.$translate("Unknown type")) + ": " + t._s(t.field.type) + " " + t._s(t.field.name) + " ")])
        }
          , a = []
          , o = i("e0eb")
          , n = i("8c33")
          , r = i("6ace")
          , l = i("aa24")
          , c = i("7134")
          , d = {
            name: "FormField",
            watch: {
                value: {
                    immediate: !0,
                    handler(t) {
                        if (this.field && "datetime" == this.field.type) {
                            let e = (t || "").split(" ");
                            2 == e.length ? (this.date = e[0],
                            this.time = e[1]) : 1 == e.length ? (this.date = e[0],
                            this.time = null) : (this.date = null,
                            this.time = null)
                        }
                    }
                }
            },
            props: {
                value: {},
                field: {
                    type: Object
                },
                star: {
                    type: Boolean,
                    default: !1
                },
                autofocus: {
                    type: Boolean,
                    default: !1
                },
                dense: {
                    type: Boolean,
                    default: !1
                },
                probe: {
                    type: Boolean,
                    default: !0
                }
            },
            components: {
                DateField: n["a"],
                TimeField: r["a"],
                LanguageMenu: l["a"],
                ColorSetting: c["a"]
            },
            data: ()=>({
                date: "",
                time: "",
                errorMessages: [],
                checking: !1,
                verifyValue: null
            }),
            computed: {
                rules() {
                    if (this.field.readonly)
                        return [];
                    let t = [];
                    return this.field.required && "checkbox" != this.field.type && t.push(this.requiredValue),
                    "email" != this.field.type && "mail" != this.field.type || t.push(this.mailOk),
                    "personalCodeNumber" == this.field.type && t.push(this.pCodeOk),
                    "phone" == this.field.type && t.push(this.phoneOk),
                    "password" == this.field.type && t.push(this.passwordOk),
                    "text" != this.field.type || void 0 == this.field.min && void 0 == this.field.max || t.push(this.lengthCheck),
                    t.concat(this.field.rules || [])
                },
                valueOk() {
                    return this.isValueValid(this.value)
                },
                icon() {
                    if (!this.field.icon)
                        return null;
                    if (this.field.icon.startsWith("mdi-"))
                        return this.field.icon;
                    let t = this.field.icon.split(" ");
                    if (3 == t.length) {
                        if (t = t[2],
                        t.startsWith("glyphicon-")) {
                            const e = {
                                user: "mdi-account",
                                home: "mdi-home",
                                envelope: "mdi-email",
                                phone: "mdi-cellphone-iphone",
                                earphone: "mdi-phone",
                                barcode: "mdi-barcode",
                                "credit-card": "mdi-creditcard",
                                "eye-open": "mdi-eye",
                                "info-sign": "mdi-information",
                                heart: "mdi-heart",
                                asterisk: "mdi-asterisk",
                                "": "mdi-cake-variant"
                            };
                            return e[t.substring(10)]
                        }
                        if (t.startsWith("fa-")) {
                            const e = {
                                "birthday-cake": "mdi-cake-variant"
                            };
                            return e[t.substring(3)]
                        }
                    }
                    return null
                }
            },
            methods: {
                requiredValue(t) {
                    if ("multiselect" == this.field.type) {
                        if (!t || 0 == t.length)
                            return this.$translate("You must select at least one option")
                    } else if (!t && 0 !== t)
                        return this.$translate("Value must be entered");
                    return !0
                },
                mailOk(t) {
                    return !(t && !Object(o["w"])(t)) || this.$translate("No valid email address")
                },
                pCodeOk(t) {
                    return !(t && !Object(o["y"])(t)) || this.$translate("Incorrect social security number")
                },
                phoneOk(t) {
                    return !(t && !Object(o["z"])(t)) || this.$translate("Incorrect phone number")
                },
                passwordOk(t) {
                    return !(t && t.length < 6) || this.$translate("Too short password")
                },
                lengthCheck(t) {
                    const e = this.field.min || 0
                      , i = this.field.max || 1 / 0;
                    return t.length < e ? this.$translate("Too short. Minimum length is {0}").format(e) : !(t.length > i) || this.$translate("Too long. Maximum length is {0}").format(i)
                },
                passwordVerify() {
                    return this.verifyValue == this.value || this.$translate("Passwords do not match")
                },
                datetimeChange() {
                    let t = null;
                    this.date && (t = this.date,
                    this.time && (t += " " + this.time)),
                    this.$emit("input", t)
                },
                getItemText(t) {
                    return "translated" == this.field.format ? this.$translate(t.text) : t.text
                },
                personalCodeNumberChange(t) {
                    Object(o["y"])(t) && this.probe ? (this.checking = !0,
                    this.$api.get("/api/user/probe", {
                        personalCodeNumber: t
                    }).then(e=>{
                        this.checking = !1,
                        e.exists ? this.errorMessages = [this.$translate("The personal code number or username is already registered to another customer")] : (this.errorMessages = [],
                        this.emitValue(t))
                    }
                    )) : (this.errorMessages = [],
                    this.emitValue(t))
                },
                emitValue(t, e) {
                    if ("number" == e) {
                        const e = parseFloat(t);
                        t = isNaN(e) ? t : e
                    }
                    this.isValueValid(t) && this.$emit("input", t)
                },
                isValueValid(t) {
                    return !this.rules.find(e=>!0 !== e(t)) && 0 == this.errorMessages.length && !this.checking
                }
            }
        }
          , u = d
          , h = i("2877")
          , m = i("6544")
          , p = i.n(m)
          , v = i("ac7c")
          , g = i("62ad")
          , f = i("132d")
          , b = i("67b6")
          , y = i("43a6")
          , _ = i("0fd9")
          , k = i("b974")
          , w = i("8654")
          , C = i("a844")
          , x = Object(h["a"])(u, s, a, !1, null, null, null);
        e["a"] = x.exports;
        p()(x, {
            VCheckbox: v["a"],
            VCol: g["a"],
            VIcon: f["a"],
            VRadio: b["a"],
            VRadioGroup: y["a"],
            VRow: _["a"],
            VSelect: k["a"],
            VTextField: w["a"],
            VTextarea: C["a"]
        })
    },
    c21a: function(t, e, i) {},
    c5fd: function(t, e, i) {},
    cb20: function(t, e, i) {
        "use strict";
        i.d(e, "b", (function() {
            return r
        }
        ));
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("div", {
                ref: "container",
                attrs: {
                    id: "adyen-component"
                }
            }), t.dropinComponent ? "adyen-card" == t.method && t.showInfo ? i("div", [i("v-checkbox", {
                attrs: {
                    label: t.$translate("Save card information for future purchases")
                },
                model: {
                    value: t.saveCard,
                    callback: function(e) {
                        t.saveCard = e
                    },
                    expression: "saveCard"
                }
            }), i("v-alert", {
                attrs: {
                    type: "info"
                }
            }, [t._v(" " + t._s(t.$translate("SAVE_CARD_INFO")) + " ")])], 1) : t._e() : i("v-progress-circular", {
                attrs: {
                    indeterminate: "",
                    color: "primary",
                    size: "64",
                    width: "2"
                }
            })], 1)
        }
          , a = [];
        let o;
        const n = t=>(o || (o = new Promise(e=>{
            let i = document.createElement("link");
            i.rel = "stylesheet",
            t ? (i.href = "https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.36.0/adyen.css",
            i.integrity = "sha384-B+X5tfQbLgoh0kgWjroUSwJaqgQCbmEsWxP1kuyJpsWq/5j1MQzYfR2MSB8oWbib") : (i.href = "https://checkoutshopper-test.adyen.com/checkoutshopper/sdk/5.36.0/adyen.css",
            i.integrity = "sha384-B+X5tfQbLgoh0kgWjroUSwJaqgQCbmEsWxP1kuyJpsWq/5j1MQzYfR2MSB8oWbib"),
            i.crossOrigin = "anonymous",
            document.body.appendChild(i),
            i = document.createElement("script"),
            i.id = "adyen-integration",
            i.type = "text/javascript",
            t ? (i.src = "https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.36.0/adyen.js",
            i.integrity = "sha384-NqawORR6KhblmVfr8zJQU27SUUdvqomDEdWunCP8aPnCiaeqp4+moRZkCusSImyr") : (i.src = "https://checkoutshopper-test.adyen.com/checkoutshopper/sdk/5.36.0/adyen.js",
            i.integrity = "sha384-NqawORR6KhblmVfr8zJQU27SUUdvqomDEdWunCP8aPnCiaeqp4+moRZkCusSImyr"),
            i.crossOrigin = "anonymous",
            document.body.appendChild(i);
            const s = ()=>{
                if (window.AdyenCheckout)
                    return e(window.AdyenCheckout);
                setTimeout(s, 100)
            }
            ;
            s()
        }
        )),
        o);
        function r(t) {
            return new Promise((e,i)=>{
                window.$vue.$api.post("/api/adyen/remove_card", {
                    ref: t
                }).then(t=>{
                    t.json().then(()=>{
                        t.ok ? e() : i()
                    }
                    )
                }
                )
            }
            )
        }
        var l = {
            name: "zoezi-adyen-payment",
            props: {
                method: {
                    title: "Payment method",
                    type: String
                },
                showInfo: {
                    title: "Display information about saving card",
                    type: Boolean,
                    default: !0
                }
            },
            data: ()=>({
                dropinComponent: null,
                saveCard: !1,
                secret: null,
                data: null
            }),
            methods: {
                getData() {
                    return {
                        saveCard: this.saveCard,
                        data: this.data
                    }
                },
                async prepare() {
                    this.$emit("change", !1);
                    const t = this.$store.state.settings.adyen.live
                      , e = await n(t);
                    let i = await (await this.$api.post("/api/adyen/paymentmethods")).json();
                    const s = {
                        paymentMethodsResponse: i,
                        clientKey: this.$store.state.settings.adyen.payment_key,
                        environment: t ? "live" : "test",
                        locale: "sv-SE",
                        showPayButton: !1,
                        paymentMethodsConfiguration: {
                            card: {
                                hasHolderName: !0,
                                holderNameRequired: !0,
                                disableIOSArrowKeys: !1
                            }
                        },
                        onChange: t=>{
                            this.data = t.data,
                            this.$emit("change", t.isValid)
                        }
                        ,
                        onSubmit: t=>{
                            t.isValid && (this.data = t.data)
                        }
                        ,
                        onAdditionalDetails: t=>{
                            const e = i=>{
                                let s = t.data ? t.data.details : t.details;
                                this.$api.post("/api/adyen/paymentdetails", {
                                    details: s,
                                    secret: this.secret
                                }).catch(()=>{
                                    i > 0 && setTimeout(()=>e(i - 1), 1e4)
                                }
                                )
                            }
                            ;
                            e(3)
                        }
                        ,
                        onError: t=>{
                            console.error("Error", t)
                        }
                    }
                      , a = await e(s);
                    this.dropinComponent = a.create(this.method.substring(6)).mount(this.$refs.container),
                    "adyen-card" != this.method && this.dropinComponent.submit(),
                    this.$emit("setup")
                },
                async handle(t, e) {
                    this.secret = e,
                    this.dropinComponent.handleAction(t)
                },
                reset() {
                    this.dropinComponent.unmount(),
                    this.prepare()
                },
                save() {
                    return new Promise((t,e)=>{
                        this.$api.post("/api/adyen/save_card", this.getData()).then(i=>{
                            i.json().then(s=>{
                                if (i.ok) {
                                    let i = this.$api.subscribeChannel(s.channel2, s=>{
                                        "adyen:payment" === s.type ? this.handle(s.action, s.secret) : "adyen:system-error" === s.type ? (this.loading = !1,
                                        this.$store.commit("showSnackBar", {
                                            text: this.$translate("The card could not be saved")
                                        }),
                                        this.reset(),
                                        i(),
                                        e()) : "adyen:complete" === s.type && (i(),
                                        s.success ? t() : e(s.reason))
                                    }
                                    )
                                } else
                                    e()
                            }
                            )
                        }
                        )
                    }
                    )
                }
            },
            mounted() {
                this.prepare()
            }
        }
          , c = l
          , d = i("2877")
          , u = i("6544")
          , h = i.n(u)
          , m = i("0798")
          , p = i("ac7c")
          , v = i("490a")
          , g = Object(d["a"])(c, s, a, !1, null, null, null);
        e["a"] = g.exports;
        h()(g, {
            VAlert: m["a"],
            VCheckbox: p["a"],
            VProgressCircular: v["a"]
        })
    },
    cca9: function(t, e, i) {
        "use strict";
        i("7ed7")
    },
    cee6: function(t, e, i) {},
    cf81: function(t, e, i) {},
    cff5: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [t._l(t.products, (function(e) {
                return i("v-card", {
                    key: e.id,
                    staticClass: "d-flex mt-4 z-no-focus",
                    attrs: {
                        height: "65px"
                    },
                    on: {
                        click: function(i) {
                            return t.showAdditionalProduct(e)
                        }
                    }
                }, [i("v-auto-img", {
                    staticStyle: {
                        "border-bottom-left-radius": "inherit",
                        "border-top-right-radius": "0"
                    },
                    attrs: {
                        src: e.imagekey,
                        width: "100px",
                        height: "65px",
                        "max-width": "100px",
                        "max-height": "65px"
                    }
                }), i("div", {
                    staticClass: "flex-grow-1 px-2 z-min-width-0"
                }, [i("div", [i("b", [t._v(t._s(e.name))])]), i("div", {
                    staticStyle: {
                        height: "43px",
                        overflow: "hidden"
                    },
                    domProps: {
                        innerHTML: t._s(t.stripHtml(e.description))
                    }
                })]), i("div", {
                    staticClass: "d-flex px-2 flex-column"
                }, [i("div", {
                    staticClass: "primary--text font-weight-bold text-no-wrap align-self-center"
                }, [t._v(t._s(t.getPrice(e)))]), i("div", {
                    staticClass: "align-self-end"
                }, [t.useCheckoutButton ? i("checkout-button", {
                    attrs: {
                        component: {
                            component: "zoezi-button",
                            props: {
                                text: t.$translate(t.buyButtonText),
                                thin: !0
                            }
                        },
                        products: [{
                            product_id: e.id,
                            count: 1
                        }]
                    },
                    on: {
                        showCheckout: function(i) {
                            i || t.$emit("buy", e)
                        }
                    },
                    nativeOn: {
                        click: function(t) {
                            t.stopPropagation()
                        }
                    }
                }) : i("zoezi-button", {
                    attrs: {
                        thin: "",
                        text: t.$translate(t.buyButtonText)
                    },
                    on: {
                        click: function(i) {
                            return i.stopPropagation(),
                            t.buyButtonClick(e)
                        }
                    }
                })], 1)])], 1)
            }
            )), t.showingProduct ? i("product-dialog", {
                attrs: {
                    product: t.showingProduct,
                    "show-count": !1,
                    useCheckoutButton: t.useCheckoutButton,
                    "buy-button-text": t.buyButtonText
                },
                on: {
                    buy: function(e) {
                        return t.buyButtonClick(t.showingProduct)
                    }
                },
                model: {
                    value: t.showProductDialog,
                    callback: function(e) {
                        t.showProductDialog = e
                    },
                    expression: "showProductDialog"
                }
            }) : t._e()], 2)
        }
          , a = []
          , o = i("e0eb")
          , n = i("8f18")
          , r = i("4be9")
          , l = i("4db0")
          , c = {
            name: "zoezi-simple-product-list",
            props: {
                products: {},
                buyButtonText: {
                    type: String,
                    default: "Buy"
                },
                useCheckoutButton: {
                    type: Boolean,
                    default: !1
                }
            },
            components: {
                ProductDialog: n["a"],
                ZoeziButton: r["a"],
                CheckoutButton: l["a"]
            },
            data: ()=>({
                showProductDialog: !1,
                showingProduct: null
            }),
            methods: {
                showAdditionalProduct(t) {
                    this.showingProduct = t,
                    this.showProductDialog = !0
                },
                stripHtml(t) {
                    return Object(o["H"])(t)
                },
                buyButtonClick(t) {
                    this.$emit("buy", t)
                },
                getPrice(t) {
                    return Object(o["o"])(t)
                }
            }
        }
          , d = c
          , u = i("2877")
          , h = i("6544")
          , m = i.n(h)
          , p = i("b0af")
          , v = Object(u["a"])(d, s, a, !1, null, null, null);
        e["a"] = v.exports;
        m()(v, {
            VCard: p["a"]
        })
    },
    d04c: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", [i("v-dialog", {
                attrs: {
                    "max-width": "500px"
                },
                model: {
                    value: t.dialog,
                    callback: function(e) {
                        t.dialog = e
                    },
                    expression: "dialog"
                }
            }, [t.loading ? i("div", [i("v-progress-linear", {
                attrs: {
                    indeterminate: "",
                    color: "primary"
                }
            })], 1) : i("v-card", [i("v-card-title", {
                staticClass: "headline flex-column pa-2"
            }, [i("div", {
                staticClass: "d-flex fill-width"
            }, [i("h2", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Buy membership")))]), i("v-btn", {
                staticClass: "float-right",
                attrs: {
                    icon: ""
                },
                on: {
                    click: function(e) {
                        t.dialog = !1
                    }
                }
            }, [i("v-icon", [t._v("mdi-close")])], 1)], 1)]), i("v-card-text", [i("simple-product-list", {
                attrs: {
                    products: t.membershipsToBuy,
                    "buy-button-text": "Choose",
                    useCheckoutButton: !0
                },
                on: {
                    buy: t.buy
                }
            })], 1)], 1)], 1)], 1)
        }
          , a = []
          , o = i("cff5")
          , n = {
            name: "zoezi-buy-membership-dialog",
            props: ["value"],
            components: {
                SimpleProductList: o["a"]
            },
            data: ()=>({
                products: null,
                loading: !1,
                items: [],
                unsubscribe: null
            }),
            computed: {
                dialog: {
                    get() {
                        return this.value
                    },
                    set(t) {
                        this.$emit("input", t)
                    }
                },
                membershipsToBuy() {
                    var t;
                    return null === (t = this.products) || void 0 === t ? void 0 : t.filter(t=>t.membership)
                }
            },
            methods: {
                getProducts() {
                    this.loading = !0,
                    this.$api.get("/api/public/trainingcard/type/get", {
                        trial: !0
                    }).then(t=>{
                        this.products = t,
                        this.loading = !1
                    }
                    )
                },
                buy() {
                    this.dialog = !1
                }
            },
            mounted() {
                this.getProducts(),
                this.unsubscribe = this.$root.$api.subscribe({
                    type: "trainingcardtype",
                    callback: ()=>this.getProducts()
                })
            },
            destroyed() {
                var t;
                null === (t = this.unsubscribe) || void 0 === t || t.call(this)
            }
        }
          , r = n
          , l = i("2877")
          , c = i("6544")
          , d = i.n(c)
          , u = i("8336")
          , h = i("b0af")
          , m = i("99d9")
          , p = i("169a")
          , v = i("132d")
          , g = i("8e36")
          , f = Object(l["a"])(r, s, a, !1, null, null, null);
        e["a"] = f.exports;
        d()(f, {
            VBtn: u["a"],
            VCard: h["a"],
            VCardText: m["b"],
            VCardTitle: m["c"],
            VDialog: p["a"],
            VIcon: v["a"],
            VProgressLinear: g["a"]
        })
    },
    d21c: function(t, e, i) {
        "use strict";
        i("4d99")
    },
    d260: function(t, e, i) {
        "use strict";
        i("f19a")
    },
    d4b3: function(t, e, i) {},
    d6d8: function(t, e, i) {
        "use strict";
        i("4087")
    },
    d9d1: function(t, e, i) {
        "use strict";
        i("3001")
    },
    ddd2: function(t, e, i) {},
    ddee: function(t, e, i) {
        "use strict";
        i("8bc1")
    },
    de22: function(t, e, i) {},
    de32: function(t, e, i) {},
    e0c8: function(t, e, i) {
        "use strict";
        i("7c5d")
    },
    e0eb: function(t, e, i) {
        "use strict";
        i.d(e, "y", (function() {
            return o
        }
        )),
        i.d(e, "w", (function() {
            return n
        }
        )),
        i.d(e, "i", (function() {
            return c
        }
        )),
        i.d(e, "x", (function() {
            return d
        }
        )),
        i.d(e, "A", (function() {
            return u
        }
        )),
        i.d(e, "f", (function() {
            return h
        }
        )),
        i.d(e, "z", (function() {
            return m
        }
        )),
        i.d(e, "n", (function() {
            return p
        }
        )),
        i.d(e, "H", (function() {
            return v
        }
        )),
        i.d(e, "F", (function() {
            return g
        }
        )),
        i.d(e, "m", (function() {
            return f
        }
        )),
        i.d(e, "h", (function() {
            return b
        }
        )),
        i.d(e, "C", (function() {
            return a
        }
        )),
        i.d(e, "p", (function() {
            return k
        }
        )),
        i.d(e, "c", (function() {
            return w
        }
        )),
        i.d(e, "B", (function() {
            return y
        }
        )),
        i.d(e, "j", (function() {
            return D
        }
        )),
        i.d(e, "a", (function() {
            return _
        }
        )),
        i.d(e, "b", (function() {
            return S
        }
        )),
        i.d(e, "o", (function() {
            return z
        }
        )),
        i.d(e, "l", (function() {
            return T
        }
        )),
        i.d(e, "q", (function() {
            return I
        }
        )),
        i.d(e, "g", (function() {
            return F
        }
        )),
        i.d(e, "u", (function() {
            return E
        }
        )),
        i.d(e, "t", (function() {
            return O
        }
        )),
        i.d(e, "s", (function() {
            return A
        }
        )),
        i.d(e, "G", (function() {
            return R
        }
        )),
        i.d(e, "r", (function() {
            return j
        }
        )),
        i.d(e, "v", (function() {
            return l
        }
        )),
        i.d(e, "e", (function() {
            return N
        }
        )),
        i.d(e, "k", (function() {
            return W
        }
        )),
        i.d(e, "d", (function() {
            return M
        }
        )),
        i.d(e, "D", (function() {
            return L
        }
        )),
        i.d(e, "E", (function() {
            return q
        }
        ));
        i("ad9d"),
        i("3c5d");
        var s = i("2ef0");
        function a(t) {
            if (!t)
                return null;
            if (t = t.replace(/-/g, ""),
            t = t.replace(/\s/g, ""),
            10 == t.length && Number(t[2]) < 2) {
                var e = Date.newFull("20" + t.substring(0, 2) + "-" + Number(t.substring(2, 4) - 1) + "-" + t.substring(4, 6));
                t = t = e.isFutureDate() ? "19" + t : "20" + t
            }
            return t
        }
        function o(t) {
            if (t = a(t),
            !t || 12 != t.length || isNaN(t))
                return !1;
            var e = t.substring(0, 4)
              , i = t.substring(4, 6)
              , s = t.substring(6, 8);
            if (e < 1900 || e > 2099 || i > 12 || s > 31)
                return !1;
            for (var o = 0, n = 2; n < 11; ++n) {
                var r = n % 2 == 0 ? 2 : 1
                  , l = Number(t[n])
                  , c = l * r;
                o += Math.floor(c / 10) + c % 10
            }
            var d = 10 - o % 10;
            return 10 == d && (d = 0),
            Number(t[11]) == d
        }
        function n(t) {
            return !!t && (!!t.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/) && !t.match("[åäöÅÄÖ]"))
        }
        function r(t, e) {
            void 0 == e && (e = " "),
            t += "";
            var i = t.split(".")
              , s = i[0]
              , a = i.length > 1 ? "." + i[1] : ""
              , o = /(\d+)(\d{3})/;
            while (o.test(s))
                s = s.replace(o, "$1" + e + "$2");
            return s + a
        }
        function l(t) {
            return "string" === typeof t || t instanceof String
        }
        function c(t) {
            if (void 0 == t || null == t)
                return "";
            l(t) || (t = String(t)),
            t = t.replace(",", "."),
            t = String(Number(t).toFixed(2));
            var e = t.split(".")
              , i = null;
            if (2 == e.length) {
                var s = Number("0." + e[1]).toFixed(2).substring(2)
                  , a = Number(s);
                a && (i = s)
            }
            return t = r(e[0]) + (i ? "," + i : ""),
            t + " kr"
        }
        function d(t) {
            return t.startsWith("/") && (t = t.substring(1)),
            /^[a-z0-9-._~/]*$/.test(t)
        }
        function u(t) {
            let e = t.toLowerCase().replace(/\s/g, "-").replace(/[åä]/g, "a").replace(/ö/g, "o");
            return "/" + e.split("").filter(d).join("")
        }
        function h(t, e) {
            if (e = e || 99,
            e < 1)
                return console.warn("Recursion is detected"),
                t;
            if (null == t)
                return null;
            if ("object" !== typeof t)
                return t;
            if (window.Blob && t instanceof window.Blob)
                return t;
            if (t.$datetime) {
                var i = t.$datetime.match(/^(\d{4})-(\d\d)-(\d\d) (\d\d):(\d\d):(\d\d)$/);
                return new Date(i[1],i[2] - 1,i[3],i[4],i[5],i[6])
            }
            if (t.$date) {
                let e = t.$date.match(/^(\d{4})-(\d\d)-(\d\d)$/);
                return new Date(e[1],e[2] - 1,e[3])
            }
            if (t.$decimal)
                return parseFloat(t.$decimal);
            if (Array.isArray(t)) {
                let i = new Array(t.length);
                for (let s = 0; s < t.length; s++)
                    i[s] = h(t[s], e - 1);
                return i
            }
            let s = {};
            for (var a in t)
                s[a] = h(t[a], e - 1);
            return s
        }
        function m(t) {
            return t = String(t),
            t = t.replace("-", ""),
            t = t.replace("+", ""),
            t = t.replace(/ /g, ""),
            !!/^[0-9]*$/.test(t) && (t.startsWith("046") ? t = t.substring(3) : t.startsWith("46") && (t = t.substring(2)),
            t.startsWith("0") && (t = t.substring(1)),
            9 == t.length)
        }
        function p(t) {
            return t && (t.name || (t.firstname ? t.firstname + " " + t.lastname : t.lastname))
        }
        function v(t) {
            return t && Object(s["unescape"])(t.replace(/<(?!br\s*\/?)[^>]+>/gi, " ")).replaceAll("&#10;", " ").replaceAll("&#13;", " ")
        }
        function g(t, e, i, s) {
            var a = "";
            if (i) {
                var o = new Date;
                o.setTime(o.getTime() + 24 * i * 60 * 60 * 1e3),
                a = "; expires=" + o.toUTCString()
            }
            let n = s ? ";SameSite=None; Secure;" : "";
            document.cookie = t + "=" + (e || "") + a + "; path=/" + n
        }
        function f(t) {
            for (var e = t + "=", i = document.cookie.split(";"), s = 0; s < i.length; s++) {
                var a = i[s];
                while (" " == a.charAt(0))
                    a = a.substring(1, a.length);
                if (0 == a.indexOf(e))
                    return a.substring(e.length, a.length)
            }
            return null
        }
        function b(t) {
            document.cookie = t + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"
        }
        function y(t) {
            let e = [];
            return t.forEach(t=>{
                Object.keys(t.basket).forEach(i=>{
                    let s = t.basket[i];
                    s.forEach(t=>{
                        if (t.count) {
                            let s = e.find(e=>e.product_id == i && e.variant == t.variant);
                            s || (s = {
                                product_id: i,
                                variant: t.variant,
                                count: 0
                            },
                            e.push(s)),
                            s.count += t.count
                        }
                    }
                    )
                }
                )
            }
            ),
            e
        }
        const _ = [{
            id: "earlymorning",
            title: "Early morning",
            icon: "mdi-weather-sunset-up",
            start: 0,
            end: 7,
            short: "early morning",
            color: "#61839a",
            backgroundColor: "#e6eff5"
        }, {
            id: "morning",
            title: "Morning",
            icon: "mdi-weather-sunny",
            start: 7,
            end: 12,
            short: "morning",
            color: "#61839a",
            backgroundColor: "#e6eff5"
        }, {
            id: "afternoon",
            title: "Afternoon",
            icon: "mdi-weather-sunset-down",
            start: 12,
            end: 18,
            short: "afternoon",
            color: "#bb7933",
            backgroundColor: "#f2ece5"
        }, {
            id: "night",
            title: "Evening",
            icon: "mdi-weather-night",
            start: 18,
            end: 24,
            short: "evening",
            color: "#000",
            backgroundColor: "#eee"
        }];
        function k(t=64) {
            return "0".repeat(t).replace(/0/g, (function() {
                return (~~(16 * Math.random())).toString(16)
            }
            ))
        }
        function w(t, e) {
            let i = document.getElementById(t);
            i ? i.innerHTML = e : (i = document.createElement("style"),
            i.setAttribute("id", t),
            i.innerHTML = e,
            document.body.appendChild(i))
        }
        const C = [{
            id: "day",
            name: "Days"
        }, {
            id: "hour",
            name: "Hours"
        }, {
            id: "week",
            name: "Weeks"
        }, {
            id: "month",
            name: "Months"
        }]
          , x = [{
            id: "day",
            name: "Day"
        }, {
            id: "hour",
            name: "Hour"
        }, {
            id: "week",
            name: "Week"
        }, {
            id: "month",
            name: "Month"
        }]
          , $ = [{
            id: "beforestart",
            name: "Before start"
        }, {
            id: "afterstart",
            name: "After start"
        }];
        class S {
            constructor(t) {
                this.value = t.value,
                this.timeunit = 1 == this.value ? x.find(e=>e.id == t.timeunit) : C.find(e=>e.id == t.timeunit),
                this.relative = $.find(e=>e.id == t.relative)
            }
            get hours() {
                let t = this.timeunit.id
                  , e = 1;
                return "day" == t ? e = 24 : "week" == t ? e = 168 : "month" == t && (e = 720),
                this.value * e
            }
            getDate(t) {
                let e = 60 * this.hours * 60 * 1e3;
                return t = Date.newFull(t).clone(),
                "beforestart" == this.relative.id ? t.setTime(t.getTime() - e) : "afterstart" == this.relative.id && t.setTime(t.getTime() + e),
                t
            }
            get string() {
                let t = window.$translate;
                return `${this.value} ${t(this.timeunit.name).toLowerCase()} ${t(this.relative.name).toLowerCase()}`
            }
        }
        function D(t) {
            if (!t || t.length < 8)
                return null;
            t = a(t);
            let e = t.substring(0, 4)
              , i = t.substring(4, 6)
              , s = t.substring(6, 8);
            return Date.getAge(`${e}-${i}-${s}`)
        }
        function z(t) {
            let e = c(t.price);
            return t.priceType && "OneTime" != t.priceType ? (e += " per " + window.$translate(t.priceType).toLowerCase(),
            e) : e
        }
        function T(t) {
            let e = {};
            t.forEach(t=>{
                var i, s;
                let a = (null === (i = t.product) || void 0 === i ? void 0 : i.priceType) || "OneTime"
                  , o = t.count * ((null === (s = t.product) || void 0 === s ? void 0 : s.price) || t.price);
                e[a] || (e[a] = 0),
                e[a] += o
            }
            );
            const i = window.$translate;
            let s = [];
            return e["OneTime"] && s.push(c(e["OneTime"])),
            e["Month"] && s.push(c(e["Month"]) + " " + i("per month")),
            e["Year"] && s.push(c(e["Year"]) + " " + i("per year")),
            e["HalfYear"] && s.push(c(e["HalfYear"]) + " " + i("per half year")),
            e["Quarter"] && s.push(c(e["Quarter"]) + " " + i("per quarter")),
            e["Week"] && s.push(c(e["Week"]) + " " + i("per week")),
            e["Day"] && s.push(c(e["Day"]) + " " + i("per day")),
            s.join(", ")
        }
        function I(t, e, i) {
            if (t.variants) {
                var s;
                if (e = t.variants.find(t=>t.name == e),
                !e)
                    return;
                let a = null === (s = e) || void 0 === s ? void 0 : s.stock_sites.find(t=>t.site_id == i);
                if (!a)
                    return;
                return a.stock
            }
            return t.stock
        }
        function P() {
            let t = !!window.Blob.prototype.fakeBlob;
            if (!t) {
                var e = navigator.userAgent.toLowerCase();
                -1 != e.indexOf("safari") && (t = e.indexOf("chrome") < 0)
            }
            return t
        }
        function V(t) {
            for (var e = "", i = new Uint8Array(t), s = i.byteLength, a = 0; a < s; a++)
                e += String.fromCharCode(i[a]);
            return window.btoa(e)
        }
        function B(t) {
            var e, i;
            t.blob.fakeBlob ? (i = t.blob.option.type,
            e = new FormData,
            e.append("file", V(t.blob.data[0])),
            e.append("filetype", "base64")) : (i = t.blob.type,
            e = new FormData,
            e.append("file", t.blob)),
            window.$zoeziapi.post("/api/utils/serverdownloader/save", e).then(e=>{
                e.json().then(e=>{
                    document.location.href = "/api/utils/serverdownloader/load?secret=" + e.secret + "&type=" + encodeURIComponent(i) + "&filename=" + encodeURIComponent(t.filename)
                }
                )
            }
            )
        }
        function F({filename: t, blob: e, data: i, type: s}) {
            const a = e || new Blob([i],{
                type: s || "application/octet-stream"
            });
            if (P())
                return B({
                    blob: a,
                    filename: t
                });
            const o = window.URL.createObjectURL(a);
            let n = document.createElement("a");
            n.href = o,
            n.download = t,
            n.click(),
            setTimeout(()=>{
                window.URL.revokeObjectURL(o)
            }
            , 250)
        }
        function E() {
            return /Android|iP(hone|od)|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        }
        function O() {
            return window.isExpoApp
        }
        function M() {
            return window.appleSigninNative
        }
        function A() {
            O() && (window.setAcceptTrackingCookies = function(t) {
                window.$vue.$emit("setThirdpartyCookieStatus", t)
            }
            ,
            window.expo = {})
        }
        function R(t) {
            t.root && t.root.props && Object.keys(t.root.props).forEach(e=>{
                let i = t.root.props[e];
                const s = ["colors"];
                void 0 === i || s.includes(e) || (t[e] = i)
            }
            )
        }
        function L(t) {
            const e = new URLSearchParams(window.location.search);
            e.delete(t);
            const i = e.toString()
              , s = i ? `${window.location.pathname}?${i}` : window.location.pathname;
            window.history.replaceState({}, "", s)
        }
        function j(t) {
            t = t.replace(/[[]/, "\\[").replace(/[\]]/, "\\]");
            let e = new RegExp("[\\?&]" + t + "=([^&#]*)")
              , i = window.location.href;
            if (-1 != i.indexOf("?")) {
                let t = e.exec("?" + i.split("?")[1]);
                return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
            }
        }
        function N(t, e) {
            let i = (t,e)=>{
                if (Array.isArray(t))
                    for (let s = 0; s < t.length; ++s) {
                        let a = i(t[s], e);
                        if (a)
                            return a
                    }
                else if (Object(s["isObject"])(t)) {
                    if (t.id == e)
                        return t;
                    let s = Object.values(t);
                    for (let t = 0; t < s.length; ++t) {
                        let a = i(s[t], e);
                        if (a)
                            return a
                    }
                }
            }
            ;
            Object.keys(e).forEach(s=>{
                let a = s.split("-")[0]
                  , o = s.substring(a.length + 1)
                  , n = e[s]
                  , r = i(t, a);
                if (r) {
                    var l;
                    let t = null === (l = r.templateSettings) || void 0 === l ? void 0 : l.props
                      , e = t.find(t=>t.id == o);
                    e && (r.props[o] = n)
                }
            }
            )
        }
        function W(t) {
            const e = window.$store;
            return e.state.carts && e.state.carts[t] && e.state.carts[t].items ? e.state.carts[t].items : []
        }
        function q(t) {
            const e = {
                HHMMSS: {
                    pattern: /^(?:[0-1]?[0-9]|2[0-3])\.[0-5][0-9]\.[0-5][0-9]$/,
                    errorMessage: H("Time (hours, minutes, seconds)", "01.23.45")
                },
                MMSS: {
                    pattern: /^[0-5]?[0-9]\.[0-5][0-9]$/,
                    errorMessage: H("Time (minutes, seconds)", "01.23")
                },
                SSss: {
                    pattern: /^[0-9]+(\.[0-9]+)?$/,
                    errorMessage: H("Time (seconds, hundreds)", "01.23")
                },
                SSsss: {
                    pattern: /^[0-9]+(\.[0-9]{3})?$/,
                    errorMessage: H("Time (seconds, thousands)", "01.234")
                },
                number: {
                    pattern: /^[0-9]+$/,
                    errorMessage: H("Positive integer")
                },
                pdecimal: {
                    pattern: /^[0-9]+(\.[0-9]+)?$/,
                    errorMessage: H("Positive decimal", "1.23")
                },
                integer: {
                    pattern: /^-?[0-9]+$/,
                    errorMessage: H("Integer")
                },
                decimal: {
                    pattern: /^-?[0-9]+(\.[0-9]+)?$/,
                    errorMessage: H("Decimal", "1.23")
                }
            }
              , i = e[t] || {}
              , s = i.pattern || /.*/
              , a = i.errorMessage || window.$translate("Invalid input");
            return [t=>"" === t || null == t || (s.test(t) || a)]
        }
        function H(t, e) {
            return e ? window.$translate("Allowed format: {0}, Ex: {1}").format(window.$translate(t), e) : window.$translate("Allowed format: {0}").format(window.$translate(t))
        }
    },
    e609: function(t, e, i) {
        "use strict";
        i("04e8")
    },
    e61a: function(t, e, i) {
        "use strict";
        var s = function() {
            var t = this
              , e = t.$createElement
              , i = t._self._c || e;
            return i("div", {
                staticClass: "zoezi-workout-book-user-row"
            }, ["cancel" == t.state ? i("div", {
                staticClass: "d-flex pa-2",
                class: {
                    booked: t.booked
                }
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), t.bookedViaCourse ? i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.bookedText + " " + t.$translate("via course")))]) : i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.bookedText))]), t.workout.unbookable() ? i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    color: "error",
                    text: "",
                    loading: t.cancelling
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.cancel.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("CANCEL_BOOKING")))]) : i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    disabled: "",
                    text: ""
                }
            }, [t._v(t._s(t.$translate("Can not cancel booking")))])], 1) : "book" == t.state ? i("div", {
                staticClass: "d-flex pa-2",
                class: {
                    booked: t.booked
                }
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Book") + " " + t.name2))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    color: "primary",
                    text: "",
                    loading: t.booking
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.book.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Book")))])], 1) : "leavequeue" == t.state ? i("div", {
                staticClass: "d-flex pa-2",
                class: {
                    booked: t.booked,
                    queued: t.queued
                }
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), t.workout.firstCome() ? i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.name + " " + t.$translate("watching, first come, first served applies to the workout")))]) : i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("{0} is in queue position {1}").format(t.name, t.workout.getQueuePosition(t.user))))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px",
                    float: "right"
                },
                attrs: {
                    color: "error",
                    text: "",
                    loading: t.cancelling
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.cancel.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Leave the queue")))])], 1) : "queue" == t.state ? i("div", {
                staticClass: "d-flex pa-2",
                class: {
                    booked: t.booked
                }
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("Put {0} in queue").format(t.name2)))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    color: "primary",
                    text: "",
                    loading: t.booking
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.queue.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Queue up")))])], 1) : "nobook" == t.state ? i("div", {
                staticClass: "d-flex pa-2 flex-column",
                class: {
                    booked: t.booked
                }
            }, [i("div", {
                staticClass: "d-flex flex-row"
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.name + " " + t.$translate("can not book")))])], 1), i("div", t._l(t.noobookReasons, (function(e) {
                return i("div", {
                    key: e,
                    staticClass: "ml-6 text--secondary",
                    domProps: {
                        textContent: t._s(e)
                    }
                })
            }
            )), 0)]) : "bookbuy" == t.state || "queuebuy" == t.state ? i("div", {
                staticClass: "d-flex pa-2",
                class: {
                    booked: t.booked
                }
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.name + " " + t.$translate("does not have a trainingcard")))])], 1) : "cancelled" == t.state ? i("div", {
                staticClass: "d-flex pa-2 text--secondary"
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), t.workout.isInQueue(t.user) ? [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.$translate("{0} was in queue position {1}").format(t.name, t.workout.getQueuePosition(t.user))))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    disabled: "",
                    color: "error",
                    text: "",
                    loading: t.cancelling
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.cancel.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("Leave queue")))])] : t.workout.isBooked(t.user) ? [i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.name + " " + t.$translate("was booked")))]), i("v-btn", {
                staticClass: "zoezi-button-thin",
                staticStyle: {
                    height: "22px"
                },
                attrs: {
                    disabled: "",
                    color: "error",
                    text: "",
                    loading: t.cancelling
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(),
                        t.cancel.apply(null, arguments)
                    }
                }
            }, [t._v(t._s(t.$translate("CANCEL_BOOKING")))])] : [t._v(t._s(t.name + " " + t.$translate("was not booked")))]], 2) : i("div", {
                staticClass: "d-flex pa-2"
            }, [i("v-avatar", {
                staticClass: "mr-1",
                attrs: {
                    size: "20"
                }
            }, [i("img", {
                attrs: {
                    src: this.$api.getImageUrl(t.user.imagekey || "/assets/img/profile_avatar_man.jpg", 200)
                }
            })]), i("div", {
                staticClass: "flex-grow-1"
            }, [t._v(t._s(t.name))]), t._v(" State: " + t._s(t.state) + " ")], 1)])
        }
          , a = []
          , o = {
            name: "zoezi-workout-book-user-row",
            props: {
                workout: {
                    type: Object
                },
                user: {
                    type: Object
                }
            },
            data: ()=>({
                cancelling: !1,
                booking: !1
            }),
            watch: {
                "$store.state.bookings"(t) {
                    if (t) {
                        var e;
                        let i = null === t || void 0 === t || null === (e = t.workouts) || void 0 === e ? void 0 : e.filter(t=>{
                            var e;
                            return t.id == (null === (e = this.workout) || void 0 === e ? void 0 : e.id)
                        }
                        )
                          , s = i.find(t=>t.user_id == this.user.id);
                        this.booking && s && (this.booking = !1),
                        this.cancelling && !s && (this.cancelling = !1)
                    }
                }
            },
            computed: {
                booked() {
                    return this.workout.isBooked(this.user)
                },
                bookedText() {
                    return this.user.id == this.$store.state.user.id ? this.$translate("You are booked") : this.$translate("{0} is booked").format(this.user.name.split(" ")[0])
                },
                queued() {
                    return this.workout.isInQueue(this.user)
                },
                name() {
                    return this.user.id == this.$store.state.user.id ? "Du" : this.user.name.split(" ")[0]
                },
                name2() {
                    return this.user.id == this.$store.state.user.id ? "mig" : this.user.name.split(" ")[0]
                },
                bookedViaCourse() {
                    return this.$store.state.bookings.workouts.find(t=>t.id == this.workout.id && t.user_id == this.user.id).is_booked_via_course
                },
                state() {
                    return this.workout.getState(this.user)
                },
                noobookReasons() {
                    return this.workout.getNoBookReasons(this.user)
                }
            },
            methods: {
                cancel() {
                    this.cancelling = !0,
                    this.workout.cancel(this.user, ()=>this.cancelling = !1)
                },
                book() {
                    this.booking = !0,
                    this.workout.book(this.user, ()=>this.booking = !1)
                },
                queue() {
                    this.booking = !0,
                    this.workout.book(this.user, ()=>this.booking = !1)
                }
            }
        }
          , n = o
          , r = (i("3e6c"),
        i("2877"))
          , l = i("6544")
          , c = i.n(l)
          , d = i("8212")
          , u = i("8336")
          , h = Object(r["a"])(n, s, a, !1, null, null, null);
        e["a"] = h.exports;
        c()(h, {
            VAvatar: d["a"],
            VBtn: u["a"]
        })
    },
    eaff: function(t, e, i) {},
    ee09: function(t, e, i) {
        "use strict";
        i("30e9")
    },
    f019: function(t, e, i) {},
    f19a: function(t, e, i) {},
    f39c: function(t, e, i) {
        "use strict";
        i("1ead")
    },
    f75e: function(t, e, i) {
        "use strict";
        i("ba3d")
    },
    fd95: function(t, e, i) {
        "use strict";
        i("b67f")
    },
    fe8d: function(t, e, i) {
        "use strict";
        i("45ef")
    },
    feb5: function(t, e, i) {
        "use strict";
        Number.isInteger = Number.isInteger || function(t) {
            return "number" === typeof t && isFinite(t) && Math.floor(t) === t
        }
        ,
        Number.prototype.toRad = function() {
            return this * Math.PI / 180
        }
        ,
        Number.haversine = function(t, e, i, s) {
            const a = 6371
              , o = s - e
              , n = o.toRad()
              , r = i - t
              , l = r.toRad()
              , c = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(e.toRad()) * Math.cos(s.toRad()) * Math.sin(l / 2) * Math.sin(l / 2)
              , d = 2 * Math.atan2(Math.sqrt(c), Math.sqrt(1 - c));
            return a * d
        }
    },
    ffab: function(t, e, i) {
        "use strict";
        i("4f2d")
    }
});
//# sourceMappingURL=app.5ce2f6ed.js.map
